define(["./shared.js"],function(t){"use strict";var e=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}e&&e.terminate();return URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(t));return i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),i={create:function(e,i,n){var o=t.window.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},n=t.window.document?t.window.document.documentElement.style:null;function o(t){if(!n)return null;for(var e=0;e<t.length;e++)if(t[e]in n)return t[e];return t[0]}var r,a=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){n&&a&&(r=n[a],n[a]="none")},i.enableDrag=function(){n&&a&&(n[a]=r)};var s=o(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",c,c),t.window.removeEventListener("test",c,c)}catch(t){l=!1}i.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&l?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},i.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&l?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};i.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",u,!0)},0)},i.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.Point(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},i.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t.Point(r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},i.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},d="See https://www.mapbox.com/api-documentation/#access-tokens";function p(t,e){var i=w(h.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!h.REQUIRE_ACCESS_TOKEN)return E(t);if(!(e=e||h.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return t.params.push("access_token="+e),E(t)}function f(t){return 0===t.indexOf("mapbox:")}var _=function(t,e){if(!f(t))return t;var i=w(t);return i.path="/styles/v1"+i.path,p(i,e)},m=function(t,e){if(!f(t))return t;var i=w(t);return i.path="/fonts/v1"+i.path,p(i,e)},g=function(t,e){if(!f(t))return t;var i=w(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),p(i,e)},v=function(t,e,i,n){var o=w(t);return f(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,p(o,n)):(o.path+=""+e+i,E(o))},y=/(\.(png|jpg)\d*)(?=$)/,x=function(e,i,n){if(!i||!f(i))return e;var o=w(e),r=t.browser.devicePixelRatio>=2||512===n?"@2x":"",a=t.browser.supportsWebp?".webp":"$1";return o.path=o.path.replace(y,""+r+a),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(h.ACCESS_TOKEN||""))}(o.params),E(o)};var b=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function w(t){var e=t.match(b);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function E(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var T=function(){this.eventData={anonId:null,lastSuccess:null,accessToken:h.ACCESS_TOKEN},this.queue=[],this.pending=!1,this.pendingRequest=null};T.prototype.postTurnstileEvent=function(e){h.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(t){return/(mapbox\.c)(n|om)/i.test(t)})&&this.queueRequest(t.browser.now())},T.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests()},T.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var i="mapbox.turnstileEventData:"+(h.ACCESS_TOKEN||""),n=t.storageAvailable("localStorage"),o=!!this.eventData.accessToken&&this.eventData.accessToken!==h.ACCESS_TOKEN;if(o&&(this.eventData.anonId=this.eventData.lastSuccess=null),(!this.eventData.anonId||!this.eventData.lastSuccess)&&n)try{var r=t.window.localStorage.getItem(i);r&&(this.eventData=JSON.parse(r))}catch(e){t.warnOnce("Unable to read from LocalStorage")}t.validateUuid(this.eventData.anonId)||(this.eventData.anonId=t.uuid(),o=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var s=new Date(this.eventData.lastSuccess),l=new Date(a),c=(a-this.eventData.lastSuccess)/864e5;o=o||c>=1||c<-1||s.getDate()!==l.getDate()}if(!o)return this.processRequests();var u=w(h.EVENTS_URL);u.params.push("access_token="+(h.ACCESS_TOKEN||""));var d={url:E(u),headers:{"Content-Type":"text/plain"}},p=JSON.stringify([{event:"appUserTurnstile",created:new Date(a).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.2.2","enabled.telemetry":!1,userId:this.eventData.anonId}]);this.pendingRequest=t.postData(d,p,function(o){if(e.pendingRequest=null,!o){if(e.eventData.lastSuccess=a,e.eventData.accessToken=h.ACCESS_TOKEN,n)try{t.window.localStorage.setItem(i,JSON.stringify(e.eventData))}catch(e){t.warnOnce("Unable to write to LocalStorage")}e.processRequests()}})}};var S=new T,C=S.postTurnstileEvent.bind(S);var I=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0};I.prototype.isLoaded=function(){return this.loaded},I.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r)}this.requestors=[]}},I.prototype.getImage=function(t){return this.images[t]},I.prototype.addImage=function(t,e){this.images[t]=e},I.prototype.removeImage=function(t){delete this.images[t],delete this.patterns[t]},I.prototype.listImages=function(){return Object.keys(this.images)},I.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},I.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=this.images[r];a&&(i[r]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,i)},I.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},I.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new t.ImagePosition(o,n);return this.patterns[e]={bin:o,position:r},this._updatePatternAtlas(),r},I.prototype.bind=function(e){var i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)},I.prototype._updatePatternAtlas=function(){var e=[];for(var i in this.patterns)e.push(this.patterns[i].bin);var n=t.potpack(e),o=n.w,r=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:r||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,u=l.y+1,h=this.images[s].data,d=h.width,p=h.height;t.RGBAImage.copy(h,a,{x:0,y:0},{x:c,y:u},{width:d,height:p}),t.RGBAImage.copy(h,a,{x:0,y:p-1},{x:c,y:u-1},{width:d,height:1}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:c,y:u+p},{width:d,height:1}),t.RGBAImage.copy(h,a,{x:d-1,y:0},{x:c-1,y:u},{width:1,height:p}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:c+d,y:u},{width:1,height:p})}this.dirty=!0};var P=A,z=1e20;function A(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function L(t,e,i,n,o,r,a){for(var s=0;s<e;s++){for(var l=0;l<i;l++)n[l]=t[l*e+s];for(k(n,o,r,a,i),l=0;l<i;l++)t[l*e+s]=o[l]}for(l=0;l<i;l++){for(s=0;s<e;s++)n[s]=t[l*e+s];for(k(n,o,r,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(o[s])}}function k(t,e,i,n,o){i[0]=0,n[0]=-z,n[1]=+z;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=s,n[a+1]=+z}for(r=0,a=0;r<o;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]]}}A.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?z:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?z:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(L(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),L(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return i};var D=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};D.prototype.setURL=function(t){this.url=t},D.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l})}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a)if(a=n._tinySDF(r,i,o))e(null,{stack:i,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=r.requests[s];l||(l=r.requests[s]=[],D.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(t,e)}delete r.requests[s]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})}}else e(null,{stack:i,id:o,glyph:a})},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,c=a.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,n)}})},D.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.isChar["CJK Unified Ideographs"](n)||t.isChar["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new D.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},D.loadGlyphRange=function(e,i,n,o,r){var a=256*i,s=a+255,l=o(m(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.parseGlyphPBF(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}r(null,n)}})},D.TinySDF=P;var M=function(){this.specification=t.styleSpec.light.position};M.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},M.prototype.interpolate=function(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var R=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new M,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),B=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(R),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var n=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),O=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};O.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},O.prototype.addDash=function(e,i){var n=i?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];for(var s=this.width/r,l=s/2,c=e.length%2==1,u=-n;u<=n;u++)for(var h=this.nextRow+n+u,d=this.width*h,p=c?-e[e.length-1]:0,f=e[0],_=1,m=0;m<this.width;m++){for(;f<m/s;)p=f,f+=e[_],c&&_===e.length-1&&(f+=e[0]),_++;var g=Math.abs(m-p*s),v=Math.abs(m-f*s),y=Math.min(g,v),x=_%2==1,b=void 0;if(i){var w=n?u/n*(l+1):0;if(x){var E=l-Math.abs(w);b=Math.sqrt(y*y+E*E)}else b=l-Math.sqrt(y*y+w*w)}else b=(x?1:-1)*y;this.data[3+4*(d+m)]=Math.max(0,Math.min(255,b+128))}var T={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:r};return this.nextRow+=o,this.dirty=!0,T},O.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var F=function e(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new e.Actor(a,n,this.id);s.name="Worker "+r,this.actors.push(s)}};function U(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};return e.url?t.getJSON(i(g(e.url),t.ResourceType.Source),o):t.browser.frame(function(){return o(null,e)})}F.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n)},n)},F.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},F.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},F.Actor=t.Actor;var N=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};N.prototype.wrap=function(){return new N(t.wrap(this.lng,-180,180),this.lat)},N.prototype.toArray=function(){return[this.lng,this.lat]},N.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},N.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new j(new N(this.lng-i,this.lat-e),new N(this.lng+i,this.lat+e))},N.convert=function(t){if(t instanceof N)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new N(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new N(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var j=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};j.prototype.setNorthEast=function(t){return this._ne=t instanceof N?new N(t.lng,t.lat):N.convert(t),this},j.prototype.setSouthWest=function(t){return this._sw=t instanceof N?new N(t.lng,t.lat):N.convert(t),this},j.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof N)e=t,i=t;else{if(!(t instanceof j))return Array.isArray(t)?t.every(Array.isArray)?this.extend(j.convert(t)):this.extend(N.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new N(e.lng,e.lat),this._ne=new N(i.lng,i.lat)),this},j.prototype.getCenter=function(){return new N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},j.prototype.getSouthWest=function(){return this._sw},j.prototype.getNorthEast=function(){return this._ne},j.prototype.getNorthWest=function(){return new N(this.getWest(),this.getNorth())},j.prototype.getSouthEast=function(){return new N(this.getEast(),this.getSouth())},j.prototype.getWest=function(){return this._sw.lng},j.prototype.getSouth=function(){return this._sw.lat},j.prototype.getEast=function(){return this._ne.lng},j.prototype.getNorth=function(){return this._ne.lat},j.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},j.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},j.prototype.isEmpty=function(){return!(this._sw&&this._ne)},j.convert=function(t){return!t||t instanceof j?t:new j(t)};var q=function(t,e,i){this.bounds=j.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};q.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},q.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=i&&t.y<o},q.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},q.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var Z=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new q(n.bounds,e.minzoom,e.maxzoom)),C(n.tiles),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var n=x(e.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function r(t,n){return e.aborted?i(null):t&&404!==t.status?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",o,r.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",o,r.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),G=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new q(n.bounds,e.minzoom,e.maxzoom)),C(n.tiles),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=x(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(o,r){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(o)e.state="errored",i(o);else if(r){n.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=n.map.painter.context,s=a.gl;e.texture=n.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(a,r,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),V=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var n=x(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(n,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var r=t.browser.getImageData(o),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:r,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,n){t&&(e.state="errored",i(t));n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(G),W=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)i.fire(new t.ErrorEvent(e));else{var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n))}}),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterLeaves=function(t,e,i,n){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n,this.workerID),this},i.prototype._updateWorkerData=function(e){var i=this,n=t.extend({},this.workerOptions),o=this._data;"string"==typeof o?(n.request=this.map._transformRequest(t.browser.resolveURL(o),t.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(t,o){i._removed||o&&o.abandoned||(i._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[i.id]&&(i._resourceTiming=o.resourceTiming[i.id].slice(0)),i.dispatcher.send(i.type+".coalesce",{source:n.source},null,i.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(e,i){var n=this,o=void 0===e.workerID?"loadTile":"reloadTile",r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(o,r,function(t,r){return e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(r,n.map.painter,"reloadTile"===o),i(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),H=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.image=t.browser.getImageData(n),e._finishLoading())})},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(N.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t.Point(Math.round((i.column-o.column)*t.EXTENT),Math.round((i.row-o.row)*t.EXTENT))});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),X=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map.triggerRepaint()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(H),K=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,n=i.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(i,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var r=this.tiles[o];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(H),Y={vector:Z,raster:G,"raster-dem":V,geojson:W,video:X,image:H,canvas:K},J=function(e,i,n,o){var r=new Y[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r};function Q(t,e,i,n,o){var r=o.maxPitchScaleFactor(),a=t.tilesIn(i,r);a.sort($);for(var s=[],l=0,c=a;l<c.length;l+=1){var u=c[l];s.push({wrappedTileID:u.tileID.wrapped().key,queryResults:u.tile.queryRenderedFeatures(e,t._state,u.queryGeometry,u.scale,n,o,r,t.transform.calculatePosMatrix(u.tileID.toUnwrapped()))})}var h=function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var c in a)for(var u=a[c],h=l[c]=l[c]||{},d=e[c]=e[c]||[],p=0,f=u;p<f.length;p+=1){var _=f[p];h[_.featureIndex]||(h[_.featureIndex]=!0,d.push(_.feature))}}return e}(s);for(var d in h)h[d].forEach(function(e){var i=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=i});return h}function $(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var tt=function(t,e){this.max=t,this.onRemove=e,this.reset()};tt.prototype.reset=function(){for(var t in this.data)for(var e=0,i=this.data[t];e<i.length;e+=1){var n=i[e];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},tt.prototype.add=function(t,e,i){var n=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(function(){n.remove(t,r)},i)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},tt.prototype.has=function(t){return t.wrapped().key in this.data},tt.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},tt.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},tt.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},tt.prototype.remove=function(t,e){if(!this.has(t))return this;var i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),o=this.data[i][n];return this.data[i].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(o.value),this.order.splice(this.order.indexOf(i),1),this},tt.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var et=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};et.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},et.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},et.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var it={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},nt=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};nt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},nt.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},nt.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},nt.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[it[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0))}},nt.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var ot=function(e){this.context=e,this.default=t.Color.transparent,this.current=this.default,this.dirty=!1};ot.prototype.get=function(){return this.current},ot.prototype.setDefault=function(){this.set(this.default)},ot.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a&&!0!==this.dirty||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)};var rt=function(t){this.context=t,this.default=1,this.current=this.default,this.dirty=!1};rt.prototype.get=function(){return this.current},rt.prototype.setDefault=function(){this.set(this.default)},rt.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.clearDepth(t),this.current=t,this.dirty=!1)};var at=function(t){this.context=t,this.default=0,this.current=this.default,this.dirty=!1};at.prototype.get=function(){return this.current},at.prototype.setDefault=function(){this.set(this.default)},at.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.clearStencil(t),this.current=t,this.dirty=!1)};var st=function(t){this.context=t,this.default=[!0,!0,!0,!0],this.current=this.default,this.dirty=!1};st.prototype.get=function(){return this.current},st.prototype.setDefault=function(){this.set(this.default)},st.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&!0!==this.dirty||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)};var lt=function(t){this.context=t,this.default=!0,this.current=this.default,this.dirty=!1};lt.prototype.get=function(){return this.current},lt.prototype.setDefault=function(){this.set(this.default)},lt.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.depthMask(t),this.current=t,this.dirty=!1)};var ct=function(t){this.context=t,this.default=255,this.current=this.default,this.dirty=!1};ct.prototype.get=function(){return this.current},ct.prototype.setDefault=function(){this.set(this.default)},ct.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.stencilMask(t),this.current=t,this.dirty=!1)};var ut=function(t){this.context=t,this.default={func:t.gl.ALWAYS,ref:0,mask:255},this.current=this.default,this.dirty=!1};ut.prototype.get=function(){return this.current},ut.prototype.setDefault=function(){this.set(this.default)},ut.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask&&!0!==this.dirty||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)};var ht=function(t){this.context=t;var e=this.context.gl;this.default=[e.KEEP,e.KEEP,e.KEEP],this.current=this.default,this.dirty=!1};ht.prototype.get=function(){return this.current},ht.prototype.setDefault=function(){this.set(this.default)},ht.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&!0!==this.dirty||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)};var dt=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};dt.prototype.get=function(){return this.current},dt.prototype.setDefault=function(){this.set(this.default)},dt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}};var pt=function(t){this.context=t,this.default=[0,1],this.current=this.default,this.dirty=!1};pt.prototype.get=function(){return this.current},pt.prototype.setDefault=function(){this.set(this.default)},pt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&!0!==this.dirty||(this.context.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)};var ft=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};ft.prototype.get=function(){return this.current},ft.prototype.setDefault=function(){this.set(this.default)},ft.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}};var _t=function(t){this.context=t,this.default=t.gl.LESS,this.current=this.default,this.dirty=!1};_t.prototype.get=function(){return this.current},_t.prototype.setDefault=function(){this.set(this.default)},_t.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.depthFunc(t),this.current=t,this.dirty=!1)};var mt=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};mt.prototype.get=function(){return this.current},mt.prototype.setDefault=function(){this.set(this.default)},mt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}};var gt=function(t){this.context=t;var e=this.context.gl;this.default=[e.ONE,e.ZERO],this.current=this.default,this.dirty=!1};gt.prototype.get=function(){return this.current},gt.prototype.setDefault=function(){this.set(this.default)},gt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&!0!==this.dirty||(this.context.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)};var vt=function(e){this.context=e,this.default=t.Color.transparent,this.current=this.default,this.dirty=!1};vt.prototype.get=function(){return this.current},vt.prototype.setDefault=function(){this.set(this.default)},vt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a&&!0!==this.dirty||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)};var yt=function(t){this.context=t,this.default=this.context.gl.FUNC_ADD,this.current=this.default,this.dirty=!1};yt.prototype.get=function(){return this.current},yt.prototype.setDefault=function(){this.set(this.default)},yt.prototype.set=function(t){t===this.current&&!0!==this.dirty||(this.context.gl.blendEquation(t),this.current=t,this.dirty=!1)};var xt=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};xt.prototype.get=function(){return this.current},xt.prototype.setDefault=function(){this.set(this.default)},xt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}};var bt=function(t){this.context=t;var e=this.context.gl;this.default=e.BACK,this.current=this.default,this.dirty=!1};bt.prototype.get=function(){return this.current},bt.prototype.setDefault=function(){this.set(this.default)},bt.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.cullFace(t),this.current=t,this.dirty=!1)};var wt=function(t){this.context=t;var e=this.context.gl;this.default=e.CCW,this.current=this.default,this.dirty=!1};wt.prototype.get=function(){return this.current},wt.prototype.setDefault=function(){this.set(this.default)},wt.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.frontFace(t),this.current=t,this.dirty=!1)};var Et=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};Et.prototype.get=function(){return this.current},Et.prototype.setDefault=function(){this.set(this.default)},Et.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.useProgram(t),this.current=t,this.dirty=!1)};var Tt=function(t){this.context=t,this.default=t.gl.TEXTURE0,this.current=this.default,this.dirty=!1};Tt.prototype.get=function(){return this.current},Tt.prototype.setDefault=function(){this.set(this.default)},Tt.prototype.set=function(t){this.current===t&&!0!==this.dirty||(this.context.gl.activeTexture(t),this.current=t,this.dirty=!1)};var St=function(t){this.context=t;var e=this.context.gl;this.default=[0,0,e.drawingBufferWidth,e.drawingBufferHeight],this.current=this.default,this.dirty=!1};St.prototype.get=function(){return this.current},St.prototype.setDefault=function(){this.set(this.default)},St.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&!0!==this.dirty||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)};var Ct=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};Ct.prototype.get=function(){return this.current},Ct.prototype.setDefault=function(){this.set(this.default)},Ct.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}};var It=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};It.prototype.get=function(){return this.current},It.prototype.setDefault=function(){this.set(this.default)},It.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}};var Pt=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};Pt.prototype.get=function(){return this.current},Pt.prototype.setDefault=function(){this.set(this.default)},Pt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}};var zt=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};zt.prototype.get=function(){return this.current},zt.prototype.setDefault=function(){this.set(this.default)},zt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}};var At=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};At.prototype.get=function(){return this.current},At.prototype.setDefault=function(){this.set(this.default)},At.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1};var Lt=function(t){this.context=t,this.default=null,this.current=this.default,this.dirty=!1};Lt.prototype.get=function(){return this.current},Lt.prototype.setDefault=function(){this.set(this.default)},Lt.prototype.set=function(t){(this.current!==t&&this.context.extVertexArrayObject||!0===this.dirty)&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t,this.dirty=!1)};var kt=function(t){this.context=t,this.default=4,this.current=this.default,this.dirty=!1};kt.prototype.get=function(){return this.current},kt.prototype.setDefault=function(){this.set(this.default)},kt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}};var Dt=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};Dt.prototype.get=function(){return this.current},Dt.prototype.setDefault=function(){this.set(this.default)},Dt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}};var Mt=function(t){this.context=t,this.default=!1,this.current=this.default,this.dirty=!1};Mt.prototype.get=function(){return this.current},Mt.prototype.setDefault=function(){this.set(this.default)},Mt.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}};var Rt=function(t,e){this.context=t,this.default=null,this.current=this.default,this.dirty=!1,this.parent=e};Rt.prototype.get=function(){return this.current};var Bt=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDefault=function(){this.set(this.default)},e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(Rt),Ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDefault=function(){this.set(this.default)},e.prototype.set=function(t){if(this.current!==t||!0===this.dirty){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(Rt),Ft=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new Bt(t,o),this.depthAttachment=new Ot(t,o)};Ft.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var Ut=function(t,e,i){this.func=t,this.mask=e,this.range=i};Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);var Nt=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r};Nt.disabled=new Nt({func:519,mask:0},0,0,7680,7680,7680);var jt=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};jt.Replace=[1,0],jt.disabled=new jt(jt.Replace,t.Color.transparent,[!1,!1,!1,!1]),jt.unblended=new jt(jt.Replace,t.Color.transparent,[!0,!0,!0,!0]),jt.alphaBlended=new jt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var qt=function(t,e,i){this.enable=t,this.mode=e,this.frontFace=i};qt.disabled=new qt(!1,1029,2305),qt.backCCW=new qt(!0,1029,2305);var Zt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ot(this),this.clearDepth=new rt(this),this.clearStencil=new at(this),this.colorMask=new st(this),this.depthMask=new lt(this),this.stencilMask=new ct(this),this.stencilFunc=new ut(this),this.stencilOp=new ht(this),this.stencilTest=new dt(this),this.depthRange=new pt(this),this.depthTest=new ft(this),this.depthFunc=new _t(this),this.blend=new mt(this),this.blendFunc=new gt(this),this.blendColor=new vt(this),this.blendEquation=new yt(this),this.cullFace=new xt(this),this.cullFaceSide=new bt(this),this.frontFace=new wt(this),this.program=new Et(this),this.activeTexture=new Tt(this),this.viewport=new St(this),this.bindFramebuffer=new Ct(this),this.bindRenderbuffer=new It(this),this.bindTexture=new Pt(this),this.bindVertexBuffer=new zt(this),this.bindElementBuffer=new At(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Lt(this),this.pixelStoreUnpack=new kt(this),this.pixelStoreUnpackPremultiplyAlpha=new Dt(this),this.pixelStoreUnpackFlipY=new Mt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Zt.prototype.createIndexBuffer=function(t,e){return new et(this,t,e)},Zt.prototype.createVertexBuffer=function(t,e,i){return new nt(this,t,e,i)},Zt.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},Zt.prototype.createFramebuffer=function(t,e){return new Ft(this,t,e)},Zt.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o)},Zt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Zt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Zt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Zt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,jt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Gt=function(e){function i(i,n,o){var r=this;e.call(this),this.id=i,this.dispatcher=o,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=J(i,n,o,this),this._tiles={},this._cache=new tt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Wt)},i.prototype.getRenderableIds=function(e){var i=this,n=[];for(var o in i._tiles)i._isIdRenderable(+o,e)&&n.push(+o);return e?n.sort(function(e,n){var o=i._tiles[e].tileID,r=i._tiles[n].tileID,a=new t.Point(o.canonical.x,o.canonical.y)._rotate(i.transform.angle),s=new t.Point(r.canonical.x,r.canonical.y)._rotate(i.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x}):n.sort(Wt)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var n=e[i];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(t,e,i,n){for(var o in this._tiles){var r=this._tiles[o];if(!(n[o]||!r.hasData()||r.tileID.overscaledZ<=e||r.tileID.overscaledZ>i)){for(var a=r.tileID;r&&r.tileID.overscaledZ>e+1;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);(r=this._tiles[s.key])&&r.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}},i.prototype.findLoadedParent=function(t,e){for(var i=t.overscaledZ-1;i>=e;i--){var n=t.scaledTo(i);if(!n)return;var o=String(n.key),r=this._tiles[o];if(r&&r.hasData())return r;if(this._cache.has(n))return this._cache.get(n)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,i=Math.round(e);if(this._prevLng=t,i){var n={};for(var o in this._tiles){var r=this._tiles[o];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+i),n[r.tileID.key]=r}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var r=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(r-i.maxOverzooming,this._source.minzoom),s=Math.max(r+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(o,r);if(Ht(this._source.type)){for(var c={},u={},h=0,d=Object.keys(l);h<d.length;h+=1){var p=d[h],f=l[p],_=n._tiles[p];if(_&&!(_.fadeEndTime&&_.fadeEndTime<=t.browser.now())){var m=n.findLoadedParent(f,a);m&&(n._addTile(m.tileID),c[m.tileID.key]=m.tileID),u[p]=f}}for(var g in this._retainLoadedChildren(u,r,s,l),c)l[g]||(n._coveredTiles[g]=!0,l[g]=c[g])}for(var v in l)n._tiles[v].clearFadeHold();for(var y=0,x=t.keysDifference(this._tiles,l);y<x.length;y+=1){var b=x[y],w=n._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(n.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||n._removeTile(b)}}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},i.prototype._updateRetainedTiles=function(t,e){for(var n={},o={},r=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},l=0,c=t;l<c.length;l+=1){var u=c[l],h=this._addTile(u);n[u.key]=u,h.hasData()||e<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,e,a,n);for(var d=0,p=t;d<p.length;d+=1){var f=p[d],_=this._tiles[f.key];if(!_.hasData()){if(e+1>this._source.maxzoom){var m=f.children(this._source.maxzoom)[0],g=this.getTile(m);if(g&&g.hasData()){n[m.key]=m;continue}}else{var v=f.children(this._source.maxzoom);if(n[v[0].key]&&n[v[1].key]&&n[v[2].key]&&n[v[3].key])continue}for(var y=_.wasRequested(),x=f.overscaledZ-1;x>=r;--x){var b=f.scaledTo(x);if(o[b.key])break;if(o[b.key]=!0,!(_=this.getTile(b))&&y&&(_=this._addTile(b)),_&&(n[b.key]=b,y=_.wasRequested(),_.hasData()))break}}}return n},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));var n=Boolean(i);return n||(i=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var n=[],o=this.getIds(),r=1/0,a=1/0,s=-1/0,l=-1/0,c=e[0].zoom,u=0;u<e.length;u++){var h=e[u];r=Math.min(r,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var d=0;d<o.length;d++){var p=this._tiles[o[d]];if(!p.holdingForFade()){var f=p.tileID,_=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),m=i*p.queryPadding*t.EXTENT/p.tileSize/_,g=[Vt(f,new t.Coordinate(r,a,c)),Vt(f,new t.Coordinate(s,l,c))];if(g[0].x-m<t.EXTENT&&g[0].y-m<t.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){for(var v=[],y=0;y<e.length;y++)v.push(Vt(f,e[y]));n.push({tile:p,tileID:f,queryGeometry:[v],scale:_})}}}return n},i.prototype.getVisibleCoordinates=function(t){for(var e=this,i=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),n=0,o=i;n<o.length;n+=1){var r=o[n];r.posMatrix=e.transform.calculatePosMatrix(r.toUnwrapped())}return i},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ht(this._source.type))for(var e in this._tiles){var i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=t.browser.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,i){t=t||"_geojsonTileLayer",this._state.updateState(t,e,i)},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);function Vt(e,i){var n=i.zoomTo(e.canonical.z);return new t.Point((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.EXTENT,(n.row-e.canonical.y)*t.EXTENT)}function Wt(t,e){return t%32-e%32||e-t}function Ht(t){return"raster"===t||"image"===t||"video"===t}function Xt(){return new t.window.Worker(ko.workerUrl)}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;var Kt,Yt=function(){this.active={}};function Jt(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.refProperties.forEach(function(t){t in i&&(n[t]=i[t])}),n}function Qt(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=Jt(t[n],e[t[n].ref]));return t}Yt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Yt.workerCount;)this.workers.push(new Xt);return this.active[t]=!0,this.workers.slice()},Yt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},Yt.workerCount=Math.max(Math.floor(t.browser.hardwareConcurrency/2),1);var $t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function te(t,e,i){i.push({command:$t.addSource,args:[t,e[t]]})}function ee(t,e,i){e.push({command:$t.removeSource,args:[t]}),i[t]=!0}function ie(t,e,i,n){ee(t,i,n),te(t,e,i)}function ne(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],i[n][o]))return!1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],i[n][o]))return!1;return!0}function oe(e,i,n,o,r,a){var s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}))}function re(t){return t.id}function ae(t,e){return t[e.id]=e,t}function se(e,i){if(!e)return[{command:$t.setStyle,args:[i]}];var n=[];try{if(!t.deepEqual(e.version,i.version))return[{command:$t.setStyle,args:[i]}];t.deepEqual(e.center,i.center)||n.push({command:$t.setCenter,args:[i.center]}),t.deepEqual(e.zoom,i.zoom)||n.push({command:$t.setZoom,args:[i.zoom]}),t.deepEqual(e.bearing,i.bearing)||n.push({command:$t.setBearing,args:[i.bearing]}),t.deepEqual(e.pitch,i.pitch)||n.push({command:$t.setPitch,args:[i.pitch]}),t.deepEqual(e.sprite,i.sprite)||n.push({command:$t.setSprite,args:[i.sprite]}),t.deepEqual(e.glyphs,i.glyphs)||n.push({command:$t.setGlyphs,args:[i.glyphs]}),t.deepEqual(e.transition,i.transition)||n.push({command:$t.setTransition,args:[i.transition]}),t.deepEqual(e.light,i.light)||n.push({command:$t.setLight,args:[i.light]});var o={},r=[];!function(e,i,n,o){var r;for(r in i=i||{},e=e||{})e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||ee(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.deepEqual(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&ne(e,i,r)?n.push({command:$t.setGeoJSONSourceData,args:[r,i[r].data]}):ie(r,i,n,o)):te(r,i,n))}(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:$t.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(r),function(e,i,n){i=i||[];var o,r,a,s,l,c,u,h=(e=e||[]).map(re),d=i.map(re),p=e.reduce(ae,{}),f=i.reduce(ae,{}),_=h.slice(),m=Object.create(null);for(o=0,r=0;o<h.length;o++)a=h[o],f.hasOwnProperty(a)?r++:(n.push({command:$t.removeLayer,args:[a]}),_.splice(_.indexOf(a,r),1));for(o=0,r=0;o<d.length;o++)a=d[d.length-1-o],_[_.length-1-o]!==a&&(p.hasOwnProperty(a)?(n.push({command:$t.removeLayer,args:[a]}),_.splice(_.lastIndexOf(a,_.length-r),1)):r++,c=_[_.length-o],n.push({command:$t.addLayer,args:[f[a],c]}),_.splice(_.length-o,0,a),m[a]=!0);for(o=0;o<d.length;o++)if(s=p[a=d[o]],l=f[a],!m[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(u in oe(s.layout,l.layout,n,a,null,$t.setLayoutProperty),oe(s.paint,l.paint,n,a,null,$t.setPaintProperty),t.deepEqual(s.filter,l.filter)||n.push({command:$t.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:$t.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?oe(s[u],l[u],n,a,u.slice(6),$t.setPaintProperty):t.deepEqual(s[u],l[u])||n.push({command:$t.setLayerProperty,args:[a,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?oe(s[u],l[u],n,a,u.slice(6),$t.setPaintProperty):t.deepEqual(s[u],l[u])||n.push({command:$t.setLayerProperty,args:[a,u,l[u]]}))}else n.push({command:$t.removeLayer,args:[a]}),c=_[_.lastIndexOf(a)+1],n.push({command:$t.addLayer,args:[l,c]})}(a,i.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:$t.setStyle,args:[i]}]}return n}var le=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};le.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},le.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},le.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},le.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r)},le.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r)},le.prototype._query=function(t,e,i,n,o,r){if(i<0||t>this.width||n<0||e>this.height)return!o&&[];var a=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],u=this.circles[3*l+1],h=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:c-h,y1:u-h,x2:c+h,y2:u+h})}return r?a.filter(r):a}var d={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,i,n,this._queryCell,a,d,r),o?a.length>0:a},le.prototype._queryCircle=function(t,e,i,n,o){var r=t-i,a=t+i,s=e-i,l=e+i;if(a<0||r>this.width||l<0||s>this.height)return!n&&[];var c=[],u={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(r,s,a,l,this._queryCellCircle,c,u,o),n?c.length>0:c},le.prototype.query=function(t,e,i,n,o){return this._query(t,e,i,n,!1,o)},le.prototype.hitTest=function(t,e,i,n,o){return this._query(t,e,i,n,!0,o)},le.prototype.hitTestCircle=function(t,e,i,n){return this._queryCircle(t,e,i,!0,n)},le.prototype._queryCell=function(t,e,i,n,o,r,a,s){var l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var u=this.bboxes,h=0,d=c;h<d.length;h+=1){var p=d[h];if(!l.box[p]){l.box[p]=!0;var f=4*p;if(t<=u[f+2]&&e<=u[f+3]&&i>=u[f+0]&&n>=u[f+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return r.push(!0),!0;r.push({key:this.boxKeys[p],x1:u[f],y1:u[f+1],x2:u[f+2],y2:u[f+3]})}}}var _=this.circleCells[o];if(null!==_)for(var m=this.circles,g=0,v=_;g<v.length;g+=1){var y=v[g];if(!l.circle[y]){l.circle[y]=!0;var x=3*y;if(this._circleAndRectCollide(m[x],m[x+1],m[x+2],t,e,i,n)&&(!s||s(this.circleKeys[y]))){if(a.hitTest)return r.push(!0),!0;var b=m[x],w=m[x+1],E=m[x+2];r.push({key:this.circleKeys[y],x1:b-E,y1:w-E,x2:b+E,y2:w+E})}}}},le.prototype._queryCellCircle=function(t,e,i,n,o,r,a,s){var l=a.circle,c=a.seenUids,u=this.boxCells[o];if(null!==u)for(var h=this.bboxes,d=0,p=u;d<p.length;d+=1){var f=p[d];if(!c.box[f]){c.box[f]=!0;var _=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[_+0],h[_+1],h[_+2],h[_+3])&&(!s||s(this.boxKeys[f])))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var g=this.circles,v=0,y=m;v<y.length;v+=1){var x=y[v];if(!c.circle[x]){c.circle[x]=!0;var b=3*x;if(this._circlesCollide(g[b],g[b+1],g[b+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return r.push(!0),!0}}},le.prototype._forEachCell=function(t,e,i,n,o,r,a,s){for(var l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),u=this._convertToXCellCoord(i),h=this._convertToYCellCoord(n),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.xCellCount*p+d;if(o.call(this,t,e,i,n,f,r,a,s))return}},le.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},le.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},le.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},le.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var c=(a-o)/2,u=Math.abs(e-(o+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var h=l-s,d=u-c;return h*h+d*d<=i*i};var ce=t.properties.layout;function ue(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.identity(a),t.scale(a,a,[1/r,1/r,1]),n||t.rotateZ(a,a,o.angle)):(t.scale(a,a,[o.width/2,-o.height/2,1]),t.translate(a,a,[1,-1,0]),t.multiply(a,a,e)),a}function he(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.multiply(a,a,e),t.scale(a,a,[r,r,1]),n||t.rotateZ(a,a,-o.angle)):(t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/o.width,2/o.height,1])),a}function de(e,i){var n=[e.x,e.y,0,1];we(n,n,i);var o=n[3];return{point:new t.Point(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function pe(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function fe(e,i,n,o,r,a,s,l){var c=o?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(c,n.transform.zoom,ce.properties[o?"text-size":"icon-size"]),h=[256/n.width*2+1,256/n.height*2+1],d=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var p=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,_=n.transform.width/n.transform.height,m=!1,g=0;g<f.length;g++){var v=f.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!m)be(v.numGlyphs,d);else{m=!1;var y=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(y,y,i),pe(y,h)){var x=.5+y[3]/n.transform.cameraToCenterDistance*.5,b=t.evaluateSizeForFeature(c,u,v),w=s?b*x:b/x,E=new t.Point(v.anchorX,v.anchorY),T=de(E,r).point,S={},C=ge(v,w,!1,l,i,r,a,e.glyphOffsetArray,p,d,T,E,S,_);m=C.useVertical,(C.notEnoughRoom||m||C.needsFlipping&&ge(v,w,!0,l,i,r,a,e.glyphOffsetArray,p,d,T,E,S,_).notEnoughRoom)&&be(v.numGlyphs,d)}else be(v.numGlyphs,d)}}o?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function _e(t,e,i,n,o,r,a,s,l,c,u,h){var d=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,_=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(d-1),g=ye(t*_,i,n,o,r,a,s.segment,p,f,l,c,u,h);if(!g)return null;var v=ye(t*m,i,n,o,r,a,s.segment,p,f,l,c,u,h);return v?{first:g,last:v}:null}function me(e,i,n,o){if(e===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*o)return{useVertical:!0};return(e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function ge(e,i,n,o,r,a,s,l,c,u,h,d,p,f){var _,m=i/24,g=e.lineOffsetX*i,v=e.lineOffsetY*i;if(e.numGlyphs>1){var y=e.glyphStartIndex+e.numGlyphs,x=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,w=_e(m,l,g,v,n,h,d,e,c,a,p,!1);if(!w)return{notEnoughRoom:!0};var E=de(w.first.point,s).point,T=de(w.last.point,s).point;if(o&&!n){var S=me(e.writingMode,E,T,f);if(S)return S}_=[w.first];for(var C=e.glyphStartIndex+1;C<y-1;C++)_.push(ye(m*l.getoffsetX(C),g,v,n,h,d,e.segment,x,b,c,a,p,!1));_.push(w.last)}else{if(o&&!n){var I=de(d,r).point,P=e.lineStartIndex+e.segment+1,z=new t.Point(c.getx(P),c.gety(P)),A=de(z,r),L=A.signedDistanceFromCamera>0?A.point:ve(d,z,I,1,r),k=me(e.writingMode,I,L,f);if(k)return k}var D=ye(m*l.getoffsetX(e.glyphStartIndex),g,v,n,h,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,p,!1);if(!D)return{notEnoughRoom:!0};_=[D]}for(var M=0,R=_;M<R.length;M+=1){var B=R[M];t.addDynamicAttributes(u,B.point,B.angle)}return{}}function ve(t,e,i,n,o){var r=de(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function ye(e,i,n,o,r,a,s,l,c,u,h,d,p){var f=o?e-i:e+i,_=f>0?1:-1,m=0;o&&(_*=-1,m=Math.PI),_<0&&(m+=Math.PI);for(var g=_>0?l+s:l+s+1,v=g,y=r,x=r,b=0,w=0,E=Math.abs(f);b+w<=E;){if((g+=_)<l||g>=c)return null;if(x=y,void 0===(y=d[g])){var T=new t.Point(u.getx(g),u.gety(g)),S=de(T,h);if(S.signedDistanceFromCamera>0)y=d[g]=S.point;else{var C=g-_;y=ve(0===b?a:new t.Point(u.getx(C),u.gety(C)),T,x,E-b+1,h)}}b+=w,w=x.dist(y)}var I=(E-b)/w,P=y.sub(x),z=P.mult(I)._add(x);return z._add(P._unit()._perp()._mult(n*_)),{point:z,angle:m+Math.atan2(y.y-x.y,y.x-x.x),tileDistance:p?{prevTileDistance:g-_===v?0:u.gettileUnitDistanceFromAnchor(g-_),lastSegmentViewportDistance:E-b}:null}}var xe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function be(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(xe,3*n)}}function we(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}var Ee=function(t,e,i){void 0===e&&(e=new le(t.width+200,t.height+200,25)),void 0===i&&(i=new le(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function Te(t,e,i){t[e+4]=i?1:0}function Se(e,i,n){return i*(t.EXTENT/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}Ee.prototype.placeCollisionBox=function(t,e,i,n,o){var r=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),a=i*r.perspectiveRatio,s=t.x1*a+r.point.x,l=t.y1*a+r.point.y,c=t.x2*a+r.point.x,u=t.y2*a+r.point.y;return!this.isInsideGrid(s,l,c,u)||!e&&this.grid.hitTest(s,l,c,u,o)?{box:[],offscreen:!1}:{box:[s,l,c,u],offscreen:this.isOffscreen(s,l,c,u)}},Ee.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},Ee.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,c,u,h,d,p){var f=[],_=this.projectAnchor(c,r.anchorX,r.anchorY),m=l/24,g=r.lineOffsetX*l,v=r.lineOffsetY*l,y=new t.Point(r.anchorX,r.anchorY),x=_e(m,s,g,v,!1,de(y,u).point,y,r,a,u,{},!0),b=!1,w=!1,E=!0,T=_.perspectiveRatio*o,S=1/(o*n),C=0,I=0;x&&(C=this.approximateTileDistance(x.first.tileDistance,x.first.angle,S,_.cameraDistance,d),I=this.approximateTileDistance(x.last.tileDistance,x.last.angle,S,_.cameraDistance,d));for(var P=0;P<e.length;P+=5){var z=e[P],A=e[P+1],L=e[P+2],k=e[P+3];if(!x||k<-C||k>I)Te(e,P,!1);else{var D=this.projectPoint(c,z,A),M=L*T;if(f.length>0){var R=D.x-f[f.length-4],B=D.y-f[f.length-3];if(M*M*2>R*R+B*B)if(P+8<e.length){var O=e[P+8];if(O>-C&&O<I){Te(e,P,!1);continue}}}var F=P/5;f.push(D.x,D.y,M,F),Te(e,P,!0);var U=D.x-M,N=D.y-M,j=D.x+M,q=D.y+M;if(E=E&&this.isOffscreen(U,N,j,q),w=w||this.isInsideGrid(U,N,j,q),!i&&this.grid.hitTestCircle(D.x,D.y,M,p)){if(!h)return{circles:[],offscreen:!1};b=!0}}}return{circles:b||!w?[]:f,offscreen:E}},Ee.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var i=[],n=1/0,o=1/0,r=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var c=l[s],u=new t.Point(c.x+100,c.y+100);n=Math.min(n,u.x),o=Math.min(o,u.y),r=Math.max(r,u.x),a=Math.max(a,u.y),i.push(u)}for(var h={},d={},p=0,f=this.grid.query(n,o,r,a).concat(this.ignoredGrid.query(n,o,r,a));p<f.length;p+=1){var _=f[p],m=_.key;if(void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]={}),!h[m.bucketInstanceId][m.featureIndex]){var g=[new t.Point(_.x1,_.y1),new t.Point(_.x2,_.y1),new t.Point(_.x2,_.y2),new t.Point(_.x1,_.y2)];t.polygonIntersectsPolygon(i,g)&&(h[m.bucketInstanceId][m.featureIndex]=!0,void 0===d[m.bucketInstanceId]&&(d[m.bucketInstanceId]=[]),d[m.bucketInstanceId].push(m.featureIndex))}}return d},Ee.prototype.insertCollisionBox=function(t,e,i,n,o){var r={bucketInstanceId:i,featureIndex:n,collisionGroupID:o};(e?this.ignoredGrid:this.grid).insert(r,t[0],t[1],t[2],t[3])},Ee.prototype.insertCollisionCircles=function(t,e,i,n,o){for(var r=e?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:n,collisionGroupID:o},s=0;s<t.length;s+=4)r.insertCircle(a,t[s],t[s+1],t[s+2])},Ee.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return we(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},Ee.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return we(o,o,e),new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},Ee.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];return we(o,o,e),{point:new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},Ee.prototype.isOffscreen=function(t,e,i,n){return i<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary},Ee.prototype.isInsideGrid=function(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary};var Ce=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i};Ce.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Ie=function(t,e,i,n,o){this.text=new Ce(t?t.text:null,e,i,o),this.icon=new Ce(t?t.icon:null,e,n,o)};Ie.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Pe=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},ze=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};ze.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var Ae=function(t,e,i){this.transform=t.clone(),this.collisionIndex=new Ee(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ze(i)};function Le(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}Ae.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e),a=i.latestFeatureIndex;if(r&&a&&e.id===r.layerIds[0]){var s=i.collisionBoxArray,l=r.layers[0].layout,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),d=ue(h,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,Se(i,1,this.transform.zoom)),p=ue(h,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,Se(i,1,this.transform.zoom));this.retainedQueryData[r.bucketInstanceId]=new function(t,e,i,n,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=o}(r.bucketInstanceId,a,r.sourceLayerIndex,r.index,i.tileID),this.placeLayerBucket(r,h,d,p,c,u,n,i.holdingForFade(),o,s)}},Ae.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,c,u){var h=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,t.properties.layout.properties["text-size"]),p=h.get("text-optional"),f=h.get("icon-optional"),_=h.get("text-allow-overlap"),m=h.get("icon-allow-overlap"),g=_&&(m||!e.hasIconData()||f),v=m&&(_||!e.hasTextData()||p),y=this.collisionGroups.get(e.sourceID);!e.collisionArrays&&u&&e.deserializeCollisionBoxes(u);for(var x=0;x<e.symbolInstances.length;x++){var b=e.symbolInstances.get(x);if(!c[b.crossTileID]){if(l){this.placements[b.crossTileID]=new Pe(!1,!1,!1);continue}var w=!1,E=!1,T=!0,S=null,C=null,I=null,P=0,z=0,A=e.collisionArrays[x];A.textFeatureIndex&&(P=A.textFeatureIndex),A.textBox&&(w=(S=this.collisionIndex.placeCollisionBox(A.textBox,h.get("text-allow-overlap"),a,i,y.predicate)).box.length>0,T=T&&S.offscreen);var L=A.textCircles;if(L){var k=e.text.placedSymbolArray.get(b.horizontalPlacedTextSymbolIndex),D=t.evaluateSizeForFeature(e.textSizeData,d,k);C=this.collisionIndex.placeCollisionCircles(L,h.get("text-allow-overlap"),r,a,k,e.lineVertexArray,e.glyphOffsetArray,D,i,n,s,"map"===h.get("text-pitch-alignment"),y.predicate),w=h.get("text-allow-overlap")||C.circles.length>0,T=T&&C.offscreen}A.iconFeatureIndex&&(z=A.iconFeatureIndex),A.iconBox&&(E=(I=this.collisionIndex.placeCollisionBox(A.iconBox,h.get("icon-allow-overlap"),a,i,y.predicate)).box.length>0,T=T&&I.offscreen);var M=p||0===b.numGlyphVertices&&0===b.numVerticalGlyphVertices,R=f||0===b.numIconVertices;M||R?R?M||(E=E&&w):w=E&&w:E=w=E&&w,w&&S&&this.collisionIndex.insertCollisionBox(S.box,h.get("text-ignore-placement"),e.bucketInstanceId,P,y.ID),E&&I&&this.collisionIndex.insertCollisionBox(I.box,h.get("icon-ignore-placement"),e.bucketInstanceId,z,y.ID),w&&C&&this.collisionIndex.insertCollisionCircles(C.circles,h.get("text-ignore-placement"),e.bucketInstanceId,P,y.ID),this.placements[b.crossTileID]=new Pe(w||g,E||v,T||e.justReloaded),c[b.crossTileID]=!0}}e.justReloaded=!1},Ae.prototype.commit=function(t,e){this.commitTime=e;var i=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var r in this.placements){var a=this.placements[r],s=o[r];s?(this.opacities[r]=new Ie(s,n,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[r]=new Ie(null,n,a.text,a.icon,a.skipFade),i=i||a.text||a.icon)}for(var l in o){var c=o[l];if(!this.opacities[l]){var u=new Ie(c,n,!1,!1);u.isHidden()||(this.opacities[l]=u,i=i||c.text.placed||c.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Ae.prototype.updateLayerOpacities=function(t,e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.getBucket(t);a&&r.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,i,r.collisionBoxArray)}},Ae.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var n=t.layers[0].layout,o=new Ie(null,0,!1,!1,!0),r=n.get("text-allow-overlap"),a=n.get("icon-allow-overlap"),s=new Ie(null,0,r&&(a||!t.hasIconData()||n.get("icon-optional")),a&&(r||!t.hasTextData()||n.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(i);for(var l=0;l<t.symbolInstances.length;l++){var c=t.symbolInstances.get(l),u=e[c.crossTileID],h=this.opacities[c.crossTileID];u?h=o:h||(h=s,this.opacities[c.crossTileID]=h),e[c.crossTileID]=!0;var d=c.numGlyphVertices>0||c.numVerticalGlyphVertices>0,p=c.numIconVertices>0;if(d){for(var f=Ue(h.text),_=(c.numGlyphVertices+c.numVerticalGlyphVertices)/4,m=0;m<_;m++)t.text.opacityVertexArray.emplaceBack(f);t.text.placedSymbolArray.get(c.horizontalPlacedTextSymbolIndex).hidden=h.text.isHidden(),c.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(c.verticalPlacedTextSymbolIndex).hidden=h.text.isHidden())}if(p){for(var g=Ue(h.icon),v=0;v<c.numIconVertices/4;v++)t.icon.opacityVertexArray.emplaceBack(g);t.icon.placedSymbolArray.get(l).hidden=h.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var y=t.collisionArrays[l];if(y){y.textBox&&Le(t.collisionBox.collisionVertexArray,h.text.placed,!1),y.iconBox&&Le(t.collisionBox.collisionVertexArray,h.icon.placed,!1);var x=y.textCircles;if(x&&t.hasCollisionCircleData())for(var b=0;b<x.length;b+=5){var w=u||0===x[b+4];Le(t.collisionCircle.collisionVertexArray,h.text.placed,w)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Ae.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Ae.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Ae.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Ae.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),De=Math.pow(2,24),Me=Math.pow(2,17),Re=Math.pow(2,16),Be=Math.pow(2,9),Oe=Math.pow(2,8),Fe=Math.pow(2,1);function Ue(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*ke+e*De+i*Me+e*Re+i*Be+e*Oe+i*Fe+e}var Ne=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Ne.prototype.continuePlacement=function(t,e,i,n,o){for(;this._currentTileIndex<t.length;){var r=t[this._currentTileIndex];if(e.placeLayerTile(n,r,i,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var je=function(t,e,i,n,o,r){this.placement=new Ae(t,o,r),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};je.prototype.isDone=function(){return this._done},je.prototype.continuePlacement=function(e,i,n){for(var o=this,r=t.browser.now(),a=function(){var e=t.browser.now()-r;return!o._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=i[e[o._currentPlacementIndex]],l=o.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(o._inProgressLayer||(o._inProgressLayer=new Ne),o._inProgressLayer.continuePlacement(n[s.source],o.placement,o._showCollisionBoxes,s,a))return;delete o._inProgressLayer}o._currentPlacementIndex--}this._done=!0},je.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var qe=512/t.EXTENT/2,Ze=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0;n<e.length;n++){var o=e.get(n),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}};Ze.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=qe/Math.pow(2,n);return{x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*o),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*o)}},Ze.prototype.findMatches=function(t,e,i){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0;o<t.length;o++){var r=t.get(o);if(!r.crossTileID){var a=this.indexedSymbolInstances[r.key];if(a)for(var s=this.getScaledCoordinates(r,e),l=0,c=a;l<c.length;l+=1){var u=c[l];if(Math.abs(u.coord.x-s.x)<=n&&Math.abs(u.coord.y-s.y)<=n&&!i[u.crossTileID]){i[u.crossTileID]=!0,r.crossTileID=u.crossTileID;break}}}}};var Ge=function(){this.maxCrossTileID=0};Ge.prototype.generate=function(){return++this.maxCrossTileID};var Ve=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ve.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var i in this.indexes){var n=this.indexes[i],o={};for(var r in n){var a=n[r];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),o[a.tileID.key]=a}this.indexes[i]=o}this.lng=t},Ve.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0;n<e.symbolInstances.length;n++){e.symbolInstances.get(n).crossTileID=0}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var r in this.indexes){var a=this.indexes[r];if(Number(r)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,o)}else{var c=a[t.scaledTo(Number(r)).key];c&&c.findMatches(e.symbolInstances,t,o)}}for(var u=0;u<e.symbolInstances.length;u++){var h=e.symbolInstances.get(u);h.crossTileID||(h.crossTileID=i.generate(),o[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ze(t,e.symbolInstances,e.bucketInstanceId),!0},Ve.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[i];n<o.length;n+=1){var r=o[n];delete this.usedCrossTileIDs[t][r.crossTileID]}},Ve.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var n=this.indexes[i];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[o]),delete n[o],e=!0)}return e};var We=function(){this.layerIndexes={},this.crossTileIDs=new Ge,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};We.prototype.addLayer=function(t,e,i){var n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new Ve);var o=!1,r={};n.handleWrapJump(i);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],c=l.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,c,this.crossTileIDs)&&(o=!0),r[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(r)&&(o=!0),o},We.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var He=function(e,i){return t.emitValidationErrors(e,i&&i.filter(function(t){return"source.canvas"!==t.identifier}))},Xe=t.pick($t,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ke=t.pick($t,["setCenter","setZoom","setBearing","setPitch"]),Ye=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new F((Kt||(Kt=new Yt),Kt),this),this.imageManager=new I,this.glyphManager=new D(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new We,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!f(e);e=_(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,function(e,i){n._request=null,e?n.fire(new t.ErrorEvent(e)):i&&n._load(i,o)})},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){n._request=null,n._load(e,!1!==i.validate)})},i.prototype._load=function(e,i){var n=this;if(!i||!He(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?this._spriteRequest=function(e,i,n){var o,r,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(i(v(e,s,".json"),t.ResourceType.SpriteJSON),function(t,e){l=null,a||(a=t,o=e,u())}),c=t.getImage(i(v(e,s,".png"),t.ResourceType.SpriteImage),function(t,e){c=null,a||(a=t,r=e,u())});function u(){if(a)n(a);else if(o&&r){var e=t.browser.getImageData(r),i={};for(var s in o){var l=o[s],c=l.width,u=l.height,h=l.x,d=l.y,p=l.sdf,f=l.pixelRatio,_=new t.RGBAImage({width:c,height:u});t.RGBAImage.copy(e,_,{x:h,y:d},{x:0,y:0},{width:c,height:u}),i[s]={data:_,pixelRatio:f,sdf:p}}n(null,i)}}return{cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e.sprite,this.map._transformRequest,function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=Qt(this.stylesheet.layers);this._order=r.map(function(t){return t.id}),this._layers={};for(var a=0,s=r;a<s.length;a+=1){var l=s[a];(l=t.createStyleLayer(l)).setEventedParent(n,{layer:{id:l.id}}),n._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new B(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){for(var e=[],i=0,n=t;i<n.length;i+=1){var o=n[i],r=this._layers[o];"custom"!==r.type&&e.push(r.serialize())}return e},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(i.length||n.length)&&this._updateWorkerLayers(i,n),this._updatedSources){var r=this._updatedSources[o];"reload"===r?this._reloadSource(o):"clear"===r&&this._clearSource(o)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var u=c[l],h=this._layers[u];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),He(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=Qt(e.layers);var n=se(this.serialize(),e).filter(function(t){return!(t.command in Ke)});if(0===n.length)return!1;var o=n.filter(function(t){return!(t.command in Xe)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var r=this.sourceCaches[e]=new Gt(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}}),r.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else{var r;if("custom"===e.type){if(He(this,t.validateCustomStyleLayer(e)))return;r=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n))return;r=t.createStyleLayer(e),this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}})}var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source&&"custom"!==r.type){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r),r.onAdd&&r.onAdd(this.map)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==i){var n=this._order.indexOf(e);this._order.splice(n,1);var o=i?this._order.indexOf(i):this._order.length;i&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.deepEqual(n.filter,i))return null==i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(i),n)||(o.setPaintProperty(i,n)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,i){this._checkLoaded();var n=e.source,o=e.sourceLayer,r=this.sourceCaches[n],a=parseInt(e.id,10);void 0!==r?"vector"!==r.getSource().type||o?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):r.setFeatureState(o,a,i):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var i=e.source,n=e.sourceLayer,o=this.sourceCaches[i],r=parseInt(e.id,10);if(void 0!==o)if("vector"!==o.getSource().type||n){if(!(isNaN(r)||r<0))return o.getFeatureState(n,r);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._serializeLayers(this._order)},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var a=r[o][n];if(a)for(var s=0,l=a;s<l.length;s+=1){var c=l[s];e.push(c)}}return e},i.prototype.queryRenderedFeatures=function(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=i.layers;r<a.length;r+=1){var s=a[r],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var c=[],u=e.map(function(t){return n.pointCoordinate(t)});for(var h in this.sourceCaches)i.layers&&!o[h]||c.push(Q(this.sourceCaches[h],this._layers,u,i,n));return this.placement&&c.push(function(t,e,i,n,o,r){for(var a={},s=o.queryRenderedSymbols(i),l=[],c=0,u=Object.keys(s).map(Number);c<u.length;c+=1){var h=u[c];l.push(r[h])}l.sort($);for(var d=function(){var e=f[p],i=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,n.filter,n.layers,t);for(var o in i){var r=a[o]=a[o]||[],l=i[o];l.sort(function(t,i){var n=e.featureSortOrder;if(n){var o=n.indexOf(t.featureIndex);return n.indexOf(i.featureIndex)-o}return i.featureIndex-t.featureIndex});for(var c=0,u=l;c<u.length;c+=1){var h=u[c];r.push(h.feature)}}},p=0,f=l;p<f.length;p+=1)d();var _=function(i){a[i].forEach(function(n){var o=t[i],r=e[o.source].getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r})};for(var m in a)_(m);return a}(this._layers,this.sourceCaches,e,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.deepEqual(e[o],i[o])){n=!0;break}if(n){var r={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(r)}},i.prototype._validate=function(e,i,n,o,r){return(!r||!1!==r.validate)&&He(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.styleSpec},o)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(e,i,n,o){for(var r=!1,a=!1,s={},l=0,c=this._order;l<c.length;l+=1){var u=c[l],h=this._layers[u];if("symbol"===h.type){if(!s[h.source]){var d=this.sourceCaches[h.source];s[h.source]=d.getRenderableIds(!0).map(function(t){return d.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=this.crossTileSymbolIndex.addLayer(h,s[h.source],e.center.lng);r=r||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new je(e,this._order,f,i,n,o),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,t.browser.now()),a=!0),r&&this.pauseablePlacement.placement.setStale()),a||r)for(var _=0,m=this._order;_<m.length;_+=1){var g=m[_],v=this._layers[g];"symbol"===v.type&&this.placement.updateLayerOpacities(v,s[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);Ye.getSourceType=function(t){return Y[t]},Ye.setSourceType=function(t,e){Y[t]=e},Ye.registerForPluginAvailability=t.registerForPluginAvailability;var Je=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Qe={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_color(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"\nuniform vec2 u_texsize;\nuniform sampler2D u_image;\nuniform float u_fade;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_fade) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_fade) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileZoomRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileZoomRatio, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\nuniform float u_vertical_gradient;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize highp float base\n    #pragma mapbox: initialize highp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        // This avoids another branching statement, but multiplies by a constant of 0.84 if no vertical gradient,\n        // and otherwise calculates the gradient based on base + height\n        directional *= (\n            (1.0 - u_vertical_gradient) +\n            (u_vertical_gradient * clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0)));\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_fade);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_height_factor;\nuniform vec4 u_scale;\nuniform float u_vertical_gradient;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        // This avoids another branching statement, but multiplies by a constant of 0.84 if no vertical gradient,\n        // and otherwise calculates the gradient based on base + height\n        directional *= (\n            (1.0 - u_vertical_gradient) +\n            (u_vertical_gradient * clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0)));\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\nuniform mediump vec4 u_scale;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    vec2 pattern_size_a = vec2(display_size_a.x * fromScale / tileZoomRatio, display_size_a.y);\n    vec2 pattern_size_b = vec2(display_size_b.x * toScale / tileZoomRatio, display_size_b.y);\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_a.y + 2.0) / 2.0) / pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_b.y + 2.0) / 2.0) / pattern_size_b.y);\n    vec2 pos_a = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_ratio;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n    // float tileRatio = u_scale.y;\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},$e=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ti=function(t){var e=Qe[t],i={};e.fragmentSource=e.fragmentSource.replace($e,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace($e,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4",s=r.match(/color/)?"color":a;return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = a_"+r+";\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+s+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = a_"+r+";\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+s+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})};for(var ei in Qe)ti(ei);var ii=Qe,ni=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ni.prototype.bind=function(t,e,i,n,o,r,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},ni.prototype.freshBind=function(t,e,i,n,o,r,a){var s,l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var h=l;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var d=0,p=i;d<p.length;d+=1){p[d].enableAttributes(u,t)}r&&r.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,o);for(var f=0,_=i;f<_.length;f+=1){var m=_[f];m.bind(),m.setVertexAttribPointers(u,t,o)}r&&(r.bind(),r.setVertexAttribPointers(u,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,o)),c.currentNumAttributes=l},ni.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var oi=function(e,i,n,o,r){var a=e.gl;this.program=a.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+t.browser.devicePixelRatio.toFixed(1));r&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(ii.prelude.fragmentSource,i.fragmentSource).join("\n"),c=s.concat(ii.prelude.vertexSource,i.vertexSource).join("\n"),u=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(u,l),a.compileShader(u),a.attachShader(this.program,u);var h=a.createShader(a.VERTEX_SHADER);a.shaderSource(h,c),a.compileShader(h),a.attachShader(this.program,h);for(var d=n.layoutAttributes||[],p=0;p<d.length;p++)a.bindAttribLocation(this.program,p,d[p].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},_=0;_<this.numAttributes;_++){var m=a.getActiveAttrib(this.program,_);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),v=0;v<g;v++){var y=a.getActiveUniform(this.program,v);y&&(f[y.name]=a.getUniformLocation(this.program,y.name))}this.fixedUniforms=o(e,f),this.binderUniforms=n.getUniforms(e,f)};function ri(e,i,n){var o=1/Se(n,1,i.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,i.transform.tileZoom)/r,s=a*(n.tileID.canonical.x+n.tileID.wrap*r),l=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}oi.prototype.draw=function(t,e,i,n,o,r,a,s,l,c,u,h,d,p,f,_){var m,g=t.gl;for(var v in t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(n),t.setColorMode(o),t.setCullFace(r),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);p&&p.setUniforms(t,this.binderUniforms,h,{zoom:d});for(var y=(m={},m[g.LINES]=2,m[g.TRIANGLES]=3,m[g.LINE_STRIP]=1,m)[e],x=0,b=u.get();x<b.length;x+=1){var w=b[x],E=w.vaos||(w.vaos={});(E[s]||(E[s]=new ni)).bind(t,this,l,p?p.getPaintVertexBuffers():[],c,w.vertexOffset,f,_),g.drawElements(e,w.primitiveLength*y,g.UNSIGNED_SHORT,w.primitiveOffset*y*2)}};var ai=function(e,i,n){var o=i.style.light,r=o.properties.get("position"),a=[r.x,r.y,r.z],s=t.create$2();"viewport"===o.properties.get("anchor")&&t.fromRotation(s,-i.transform.angle),t.transformMat3(a,a,s);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+n}},si=function(e,i,n,o,r,a){return t.extend(ai(e,i,n),ri(r,i,a),{u_height_factor:-Math.pow(2,o.overscaledZ)/a.tileSize/8})},li=function(e,i,n){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var r=e.context.gl;return{u_matrix:o,u_world:[r.drawingBufferWidth,r.drawingBufferHeight],u_image:n,u_opacity:i}},ci=function(t){return{u_matrix:t}},ui=function(e,i,n,o){return t.extend(ci(e),ri(n,i,o))},hi=function(t,e){return{u_matrix:t,u_world:e}},di=function(e,i,n,o,r){return t.extend(ui(e,i,n,o),{u_world:r})},pi=function(t,e,i,n){var o,r,a=t.transform;if("map"===n.paint.get("circle-pitch-alignment")){var s=Se(i,1,a.zoom);o=!0,r=[s,s]}else o=!1,r=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,i,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_extrude_scale:r}},fi=function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,i.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,i.u_overscale_factor)}},_i=function(t,e,i){var n=Se(i,1,e.zoom),o=Math.pow(2,e.zoom-i.tileID.overscaledZ),r=i.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[e.pixelsToGLUnits[0]/(n*o),e.pixelsToGLUnits[1]/(n*o)],u_overscale_factor:r}},mi=function(t,e){return{u_matrix:t,u_color:e}},gi=function(t){return{u_matrix:t}},vi=function(t,e,i,n){return{u_matrix:t,u_extrude_scale:Se(e,1,i),u_intensity:n}},yi=function(e,i,n,o){var r=t.create();t.ortho(r,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:r,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:o,u_opacity:i.paint.get("heatmap-opacity")}},xi=function(e,i,n){var o=n.paint.get("hillshade-shadow-color"),r=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);return"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle),{u_matrix:e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0),u_image:0,u_latrange:function(e,i){var n=i.toCoordinate(),o=new t.Coordinate(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,i.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:o,u_highlight:r,u_accent:a}},bi=function(e,i){var n=e.dem.dim,o=t.create();return t.ortho(o,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(o,o,[0,-t.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[2*n,2*n],u_zoom:e.tileID.overscaledZ,u_maxzoom:i}};var wi=function(t,e,i){var n=t.transform;return{u_matrix:Ii(t,e,i),u_ratio:1/Se(e,1,n.zoom),u_gl_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]]}},Ei=function(e,i,n){return t.extend(wi(e,i,n),{u_image:0})},Ti=function(e,i,n,o){var r=e.transform,a=Ci(i,r);return{u_matrix:Ii(e,i,n),u_texsize:i.imageAtlasTexture.size,u_ratio:1/Se(i,1,r.zoom),u_image:0,u_scale:[t.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Si=function(e,i,n,o,r){var a=e.transform,s=e.lineAtlas,l=Ci(i,a),c="round"===n.layout.get("line-cap"),u=s.getDash(o.from,c),h=s.getDash(o.to,c),d=u.width*r.fromScale,p=h.width*r.toScale;return t.extend(wi(e,i,n),{u_patternscale_a:[l/d,-u.height/2],u_patternscale_b:[l/p,-h.height/2],u_sdfgamma:s.width/(256*Math.min(d,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:h.y,u_mix:r.t})};function Ci(t,e){return 1/Se(t,1,e.tileZoom)}function Ii(t,e,i){return t.translatePosMatrix(e.tileID.posMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}var Pi=function(t,e,i,n,o){return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(r=o.paint.get("raster-contrast"),r>0?1/(1-r):1+r),u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(o.paint.get("raster-hue-rotate"))};var r,a};var zi=function(t,e,i,n,o,r,a,s,l,c){var u=o.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:r,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},Ai=function(e,i,n,o,r,a,s,l,c,u,h){var d=r.transform;return t.extend(zi(e,i,n,o,r,a,s,l,c,u),{u_gamma_scale:o?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_is_halo:+h})},Li=function(t,e,i){return{u_matrix:t,u_opacity:e,u_color:i}},ki=function(e,i,n,o,r,a){return t.extend(function(t,e,i,n){var o=i.imageManager.getPattern(t.from),r=i.imageManager.getPattern(t.to),a=i.imageManager.getPixelSize(),s=a.width,l=a.height,c=Math.pow(2,n.tileID.overscaledZ),u=n.tileSize*Math.pow(2,i.transform.tileZoom)/c,h=u*(n.tileID.canonical.x+n.tileID.wrap*c),d=u*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:r.tl,u_pattern_br_b:r.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:r.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/Se(n,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,d>>16],u_pixel_coord_lower:[65535&h,65535&d]}}(o,a,n,r),{u_matrix:e,u_opacity:i})},Di={fillExtrusion:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient)}},fillExtrusionPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},extrusionTexture:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_opacity:new t.Uniform1f(e,i.u_opacity)}},fill:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},fillPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},fillOutline:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}},fillOutlinePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},circle:function(e,i){return{u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,i.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},collisionBox:fi,collisionCircle:fi,debug:function(e,i){return{u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},clippingMask:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmap:function(e,i){return{u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmapTexture:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}},hillshade:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}},hillshadePrepare:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_maxzoom:new t.Uniform1f(e,i.u_maxzoom)}},line:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels)}},lineGradient:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image)}},linePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_image:new t.Uniform1i(e,i.u_image),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},lineSDF:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,i.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,i.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,i.u_sdfgamma),u_image:new t.Uniform1i(e,i.u_image),u_tex_y_a:new t.Uniform1f(e,i.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,i.u_tex_y_b),u_mix:new t.Uniform1f(e,i.u_mix)}},raster:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}},symbolIcon:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}},symbolSDF:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_is_halo:new t.Uniform1f(e,i.u_is_halo)}},background:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}},backgroundPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}}};function Mi(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);Ri(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i)}}function Ri(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),c=0;c<l.length;c++){Ri(e,l[c],n.slice(a),o,r)}return}}var u=i.overscaledZ-e.overscaledZ,h=new t.CanonicalTileID(u,i.canonical.x-(e.canonical.x<<u),i.canonical.y-(e.canonical.y<<u));r[h.key]=r[h.key]||h}function Bi(t,e,i,n,o){for(var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),l=0;l<n.length;l++){var c=n[l],u=e.getTile(c),h=u.getBucket(i);if(h){var d=o?h.collisionCircle:h.collisionBox;d&&s.draw(r,o?a.TRIANGLES:a.LINES,Ut.disabled,Nt.disabled,t.colorModeForRenderPass(),qt.disabled,_i(c.posMatrix,t.transform,u),i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,null,t.transform.zoom,null,null,d.collisionVertexBuffer)}}}var Oi=t.identity(new Float32Array(16)),Fi=t.properties.layout;function Ui(e,i,n,o,r,a,s,l,c,u,h,d){for(var p,f,_=e.context,m=_.gl,g=e.transform,v="map"===l,y="map"===c,x=v&&"point"!==n.layout.get("symbol-placement"),b=v&&!y&&!x,w=y?e.depthModeForSublayer(0,Ut.ReadOnly):Ut.disabled,E=0,T=o;E<T.length;E+=1){var S=T[E],C=i.getTile(S),I=C.getBucket(n);if(I){var P=r?I.text:I.icon;if(P&&P.segments.get().length){var z=P.programConfigurations.get(n.id),A=r||I.sdfIcons,L=r?I.textSizeData:I.iconSizeData;p||(p=e.useProgram(A?"symbolSDF":"symbolIcon",z),f=t.evaluateSizeForZoom(L,g.zoom,Fi.properties[r?"text-size":"icon-size"])),_.activeTexture.set(m.TEXTURE0);var k=void 0;if(r)C.glyphAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),k=C.glyphAtlasTexture.size;else{var D=1!==n.layout.get("icon-size").constantOr(0)||I.iconsNeedLinear,M=y||0!==g.pitch;C.imageAtlasTexture.bind(A||e.options.rotating||e.options.zooming||D||M?m.LINEAR:m.NEAREST,m.CLAMP_TO_EDGE),k=C.imageAtlasTexture.size}var R=Se(C,1,e.transform.zoom),B=ue(S.posMatrix,y,v,e.transform,R),O=he(S.posMatrix,y,v,e.transform,R);x&&fe(I,S.posMatrix,e,r,B,O,y,u);var F=e.translatePosMatrix(S.posMatrix,C,a,s),U=x?Oi:B,N=e.translatePosMatrix(O,C,a,s,!0),j=void 0;if(A){var q=0!==n.paint.get(r?"text-halo-width":"icon-halo-width").constantOr(1);j=Ai(L.functionType,f,b,y,e,F,U,N,r,k,!0),q&&Ni(P,n,e,p,w,h,d,j),j.u_is_halo=0}else j=zi(L.functionType,f,b,y,e,F,U,N,r,k);Ni(P,n,e,p,w,h,d,j)}}}}function Ni(t,e,i,n,o,r,a,s){var l=i.context,c=l.gl;n.draw(l,c.TRIANGLES,o,r,a,qt.disabled,s,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,e.paint,i.transform.zoom,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ji(t,e,i,n,o,r,a){var s,l,c,u,h,d=t.context.gl,p=i.paint.get("fill-pattern"),f=p&&p.constantOr(1),_=i.getCrossfadeParameters();a?(l=f&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(l=f?"fillPattern":"fill",s=d.TRIANGLES);for(var m=0,g=n;m<g.length;m+=1){var v=g[m],y=e.getTile(v);if(!f||y.patternsLoaded()){var x=y.getBucket(i);if(x){var b=x.programConfigurations.get(i.id),w=t.useProgram(l,b);f&&(t.context.activeTexture.set(d.TEXTURE0),y.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),b.updatePatternPaintBuffers(_));var E=p.constantOr(null);if(E&&y.imageAtlas){var T=y.imageAtlas.patternPositions[E.to],S=y.imageAtlas.patternPositions[E.from];T&&S&&b.setConstantPatternPositions(T,S)}var C=t.translatePosMatrix(v.posMatrix,y,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(a){u=x.indexBuffer2,h=x.segments2;var I=[d.drawingBufferWidth,d.drawingBufferHeight];c="fillOutlinePattern"===l&&f?di(C,t,_,y,I):hi(C,I)}else u=x.indexBuffer,h=x.segments,c=f?ui(C,t,_,y):ci(C);w.draw(t.context,s,o,t.stencilModeForClipping(v),r,qt.disabled,c,i.id,x.layoutVertexBuffer,u,h,i.paint,t.transform.zoom,b)}}}}function qi(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new t.Texture(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(r=i.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.Color.transparent}),n.setStencilMode(Nt.disabled),n.setDepthMode(new Ut(o.LEQUAL,Ut.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}function Zi(t,e,i){var n=e.viewportFrame;if(n){var o=t.context,r=o.gl;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),t.useProgram("extrusionTexture").draw(o,r.TRIANGLES,Ut.disabled,Nt.disabled,t.colorModeForRenderPass(),qt.disabled,li(t,i,0),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom)}}function Gi(t,e,i,n,o,r){var a=t.context,s=a.gl,l=e.fbo;if(l){var c=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var u=xi(t,e,i);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?c.draw(a,s.TRIANGLES,n,o,r,qt.disabled,u,i.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):c.draw(a,s.TRIANGLES,n,o,r,qt.disabled,u,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function Vi(e,i,n,o,r,a,s){var l=e.context,c=l.gl;if(i.dem&&i.dem.data){var u=i.dem.dim,h=i.dem.getPixels();if(l.activeTexture.set(c.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var d=i.demTexture;d.update(h,{premultiply:!1}),d.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else i.demTexture=new t.Texture(l,h,c.RGBA,{premultiply:!1}),i.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);l.activeTexture.set(c.TEXTURE0);var p=i.fbo;if(!p){var f=new t.Texture(l,{width:u,height:u,data:null},c.RGBA);f.bind(c.LINEAR,c.CLAMP_TO_EDGE),(p=i.fbo=l.createFramebuffer(u,u)).colorAttachment.set(f.texture)}l.bindFramebuffer.set(p.framebuffer),l.viewport.set([0,0,u,u]),e.useProgram("hillshadePrepare").draw(l,c.TRIANGLES,r,a,s,qt.disabled,bi(i,o),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Wi(e,i,n,o,r){var a=o.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,c=i?(s-i.timeAdded)/a:-1,u=n.getSource(),h=r.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),p=d&&e.refreshedUponExpiration?1:t.clamp(d?l:1-c,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}function Hi(e,i,n){var o=e.context,r=o.gl,a=n.posMatrix,s=e.useProgram("debug"),l=Ut.disabled,c=Nt.disabled,u=e.colorModeForRenderPass(),h="$debug";s.draw(o,r.LINE_STRIP,l,c,u,qt.disabled,mi(a,t.Color.red),h,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var d=function(t,e,i,n){n=n||1;var o,r,a,s,l,c,u,h,d=[];for(o=0,r=t.length;o<r;o++)if(l=Xi[t[o]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(c=e+l[1][a]*n,u=i-l[1][a+1]*n,h&&d.push(h.x,h.y,c,u),h={x:c,y:u});e+=l[0]*n}return d}(n.toString(),50,200,5),p=new t.StructArrayLayout2i4,f=new t.StructArrayLayout2ui4,_=0;_<d.length;_+=2)p.emplaceBack(d[_],d[_+1]),f.emplaceBack(_,_+1);for(var m=o.createVertexBuffer(p,Je.members),g=o.createIndexBuffer(f),v=t.SegmentVector.simpleSegment(0,0,p.length/2,p.length/2),y=i.getTile(n).tileSize,x=t.EXTENT/(Math.pow(2,e.transform.zoom-n.overscaledZ)*y),b=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<b.length;w++){var E=b[w];s.draw(o,r.LINES,l,c,u,qt.disabled,mi(t.translate([],a,[x*E[0],x*E[1],0]),t.Color.white),h,m,g,v)}s.draw(o,r.LINES,l,c,u,qt.disabled,mi(a,t.Color.black),h,m,g,v)}var Xi={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var Ki={symbol:function(t,e,i,n){if("translucent"===t.renderPass){var o=Nt.disabled,r=t.colorModeForRenderPass();0!==i.paint.get("icon-opacity").constantOr(1)&&Ui(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),o,r),0!==i.paint.get("text-opacity").constantOr(1)&&Ui(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),o,r),e.map.showCollisionBoxes&&function(t,e,i,n){Bi(t,e,i,n,!1),Bi(t,e,i,n,!0)}(t,e,i,n)}},circle:function(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,l=s.gl,c=t.depthModeForSublayer(0,Ut.ReadOnly),u=Nt.disabled,h=t.colorModeForRenderPass(),d=0;d<n.length;d++){var p=n[d],f=e.getTile(p),_=f.getBucket(i);if(_){var m=_.programConfigurations.get(i.id);t.useProgram("circle",m).draw(s,l.TRIANGLES,c,u,h,qt.disabled,pi(t,p,f,i),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,i.paint,t.transform.zoom,m)}}}},heatmap:function(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl,s=e.depthModeForSublayer(0,Ut.ReadOnly),l=Nt.disabled,c=new jt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,n,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i.width/4,i.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,i,n,o))}(t,e,r,o)}}(r,e,n),r.clear({color:t.Color.transparent});for(var u=0;u<o.length;u++){var h=o[u];if(!i.hasRenderableParent(h)){var d=i.getTile(h),p=d.getBucket(n);if(p){var f=p.programConfigurations.get(n.id),_=e.useProgram("heatmap",f),m=e.transform.zoom;_.draw(r,a.TRIANGLES,s,l,c,qt.disabled,vi(h.posMatrix,d,m,n.paint.get("heatmap-intensity")),n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,e.transform.zoom,f)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new t.Texture(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,o.TRIANGLES,Ut.disabled,Nt.disabled,e.colorModeForRenderPass(),qt.disabled,yi(e,i,0,1),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}}(e,n))},line:function(e,i,n,o){if("translucent"===e.renderPass){var r=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,Ut.ReadOnly),l=e.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),h=u.constantOr(1),d=n.paint.get("line-gradient"),p=n.getCrossfadeParameters(),f=c?"lineSDF":h?"linePattern":d?"lineGradient":"line",_=e.context,m=_.gl,g=!0;if(d){_.activeTexture.set(m.TEXTURE0);var v=n.gradientTexture;if(!n.gradient)return;v||(v=n.gradientTexture=new t.Texture(_,n.gradient,m.RGBA)),v.bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var y=0,x=o;y<x.length;y+=1){var b=x[y],w=i.getTile(b);if(!h||w.patternsLoaded()){var E=w.getBucket(n);if(E){var T=E.programConfigurations.get(n.id),S=e.context.program.get(),C=e.useProgram(f,T),I=g||C.program!==S,P=u.constantOr(null);if(P&&w.imageAtlas){var z=w.imageAtlas.patternPositions[P.to],A=w.imageAtlas.patternPositions[P.from];z&&A&&T.setConstantPatternPositions(z,A)}var L=c?Si(e,w,n,c,p):h?Ti(e,w,n,p):d?Ei(e,w,n):wi(e,w,n);c&&(I||e.lineAtlas.dirty)?(_.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(_)):h&&(_.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),T.updatePatternPaintBuffers(p)),C.draw(_,m.TRIANGLES,s,e.stencilModeForClipping(b),l,qt.disabled,L,n.id,E.layoutVertexBuffer,E.indexBuffer,E.segments,n.paint,e.transform.zoom,T),g=!1}}}}}},fill:function(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=n.paint.get("fill-pattern").constantOr(1)||1!==r.constantOr(t.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&ji(e,i,n,o,e.depthModeForSublayer(1,"opaque"===e.renderPass?Ut.ReadWrite:Ut.ReadOnly),s,!1),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&ji(e,i,n,o,e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly),s,!0)}},"fill-extrusion":function(t,e,i,n){0!==i.paint.get("fill-extrusion-opacity")&&("offscreen"===t.renderPass?(qi(t,i),function(t,e,i,n,o,r,a){for(var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=c.constantOr(1),h=i.getCrossfadeParameters(),d=0,p=n;d<p.length;d+=1){var f=p[d],_=e.getTile(f),m=_.getBucket(i);if(m){var g=m.programConfigurations.get(i.id),v=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",g);u&&(t.context.activeTexture.set(l.TEXTURE0),_.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePatternPaintBuffers(h));var y=c.constantOr(null);if(y&&_.imageAtlas){var x=_.imageAtlas.patternPositions[y.to],b=_.imageAtlas.patternPositions[y.from];x&&b&&g.setConstantPatternPositions(x,b)}var w=t.translatePosMatrix(f.posMatrix,_,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),E=i.paint.get("fill-extrusion-vertical-gradient"),T=u?si(w,t,E,f,h,_):ai(w,t,E);v.draw(s,s.gl.TRIANGLES,o,r,a,qt.backCCW,T,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,i.paint,t.transform.zoom,g)}}}(t,e,i,n,new Ut(t.context.gl.LEQUAL,Ut.ReadWrite,[0,1]),Nt.disabled,t.colorModeForRenderPass())):"translucent"===t.renderPass&&Zi(t,i,i.paint.get("fill-extrusion-opacity")))},hillshade:function(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var o=t.context,r=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Ut.ReadOnly),s=Nt.disabled,l=t.colorModeForRenderPass(),c=0,u=n;c<u.length;c+=1){var h=u[c],d=e.getTile(h);d.needsHillshadePrepare&&"offscreen"===t.renderPass?Vi(t,d,i,r,a,s,l):"translucent"===t.renderPass&&Gi(t,d,i,a,s,l)}o.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity"))for(var o=t.context,r=o.gl,a=e.getSource(),s=t.useProgram("raster"),l=Nt.disabled,c=t.colorModeForRenderPass(),u=n.length&&n[0].overscaledZ,h=0,d=n;h<d.length;h+=1){var p=d[h],f=t.depthModeForSublayer(p.overscaledZ-u,1===i.paint.get("raster-opacity")?Ut.ReadWrite:Ut.ReadOnly,r.LESS),_=e.getTile(p),m=t.transform.calculatePosMatrix(p.toUnwrapped(),!0);_.registerFadeDuration(i.paint.get("raster-fade-duration"));var g=e.findLoadedParent(p,0),v=Wi(_,g,e,i,t.transform),y=void 0,x=void 0,b="nearest"===i.paint.get("raster-resampling")?r.NEAREST:r.LINEAR;o.activeTexture.set(r.TEXTURE0),_.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(r.TEXTURE1),g?(g.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,g.tileID.overscaledZ-_.tileID.overscaledZ),x=[_.tileID.canonical.x*y%1,_.tileID.canonical.y*y%1]):_.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST);var w=Pi(m,x||[0,0],y||1,v,i);a instanceof H?s.draw(o,r.TRIANGLES,f,l,c,qt.disabled,w,i.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):_.maskedBoundsBuffer&&_.maskedIndexBuffer&&_.segments?s.draw(o,r.TRIANGLES,f,l,c,qt.disabled,w,i.id,_.maskedBoundsBuffer,_.maskedIndexBuffer,_.segments,i.paint,t.transform.zoom):s.draw(o,r.TRIANGLES,f,l,c,qt.disabled,w,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern");if(!t.isPatternMissing(c)){var u=c||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===u){var h=Nt.disabled,d=t.depthModeForSublayer(0,"opaque"===u?Ut.ReadWrite:Ut.ReadOnly),p=t.colorModeForRenderPass(),f=t.useProgram(c?"backgroundPattern":"background"),_=s.coveringTiles({tileSize:l});c&&(r.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=i.getCrossfadeParameters(),g=0,v=_;g<v.length;g+=1){var y=v[g],x=t.transform.calculatePosMatrix(y.toUnwrapped()),b=c?ki(x,o,t,c,{tileID:y,tileSize:l},m):Li(x,o,n);f.draw(r,a.TRIANGLES,d,h,p,qt.disabled,b,i.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,i){for(var n=0;n<i.length;n++)Hi(t,e,i[n])},custom:function(t,e,i){var n=t.context,o=i.implementation;if("offscreen"===t.renderPass){var r=o.prerender;r&&(t.setCustomLayerDefaults(),r.call(o,n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState()),"3d"===o.renderingMode&&(t.setCustomLayerDefaults(),qi(t,i),o.render(n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState())}else"translucent"===t.renderPass&&("3d"===o.renderingMode?Zi(t,i,1):(t.setCustomLayerDefaults(),n.setStencilMode(Nt.disabled),n.setDepthMode(Ut.disabled),o.render(n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState(),n.bindFramebuffer.set(null)))}},Yi=function(e,i){this.context=new Zt(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new We};function Ji(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Qi(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,c=e.dx/e.dy,u=t.dx>0,h=e.dx<0,d=r;d<a;d++){var p=l*Math.max(0,Math.min(t.dy,d+u-t.y0))+t.x0,f=c*Math.max(0,Math.min(e.dy,d+h-e.y0))+e.x0;o(Math.floor(f),Math.ceil(p),d)}}function $i(t,e,i,n,o,r){var a,s=Ji(t,e),l=Ji(e,i),c=Ji(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>c.dy&&(a=s,s=c,c=a),l.dy>c.dy&&(a=l,l=c,c=a),s.dy&&Qi(c,s,n,o,r),l.dy&&Qi(c,l,n,o,r)}Yi.prototype.resize=function(e,i){var n=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=i*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,r=this.style._order;o<r.length;o+=1){var a=r[o];this.style._layers[a].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Yi.prototype.setup=function(){var e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,Je.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(n,Je.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var o=new t.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(t.EXTENT,0,t.EXTENT,0),o.emplaceBack(0,t.EXTENT,0,t.EXTENT),o.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(o,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,Je.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Nt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},Yi.prototype.clearStencil=function(){var e=this.context,i=e.gl,n=t.create();t.ortho(n,0,this.width,this.height,0,0,1),t.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,i.TRIANGLES,Ut.disabled,this.stencilClearMode,jt.disabled,qt.disabled,gi(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Yi.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(jt.disabled),e.setDepthMode(Ut.disabled);var n=this.useProgram("clippingMask"),o=1;this._tileClippingMaskIDs={};for(var r=0,a=t;r<a.length;r+=1){var s=a[r],l=this._tileClippingMaskIDs[s.key]=o++;n.draw(e,i.TRIANGLES,Ut.disabled,new Nt({func:i.ALWAYS,mask:0},l,255,i.KEEP,i.KEEP,i.REPLACE),jt.disabled,qt.disabled,gi(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},Yi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Nt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Yi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){return new jt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?jt.unblended:jt.alphaBlended},Yi.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new Ut(i||this.context.gl.LEQUAL,e,[o,n])},Yi.prototype.render=function(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now());var n=this.style._order,o=this.style.sourceCaches;for(var r in o){var a=o[r];a.used&&a.prepare(this.context)}var s,l={},c={},u={};for(var h in o){var d=o[h];l[h]=d.getVisibleCoordinates(),c[h]=l[h].slice().reverse(),u[h]=d.getVisibleCoordinates(!0).reverse()}for(var p in o){var f=o[p],_=f.getSource();if("raster"===_.type||"raster-dem"===_.type){for(var m=[],g=0,v=l[p];g<v.length;g+=1){var y=v[g];m.push(f.getTile(y))}Mi(m,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var x=0,b=n;x<b.length;x+=1){var w=b[x],E=this.style._layers[w];if(E.hasOffscreenPass()&&!E.isHidden(this.transform.zoom)){var T=c[E.source];("custom"===E.type||T.length)&&this.renderLayer(this,o[E.source],E,T)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var S=this.style._layers[n[this.currentLayer]],C=o[S.source],I=l[S.source];S.source!==s&&C&&(this.clearStencil(),C.getSource().isTileClipped&&this._renderTileClippingMasks(I)),this.renderLayer(this,C,S,I),s=S.source}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<n.length;this.currentLayer++){var P=this.style._layers[n[this.currentLayer]],z=o[P.source],A=("symbol"===P.type?u:c)[P.source];P.source!==s&&z&&(this.clearStencil(),z.getSource().isTileClipped&&this._renderTileClippingMasks(l[P.source])),this.renderLayer(this,z,P,A),s=P.source}if(this.options.showTileBoundaries)for(var L in o){Ki.debug(this,o[L],l[L]);break}this.setCustomLayerDefaults()},Yi.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Yi.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"custom"===i.type||n.length)&&(this.id=i.id,Ki[i.type](t,e,i,n))},Yi.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var c=[r?n[0]:Se(i,n[0],this.transform.zoom),r?n[1]:Se(i,n[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,c),u},Yi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Yi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Yi.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from),i=this.imageManager.getPattern(t.to);return!e||!i},Yi.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new oi(this.context,ii[t],e,Di[t],this._showOverdrawInspector)),this.cache[i]},Yi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Yi.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var tn=function(t,e,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new N(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},en={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};tn.prototype.clone=function(){var t=new tn(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},en.minZoom.get=function(){return this._minZoom},en.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},en.maxZoom.get=function(){return this._maxZoom},en.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},en.renderWorldCopies.get=function(){return this._renderWorldCopies},en.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},en.worldSize.get=function(){return this.tileSize*this.scale},en.centerPoint.get=function(){return this.size._div(2)},en.size.get=function(){return new t.Point(this.width,this.height)},en.bearing.get=function(){return-this.angle/Math.PI*180},en.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=t.create$4(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},en.pitch.get=function(){return this._pitch/Math.PI*180},en.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},en.fov.get=function(){return this._fov/Math.PI*180},en.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},en.zoom.get=function(){return this._zoom},en.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},en.center.get=function(){return this._center},en.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},tn.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},tn.prototype.getVisibleUnwrappedCoordinates=function(e){var i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new t.Point(0,0),0),o=this.pointCoordinate(new t.Point(this.width,0),0),r=this.pointCoordinate(new t.Point(this.width,this.height),0),a=this.pointCoordinate(new t.Point(0,this.height),0),s=Math.floor(Math.min(n.column,o.column,r.column,a.column)),l=Math.floor(Math.max(n.column,o.column,r.column,a.column)),c=s-1;c<=l+1;c++)0!==c&&i.push(new t.UnwrappedTileID(c,e));return i},tn.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t.Point(o.column-.5,o.row-.5);return function(e,i,n,o){void 0===o&&(o=!0);var r=1<<e,a={};function s(i,s,l){var c,u,h,d;if(l>=0&&l<=r)for(c=i;c<s;c++)u=Math.floor(c/r),h=(c%r+r)%r,0!==u&&!0!==o||(d=new t.OverscaledTileID(n,u,e,h,l),a[d.key]=d)}return $i(i[0],i[1],i[2],0,r,s),$i(i[2],i[3],i[0],0,r,s),Object.keys(a).map(function(t){return a[t]})}(i,[this.pointCoordinate(new t.Point(0,0),i),this.pointCoordinate(new t.Point(this.width,0),i),this.pointCoordinate(new t.Point(this.width,this.height),i),this.pointCoordinate(new t.Point(0,this.height),i)],e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},tn.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},en.unmodified.get=function(){return this._unmodified},tn.prototype.zoomScale=function(t){return Math.pow(2,t)},tn.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},tn.prototype.project=function(e){return new t.Point(this.lngX(e.lng),this.latY(e.lat))},tn.prototype.unproject=function(t){return new N(this.xLng(t.x),this.yLat(t.y))},en.x.get=function(){return this.lngX(this.center.lng)},en.y.get=function(){return this.latY(this.center.lat)},en.point.get=function(){return new t.Point(this.x,this.y)},tn.prototype.lngX=function(t){return(180+t)*this.worldSize/360},tn.prototype.latY=function(e){return e=t.clamp(e,-this.maxValidLatitude,this.maxValidLatitude),(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*this.worldSize/360},tn.prototype.xLng=function(t){return 360*t/this.worldSize-180},tn.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},tn.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},tn.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},tn.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},tn.prototype.locationCoordinate=function(e){return new t.Coordinate(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},tn.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new N(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},tn.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(o,o,this.pixelMatrixInverse);var r=n[3],a=o[3],s=n[0]/r,l=o[0]/a,c=n[1]/r,u=o[1]/a,h=n[2]/r,d=o[2]/a,p=h===d?0:(0-h)/(d-h);return new t.Coordinate(t.number(s,l,p)/this.tileSize,t.number(c,u,p)/this.tileSize,this.zoom)._zoomTo(i)},tn.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},tn.prototype.getBounds=function(){return(new j).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},tn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new j([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},tn.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},tn.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,r.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},tn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},tn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;r=this.latY(h[1]),e=(a=this.latY(h[0]))-r<c.y?c.y/(a-r):0}if(this.lngRange){var d=this.lngRange;s=this.lngX(d[0]),i=(l=this.lngX(d[1]))-s<c.x?c.x/(l-s):0}var p=Math.max(i||0,e||0);if(p)return this.center=this.unproject(new t.Point(i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=this.y,_=c.y/2;f-_<r&&(o=r+_),f+_>a&&(o=a-_)}if(this.lngRange){var m=this.x,g=c.x/2;m-g<s&&(n=s+g),m+g>l&&(n=l-g)}void 0===n&&void 0===o||(this.center=this.unproject(new t.Point(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=u,this._constraining=!1}},tn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,i=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-i-e),o=this.x,r=this.y,a=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),s=new Float64Array(16);t.perspective(s,this._fov,this.width/this.height,1,a),t.scale(s,s,[1,-1,1]),t.translate(s,s,[0,0,-this.cameraToCenterDistance]),t.rotateX(s,s,this._pitch),t.rotateZ(s,s,this.angle),t.translate(s,s,[-o,-r,0]),this.mercatorMatrix=t.scale([],s,[this.worldSize,this.worldSize,this.worldSize]);var l=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));t.scale(s,s,[1,1,l,1]),this.projMatrix=s;var c=this.width%2/2,u=this.height%2/2,h=Math.cos(this.angle),d=Math.sin(this.angle),p=o-Math.round(o)+h*c+d*u,f=r-Math.round(r)+h*u+d*c,_=new Float64Array(s);if(t.translate(_,_,[p>.5?p-1:p,f>.5?f-1:f,0]),this.alignedProjMatrix=_,s=t.create(),t.scale(s,s,[this.width/2,-this.height/2,1]),t.translate(s,s,[1,-1,0]),this.pixelMatrix=t.multiply(new Float64Array(16),s,this.projMatrix),!(s=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={}}},tn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return t.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(tn.prototype,en);var nn=function(){var e,i,n,o,r;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,n=!1,o=0,r=function(){o=0,n&&(e(),o=setTimeout(r,i),n=!1)},function(){return n=!0,o||r(),o})};nn.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},nn.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},nn.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),c="";return c+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),c},nn.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},nn.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.window.history.replaceState(t.window.history.state,"",e)};var on=function(e){function n(n,o,r,a){void 0===a&&(a={});var s=i.mousePos(o.getCanvasContainer(),r),l=o.unproject(s);e.call(this,n,t.extend({point:s,lngLat:l,originalEvent:r},a)),this._defaultPrevented=!1,this.target=o}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(t.Event),rn=function(e){function n(n,o,r){var a=i.touchPos(o.getCanvasContainer(),r),s=a.map(function(t){return o.unproject(t)}),l=a.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t.Point(0,0)),c=o.unproject(l);e.call(this,n,{points:a,point:l,lngLats:s,lngLat:c,originalEvent:r}),this._defaultPrevented=!1}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(t.Event),an=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),sn=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};sn.prototype.isEnabled=function(){return!!this._enabled},sn.prototype.isActive=function(){return!!this._active},sn.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},sn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sn.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=t.browser.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},sn.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},sn.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=i.mousePos(this._el,e);this._around=N.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},sn.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var r="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(r*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:i.zoom,s=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&s&&l){var u=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),h=l(u);i.zoom=t.number(s,a,h),u<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):c=!0}else i.zoom=a,c=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),c&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},sn.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(t.browser.now()-n.start)/n.duration,r=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:i},i};var ln=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};ln.prototype.isEnabled=function(){return!!this._enabled},ln.prototype.isActive=function(){return!!this._active},ln.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ln.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ln.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=this._lastPos=i.mousePos(this._el,e),this._active=!0)},ln.prototype._onMouseMove=function(t){var e=i.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=e,this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(n.x,e.x),r=Math.max(n.x,e.x),a=Math.min(n.y,e.y),s=Math.max(n.y,e.y);i.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=r-o+"px",this._box.style.height=s-a+"px"}},ln.prototype._onMouseUp=function(e){if(0===e.button){var n=this._startPos,o=i.mousePos(this._el,e);this._finish(),i.suppressClick(),n.x===o.x&&n.y===o.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(n,o,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},ln.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},ln.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos},ln.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var cn=t.bezier(0,0,.25,1),un=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};un.prototype.isEnabled=function(){return"disabled"!==this._state},un.prototype.isActive=function(){return"active"===this._state},un.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},un.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},un.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=i.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==i.mouseButton(e))return;this._eventButton=0}i.disableDrag(),t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=i.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},un.prototype._onMouseMove=function(t){var e=i.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},un.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var i=this._map.transform,n=this._startPos,o=this._lastPos,r=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=i.bearing-r,l=i.pitch-a,c=this._inertia,u=c[c.length-1];this._drainInertiaBuffer(),c.push([t.browser.now(),this._map._normalizeBearing(s,u[1])]),i.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),i.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos}},un.prototype._onMouseUp=function(t){if(i.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",i.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},un.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},un.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),i.enableDrag()},un.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},un.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],c=i._normalizeBearing(n,l[1]),u=s[1]-a[1],h=u<0?-1:1,d=(s[0]-a[0])/1e3;if(0!==u&&0!==d){var p=Math.abs(u*(.25/d));p>180&&(p=180);var f=p/180;c+=h*p*(f/2),Math.abs(i._normalizeBearing(c,0))<this._bearingSnap&&(c=i._normalizeBearing(0,c)),i.rotateTo(c,{duration:1e3*f,easing:cn,noMoveStart:!0},{originalEvent:t})}else r()}},un.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},un.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift()};var hn=t.bezier(0,0,.3,1),dn=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};dn.prototype.isEnabled=function(){return"disabled"!==this._state},dn.prototype.isActive=function(){return"active"===this._state},dn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},dn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},dn.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==i.mouseButton(e)||(i.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),i.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},dn.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(i.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),i.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},dn.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=i.mousePos(this._el,e),this._inertia=[[t.browser.now(),this._startPos]]},dn.prototype._onMove=function(e){e.preventDefault();var n=i.mousePos(this._el,e);this._lastPos.equals(n)||"pending"===this._state&&n.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=n,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},dn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},dn.prototype._onMouseUp=function(t){if(0===i.mouseButton(t))switch(this._state){case"active":this._state="enabled",i.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},dn.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},dn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},dn.prototype._unbind=function(){i.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),i.removeEventListener(t.window.document,"touchend",this._onTouchEnd),i.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),i.removeEventListener(t.window.document,"mouseup",this._onMouseUp),i.removeEventListener(t.window,"blur",this._onBlur)},dn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},dn.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/r),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,c=a.mult(-l/2);this._map.panBy(c,{duration:1e3*l,easing:hn,noMoveStart:!0},{originalEvent:t})}}},dn.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},dn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift()};var pn=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function fn(t){return t*(2-t)}pn.prototype.isEnabled=function(){return!!this._enabled},pn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},pn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},pn.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:fn,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*n,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var _n=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};_n.prototype.isEnabled=function(){return!!this._enabled},_n.prototype.isActive=function(){return!!this._active},_n.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},_n.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_n.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},_n.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},_n.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},_n.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var mn=t.bezier(0,0,.15,1),gn=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};gn.prototype.isEnabled=function(){return!!this._enabled},gn.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},gn.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},gn.prototype.disableRotation=function(){this._rotationDisabled=!0},gn.prototype.enableRotation=function(){this._rotationDisabled=!1},gn.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var n=i.mousePos(this._el,e.touches[0]),o=i.mousePos(this._el,e.touches[1]),r=n.add(o).div(2);this._startVec=n.sub(o),this._startAround=this._map.transform.pointLocation(r),this._gestureIntent=void 0,this._inertia=[],i.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),i.addEventListener(t.window.document,"touchend",this._onEnd)}},gn.prototype._getTouchEventData=function(t){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]),o=e.sub(n);return{vec:o,center:e.add(n).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},gn.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},gn.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,r=n.bearing,a=n.scale,s=i.pointLocation(o),l=i.locationPoint(s);"rotate"===e&&(i.bearing=this._startBearing+r),i.zoom=i.scaleZoom(this._startScale*a),i.setLocationAtPoint(this._startAround,l),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,o])}},gn.prototype._onEnd=function(e){i.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),i.removeEventListener(t.window.document,"touchend",this._onEnd);var n=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new t.Event(n+"end",{originalEvent:e})),this._drainInertiaBuffer();var r=this._inertia,a=this._map;if(r.length<2)a.snapToNorth({},{originalEvent:e});else{var s=r[r.length-1],l=r[0],c=a.transform.scaleZoom(o*s[1]),u=a.transform.scaleZoom(o*l[1]),h=c-u,d=(s[0]-l[0])/1e3,p=s[2];if(0!==d&&c!==u){var f=.15*h/d;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var _=1e3*Math.abs(f/(12*.15)),m=c+f*_/2e3;m<0&&(m=0),a.easeTo({zoom:m,duration:_,easing:mn,around:this._aroundCenter?a.getCenter():a.unproject(p),noMoveStart:!0},{originalEvent:e})}else a.snapToNorth({},{originalEvent:e})}}},gn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>2&&i-e[0][0]>160;)e.shift()};var vn={scrollZoom:sn,boxZoom:ln,dragRotate:un,dragPan:dn,keyboard:pn,doubleClickZoom:_n,touchZoomRotate:gn};var yn=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(t,e){return t=j.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,e)},i.prototype._cameraForBoxAndBearing=function(e,i,n,o){if("number"==typeof(o=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var r=o.padding;o.padding={top:r,bottom:r,right:r,left:r}}if(t.deepEqual(Object.keys(o.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"])){var a=[(o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2],s=Math.min(o.padding.right,o.padding.left),l=Math.min(o.padding.top,o.padding.bottom);o.offset=[o.offset[0]+a[0],o.offset[1]+a[1]];var c=this.transform,u=c.project(N.convert(e)),h=c.project(N.convert(i)),d=u.rotate(-n*Math.PI/180),p=h.rotate(-n*Math.PI/180),f=new t.Point(Math.max(d.x,p.x),Math.max(d.y,p.y)),_=new t.Point(Math.min(d.x,p.x),Math.min(d.y,p.y)),m=t.Point.convert(o.offset),g=f.sub(_),v=(c.width-2*s-2*Math.abs(m.x))/g.x,y=(c.height-2*l-2*Math.abs(m.y))/g.y;if(!(y<0||v<0))return o.center=c.unproject(u.add(h).div(2)),o.zoom=Math.min(c.scaleZoom(c.scale*Math.min(v,y)),o.maxZoom),o.bearing=n,o;t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},i.prototype.fitBounds=function(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)},i.prototype.fitScreenCoordinates=function(e,i,n,o,r){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(i)),n,o),o,r)},i.prototype._fitInternal=function(e,i,n){return e?(i=t.extend(e,i)).linear?this.easeTo(i,n):this.flyTo(i,n):this},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=N.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.centerPoint.add(t.Point.convert(e.offset)),d=o.pointLocation(h),p=N.convert(e.center||d);this._normalizeCenter(p);var f,_,m=o.project(d),g=o.project(p).sub(m),v=o.zoomScale(l-r);return e.around&&(f=N.convert(e.around),_=o.locationPoint(f)),this._zooming=l!==r,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e)),f)o.setLocationAtPoint(f,_);else{var d=o.zoomScale(o.zoom-r),p=l>r?Math.min(2,v):Math.max(.5,v),y=Math.pow(p,1-e),x=o.unproject(m.add(g.mult(e*y)).mult(d));o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,h)}n._fireMoveEvents(i)},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.zoomScale(l-r),d=o.centerPoint.add(t.Point.convert(e.offset)),p=o.pointLocation(d),f=N.convert(e.center||p);this._normalizeCenter(f);var _=o.project(p),m=o.project(f).sub(_),g=e.curve,v=Math.max(o.width,o.height),y=v/h,x=m.mag();if("minZoom"in e){var b=t.clamp(Math.min(e.minZoom,r,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(b-r);g=Math.sqrt(w/x*2)}var E=g*g;function T(t){var e=(y*y-v*v+(t?-1:1)*E*E*x*x)/(2*(t?y:v)*E*x);return Math.log(Math.sqrt(e*e+1)-e)}function S(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var I=T(0),P=function(t){return C(I)/C(I+g*t)},z=function(t){return v*((C(I)*(S(e=I+g*t)/C(e))-S(I))/E)/x;var e},A=(T(1)-I)/g;if(Math.abs(x)<1e-6||!isFinite(A)){if(Math.abs(v-y)<1e-6)return this.easeTo(e,i);var L=y<v?-1:1;A=Math.abs(Math.log(y/v))/g,z=function(){return 0},P=function(t){return Math.exp(L*g*t)}}if("duration"in e)e.duration=+e.duration;else{var k="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*A/k}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,!1),this._ease(function(e){var h=e*A,p=1/P(h);o.zoom=1===e?l:r+o.scaleZoom(p),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e));var g=1===e?f:o.unproject(_.add(m.mult(z(h))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,d),n._fireMoveEvents(i)},function(){return n._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(e,i,n){!1===n.animate||0===n.duration?(e(1),i()):(this._easeStart=t.browser.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),xn=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};xn.prototype.getDefaultPosition=function(){return"bottom-right"},xn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},xn.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},xn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:h.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},xn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},xn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},xn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var bn=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};bn.prototype.onAdd=function(t){this._map=t,this._container=i.create("div","mapboxgl-ctrl");var e=i.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bn.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bn.prototype.getDefaultPosition=function(){return"bottom-left"},bn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}},bn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var wn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},wn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,n=e?this._queue.concat(e):this._queue;i<n.length;i+=1){var o=n[i];if(o.id===t)return void(o.cancelled=!0)}},wn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var En=t.window.HTMLImageElement,Tn=t.window.HTMLElement,Sn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Cn=function(n){function o(e){var o=this;if(null!=(e=t.extend({},Sn,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new tn(e.minZoom,e.maxZoom,e.renderWorldCopies);n.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new wn,this._controls=[];var a=e.transformRequest;if(this._transformRequest=a?function(t,e){return a(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Tn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return o._update(!1)}),this.on("zoom",function(){return o._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var n=t.getCanvasContainer(),o=null,r=!1,a=null;for(var s in vn)t[s]=new vn[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);i.addEventListener(n,"mouseout",function(e){t.fire(new on("mouseout",t,e))}),i.addEventListener(n,"mousedown",function(o){r=!0,a=i.mousePos(n,o);var s=new on("mousedown",t,o);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(o),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(o),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(o))}),i.addEventListener(n,"mouseup",function(e){var i=t.dragRotate.isActive();o&&!i&&t.fire(new on("contextmenu",t,o)),o=null,r=!1,t.fire(new on("mouseup",t,e))}),i.addEventListener(n,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var i=e.target;i&&i!==n;)i=i.parentNode;i===n&&t.fire(new on("mousemove",t,e))}}),i.addEventListener(n,"mouseover",function(e){for(var i=e.target;i&&i!==n;)i=i.parentNode;i===n&&t.fire(new on("mouseover",t,e))}),i.addEventListener(n,"touchstart",function(i){var n=new rn("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n))},{passive:!1}),i.addEventListener(n,"touchmove",function(e){t.fire(new rn("touchmove",t,e))},{passive:!1}),i.addEventListener(n,"touchend",function(e){t.fire(new rn("touchend",t,e))}),i.addEventListener(n,"touchcancel",function(e){t.fire(new rn("touchcancel",t,e))}),i.addEventListener(n,"click",function(o){var r=i.mousePos(n,o);(r.equals(a)||r.dist(a)<e.clickTolerance)&&t.fire(new on("click",t,o))}),i.addEventListener(n,"dblclick",function(e){var i=new on("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}),i.addEventListener(n,"contextmenu",function(e){var i=t.dragRotate.isActive();r||i?r&&(o=e):t.fire(new on("contextmenu",t,e)),e.preventDefault()}),i.addEventListener(n,"wheel",function(i){e.interactive&&t.stop();var n=new an("wheel",t,i);t.fire(n),n.defaultPrevented||t.scrollZoom.onWheel(i)},{passive:!1})}(this,e),this._hash=e.hash&&(new nn).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new xn({customAttribution:e.customAttribution})),this.addControl(new bn,e.logoPosition),this.on("style.load",function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet)}),this.on("data",function(e){o._update("style"===e.dataType),o.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",function(e){o.fire(new t.Event(e.dataType+"dataloading",e))})}n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o;var r={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return o.prototype.addControl=function(e,i){if(void 0===i&&e.getDefaultPosition&&(i=e.getDefaultPosition()),void 0===i&&(i="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=e.onAdd(this);this._controls.push(e);var o=this._controlPositions[i];return-1!==i.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this},o.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this},o.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},o.prototype.getBounds=function(){return this.transform.getBounds()},o.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},o.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(j.convert(t)),this._update()},o.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},o.prototype.getMinZoom=function(){return this.transform.minZoom},o.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},o.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},o.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},o.prototype.getMaxZoom=function(){return this.transform.maxZoom},o.prototype.project=function(t){return this.transform.locationPoint(N.convert(t))},o.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},o.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},o.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},o.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},o.prototype.on=function(t,e,i){var o,r=this;if(void 0===i)return n.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var n=!1;return{layer:e,listener:i,delegates:{mousemove:function(o){var a=r.getLayer(e)?r.queryRenderedFeatures(o.point,{layers:[e]}):[];a.length?n||(n=!0,i.call(r,new on(t,r,o.originalEvent,{features:a}))):n=!1},mouseout:function(){n=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:i,delegates:{mousemove:function(n){(r.getLayer(e)?r.queryRenderedFeatures(n.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,i.call(r,new on(t,r,n.originalEvent)))},mouseout:function(e){a&&(a=!1,i.call(r,new on(t,r,e.originalEvent)))}}}}return{layer:e,listener:i,delegates:(o={},o[t]=function(t){var n=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];n.length&&(t.features=n,i.call(r,t),delete t.features)},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)r.on(s,a.delegates[s]);return this},o.prototype.off=function(t,e,i){if(void 0===i)return n.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],r=0;r<o.length;r++){var a=o[r];if(a.layer===e&&a.listener===i){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(r,1),this}}return this},o.prototype.queryRenderedFeatures=function(e,i){if(!this.style)return[];var n;if(void 0!==i||void 0===e||e instanceof t.Point||Array.isArray(e)||(i=e,e=void 0),i=i||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])n=[t.Point.convert(e)];else{var o=t.Point.convert(e[0]),r=t.Point.convert(e[1]);n=[o,new t.Point(r.x,o.y),r,new t.Point(o.x,r.y),o]}return this.style.queryRenderedFeatures(n,i,this.transform)},o.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},o.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ye(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},o.prototype.getStyle=function(){if(this.style)return this.style.serialize()},o.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},o.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},o.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},o.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},o.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},o.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},o.prototype.getSource=function(t){return this.style.getSource(t)},o.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var r=n.sdf;if(void 0===r&&(r=!1),i instanceof En){var a=t.browser.getImageData(i),s=a.width,l=a.height,c=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:l},c),pixelRatio:o,sdf:r})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=i.width,h=i.height,d=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:u,height:h},new Uint8Array(d)),pixelRatio:o,sdf:r})}},o.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},o.prototype.removeImage=function(t){this.style.removeImage(t)},o.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},o.prototype.listImages=function(){return this.style.listImages()},o.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},o.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},o.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},o.prototype.getLayer=function(t){return this.style.getLayer(t)},o.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0)},o.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)},o.prototype.getFilter=function(t){return this.style.getFilter(t)},o.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0)},o.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},o.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0)},o.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},o.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0)},o.prototype.getLight=function(){return this.style.getLight()},o.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},o.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},o.prototype.getContainer=function(){return this._container},o.prototype.getCanvasContainer=function(){return this._canvasContainer},o.prototype.getCanvas=function(){return this._canvas},o.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},o.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},o.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=i.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=i.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=i.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var o=this._controlContainer=i.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=i.create("div","mapboxgl-ctrl-"+t,o)})},o.prototype._resizeCanvas=function(e,i){var n=t.window.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},o.prototype._setupPainter=function(){var i=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?this.painter=new Yi(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},o.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},o.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},o.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},o.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},o.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},o.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},o.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=t.browser.now();this.style.zoomHistory.update(i,n);var o=new t.EvaluationParameters(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=o.crossFadingFactor();1===r&&r===this._crossFadingFactor||(e=!0,this._crossFadingFactor=r),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this.triggerRepaint(),this},o.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));for(var e=0,i=this._controls;e<i.length;e+=1){i[e].onRemove(this)}this._controls=[];var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),In(this._canvasContainer),In(this._controlContainer),In(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},o.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(){e._frame=null,e._render()}))},o.prototype._onWindowOnline=function(){this._update()},o.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},r.showTileBoundaries.get=function(){return!!this._showTileBoundaries},r.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},r.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},r.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},r.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},r.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},r.repaint.get=function(){return!!this._repaint},r.repaint.set=function(t){this._repaint=t,this._update()},r.vertices.get=function(){return!!this._vertices},r.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(o.prototype,r),o}(yn);function In(t){t.parentNode&&t.parentNode.removeChild(t)}var Pn={showCompass:!0,showZoom:!0},zn=function(e){var n=this;this.options=t.extend({},Pn,e),this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return n._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return n._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return n._map.resetNorth()}),this._compassArrow=i.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};zn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},zn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new un(t,{button:"left",element:this._compass}),i.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},zn.prototype.onRemove=function(){i.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),i.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},zn.prototype._createButton=function(t,e,n){var o=i.create("button",t,this._container);return o.type="button",o.setAttribute("aria-label",e),o.addEventListener("click",n),o};var An=function(t,e,n){if(void 0===n&&(n=!0),!t||!e||!n){var o=n?"Error: App ID and API Key should be provided for Mapmagic GL":"Error: App ID or API key are invalid";document.getElementsByClassName("mapboxgl-canvas")[0].remove();var r=document.getElementsByClassName("mapboxgl-map")[0],a=i.create("p","mapboxgl-error");a.innerHTML=o;var s=i.create("p","mapboxgl-error");s.innerHTML='\n      Get your key at <a href="https://developers.mapmagic.co.th">https://developers.mapmagic.co.th/</a>\n      ',r.appendChild(a),r.appendChild(s)}},Ln=t.createCommonjsModule(function(t,e){var i;i=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n);e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var o=i(11);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var r=i(13);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var a=i(9);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=i(10);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.track=e.flush=e.tracking=e.buffer=void 0,e.getTransport=function(){return l},e.setTransport=function(t){l=t},e.print=u,e.immediateFlush=h,e.log=f,e.prefix=function(t){return{debug:function(e,i){return f("debug",t+"_"+e,i)},info:function(e,i){return f("info",t+"_"+e,i)},warn:function(e,i){return f("warn",t+"_"+e,i)},error:function(e,i){return f("error",t+"_"+e,i)},track:function(t){return _(t)},flush:function(){return d()}}},e.debug=function(t,e){return f("debug",t,e)},e.info=function(t,e){return f("info",t,e)},e.warn=function(t,e){return f("warn",t,e)},e.error=function(t,e){return f("error",t,e)};var n=i(3),o=i(9),r=i(10),a=e.buffer=[],s=e.tracking=[],l=function(t,e,i){return(0,n.ajax)("post",r.config.uri,t,e,i)};var c=!1;function u(t,e,i){if("undefined"!=typeof window&&window.console&&window.console.log){if(!c)return setTimeout(function(){return u(t,e,i)},1);var o=r.config.logLevel;if(window.LOG_LEVEL&&(o=window.LOG_LEVEL),!(r.logLevels.indexOf(t)>r.logLevels.indexOf(o))){i=i||{};var a=[e];(0,n.isIE)()&&(i=JSON.stringify(i)),a.push(i),(i.error||i.warning)&&a.push("\n\n",i.error||i.warning);try{window.console[t]&&window.console[t].apply?window.console[t].apply(window.console,a):window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,a)}catch(t){}}}}function h(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fireAndForget,i=void 0!==t&&t;if("undefined"!=typeof window&&r.config.uri){var c=a.length,u=s.length;if(c||u){var h={},d=o.metaBuilders,p=Array.isArray(d),f=0;for(d=p?d:d[Symbol.iterator]();;){var _;if(p){if(f>=d.length)break;_=d[f++]}else{if((f=d.next()).done)break;_=f.value}var m=_;try{(0,n.extend)(h,m(h),!1)}catch(t){console.error("Error in custom meta builder:",t.stack||t.toString())}}var g={},v=o.headerBuilders,y=Array.isArray(v),x=0;for(v=y?v:v[Symbol.iterator]();;){var b;if(y){if(x>=v.length)break;b=v[x++]}else{if((x=v.next()).done)break;b=x.value}var w=b;try{(0,n.extend)(g,w(g),!1)}catch(t){console.error("Error in custom header builder:",t.stack||t.toString())}}var E=l(g,{events:a,meta:h,tracking:s},{fireAndForget:i});return e.buffer=a=[],e.tracking=s=[],E}}}setTimeout(function(){c=!0},1);var d=(0,n.promiseDebounce)(h,r.config.debounceInterval);function p(t,e,i){a.push({level:t,event:e,payload:i}),r.config.autoLog.indexOf(t)>-1&&d()}function f(t,e,i){if("undefined"!=typeof window){r.config.prefix&&(e=r.config.prefix+"_"+e),"string"==typeof(i=i||{})?i={message:i}:i instanceof Error&&(i={error:i.stack||i.toString()});try{JSON.stringify(i)}catch(t){return}i.timestamp=Date.now();var s=o.payloadBuilders,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var h;if(l){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var d=h;try{(0,n.extend)(i,d(i),!1)}catch(t){console.error("Error in custom payload builder:",t.stack||t.toString())}}r.config.silent||u(t,e,i),a.length===r.config.sizeLimit?p("info","logger_max_buffer_length"):a.length<r.config.sizeLimit&&p(t,e,i)}}function _(t){if("undefined"!=typeof window&&t){try{JSON.stringify(t)}catch(t){return}var e=o.trackingBuilders,i=Array.isArray(e),r=0;for(e=i?e:e[Symbol.iterator]();;){var a;if(i){if(r>=e.length)break;a=e[r++]}else{if((r=e.next()).done)break;a=r.value}var l=a;try{(0,n.extend)(t,l(t),!1)}catch(t){console.error("Error in custom tracking builder:",t.stack||t.toString())}}u("debug","tracking",t),s.push(t)}}e.flush=d,e.track=_},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.extend=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(var n in t=t||{},e=e||{})e.hasOwnProperty(n)&&(!i&&t.hasOwnProperty(n)||(t[n]=e[n]));return t},e.isSameProtocol=o,e.isSameDomain=r,e.ajax=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).fireAndForget,l=void 0!==s&&s;return new n.ZalgoPromise(function(n){var s=window.XMLHttpRequest||window.ActiveXObject;if(window.XDomainRequest&&!r(e)){if(!o(e))return n();s=window.XDomainRequest}var c=new s("MSXML2.XMLHTTP.3.0");if(c.open(t.toUpperCase(),e,!0),"function"==typeof c.setRequestHeader)for(var u in c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/json"),i)i.hasOwnProperty(u)&&c.setRequestHeader(u,i[u]);l?n():c.onreadystatechange=function(){c.readyState>3&&n()},c.send(JSON.stringify(a).replace(/&/g,"%26"))})},e.promiseDebounce=function(t,e){var i={};return function(){var o=arguments;return i.timeout&&(clearTimeout(i.timeout),delete i.timeout),i.timeout=setTimeout(function(){var e=i.resolver,r=i.rejector;return delete i.promise,delete i.resolver,delete i.rejector,delete i.timeout,n.ZalgoPromise.resolve().then(function(){return t.apply(null,o)}).then(e,r)},e),i.promise=i.promise||new n.ZalgoPromise(function(t,e){i.resolver=t,i.rejector=e}),i.promise}},e.onWindowReady=function(){return new n.ZalgoPromise(function(t){"undefined"!=typeof document&&"complete"===document.readyState&&t(),window.addEventListener("load",t)})},e.safeInterval=function(t,e){var i=void 0;return function n(){i=setTimeout(function(){t(),n()},e)}(),{cancel:function(){clearTimeout(i)}}},e.uniqueID=function(){var t="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return t.charAt(Math.floor(Math.random()*t.length))})},e.isIE=function(){return Boolean(window.document.documentMode)};var n=i(4);function o(t){return window.location.protocol===t.split("/")[0]}function r(t){var e=t.match(/https?:\/\/[^/]+/);return!e||e[0]===window.location.protocol+"//"+window.location.host}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(5);Object.defineProperty(e,"ZalgoPromise",{enumerable:!0,get:function(){return n.ZalgoPromise}})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ZalgoPromise=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(6),r=i(7),a=i(8);var s=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n=void 0,o=void 0,r=!1,a=!1,s=!1;try{e(function(t){s?i.resolve(t):(r=!0,n=t)},function(t){s?i.reject(t):(a=!0,o=t)})}catch(t){return void this.reject(t)}s=!0,r?this.resolve(n):a&&this.reject(o)}}return n(t,[{key:"resolve",value:function(t){if(this.resolved||this.rejected)return this;if((0,o.isPromise)(t))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=t,this.dispatch(),this}},{key:"reject",value:function(t){var e=this;if(this.resolved||this.rejected)return this;if((0,o.isPromise)(t))throw new Error("Can not reject promise with another promise");if(!t){var i=t&&"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t);t=new Error("Expected reject to be called with Error, got "+i)}return this.rejected=!0,this.error=t,this.errorHandled||setTimeout(function(){e.errorHandled||(0,r.dispatchPossiblyUnhandledError)(t)},1),this.dispatch(),this}},{key:"asyncReject",value:function(t){this.errorHandled=!0,this.reject(t)}},{key:"dispatch",value:function(){var e=this,i=this.dispatching,n=this.resolved,r=this.rejected,s=this.handlers;if(!i&&(n||r)){this.dispatching=!0,(0,a.getGlobal)().activeCount+=1;for(var l=function(i){var a=s[i],l=a.onSuccess,c=a.onError,u=a.promise,h=void 0;if(n)try{h=l?l(e.value):e.value}catch(t){return u.reject(t),"continue"}else if(r){if(!c)return u.reject(e.error),"continue";try{h=c(e.error)}catch(t){return u.reject(t),"continue"}}h instanceof t&&(h.resolved||h.rejected)?(h.resolved?u.resolve(h.value):u.reject(h.error),h.errorHandled=!0):(0,o.isPromise)(h)?h instanceof t&&(h.resolved||h.rejected)?h.resolved?u.resolve(h.value):u.reject(h.error):h.then(function(t){u.resolve(t)},function(t){u.reject(t)}):u.resolve(h)},c=0;c<s.length;c++)l(c);s.length=0,this.dispatching=!1,(0,a.getGlobal)().activeCount-=1,0===(0,a.getGlobal)().activeCount&&t.flushQueue()}}},{key:"then",value:function(e,i){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for success handler");if(i&&"function"!=typeof i&&!i.call)throw new Error("Promise.then expected a function for error handler");var n=new t;return this.handlers.push({promise:n,onSuccess:e,onError:i}),this.errorHandled=!0,this.dispatch(),n}},{key:"catch",value:function(t){return this.then(void 0,t)}},{key:"finally",value:function(e){return this.then(function(i){return t.try(e).then(function(){return i})},function(i){return t.try(e).then(function(){throw i})})}},{key:"timeout",value:function(t,e){var i=this;if(this.resolved||this.rejected)return this;var n=setTimeout(function(){i.resolved||i.rejected||i.reject(e||new Error("Promise timed out after "+t+"ms"))},t);return this.then(function(t){return clearTimeout(n),t})}},{key:"toPromise",value:function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)}}],[{key:"resolve",value:function(e){return e instanceof t?e:(0,o.isPromise)(e)?new t(function(t,i){return e.then(t,i)}):(new t).resolve(e)}},{key:"reject",value:function(e){return(new t).reject(e)}},{key:"all",value:function(e){var i=new t,n=e.length,r=[];if(!n)return i.resolve(r),i;for(var a=function(a){var s=e[a];if(s instanceof t){if(s.resolved)return r[a]=s.value,n-=1,"continue"}else if(!(0,o.isPromise)(s))return r[a]=s,n-=1,"continue";t.resolve(s).then(function(t){r[a]=t,0===(n-=1)&&i.resolve(r)},function(t){i.reject(t)})},s=0;s<e.length;s++)a(s);return 0===n&&i.resolve(r),i}},{key:"hash",value:function(e){var i={};return t.all(Object.keys(e).map(function(n){return t.resolve(e[n]).then(function(t){i[n]=t})})).then(function(){return i})}},{key:"map",value:function(e,i){return t.all(e.map(i))}},{key:"onPossiblyUnhandledException",value:function(t){return(0,r.onPossiblyUnhandledException)(t)}},{key:"try",value:function(e,i,n){var o=void 0;try{o=e.apply(i,n||[])}catch(e){return t.reject(e)}return t.resolve(o)}},{key:"delay",value:function(e){return new t(function(t){setTimeout(t,e)})}},{key:"isPromise",value:function(e){return!!(e&&e instanceof t)||(0,o.isPromise)(e)}},{key:"flush",value:function(){var e=new t;return(0,a.getGlobal)().flushPromises.push(e),0===(0,a.getGlobal)().activeCount&&t.flushQueue(),e}},{key:"flushQueue",value:function(){var t=(0,a.getGlobal)().flushPromises;(0,a.getGlobal)().flushPromises=[];var e=t,i=Array.isArray(e),n=0;for(e=i?e:e[Symbol.iterator]();;){var o;if(i){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}o.resolve()}}}]),t}();e.ZalgoPromise=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=function(t){try{if(!t)return!1;if("undefined"!=typeof Promise&&t instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&t instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&t instanceof window.constructor)return!1;if("function"==typeof t.then)return!0}catch(t){return!1}return!1}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.dispatchPossiblyUnhandledError=function(t){if(-1!==(0,n.getGlobal)().dispatchedErrors.indexOf(t))return;(0,n.getGlobal)().dispatchedErrors.push(t),setTimeout(function(){throw t},1);for(var e=0;e<(0,n.getGlobal)().possiblyUnhandledPromiseHandlers.length;e++)(0,n.getGlobal)().possiblyUnhandledPromiseHandlers[e](t)},e.onPossiblyUnhandledException=function(t){return(0,n.getGlobal)().possiblyUnhandledPromiseHandlers.push(t),{cancel:function(){(0,n.getGlobal)().possiblyUnhandledPromiseHandlers.splice((0,n.getGlobal)().possiblyUnhandledPromiseHandlers.indexOf(t),1)}}};var n=i(8)},function(t,e){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobal=function(){var e=void 0;if("undefined"!=typeof window)e=window;else{if(void 0===t)throw new TypeError("Can not find global");e=t}var i=e.__zalgopromise__=e.__zalgopromise__||{};return i.flushPromises=i.flushPromises||[],i.activeCount=i.activeCount||0,i.possiblyUnhandledPromiseHandlers=i.possiblyUnhandledPromiseHandlers||[],i.dispatchedErrors=i.dispatchedErrors||[],i}}).call(e,function(){return this}())},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.addPayloadBuilder=function(t){i.push(t)},e.addMetaBuilder=function(t){n.push(t)},e.addTrackingBuilder=function(t){o.push(t)},e.addHeaderBuilder=function(t){r.push(t)};var i=e.payloadBuilders=[],n=e.metaBuilders=[],o=e.trackingBuilders=[],r=e.headerBuilders=[]},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.config={uri:"",prefix:"",initial_state_name:"init",flushInterval:6e5,debounceInterval:10,sizeLimit:300,silent:!1,heartbeat:!0,heartbeatConsoleLog:!0,heartbeatInterval:5e3,heartbeatTooBusy:!1,heartbeatTooBusyThreshold:1e4,logLevel:"warn",autoLog:["warn","error"],logUnload:!0,logPerformance:!0},e.logLevels=["error","warn","info","debug"]},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(t){if((0,o.extend)(n.config,t||{}),s)return;s=!0,n.config.logPerformance&&(0,r.initPerformance)();n.config.heartbeat&&(0,r.initHeartBeat)();n.config.logUnload&&(window.addEventListener("beforeunload",function(){(0,a.info)("window_beforeunload"),(0,a.immediateFlush)({fireAndForget:!0})}),window.addEventListener("unload",function(){(0,a.info)("window_unload"),(0,a.immediateFlush)({fireAndForget:!0})}));n.config.flushInterval&&setInterval(a.flush,n.config.flushInterval);window.beaverLogQueue&&(window.beaverLogQueue.forEach(function(t){(0,a.log)(t.level,t.event,t)}),delete window.beaverLogQueue)};var n=i(10),o=i(3),r=i(12),a=i(2),s=!1},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.reqTimer=e.clientTimer=void 0,e.now=l,e.reqStartElapsed=u,e.initHeartBeat=function(){var t=c(),e=0;(0,a.safeInterval)(function(){if(!(n.config.heartbeatMaxThreshold&&e>n.config.heartbeatMaxThreshold)){e+=1;var i=t.elapsed(),r=i-n.config.heartbeatInterval,a={count:e,elapsed:i};n.config.heartbeatTooBusy&&(a.lag=r,r>=n.config.heartbeatTooBusyThreshold&&(0,o.info)("toobusy",a,{noConsole:!n.config.heartbeatConsoleLog})),(0,o.info)("heartbeat",a,{noConsole:!n.config.heartbeatConsoleLog})}},n.config.heartbeatInterval)},e.initPerformance=function(){if(!s)return(0,o.info)("no_performance_data");(0,r.addPayloadBuilder)(function(){var t={};return t.client_elapsed=h.elapsed(),s&&(t.req_elapsed=d.elapsed()),t}),(0,a.onWindowReady)().then(function(){var t={};["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"].forEach(function(e){t[e]=parseInt(window.performance.timing[e],10)||0});var e=t.connectEnd-t.navigationStart;t.connectEnd&&Object.keys(t).forEach(function(i){var n=t[i];n&&(0,o.info)("timing_"+i,{client_elapsed:parseInt(n-t.connectEnd-(h.startTime-e),10),req_elapsed:parseInt(n-t.connectEnd,10)})}),(0,o.info)("timing",t),(0,o.info)("memory",window.performance.memory),(0,o.info)("navigation",window.performance.navigation),window.performance.getEntries&&window.performance.getEntries().forEach(function(t){["link","script","img","css"].indexOf(t.initiatorType)>-1&&(0,o.info)(t.initiatorType,t)})})};var n=i(10),o=i(2),r=i(9),a=i(3),s=window&&window.performance&&performance.now&&performance.timing&&performance.timing.connectEnd&&performance.timing.navigationStart&&Math.abs(performance.now()-Date.now())>1e3&&performance.now()-(performance.timing.connectEnd-performance.timing.navigationStart)>0;function l(){return s?performance.now():Date.now()}function c(t){return{startTime:t=void 0!==t?t:l(),elapsed:function(){return parseInt(l()-t,10)},reset:function(){t=l()}}}function u(){if(s){var t=window.performance.timing;return parseInt(t.connectEnd-t.navigationStart,10)}}var h=e.clientTimer=c(),d=e.reqTimer=c(u())},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.startTransition=d,e.endTransition=p,e.transition=function(t){d(),p(t)};var n=i(12),o=i(2),r=i(9),a=i(3),s=i(10),l=(0,a.uniqueID)(),c=(0,a.uniqueID)(),u=s.config.initial_state_name,h=void 0;function d(){h=(0,n.now)()}function p(t){h=h||(0,n.reqStartElapsed)();var e=(0,n.now)(),i=void 0;void 0!==h&&(i=parseInt(e-h,0));var r="transition_"+u+"_to_"+t;(0,o.info)(r,{duration:i}),(0,o.track)({transition:r,transition_time:i}),(0,o.immediateFlush)(),h=e,u=t,c=(0,a.uniqueID)()}(0,r.addPayloadBuilder)(function(){return{windowID:l,pageID:c}}),(0,r.addMetaBuilder)(function(){return{state:"ui_"+u}})}])},t.exports=i()});t.unwrapExports(Ln);var kn=t.createCommonjsModule(function(t){t.exports=Ln,t.exports.default=t.exports}),Dn="coordinates is undefined",Mn="blank latitude and longitude",Rn="blank latitude and longitude at item",Bn="missing place info",On="cannot find layer",Fn="invalid argument type",Un={},Nn=function(t){return function(e,i,n,o){void 0===i&&(i=""),void 0===n&&(n={}),void 0===o&&(o=!0);var r=window.location.href,a={"user-agent":navigator.userAgent,app_id:Un.APP_ID,function_name:e,url:r,message:i};Un.DEBUG&&(a.args=n),Un.LOGGING&&o&&t("mapmagic",a)}},jn={init:function(t,e,i){Un.APP_ID=t,Un.LOGGING=e,Un.DEBUG=i,kn.init({uri:"https://api.mapmagic.co.th/log/v1/mapmagic-gl/emit-log",flushInterval:5e3,heartbeat:!1,silent:!0}),Un.logger=kn},debug:Nn(kn.debug),info:Nn(kn.info),warn:Nn(kn.warn),error:Nn(kn.error),getDebug:function(){return Un.DEBUG},getLogging:function(){return Un.LOGGING}};Object.freeze(jn);var qn=t.createCommonjsModule(function(t){!function(e){var i=/^\s+/,n=/\s+$/,o=0,r=e.round,a=e.min,s=e.max,l=e.random;function c(t,l){if(l=l||{},(t=t||"")instanceof c)return t;if(!(this instanceof c))return new c(t,l);var u=function(t){var o={r:0,g:0,b:0},r=1,l=null,c=null,u=null,h=!1,d=!1;"string"==typeof t&&(t=function(t){t=t.replace(i,"").replace(n,"").toLowerCase();var e,o=!1;if(I[t])t=I[t],o=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=N.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=N.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=N.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=N.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=N.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=N.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=N.hex8.exec(t))return{r:k(e[1]),g:k(e[2]),b:k(e[3]),a:B(e[4]),format:o?"name":"hex8"};if(e=N.hex6.exec(t))return{r:k(e[1]),g:k(e[2]),b:k(e[3]),format:o?"name":"hex"};if(e=N.hex4.exec(t))return{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),a:B(e[4]+""+e[4]),format:o?"name":"hex8"};if(e=N.hex3.exec(t))return{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),format:o?"name":"hex"};return!1}(t));"object"==typeof t&&(j(t.r)&&j(t.g)&&j(t.b)?(p=t.r,f=t.g,_=t.b,o={r:255*A(p,255),g:255*A(f,255),b:255*A(_,255)},h=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):j(t.h)&&j(t.s)&&j(t.v)?(l=M(t.s),c=M(t.v),o=function(t,i,n){t=6*A(t,360),i=A(i,100),n=A(n,100);var o=e.floor(t),r=t-o,a=n*(1-i),s=n*(1-r*i),l=n*(1-(1-r)*i),c=o%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(t.h,l,c),h=!0,d="hsv"):j(t.h)&&j(t.s)&&j(t.l)&&(l=M(t.s),u=M(t.l),o=function(t,e,i){var n,o,r;function a(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=A(t,360),e=A(e,100),i=A(i,100),0===e)n=o=r=i;else{var s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;n=a(l,s,t+1/3),o=a(l,s,t),r=a(l,s,t-1/3)}return{r:255*n,g:255*o,b:255*r}}(t.h,l,u),h=!0,d="hsl"),t.hasOwnProperty("a")&&(r=t.a));var p,f,_;return r=z(r),{ok:h,format:t.format||d,r:a(255,s(o.r,0)),g:a(255,s(o.g,0)),b:a(255,s(o.b,0)),a:r}}(t);this._originalInput=t,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=r(100*this._a)/100,this._format=l.format||u.format,this._gradientType=l.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=u.ok,this._tc_id=o++}function u(t,e,i){t=A(t,255),e=A(e,255),i=A(i,255);var n,o,r=s(t,e,i),l=a(t,e,i),c=(r+l)/2;if(r==l)n=o=0;else{var u=r-l;switch(o=c>.5?u/(2-r-l):u/(r+l),r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4}n/=6}return{h:n,s:o,l:c}}function h(t,e,i){t=A(t,255),e=A(e,255),i=A(i,255);var n,o,r=s(t,e,i),l=a(t,e,i),c=r,u=r-l;if(o=0===r?0:u/r,r==l)n=0;else{switch(r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4}n/=6}return{h:n,s:o,v:c}}function d(t,e,i,n){var o=[D(r(t).toString(16)),D(r(e).toString(16)),D(r(i).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(t,e,i,n){return[D(R(n)),D(r(t).toString(16)),D(r(e).toString(16)),D(r(i).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.s-=e/100,i.s=L(i.s),c(i)}function _(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.s+=e/100,i.s=L(i.s),c(i)}function m(t){return c(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.l+=e/100,i.l=L(i.l),c(i)}function v(t,e){e=0===e?0:e||10;var i=c(t).toRgb();return i.r=s(0,a(255,i.r-r(-e/100*255))),i.g=s(0,a(255,i.g-r(-e/100*255))),i.b=s(0,a(255,i.b-r(-e/100*255))),c(i)}function y(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.l-=e/100,i.l=L(i.l),c(i)}function x(t,e){var i=c(t).toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,c(i)}function b(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function w(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+120)%360,s:e.s,l:e.l}),c({h:(i+240)%360,s:e.s,l:e.l})]}function E(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+90)%360,s:e.s,l:e.l}),c({h:(i+180)%360,s:e.s,l:e.l}),c({h:(i+270)%360,s:e.s,l:e.l})]}function T(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+72)%360,s:e.s,l:e.l}),c({h:(i+216)%360,s:e.s,l:e.l})]}function S(t,e,i){e=e||6,i=i||30;var n=c(t).toHsl(),o=360/i,r=[c(t)];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,r.push(c(n));return r}function C(t,e){e=e||6;for(var i=c(t).toHsv(),n=i.h,o=i.s,r=i.v,a=[],s=1/e;e--;)a.push(c({h:n,s:o,v:r})),r=(r+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,i,n,o=this.toRgb();return t=o.r/255,i=o.g/255,n=o.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=z(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,n,o){var a=[D(r(t).toString(16)),D(r(e).toString(16)),D(r(i).toString(16)),D(R(n))];if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*A(this._r,255))+"%",g:r(100*A(this._g,255))+"%",b:r(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*A(this._r,255))+"%, "+r(100*A(this._g,255))+"%, "+r(100*A(this._b,255))+"%)":"rgba("+r(100*A(this._r,255))+"%, "+r(100*A(this._g,255))+"%, "+r(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var o=c(t);i="#"+p(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:M(t[n]));t=i}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(t,e,i){i=0===i?0:i||50;var n=c(t).toRgb(),o=c(e).toRgb(),r=i/100;return c({r:(o.r-n.r)*r+n.r,g:(o.g-n.g)*r+n.g,b:(o.b-n.b)*r+n.b,a:(o.a-n.a)*r+n.a})},c.readability=function(t,i){var n=c(t),o=c(i);return(e.max(n.getLuminance(),o.getLuminance())+.05)/(e.min(n.getLuminance(),o.getLuminance())+.05)},c.isReadable=function(t,e,i){var n,o,r=c.readability(t,e);switch(o=!1,(n=function(t){var e,i;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==i&&"large"!==i&&(i="small");return{level:e,size:i}}(i)).level+n.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},c.mostReadable=function(t,e,i){var n,o,r,a,s=null,l=0;o=(i=i||{}).includeFallbackColors,r=i.level,a=i.size;for(var u=0;u<e.length;u++)(n=c.readability(t,e[u]))>l&&(l=n,s=c(e[u]));return c.isReadable(t,s,{level:r,size:a})||!o?s:(i.includeFallbackColors=!1,c.mostReadable(t,["#fff","#000"],i))};var I=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=c.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(I);function z(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function A(t,i){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=a(i,s(0,parseFloat(t))),n&&(t=parseInt(t*i,10)/100),e.abs(t-i)<1e-6?1:t%i/parseFloat(i)}function L(t){return a(1,s(0,t))}function k(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1&&(t=100*t+"%"),t}function R(t){return e.round(255*parseFloat(t)).toString(16)}function B(t){return k(t)/255}var O,F,U,N=(F="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",U="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function j(t){return!!N.CSS_UNIT.exec(t)}t.exports?t.exports=c:window.tinycolor=c}(Math)}),Zn=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Zn.prototype.onAdd=function(t){this._map=t,this._container=i.create("div","mapboxgl-ctrl");var e=i.create("a","mapmagic-ctrl-logo");return e.target="_blank",e.href="https://www.mapmagic.co.th/",e.setAttribute("aria-label","MapMagic Logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Zn.prototype.onRemove=function(){i.remove(this._container),this._map.off("resize",this._updateCompact)},Zn.prototype.getDefaultPosition=function(){return"bottom-left"},Zn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Zn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}},Zn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapmagicgl-compact"):e.classList.remove("mapmagicgl-compact")}};var Gn=function(e){void 0===e&&(e=function(){});var i=new t.window.XMLHttpRequest;return i.responseType="json",i.open("GET","https://api.mapmagic.co.th/log/v1/mapmagic-gl/log-config",!0),i.onreadystatechange=function(){if(4===i.readyState){var t={};t=i.response?i.response:{isDebug:!1,isLogging:!1},e(t)}},i.send(),i},Vn=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},Wn={addPolygon:!0,addLine:!0},Hn=function(t){var e=t.id||Vn();t.coordinates||jn.warn(Hn.name,Dn,{},Wn.addPolygon);var i=t.style||{fillColor:"#888888",fillOpacity:.4};this.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[t.coordinates]}}]}});try{this.addLayer({id:"boundary",type:"fill",source:e,paint:{"fill-color":i.fillColor||"#888888","fill-opacity":i.fillOpacity||.4},filter:["==","$type","Polygon"]}),jn.getDebug()?jn.debug(Hn.name,null,t):jn.info(Hn.name,null,{},Wn.addPolygon)}catch(t){jn.error(Hn.name,t.message,{},Wn.addPolygon)}Wn.addPolygon=!1},Xn=function(t){var e=t.id||Vn();t.coordinates||jn.warn(Xn.name,Dn);var i=t.style||{lineWidth:3,color:"#FF1233"};try{this.addLayer({id:e,type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{color:i.color||"#FF1233"},geometry:{type:"LineString",coordinates:t.coordinates}}]}},paint:{"line-width":i.lineWidth||3,"line-color":{type:"identity",property:"color"}}}),jn.getDebug()?jn.debug(Xn.name,null,t):jn.info(Xn.name,null,{},Wn.addLine)}catch(t){jn.error(Xn.name,t.message)}Wn.addLine=!1},Kn={addPolygon:Hn,addLine:Xn},Yn=0,Jn="  + Scroll ",Qn=" Ctrl + Scroll ",$n=function(t){void 0===t&&(t=null);var e=document.getElementById("overlayMapmagic"),i=document.getElementsByClassName("mapboxgl-canvas")[0];e.innerHTML=t,e.style.zIndex=1,e.style.opacity=.5,i.style.zIndex=-1,e.style.transitionDuration="0.5s"},to=function(){var t=document.getElementById("overlayMapmagic"),e=document.getElementsByClassName("mapboxgl-canvas")[0];t.style.zIndex=-1,t.style.opacity=0,e.style.zIndex=1,e.style.transition="z-index 0.3s",t.style.transitionDuration="0.3s"},eo=function(){if(1===Yn){var t=-1!=navigator.appVersion.indexOf("Win")?Qn:Jn;$n(t)}},io=function(t){jn.info(io.name),function(t){t.dragPan._ignoreEvent=function(e){return!(!t.boxZoom||!t.boxZoom.isActive())||!(!t.dragRotate||!t.dragRotate.isActive())||(e.touches?2!==e.touches.length:!!e.ctrlKey||"mousemove"!==e.type&&e.button&&0!==e.button)}}(t),function(t){var e=t._canvasContainer.offsetParent.id;document.getElementsByClassName("mapboxgl-canvas")[0].style.zIndex=1;var i=document.createElement("div");i.setAttribute("id","overlayMapmagic"),i.style.height="100%",i.style.width="100%",i.style.backgroundColor="black",i.style.color="white",i.style.opacity=0,i.style.fontSize="1.3rem",i.style.display="flex",i.style.flexDirection="row",i.style.justifyContent="center",i.style.alignItems="center",document.getElementById(e).appendChild(i)}(t),function(t,e){var i=document.getElementById("overlayMapmagic");t.on("touchstart",function(i){i.points.length<2?($n(e),t.dragPan.disable()):(to(),t.dragPan.enable())}),i.addEventListener("touchstart",function(i){i.touches.length<2?$n(e):(to(),t.dragPan.enable())}),t.on("touchend",function(){to()})}(t," 2 "),function(t){var e=document.getElementsByClassName("mapboxgl-canvas")[0];if(-1!=navigator.appVersion.indexOf("Win")||-1!=navigator.appVersion.indexOf("Mac")){t.scrollZoom.disable();var i=document.getElementById("overlayMapmagic");document.addEventListener("keydown",function(e){-1!=navigator.appVersion.indexOf("Win")?e.ctrlKey&&(Yn=1,to(),t.scrollZoom.enable()):-1!=navigator.appVersion.indexOf("Mac")&&e.metaKey&&(Yn=1,to(),t.scrollZoom.enable())}),document.addEventListener("scroll",eo),e.addEventListener("mouseover",function(){Yn=1}),i.addEventListener("mouseout",function(){Yn=0,to()}),document.body.addEventListener("keyup",function(){Yn=0,t.scrollZoom.disable()})}}(t)},no={disabled:io},oo={addMarker:!0,addMarkerArray:!0,addMarkerImage:!0,addMarkerImageArray:!0,addMarkerFilter:!0,setMarker:!0},ro=function(t){var e=this;void 0===t&&(t={}),t.lng&&t.lat||jn.warn(ro.name,Mn,{},oo.addMarker);var i=t.id||Vn(),n={type:"FeatureCollection",features:[{type:"Feature",properties:{description:t.description||""},geometry:{type:"Point",coordinates:[t.lng,t.lat]}}]},o={id:t.id||"",lat:t.lat||"",lng:t.lng||"",size:t.size||1,offset:t.offset||[0,0]};try{if(t.onClick&&(Object.assign(o,{onClick:void 0!==t.onClick}),this.on("click",i,t.onClick)),t.draggable){var r,a;Object.assign(o,{draggable:t.draggable});var s=this.getCanvasContainer(),l=function(t){if(r){var o=t.lngLat;s.style.cursor="grabbing",n.features[0].geometry.coordinates=[o.lng,o.lat],e.getSource(i).setData(n)}},c=function(i){r&&(t.onDragEnd&&r&&t.onDragEnd(i),s.style.cursor="",r=!1,e.off("mousemove",l))};this.on("mouseenter",i,function(){s.style.cursor="move",a=!0,this.dragPan.disable()}),this.on("mouseleave",i,function(){s.style.cursor="",a=!1,this.dragPan.enable()}),this.on("mousedown",function(){a&&(r=!0,s.style.cursor="grab",e.on("mousemove",l),e.once("mouseup",c))})}this.addLayer({id:i,type:"symbol",source:{type:"geojson",data:n},layout:{"icon-image":t.icon||"mmg_pin_1_orange","icon-allow-overlap":!0,"icon-size":t.size||1,"icon-offset":t.offset||[0,0]}}),t.popup&&(Object.assign(t.popup,{id:i}),this.addPopup(t.popup)),jn.getDebug()?jn.debug(ro.name,"",o,oo.addMarker):jn.info(ro.name,"",{},oo.addMarker)}catch(t){jn.error(ro.name,t.message,{},oo.addMarker),console.log(t)}oo.addMarker=!1},ao=function(t){void 0===t&&(t={});var e=t.id||Vn();Array.isArray(t.marker)||jn.warn(ao.name,Fn,{},oo.addMarkerArray);var i={id:e,markers:t.marker},n=t.marker.map(function(t,e){return t.lng&&t.lat||jn.warn(ao.name,Rn+" "+e,{},oo.addMarkerArray),{type:"Feature",properties:{description:t.description||"",icon:"mmg_pin_1_orange"},geometry:{type:"Point",coordinates:[t.lng,t.lat]}}});try{this.addLayer({id:e,type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:n}},layout:{"icon-image":t.icon||"mmg_pin_1_orange","icon-allow-overlap":!0}}),jn.getDebug()?jn.debug(ao.name,"",i):jn.info(ao.name,"",{},oo.addMarkerArray)}catch(t){jn.error(ao.name,t.message,{},oo.addMarkerArray)}oo.addMarkerArray=!1},so=function(t){var e=this;void 0===t&&(t={});var i=t.id,n=t.url,o=t.description,r=t.lat,a=t.lng,s=t.size,l=t.offset,c=t.onClick;r&&a||jn.warn(so.name,Mn,{},oo.addMarkerImage);var u=this,h=i||Vn(),d={id:h,lat:r,lng:a,img_url:n,size:s||1,offset:l||[0,0]};u.loadImage(n||"",function(t,i){if(t)throw jn.error(so.name,t.message,{},oo.addMarkerImage),t;try{u.addImage(h,i),c&&(Object.assign(d,{onClick:void 0!==c}),e.on("click",h,c)),u.addLayer({id:h,type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{description:o||"",icon:"theatre"},geometry:{type:"Point",coordinates:[a,r]}}]}},layout:{"icon-image":h,"icon-size":s||1,"icon-offset":l||[0,0]}}),jn.getDebug()?jn.debug(so.name,null,d):jn.info(so.name,null,{},oo.addMarkerImage)}catch(t){jn.error(so.name,t.message,{},oo.addMarkerImage)}}),oo.addMarkerImage=!1},lo=function(t){void 0===t&&(t={});var e=t.id,i=t.url,n=t.size,o=t.offset,r=t.places,a=this,s=e||Vn(),l={img_url:i,size:n,offset:o,places:r},c=r.map(function(t,e){return t.lng&&t.lat||jn.warn(lo.name,Rn+" "+e,{},oo.addMarkerImageArray),{type:"Feature",properties:{description:t.description||"",icon:"theatre"},geometry:{type:"Point",coordinates:[t.lng,t.lat]}}});a.loadImage(i||"",function(t,e){if(t)throw jn.error(lo.name,t.message,{},oo.addMarkerImageArray),t;try{a.addImage(s,e),a.addLayer({id:s,type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:c}},layout:{"icon-image":s,"icon-size":n||1,"icon-offset":o||[0,0]}}),jn.getDebug()?jn.debug(lo.name,null,l):jn.info(lo.name,null,{},oo.addMarkerImageArray)}catch(t){jn.error(lo.name,t.message,{},oo.addMarkerImageArray)}oo.addMarkerImageArray=!1})},co=function(t){void 0===t&&(t={});var e={type:"FeatureCollection",features:t.places};t.places||jn.warn(co.name,Bn,{},oo.addMarkerFilter),map.addSource("places",{type:"geojson",data:e});var i={places:t.places};e.features.forEach(function(t){var e=t.properties.icon,n=t.properties.label,o="poi-"+n;if(map.getLayer(o))jn.error(co.name,On,{},oo.addMarkerFilter);else{try{map.addLayer({id:o,type:"symbol",source:"places",layout:{"icon-image":e,"icon-allow-overlap":!0,"text-field":n,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-transform":"uppercase","text-letter-spacing":.05,"text-offset":[0,1.5]},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2},filter:["==","label",n]}),jn.getDebug()?jn.debug(co.name,null,i):jn.info(co.name,null,{},oo.addMarkerFilter)}catch(t){jn.error(co.name,t.message,{},oo.addMarkerFilter)}layerIDs.push(o)}}),filterInput.addEventListener("keyup",function(t){var e=t.target.value.trim().toLowerCase();layerIDs.forEach(function(t){map.setLayoutProperty(t,"visibility",t.indexOf(e)>-1?"visible":"none")})}),oo.addMarkerFilter=!1},uo={addMarker:ro,addMarkerArray:ao,addMarkerImage:so,addMarkerImageArray:lo,addMarkerFilter:co,setMarker:function(t){void 0===t&&(t={});var e=t.id,i=t.lng,n=t.lat;n&&i||jn.warn(so.name,Mn,{},oo.setMarker);var o={type:"Point",coordinates:[i,n]};try{this.getSource(e).setData(o),jn.getDebug()?jn.debug("mkr-006",null,t):jn.info("mkr-006",null,t,oo.setMarker)}catch(t){jn.error("mkr-006",t.message,{},oo.setMarker)}oo.setMarker=jn.getDebug()}};function ho(t,e,i){if(t=new N(t.lng,t.lat),e){var n=new N(t.lng-360,t.lat),o=new N(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}var po={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function fo(t,e,i){var n=t.classList;for(var o in po)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e)}var _o={closeButton:!0,closeOnClick:!0,className:""},mo=function(e){function n(i){e.call(this),this.options=t.extend(Object.create(_o),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=N.convert(t),this._pos=null,this._update(),this},n.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},n.prototype.setHTML=function(e){var i,n=t.window.document.createDocumentFragment(),o=t.window.document.createElement("body");for(o.innerHTML=e;i=o.firstChild;)n.appendChild(i);return this.setDOMContent(n)},n.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},n.prototype._createContent=function(){this._content&&i.remove(this._content),this._content=i.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=i.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},n.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=i.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=i.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=ho(this._lngLat,this._pos,this._map.transform));var n=this._pos=this._map.project(this._lngLat),o=this.options.anchor,r=function e(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.Point(0,0),top:new t.Point(0,i),"top-left":new t.Point(n,n),"top-right":new t.Point(-n,n),bottom:new t.Point(0,-i),"bottom-left":new t.Point(n,-n),"bottom-right":new t.Point(-n,-n),left:new t.Point(i,0),right:new t.Point(-i,0)}}if(i instanceof t.Point||Array.isArray(i)){var o=t.Point.convert(i);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.Point.convert(i.center||[0,0]),top:t.Point.convert(i.top||[0,0]),"top-left":t.Point.convert(i["top-left"]||[0,0]),"top-right":t.Point.convert(i["top-right"]||[0,0]),bottom:t.Point.convert(i.bottom||[0,0]),"bottom-left":t.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(i["bottom-right"]||[0,0]),left:t.Point.convert(i.left||[0,0]),right:t.Point.convert(i.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=n.y+r.bottom.y<l?["top"]:n.y>this._map.transform.height-l?["bottom"]:[],n.x<s/2?a.push("left"):n.x>this._map.transform.width-s/2&&a.push("right"),o=0===a.length?"bottom":a.join("-")}var c=n.add(r[o]).round();i.setTransform(this._container,po[o]+" translate("+c.x+"px,"+c.y+"px)"),fo(this._container,o,"popup")}},n.prototype._onClickClose=function(){this.remove()},n}(t.Evented);var go=!0,vo=function(t){void 0===t&&(t={});var e=t.id||"places"+(Math.floor(1e3*Math.random())+1),i=this.getSource(e)._data;this.getSource(e).setData(i);var n=t.action||"show";if("show"===n)try{!function(t,e){new mo({closeOnClick:!1}).setLngLat(e.features[0].geometry.coordinates).setHTML(e.features[0].properties.description).addTo(t)}(this,i),jn.getDebug()?jn.debug(vo.name,null,t):jn.info(vo.name,null,{},go)}catch(t){jn.error(vo.name,t.message)}else if("click"===n)try{!function(t,e,i){t.on("click",e,function(t){new mo({anchor:i.anchor||"",offset:i.offset||[0,0]}).setLngLat(t.features[0].geometry.coordinates).setHTML(t.features[0].properties.description).addTo(this)}),t.on("mouseenter",e,function(){this.getCanvas().style.cursor="pointer"}),t.on("mouseleave",e,function(){this.getCanvas().style.cursor=""})}(this,e,t),jn.getDebug()?jn.debug(vo.name,null,t):jn.info(vo.name,null,{},go)}catch(t){jn.error(vo.name,t.message)}else if("hover"===n)try{!function(t,e,i){var n=new mo({closeButton:!1,closeOnClick:!1,anchor:i.anchor||"",offset:i.offset||[0,0]});t.on("mouseenter",e,function(t){this.getCanvas().style.cursor="pointer",n.setLngLat(t.features[0].geometry.coordinates).setHTML(t.features[0].properties.description).addTo(this)}),t.on("mouseleave",e,function(){this.getCanvas().style.cursor="",n.remove()})}(this,e,t),jn.getDebug()?jn.debug(vo.name,null,t):jn.info(vo.name,null,{},go)}catch(t){jn.error(vo.name,t.message)}go=!1},yo={addPopup:vo},xo=function(t){void 0===t&&(t={});try{t.layers.forEach(function(t){var e=t.layer,i=t.color;i||jn.warn(xo.name,"missing color!"),e||jn.warn(xo.name,On);var n=null,o=[];"street"==e?(n="line-color",o.push("tn-road_class1"),o.push("tn-road_class2"),o.push("tn-road_class2"),o.push("tn-road_class3")):"water"==e?(n="fill-color",o.push("water"),o.push("tn-seath"),o.push("tn-water_polygon_4"),o.push("tn-water_polygon_3"),o.push("tn-water_polygon_2"),o.push("tn-water_polygon_1")):"province"==e?(n="fill-color",o.push("tn-land_province")):"area"==e?(n="fill-color",o.push("tn-area_gray"),o.push("tn-area_down")):"building"==e&&(n="fill-color",o.push("tn-area_bldg")),o.forEach(function(t){map.setPaintProperty(t,n,i)})}),jn.info(xo.name,null,t)}catch(t){jn.error(xo.name,t.message)}},bo={initColorMap:xo},wo=function(t){function e(e){var i=this,n=e.style;e.style=void 0,e.zoom||(e.zoom=9);var o=[100.49,13.72];if(e.center&&e.center.lng&&e.center.lat){var r=e.center;o=[r.lng,r.lat]}e.center=o,t.call(this,e),this.appId=e.appId||e.app_id,Gn(function(t){jn.init(i.appId,t.isLogging,t.isDebug)}),this.styleURL=e.styleURL||e.style_url,this.apiKey=e.apiKey||e.api_key,this.options=e;var a=this.getStyleURL(n,e);this.setStyle(a),this.on("style.load",this.setLogo),!0===e.protectScroll&&no.disabled(this),e.navigationCtrl&&this.addControl(new zn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyleURL=function(t,e){var i;(void 0===t&&(t=null),this.styleURL)?i=this.styleURL:(i="https://api.mapmagic.co.th/v2/get-map-style/"+(t||(e.style?e.style:"ivory"))+"?app_id="+this.appId+"&api_key="+this.apiKey+"&lang="+e.lang,An(this.appId||"error",this.apiKey||"error"));return i},e.prototype.setStyle=function(e,i){var n;void 0===i&&(i={});n=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/.exec(e)?e:this.getStyleURL(e,i),t.prototype.setStyle.call(this,n,i)},e.prototype.setLogo=function(t){var e=t.style;document.getElementsByClassName("mapmagic-ctrl-logo")[0]||this.addControl(new Zn,"bottom-left");var i=e.stylesheet.layers[0].paint["background-color"];this.logoSrc=qn(i).isLight()?"":"dark";var n=document.getElementsByClassName("mapmagic-ctrl-logo")[0];n&&(n.className="mapmagic-ctrl-logo "+this.logoSrc)},e}(Cn);wo.prototype=t.extend(wo.prototype,uo,yo,bo,Kn);var Eo,To=function(e){function n(n){if(e.call(this),(arguments[0]instanceof t.window.HTMLElement||2===arguments.length)&&(n=t.extend({element:n},arguments[1])),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",n&&n.element)this._element=n.element,this._offset=t.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div");var o=i.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var r=i.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd");var a=i.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var u=c[l],h=i.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",u.rx),h.setAttributeNS(null,"ry",u.ry),s.appendChild(h)}var d=i.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var p=i.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(p);var f=i.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var _=i.createNS("http://www.w3.org/2000/svg","path");_.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(_);var m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var g=i.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=i.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var y=i.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),g.appendChild(v),g.appendChild(y),a.appendChild(s),a.appendChild(d),a.appendChild(f),a.appendChild(m),a.appendChild(g),o.appendChild(a),this._element.appendChild(o),this._offset=t.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=N.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},n.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},n.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=ho(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),i.setTransform(this._element,po[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),fo(this._element,this._anchor,"marker"))},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},n.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n}(t.Evented),So={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var Co=function(e){function n(i){e.call(this),this.options=t.extend({},So,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(e){var n;return this._map=e,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Eo?n(Eo):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){Eo="denied"!==t.state,n(Eo)}):(Eo=!!t.window.navigator.geolocation,n(Eo)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),i.remove(this._container),this._map=void 0},n.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},n.prototype._updateCamera=function(t){var e=new N(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},n.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},n.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(e){var n=this;!1!==e?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=i.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new To(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")))})):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},n.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(t.Evented),Io={maxWidth:100,unit:"metric"},Po=function(e){this.options=t.extend({},Io,e),t.bindAll(["_onMove","setUnit"],this)};function zo(t,e,i){var n,o,r,a,s,l,c=i&&i.maxWidth||100,u=t._container.clientHeight/2,h=(n=t.unproject([0,u]),o=t.unproject([c,u]),r=Math.PI/180,a=n.lat*r,s=o.lat*r,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var d=3.2808*h;if(d>5280)Ao(e,c,d/5280,"mi");else Ao(e,c,d,"ft")}else if(i&&"nautical"===i.unit){Ao(e,c,h/1852,"nm")}else Ao(e,c,h,"m")}function Ao(t,e,i,n){var o,r,a,s=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),l=s/i;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=s+n}Po.prototype.getDefaultPosition=function(){return"bottom-left"},Po.prototype._onMove=function(){zo(this._map,this._container,this.options)},Po.prototype.onAdd=function(t){return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Po.prototype.onRemove=function(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Po.prototype.setUnit=function(t){this.options.unit=t,zo(this._map,this._container,this.options)};var Lo=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Lo.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=i.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Lo.prototype.onRemove=function(){i.remove(this._container),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Lo.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Lo.prototype._setupUI=function(){var e=this._fullscreenButton=i.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Lo.prototype._isFullscreen=function(){return this._fullscreen},Lo.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Lo.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},Ye.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!f(e);e=_(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,function(t,e){n._request=null,t?(n.fire("error","APP ID or API Key is invalid"),An(null,null,!1),n.fire("error",{error:t})):e&&n._load(e,o)})};var ko={version:"1.2.2",supported:e,setRTLTextPlugin:t.setRTLTextPlugin,Map:wo,NavigationControl:zn,GeolocateControl:Co,AttributionControl:xn,ScaleControl:Po,FullscreenControl:Lo,Popup:mo,Marker:To,Style:Ye,LngLat:N,LngLatBounds:j,Point:t.Point,Evented:t.Evented,config:h,get accessToken(){return h.ACCESS_TOKEN},set accessToken(t){h.ACCESS_TOKEN=t},get workerCount(){return Yt.workerCount},set workerCount(t){Yt.workerCount=t},workerUrl:""};return ko});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvdXRpbC9kb20uanMiLCIuLi8uLi8uLi9zcmMvdXRpbC9jb25maWcuanMiLCIuLi8uLi8uLi9zcmMvdXRpbC9tYXBib3guanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL2ltYWdlX21hbmFnZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hcGJveC90aW55LXNkZi9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZ2x5cGhfbWFuYWdlci5qcyIsIi4uLy4uLy4uL3NyYy9zdHlsZS9saWdodC5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvbGluZV9hdGxhcy5qcyIsIi4uLy4uLy4uL3NyYy91dGlsL2Rpc3BhdGNoZXIuanMiLCIuLi8uLi8uLi9zcmMvZ2VvL2xuZ19sYXQuanMiLCIuLi8uLi8uLi9zcmMvZ2VvL2xuZ19sYXRfYm91bmRzLmpzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS90aWxlX2JvdW5kcy5qcyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlLmpzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS9yYXN0ZXJfdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi9zcmMvc291cmNlL3Jhc3Rlcl9kZW1fdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi9zcmMvc291cmNlL2dlb2pzb25fc291cmNlLmpzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS9pbWFnZV9zb3VyY2UuanMiLCIuLi8uLi8uLi9zcmMvc291cmNlL3ZpZGVvX3NvdXJjZS5qcyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvY2FudmFzX3NvdXJjZS5qcyIsIi4uLy4uLy4uL3NyYy9zb3VyY2Uvc291cmNlLmpzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS9xdWVyeV9mZWF0dXJlcy5qcyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9jYWNoZS5qcyIsIi4uLy4uLy4uL3NyYy9nbC9pbmRleF9idWZmZXIuanMiLCIuLi8uLi8uLi9zcmMvZ2wvdmVydGV4X2J1ZmZlci5qcyIsIi4uLy4uLy4uL3NyYy9nbC92YWx1ZS5qcyIsIi4uLy4uLy4uL3NyYy9nbC9mcmFtZWJ1ZmZlci5qcyIsIi4uLy4uLy4uL3NyYy9nbC9kZXB0aF9tb2RlLmpzIiwiLi4vLi4vLi4vc3JjL2dsL3N0ZW5jaWxfbW9kZS5qcyIsIi4uLy4uLy4uL3NyYy9nbC9jb2xvcl9tb2RlLmpzIiwiLi4vLi4vLi4vc3JjL2dsL2N1bGxfZmFjZV9tb2RlLmpzIiwiLi4vLi4vLi4vc3JjL2dsL2NvbnRleHQuanMiLCIuLi8uLi8uLi9zcmMvc291cmNlL3NvdXJjZV9jYWNoZS5qcyIsIi4uLy4uLy4uL3NyYy91dGlsL3dvcmtlcl9wb29sLmpzIiwiLi4vLi4vLi4vc3JjL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzIiwiLi4vLi4vLi4vc3JjL3N0eWxlLXNwZWMvZGVyZWYuanMiLCIuLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9kaWZmLmpzIiwiLi4vLi4vLi4vc3JjL3N5bWJvbC9ncmlkX2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL3N5bWJvbC9wcm9qZWN0aW9uLmpzIiwiLi4vLi4vLi4vc3JjL3N5bWJvbC9jb2xsaXNpb25faW5kZXguanMiLCIuLi8uLi8uLi9zcmMvc3ltYm9sL3BsYWNlbWVudC5qcyIsIi4uLy4uLy4uL3NyYy9zdHlsZS9wYXVzZWFibGVfcGxhY2VtZW50LmpzIiwiLi4vLi4vLi4vc3JjL3N5bWJvbC9jcm9zc190aWxlX3N5bWJvbF9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9zdHlsZS9zdHlsZS5qcyIsIi4uLy4uLy4uL3NyYy9kYXRhL3Bvc19hdHRyaWJ1dGVzLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci92ZXJ0ZXhfYXJyYXlfb2JqZWN0LmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3BhdHRlcm4uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZmlsbF9leHRydXNpb25fcHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9maWxsX3Byb2dyYW0uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY29sbGlzaW9uX3Byb2dyYW0uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZGVidWdfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9jbGlwcGluZ19tYXNrX3Byb2dyYW0uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vaGVhdG1hcF9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL2hpbGxzaGFkZV9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL2xpbmVfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9yYXN0ZXJfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9zeW1ib2xfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9iYWNrZ3JvdW5kX3Byb2dyYW0uanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vcHJvZ3JhbV91bmlmb3Jtcy5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvdGlsZV9tYXNrLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2NvbGxpc2lvbl9kZWJ1Zy5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19zeW1ib2wuanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfZmlsbC5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvb2Zmc2NyZWVuLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2hpbGxzaGFkZS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19yYXN0ZXIuanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfZGVidWcuanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL3BhaW50ZXIuanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfY2lyY2xlLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2hlYXRtYXAuanMiLCIuLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfbGluZS5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19maWxsX2V4dHJ1c2lvbi5qcyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwiLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2N1c3RvbS5qcyIsIi4uLy4uLy4uL3NyYy91dGlsL3RpbGVfY292ZXIuanMiLCIuLi8uLi8uLi9zcmMvZ2VvL3RyYW5zZm9ybS5qcyIsIi4uLy4uLy4uL3NyYy91aS9oYXNoLmpzIiwiLi4vLi4vLi4vc3JjL3V0aWwvdGhyb3R0bGUuanMiLCIuLi8uLi8uLi9zcmMvdWkvZXZlbnRzLmpzIiwiLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvc2Nyb2xsX3pvb20uanMiLCIuLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9ib3hfem9vbS5qcyIsIi4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL2RyYWdfcm90YXRlLmpzIiwiLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvZHJhZ19wYW4uanMiLCIuLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9rZXlib2FyZC5qcyIsIi4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL2RibGNsaWNrX3pvb20uanMiLCIuLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZS5qcyIsIi4uLy4uLy4uL3NyYy91aS9iaW5kX2hhbmRsZXJzLmpzIiwiLi4vLi4vLi4vc3JjL3VpL2NhbWVyYS5qcyIsIi4uLy4uLy4uL3NyYy91aS9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2wuanMiLCIuLi8uLi8uLi9zcmMvdWkvY29udHJvbC9sb2dvX2NvbnRyb2wuanMiLCIuLi8uLi8uLi9zcmMvdXRpbC90YXNrX3F1ZXVlLmpzIiwiLi4vLi4vLi4vc3JjL3VpL21hcC5qcyIsIi4uLy4uLy4uL3NyYy91aS9jb250cm9sL25hdmlnYXRpb25fY29udHJvbC5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vdXRpbC9EZWJ1Z2dlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9iZWF2ZXItbG9nZ2VyL2Rpc3QvYmVhdmVyLWxvZ2dlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9iZWF2ZXItbG9nZ2VyL2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2N1c3RvbS9jb25zdGFudC9sb2dDb25zdGFudC5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vdXRpbC9Mb2dnZXIuanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL2NvbnN0YW50L2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Rpbnljb2xvcjIvdGlueWNvbG9yLmpzIiwiLi4vLi4vLi4vc3JjL2N1c3RvbS91aS9Mb2dvQ29udHJvbC5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vdXRpbC9nZXRMb2dDb25maWcuanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL3V0aWwvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL2xpYi9HZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vbGliL0hhbmRsZXIuanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL2xpYi9NYXJrZXIuanMiLCIuLi8uLi8uLi9zcmMvdWkvYW5jaG9yLmpzIiwiLi4vLi4vLi4vc3JjL3VpL3BvcHVwLmpzIiwiLi4vLi4vLi4vc3JjL2N1c3RvbS9saWIvUG9wdXAuanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL2xpYi9TdHlsZS5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vTWFwTWFnaWNHTC5qcyIsIi4uLy4uLy4uL3NyYy9jdXN0b20vdXRpbC9Db2xvci5qcyIsIi4uLy4uLy4uL3NyYy91aS9tYXJrZXIuanMiLCIuLi8uLi8uLi9zcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsIi4uLy4uLy4uL3NyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCIuLi8uLi8uLi9zcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCIuLi8uLi8uLi9zcmMvY3VzdG9tL3V0aWwvU3R5bGUuanMiLCIuLi8uLi8uLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGlzU3VwcG9ydGVkO1xufSBlbHNlIGlmICh3aW5kb3cpIHtcbiAgICB3aW5kb3cubWFwYm94Z2wgPSB3aW5kb3cubWFwYm94Z2wgfHwge307XG4gICAgd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIE1hcGJveCBHTCBKU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gUmV0dXJuIGBmYWxzZWBcbiAqICAgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhblxuICogICBleHBlY3RlZCAoaS5lLiBhIHNvZnR3YXJlIHJlbmRlcmVyIGlzIHdvdWxkIGJlIHVzZWQpXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1N1cHBvcnRlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICBpc0FycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNGdW5jdGlvblN1cHBvcnRlZCgpICYmXG4gICAgICAgIGlzT2JqZWN0U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNKU09OU3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXb3JrZXJTdXBwb3J0ZWQoKSAmJlxuICAgICAgICBpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNBcnJheUJ1ZmZlclN1cHBvcnRlZCgpICYmXG4gICAgICAgIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQob3B0aW9ucyAmJiBvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIEFycmF5LnByb3RvdHlwZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZXZlcnkgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZpbHRlciAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuc29tZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAmJlxuICAgICAgICBBcnJheS5pc0FycmF5XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvblN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdFN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBPYmplY3Qua2V5cyAmJlxuICAgICAgICBPYmplY3QuY3JlYXRlICYmXG4gICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyAmJlxuICAgICAgICBPYmplY3QuaXNTZWFsZWQgJiZcbiAgICAgICAgT2JqZWN0LmlzRnJvemVuICYmXG4gICAgICAgIE9iamVjdC5pc0V4dGVuc2libGUgJiZcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiZcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgJiZcbiAgICAgICAgT2JqZWN0LnNlYWwgJiZcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJlxuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnNcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0pTT05TdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdKU09OJyBpbiB3aW5kb3cgJiYgJ3BhcnNlJyBpbiBKU09OICYmICdzdHJpbmdpZnknIGluIEpTT047XG59XG5cbmZ1bmN0aW9uIGlzV29ya2VyU3VwcG9ydGVkKCkge1xuICAgIGlmICghKCdXb3JrZXInIGluIHdpbmRvdyAmJiAnQmxvYicgaW4gd2luZG93ICYmICdVUkwnIGluIHdpbmRvdykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBibG9iID0gbmV3IEJsb2IoWycnXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICB2YXIgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgc3VwcG9ydGVkO1xuICAgIHZhciB3b3JrZXI7XG5cbiAgICB0cnkge1xuICAgICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAod29ya2VyKSB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICB9XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLy8gSUUxMSBvbmx5IHN1cHBvcnRzIGBVaW50OENsYW1wZWRBcnJheWAgYXMgb2YgdmVyc2lvblxuLy8gW0tCMjkyOTQzN10oaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMjkyOTQzNylcbmZ1bmN0aW9uIGlzVWludDhDbGFtcGVkQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdVaW50OENsYW1wZWRBcnJheScgaW4gd2luZG93O1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaXNzdWVzLzE5XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG59XG5cbnZhciBpc1dlYkdMU3VwcG9ydGVkQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9IGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XTtcbn1cblxuaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyA9IHtcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGFscGhhOiB0cnVlLFxuICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgZGVwdGg6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBPYmplY3QuY3JlYXRlKGlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO1xuICAgIGF0dHJpYnV0ZXMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7XG5cbiAgICBpZiAoY2FudmFzLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgICAgIGNhbnZhcy5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSBpZiAoY2FudmFzLnN1cHBvcnRzQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuXG5pbXBvcnQgd2luZG93IGZyb20gJy4vd2luZG93JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuY29uc3QgRE9NID0ge307XG5leHBvcnQgZGVmYXVsdCBET007XG5cbkRPTS5jcmVhdGUgPSBmdW5jdGlvbiAodGFnTmFtZTogKiwgY2xhc3NOYW1lPzogc3RyaW5nLCBjb250YWluZXI/OiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgaWYgKGNsYXNzTmFtZSkgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIGlmIChjb250YWluZXIpIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XG4gICAgcmV0dXJuIGVsO1xufTtcblxuRE9NLmNyZWF0ZU5TID0gZnVuY3Rpb24gKG5hbWVzcGFjZVVSSTogc3RyaW5nLCB0YWdOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCB0YWdOYW1lKTtcbiAgICByZXR1cm4gZWw7XG59O1xuXG5jb25zdCBkb2NTdHlsZSA9IHdpbmRvdy5kb2N1bWVudCA/XG4gICAgKHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6IGFueSkuc3R5bGUgOlxuICAgIG51bGw7XG5cbmZ1bmN0aW9uIHRlc3RQcm9wKHByb3BzKSB7XG4gICAgaWYgKCFkb2NTdHlsZSkgcmV0dXJuIG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvcHNbaV0gaW4gZG9jU3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHNbMF07XG59XG5cbmNvbnN0IHNlbGVjdFByb3AgPSB0ZXN0UHJvcChbJ3VzZXJTZWxlY3QnLCAnTW96VXNlclNlbGVjdCcsICdXZWJraXRVc2VyU2VsZWN0JywgJ21zVXNlclNlbGVjdCddKTtcbmxldCB1c2VyU2VsZWN0O1xuXG5ET00uZGlzYWJsZURyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY1N0eWxlICYmIHNlbGVjdFByb3ApIHtcbiAgICAgICAgdXNlclNlbGVjdCA9IGRvY1N0eWxlW3NlbGVjdFByb3BdO1xuICAgICAgICBkb2NTdHlsZVtzZWxlY3RQcm9wXSA9ICdub25lJztcbiAgICB9XG59O1xuXG5ET00uZW5hYmxlRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZG9jU3R5bGUgJiYgc2VsZWN0UHJvcCkge1xuICAgICAgICBkb2NTdHlsZVtzZWxlY3RQcm9wXSA9IHVzZXJTZWxlY3Q7XG4gICAgfVxufTtcblxuY29uc3QgdHJhbnNmb3JtUHJvcCA9IHRlc3RQcm9wKFsndHJhbnNmb3JtJywgJ1dlYmtpdFRyYW5zZm9ybSddKTtcblxuRE9NLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uKGVsOiBIVE1MRWxlbWVudCwgdmFsdWU6IHN0cmluZykge1xuICAgIChlbC5zdHlsZTogYW55KVt0cmFuc2Zvcm1Qcm9wXSA9IHZhbHVlO1xufTtcblxuLy8gRmVhdHVyZSBkZXRlY3Rpb24gZm9yIHtwYXNzaXZlOiBmYWxzZX0gc3VwcG9ydCBpbiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci5cbmxldCBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG5cbnRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IChPYmplY3QuZGVmaW5lUHJvcGVydHk6IGFueSkoe30sIFwicGFzc2l2ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcjogYW55KShcInRlc3RcIiwgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyOiBhbnkpKFwidGVzdFwiLCBvcHRpb25zLCBvcHRpb25zKTtcbn0gY2F0Y2ggKGVycikge1xuICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbn1cblxuRE9NLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0YXJnZXQ6ICosIHR5cGU6ICosIGNhbGxiYWNrOiAqLCBvcHRpb25zOiB7cGFzc2l2ZT86IGJvb2xlYW4sIGNhcHR1cmU/OiBib29sZWFufSA9IHt9KSB7XG4gICAgaWYgKCdwYXNzaXZlJyBpbiBvcHRpb25zICYmIHBhc3NpdmVTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIChvcHRpb25zOiBhbnkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucy5jYXB0dXJlKTtcbiAgICB9XG59O1xuXG5ET00ucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHRhcmdldDogKiwgdHlwZTogKiwgY2FsbGJhY2s6ICosIG9wdGlvbnM6IHtwYXNzaXZlPzogYm9vbGVhbiwgY2FwdHVyZT86IGJvb2xlYW59ID0ge30pIHtcbiAgICBpZiAoJ3Bhc3NpdmUnIGluIG9wdGlvbnMgJiYgcGFzc2l2ZVN1cHBvcnRlZCkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgKG9wdGlvbnM6IGFueSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zLmNhcHR1cmUpO1xuICAgIH1cbn07XG5cbi8vIFN1cHByZXNzIHRoZSBuZXh0IGNsaWNrLCBidXQgb25seSBpZiBpdCdzIGltbWVkaWF0ZS5cbmNvbnN0IHN1cHByZXNzQ2xpY2s6IE1vdXNlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3VwcHJlc3NDbGljaywgdHJ1ZSk7XG59O1xuXG5ET00uc3VwcHJlc3NDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3VwcHJlc3NDbGljaywgdHJ1ZSk7XG4gICAgfSwgMCk7XG59O1xuXG5ET00ubW91c2VQb3MgPSBmdW5jdGlvbiAoZWw6IEhUTUxFbGVtZW50LCBlOiBhbnkpIHtcbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZSA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgZS5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gZWwuY2xpZW50TGVmdCxcbiAgICAgICAgZS5jbGllbnRZIC0gcmVjdC50b3AgLSBlbC5jbGllbnRUb3BcbiAgICApO1xufTtcblxuRE9NLnRvdWNoUG9zID0gZnVuY3Rpb24gKGVsOiBIVE1MRWxlbWVudCwgZTogYW55KSB7XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBwb2ludHMgPSBbXTtcbiAgICBjb25zdCB0b3VjaGVzID0gKGUudHlwZSA9PT0gJ3RvdWNoZW5kJykgPyBlLmNoYW5nZWRUb3VjaGVzIDogZS50b3VjaGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQoXG4gICAgICAgICAgICB0b3VjaGVzW2ldLmNsaWVudFggLSByZWN0LmxlZnQgLSBlbC5jbGllbnRMZWZ0LFxuICAgICAgICAgICAgdG91Y2hlc1tpXS5jbGllbnRZIC0gcmVjdC50b3AgLSBlbC5jbGllbnRUb3BcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59O1xuXG5ET00ubW91c2VCdXR0b24gPSBmdW5jdGlvbiAoZTogTW91c2VFdmVudCkge1xuICAgIGFzc2VydChlLnR5cGUgPT09ICdtb3VzZWRvd24nIHx8IGUudHlwZSA9PT0gJ21vdXNldXAnKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5JbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCcgJiYgZS5idXR0b24gPT09IDIgJiYgZS5jdHJsS2V5ICYmXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKCdNQUMnKSA+PSAwKSB7XG4gICAgICAgIC8vIEZpeCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzMxMzE6XG4gICAgICAgIC8vIEZpcmVmb3ggKGRldGVjdGVkIGJ5IEluc3RhbGxUcmlnZ2VyKSBvbiBNYWMgZGV0ZXJtaW5lcyBlLmJ1dHRvbiA9IDIgd2hlblxuICAgICAgICAvLyB1c2luZyBDb250cm9sICsgbGVmdCBjbGlja1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGUuYnV0dG9uO1xufTtcblxuRE9NLnJlbW92ZSA9IGZ1bmN0aW9uKG5vZGU6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxufTtcbiIsIi8vIEBmbG93XG5cbnR5cGUgQ29uZmlnID0ge3xcbiAgQVBJX1VSTDogc3RyaW5nLFxuICBFVkVOVFNfVVJMOiBzdHJpbmcsXG4gIFJFUVVJUkVfQUNDRVNTX1RPS0VOOiBib29sZWFuLFxuICBBQ0NFU1NfVE9LRU46ID9zdHJpbmdcbnx9O1xuXG5jb25zdCBjb25maWc6IENvbmZpZyA9IHtcbiAgICBBUElfVVJMOiAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbScsXG4gICAgZ2V0IEVWRU5UU19VUkwoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSV9VUkwuaW5kZXhPZignaHR0cHM6Ly9hcGkubWFwYm94LmNuJykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92Mic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUkVRVUlSRV9BQ0NFU1NfVE9LRU46IHRydWUsXG4gICAgQUNDRVNTX1RPS0VOOiBudWxsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi9icm93c2VyJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi93aW5kb3cnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyB1dWlkLCB2YWxpZGF0ZVV1aWQsIHN0b3JhZ2VBdmFpbGFibGUsIHdhcm5PbmNlIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IHBvc3REYXRhIH0gZnJvbSAnLi9hamF4JztcblxuaW1wb3J0IHR5cGUgeyBSZXF1ZXN0UGFyYW1ldGVycyB9IGZyb20gJy4vYWpheCc7XG5pbXBvcnQgdHlwZSB7IENhbmNlbGFibGUgfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlJztcblxuY29uc3QgaGVscCA9ICdTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vucyc7XG5jb25zdCB0dXJuc3RpbGVFdmVudFN0b3JhZ2VLZXkgPSAnbWFwYm94LnR1cm5zdGlsZUV2ZW50RGF0YSc7XG5cbnR5cGUgVXJsT2JqZWN0ID0ge3xcbiAgICBwcm90b2NvbDogc3RyaW5nLFxuICAgIGF1dGhvcml0eTogc3RyaW5nLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBwYXJhbXM6IEFycmF5PHN0cmluZz5cbnx9O1xuXG5mdW5jdGlvbiBtYWtlQVBJVVJMKHVybE9iamVjdDogVXJsT2JqZWN0LCBhY2Nlc3NUb2tlbjogc3RyaW5nIHwgbnVsbCB8IHZvaWQpOiBzdHJpbmcge1xuICAgIGNvbnN0IGFwaVVybE9iamVjdCA9IHBhcnNlVXJsKGNvbmZpZy5BUElfVVJMKTtcbiAgICB1cmxPYmplY3QucHJvdG9jb2wgPSBhcGlVcmxPYmplY3QucHJvdG9jb2w7XG4gICAgdXJsT2JqZWN0LmF1dGhvcml0eSA9IGFwaVVybE9iamVjdC5hdXRob3JpdHk7XG5cbiAgICBpZiAoYXBpVXJsT2JqZWN0LnBhdGggIT09ICcvJykge1xuICAgICAgICB1cmxPYmplY3QucGF0aCA9IGAke2FwaVVybE9iamVjdC5wYXRofSR7dXJsT2JqZWN0LnBhdGh9YDtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpZy5SRVFVSVJFX0FDQ0VTU19UT0tFTikgcmV0dXJuIGZvcm1hdFVybCh1cmxPYmplY3QpO1xuXG4gICAgYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbiB8fCBjb25maWcuQUNDRVNTX1RPS0VOO1xuICAgIGlmICghYWNjZXNzVG9rZW4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQW4gQVBJIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMLiAke2hlbHB9YCk7XG4gICAgaWYgKGFjY2Vzc1Rva2VuWzBdID09PSAncycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVXNlIGEgcHVibGljIGFjY2VzcyB0b2tlbiAocGsuKikgd2l0aCBNYXBib3ggR0wsIG5vdCBhIHNlY3JldCBhY2Nlc3MgdG9rZW4gKHNrLiopLiAke2hlbHB9YCk7XG5cbiAgICB1cmxPYmplY3QucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke2FjY2Vzc1Rva2VufWApO1xuICAgIHJldHVybiBmb3JtYXRVcmwodXJsT2JqZWN0KTtcbn1cblxuZnVuY3Rpb24gaXNNYXBib3hVUkwodXJsOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdXJsLmluZGV4T2YoJ21hcGJveDonKSA9PT0gMDtcbn1cblxuZXhwb3J0IHsgaXNNYXBib3hVUkwgfTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVN0eWxlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvc3R5bGVzL3YxJHt1cmxPYmplY3QucGF0aH1gO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZUdseXBoc1VSTCA9IGZ1bmN0aW9uKHVybDogc3RyaW5nLCBhY2Nlc3NUb2tlbj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFpc01hcGJveFVSTCh1cmwpKSByZXR1cm4gdXJsO1xuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHVybCk7XG4gICAgdXJsT2JqZWN0LnBhdGggPSBgL2ZvbnRzL3YxJHt1cmxPYmplY3QucGF0aH1gO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVNvdXJjZVVSTCA9IGZ1bmN0aW9uKHVybDogc3RyaW5nLCBhY2Nlc3NUb2tlbj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFpc01hcGJveFVSTCh1cmwpKSByZXR1cm4gdXJsO1xuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHVybCk7XG4gICAgdXJsT2JqZWN0LnBhdGggPSBgL3Y0LyR7dXJsT2JqZWN0LmF1dGhvcml0eX0uanNvbmA7XG4gICAgLy8gVGlsZUpTT04gcmVxdWVzdHMgbmVlZCBhIHNlY3VyZSBmbGFnIGFwcGVuZGVkIHRvIHRoZWlyIFVSTHMgc29cbiAgICAvLyB0aGF0IHRoZSBzZXJ2ZXIga25vd3MgdG8gc2VuZCBTU0wtaWZpZWQgcmVzb3VyY2UgcmVmZXJlbmNlcy5cbiAgICB1cmxPYmplY3QucGFyYW1zLnB1c2goJ3NlY3VyZScpO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVNwcml0ZVVSTCA9IGZ1bmN0aW9uKHVybDogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZywgZXh0ZW5zaW9uOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB1cmxPYmplY3QgPSBwYXJzZVVybCh1cmwpO1xuICAgIGlmICghaXNNYXBib3hVUkwodXJsKSkge1xuICAgICAgICB1cmxPYmplY3QucGF0aCArPSBgJHtmb3JtYXR9JHtleHRlbnNpb259YDtcbiAgICAgICAgcmV0dXJuIGZvcm1hdFVybCh1cmxPYmplY3QpO1xuICAgIH1cbiAgICB1cmxPYmplY3QucGF0aCA9IGAvc3R5bGVzL3YxJHt1cmxPYmplY3QucGF0aH0vc3ByaXRlJHtmb3JtYXR9JHtleHRlbnNpb259YDtcbiAgICByZXR1cm4gbWFrZUFQSVVSTCh1cmxPYmplY3QsIGFjY2Vzc1Rva2VuKTtcbn07XG5cbmNvbnN0IGltYWdlRXh0ZW5zaW9uUmUgPSAvKFxcLihwbmd8anBnKVxcZCopKD89JCkvO1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplVGlsZVVSTCA9IGZ1bmN0aW9uKHRpbGVVUkw6IHN0cmluZywgc291cmNlVVJMPzogP3N0cmluZywgdGlsZVNpemU/OiA/bnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoIXNvdXJjZVVSTCB8fCAhaXNNYXBib3hVUkwoc291cmNlVVJMKSkgcmV0dXJuIHRpbGVVUkw7XG5cbiAgICBjb25zdCB1cmxPYmplY3QgPSBwYXJzZVVybCh0aWxlVVJMKTtcblxuICAgIC8vIFRoZSB2NCBtYXBib3ggdGlsZSBBUEkgc3VwcG9ydHMgNTEyeDUxMiBpbWFnZSB0aWxlcyBvbmx5IHdoZW4gQDJ4XG4gICAgLy8gaXMgYXBwZW5kZWQgdG8gdGhlIHRpbGUgVVJMLiBJZiBgdGlsZVNpemU6IDUxMmAgaXMgc3BlY2lmaWVkIGZvclxuICAgIC8vIGEgTWFwYm94IHJhc3RlciBzb3VyY2UgZm9yY2UgdGhlIEAyeCBzdWZmaXggZXZlbiBpZiBhIG5vbiBoaWRwaSBkZXZpY2UuXG4gICAgY29uc3Qgc3VmZml4ID0gYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvID49IDIgfHwgdGlsZVNpemUgPT09IDUxMiA/ICdAMngnIDogJyc7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gYnJvd3Nlci5zdXBwb3J0c1dlYnAgPyAnLndlYnAnIDogJyQxJztcbiAgICB1cmxPYmplY3QucGF0aCA9IHVybE9iamVjdC5wYXRoLnJlcGxhY2UoaW1hZ2VFeHRlbnNpb25SZSwgYCR7c3VmZml4fSR7ZXh0ZW5zaW9ufWApO1xuXG4gICAgcmVwbGFjZVRlbXBBY2Nlc3NUb2tlbih1cmxPYmplY3QucGFyYW1zKTtcbiAgICByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG59O1xuXG5mdW5jdGlvbiByZXBsYWNlVGVtcEFjY2Vzc1Rva2VuKHBhcmFtczogQXJyYXk8c3RyaW5nPikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwYXJhbXNbaV0uaW5kZXhPZignYWNjZXNzX3Rva2VuPXRrLicpID09PSAwKSB7XG4gICAgICAgICAgICBwYXJhbXNbaV0gPSBgYWNjZXNzX3Rva2VuPSR7Y29uZmlnLkFDQ0VTU19UT0tFTiB8fCAnJ31gO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCB1cmxSZSA9IC9eKFxcdyspOlxcL1xcLyhbXi8/XSopKFxcL1teP10rKT9cXD8/KC4rKT8vO1xuXG5mdW5jdGlvbiBwYXJzZVVybCh1cmw6IHN0cmluZyk6IFVybE9iamVjdCB7XG4gICAgY29uc3QgcGFydHMgPSB1cmwubWF0Y2godXJsUmUpO1xuICAgIGlmICghcGFydHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVVJMIG9iamVjdCcpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm90b2NvbDogcGFydHNbMV0sXG4gICAgICAgIGF1dGhvcml0eTogcGFydHNbMl0sXG4gICAgICAgIHBhdGg6IHBhcnRzWzNdIHx8ICcvJyxcbiAgICAgICAgcGFyYW1zOiBwYXJ0c1s0XSA/IHBhcnRzWzRdLnNwbGl0KCcmJykgOiBbXVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVybChvYmo6IFVybE9iamVjdCk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFyYW1zID0gb2JqLnBhcmFtcy5sZW5ndGggPyBgPyR7b2JqLnBhcmFtcy5qb2luKCcmJyl9YCA6ICcnO1xuICAgIHJldHVybiBgJHtvYmoucHJvdG9jb2x9Oi8vJHtvYmouYXV0aG9yaXR5fSR7b2JqLnBhdGh9JHtwYXJhbXN9YDtcbn1cblxuZXhwb3J0IGNsYXNzIFR1cm5zdGlsZUV2ZW50IHtcbiAgICBldmVudERhdGE6IHsgYW5vbklkOiA/c3RyaW5nLCBsYXN0U3VjY2VzczogP251bWJlciwgYWNjZXNzVG9rZW46ID9zdHJpbmd9O1xuICAgIHF1ZXVlOiBBcnJheTxudW1iZXI+O1xuICAgIHBlbmRpbmc6IGJvb2xlYW5cbiAgICBwZW5kaW5nUmVxdWVzdDogP0NhbmNlbGFibGU7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSB7IGFub25JZDogbnVsbCwgbGFzdFN1Y2Nlc3M6IG51bGwsIGFjY2Vzc1Rva2VuOiBjb25maWcuQUNDRVNTX1RPS0VOfTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgcG9zdFR1cm5zdGlsZUV2ZW50KHRpbGVVcmxzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIC8vRW5hYmxlZCBvbmx5IHdoZW4gTWFwYm94IEFjY2VzcyBUb2tlbiBpcyBzZXQgYW5kIGEgc291cmNlIHVzZXNcbiAgICAgICAgLy8gbWFwYm94IHRpbGVzLlxuICAgICAgICBpZiAoY29uZmlnLkFDQ0VTU19UT0tFTiAmJlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheSh0aWxlVXJscykgJiZcbiAgICAgICAgICAgIHRpbGVVcmxzLnNvbWUoKHVybCkgPT4geyByZXR1cm4gLyhtYXBib3hcXC5jKShufG9tKS9pLnRlc3QodXJsKTsgfSkpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVSZXF1ZXN0KGJyb3dzZXIubm93KCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcXVldWVSZXF1ZXN0KGRhdGU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goZGF0ZSk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc1JlcXVlc3RzKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nUmVxdWVzdCB8fCB0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgJHt0dXJuc3RpbGVFdmVudFN0b3JhZ2VLZXl9OiR7Y29uZmlnLkFDQ0VTU19UT0tFTiB8fCAnJ31gO1xuICAgICAgICBjb25zdCBpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSA9IHN0b3JhZ2VBdmFpbGFibGUoJ2xvY2FsU3RvcmFnZScpO1xuICAgICAgICBsZXQgZHVlRm9yRXZlbnQgPSB0aGlzLmV2ZW50RGF0YS5hY2Nlc3NUb2tlbiA/ICh0aGlzLmV2ZW50RGF0YS5hY2Nlc3NUb2tlbiAhPT0gY29uZmlnLkFDQ0VTU19UT0tFTikgOiBmYWxzZTtcblxuICAgICAgICAvL1Jlc2V0IGV2ZW50IGRhdGEgY2FjaGUgaWYgdGhlIGFjY2VzcyB0b2tlbiBjaGFuZ2VkLlxuICAgICAgICBpZiAoZHVlRm9yRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLmFub25JZCA9IHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF0aGlzLmV2ZW50RGF0YS5hbm9uSWQgfHwgIXRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSAmJlxuICAgICAgICAgICAgaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIC8vUmV0cmlldmUgY2FjaGVkIGRhdGFcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHdhcm5PbmNlKCdVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0ZVV1aWQodGhpcy5ldmVudERhdGEuYW5vbklkKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudERhdGEuYW5vbklkID0gdXVpZCgpO1xuICAgICAgICAgICAgZHVlRm9yRXZlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRVcGRhdGUgPSB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG5cbiAgICAgICAgLy8gUmVjb3JkIHR1cm5zdGlsZSBldmVudCBvbmNlIHBlciBjYWxlbmRhciBkYXkuXG4gICAgICAgIGlmICh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc3QgbGFzdFVwZGF0ZSA9IG5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREYXRlID0gbmV3IERhdGUobmV4dFVwZGF0ZSk7XG4gICAgICAgICAgICBjb25zdCBkYXlzRWxhcHNlZCA9IChuZXh0VXBkYXRlIC0gdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpIC8gKDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgZHVlRm9yRXZlbnQgPSBkdWVGb3JFdmVudCB8fCBkYXlzRWxhcHNlZCA+PSAxIHx8IGRheXNFbGFwc2VkIDwgLTEgfHwgbGFzdFVwZGF0ZS5nZXREYXRlKCkgIT09IG5leHREYXRlLmdldERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZHVlRm9yRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnN0VXJsT2JqZWN0OiBVcmxPYmplY3QgPSBwYXJzZVVybChjb25maWcuRVZFTlRTX1VSTCk7XG4gICAgICAgIGV2ZW5zdFVybE9iamVjdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7Y29uZmlnLkFDQ0VTU19UT0tFTiB8fCAnJ31gKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdDogUmVxdWVzdFBhcmFtZXRlcnMgPSB7XG4gICAgICAgICAgICB1cmw6IGZvcm1hdFVybChldmVuc3RVcmxPYmplY3QpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbicgLy9Ta2lwIHRoZSBwcmUtZmxpZ2h0IE9QVElPTlMgcmVxdWVzdFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShbe1xuICAgICAgICAgICAgZXZlbnQ6ICdhcHBVc2VyVHVybnN0aWxlJyxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IChuZXcgRGF0ZShuZXh0VXBkYXRlKSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHNka0lkZW50aWZpZXI6ICdtYXBib3gtZ2wtanMnLFxuICAgICAgICAgICAgc2RrVmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgICdlbmFibGVkLnRlbGVtZXRyeSc6IGZhbHNlLFxuICAgICAgICAgICAgdXNlcklkOiB0aGlzLmV2ZW50RGF0YS5hbm9uSWRcbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3QgPSBwb3N0RGF0YShyZXF1ZXN0LCBwYXlsb2FkLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzID0gbmV4dFVwZGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50RGF0YS5hY2Nlc3NUb2tlbiA9IGNvbmZpZy5BQ0NFU1NfVE9LRU47XG4gICAgICAgICAgICAgICAgaWYgKGlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkodGhpcy5ldmVudERhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ1VuYWJsZSB0byB3cml0ZSB0byBMb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NSZXF1ZXN0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IHR1cm5zdGlsZUV2ZW50XyA9IG5ldyBUdXJuc3RpbGVFdmVudCgpO1xuXG5leHBvcnQgY29uc3QgcG9zdFR1cm5zdGlsZUV2ZW50ID0gdHVybnN0aWxlRXZlbnRfLnBvc3RUdXJuc3RpbGVFdmVudC5iaW5kKHR1cm5zdGlsZUV2ZW50Xyk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgcG90cGFjayBmcm9tICdwb3RwYWNrJztcblxuaW1wb3J0IHsgUkdCQUltYWdlIH0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5pbXBvcnQgeyBJbWFnZVBvc2l0aW9uIH0gZnJvbSAnLi9pbWFnZV9hdGxhcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZX0gZnJvbSAnLi4vc3R5bGUvc3R5bGVfaW1hZ2UnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtCaW59IGZyb20gJ3BvdHBhY2snO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbnR5cGUgUGF0dGVybiA9IHtcbiAgICBiaW46IEJpbixcbiAgICBwb3NpdGlvbjogSW1hZ2VQb3NpdGlvblxufTtcblxuLy8gV2hlbiBjb3BpZWQgaW50byB0aGUgYXRsYXMgdGV4dHVyZSwgaW1hZ2UgZGF0YSBpcyBwYWRkZWQgYnkgb25lIHBpeGVsIG9uIGVhY2ggc2lkZS4gSWNvblxuLy8gaW1hZ2VzIGFyZSBwYWRkZWQgd2l0aCBmdWxseSB0cmFuc3BhcmVudCBwaXhlbHMsIHdoaWxlIHBhdHRlcm4gaW1hZ2VzIGFyZSBwYWRkZWQgd2l0aCBhXG4vLyBjb3B5IG9mIHRoZSBpbWFnZSBkYXRhIHdyYXBwZWQgZnJvbSB0aGUgb3Bwb3NpdGUgc2lkZS4gSW4gYm90aCBjYXNlcywgdGhpcyBlbnN1cmVzIHRoZVxuLy8gY29ycmVjdCBiZWhhdmlvciBvZiBHTF9MSU5FQVIgdGV4dHVyZSBzYW1wbGluZyBtb2RlLlxuY29uc3QgcGFkZGluZyA9IDE7XG5cbi8qXG4gICAgSW1hZ2VNYW5hZ2VyIGRvZXMgdHdvIHRoaW5nczpcblxuICAgICAgICAxLiBUcmFja3MgcmVxdWVzdHMgZm9yIGljb24gaW1hZ2VzIGZyb20gdGlsZSB3b3JrZXJzIGFuZCBzZW5kcyByZXNwb25zZXMgd2hlbiB0aGUgcmVxdWVzdHMgYXJlIGZ1bGZpbGxlZC5cbiAgICAgICAgMi4gQnVpbGRzIGEgdGV4dHVyZSBhdGxhcyBmb3IgcGF0dGVybiBpbWFnZXMuXG5cbiAgICBUaGVzZSBhcmUgZGlzcGFyYXRlIHJlc3BvbnNpYmlsaXRpZXMgYW5kIHNob3VsZCBldmVudHVhbGx5IGJlIGhhbmRsZWQgYnkgZGlmZmVyZW50IGNsYXNzZXMuIFdoZW4gd2UgaW1wbGVtZW50XG4gICAgZGF0YS1kcml2ZW4gc3VwcG9ydCBmb3IgYCotcGF0dGVybmAsIHdlJ2xsIGxpa2VseSB1c2UgcGVyLWJ1Y2tldCBwYXR0ZXJuIGF0bGFzZXMsIGFuZCB0aGF0IHdvdWxkIGJlIGEgZ29vZCB0aW1lXG4gICAgdG8gcmVmYWN0b3IgdGhpcy5cbiovXG5jbGFzcyBJbWFnZU1hbmFnZXIge1xuICAgIGltYWdlczoge1tzdHJpbmddOiBTdHlsZUltYWdlfTtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgcmVxdWVzdG9yczogQXJyYXk8e2lkczogQXJyYXk8c3RyaW5nPiwgY2FsbGJhY2s6IENhbGxiYWNrPHtbc3RyaW5nXTogU3R5bGVJbWFnZX0+fT47XG5cbiAgICBwYXR0ZXJuczoge1tzdHJpbmddOiBQYXR0ZXJufTtcbiAgICBhdGxhc0ltYWdlOiBSR0JBSW1hZ2U7XG4gICAgYXRsYXNUZXh0dXJlOiA/VGV4dHVyZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmltYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlcXVlc3RvcnMgPSBbXTtcblxuICAgICAgICB0aGlzLnBhdHRlcm5zID0ge307XG4gICAgICAgIHRoaXMuYXRsYXNJbWFnZSA9IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoOiAxLCBoZWlnaHQ6IDF9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgaXNMb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcbiAgICB9XG5cbiAgICBzZXRMb2FkZWQobG9hZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCA9PT0gbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcblxuICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHtpZHMsIGNhbGxiYWNrfSBvZiB0aGlzLnJlcXVlc3RvcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICB0aGlzLmltYWdlc1tpZF0gPSBpbWFnZTtcbiAgICB9XG5cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5wYXR0ZXJuc1tpZF07XG4gICAgfVxuXG4gICAgbGlzdEltYWdlcygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZXMoaWRzOiBBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdHJpbmddOiBTdHlsZUltYWdlfT4pIHtcbiAgICAgICAgLy8gSWYgdGhlIHNwcml0ZSBoYXMgYmVlbiBsb2FkZWQsIG9yIGlmIGFsbCB0aGUgaWNvbiBkZXBlbmRlbmNpZXMgYXJlIGFscmVhZHkgcHJlc2VudFxuICAgICAgICAvLyAoaS5lLiBpZiB0aGV5J3ZlIGJlZW4gYWRkZWRlZCB2aWEgcnVudGltZSBzdHlsaW5nKSwgdGhlbiBub3RpZnkgdGhlIHJlcXVlc3RvciBpbW1lZGlhdGVseS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBkZWxheSBub3RpZmljYXRpb24gdW50aWwgdGhlIHNwcml0ZSBpcyBsb2FkZWQuIEF0IHRoYXQgcG9pbnQsIGlmIGFueSBvZiB0aGVcbiAgICAgICAgLy8gZGVwZW5kZW5jaWVzIGFyZSBzdGlsbCB1bmF2YWlsYWJsZSwgd2UnbGwganVzdCBhc3N1bWUgdGhleSBhcmUgcGVybWFuZW50bHkgbWlzc2luZy5cbiAgICAgICAgbGV0IGhhc0FsbERlcGVuZGVuY2llcyA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbWFnZXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0FsbERlcGVuZGVuY2llcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0xvYWRlZCgpIHx8IGhhc0FsbERlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5KGlkcywgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkcywgY2FsbGJhY2t9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9ub3RpZnkoaWRzOiBBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdHJpbmddOiBTdHlsZUltYWdlfT4pIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmltYWdlc1tpZF07XG4gICAgICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgaW1hZ2Ugc28gdGhhdCBvdXIgb3duIGNvcHkgb2YgaXRzIEFycmF5QnVmZmVyIGRvZXNuJ3QgZ2V0IHRyYW5zZmVycmVkLlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlW2lkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW1hZ2UuZGF0YS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvOiBpbWFnZS5waXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBzZGY6IGltYWdlLnNkZlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLy8gUGF0dGVybiBzdHVmZlxuXG4gICAgZ2V0UGl4ZWxTaXplKCkge1xuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB0aGlzLmF0bGFzSW1hZ2U7XG4gICAgICAgIHJldHVybiB7d2lkdGgsIGhlaWdodH07XG4gICAgfVxuXG4gICAgZ2V0UGF0dGVybihpZDogc3RyaW5nKTogP0ltYWdlUG9zaXRpb24ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuc1tpZF07XG4gICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0dGVybi5wb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZShpZCk7XG4gICAgICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdyA9IGltYWdlLmRhdGEud2lkdGggKyBwYWRkaW5nICogMjtcbiAgICAgICAgY29uc3QgaCA9IGltYWdlLmRhdGEuaGVpZ2h0ICsgcGFkZGluZyAqIDI7XG4gICAgICAgIGNvbnN0IGJpbiA9IHt3LCBoLCB4OiAwLCB5OiAwfTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgSW1hZ2VQb3NpdGlvbihiaW4sIGltYWdlKTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuc1tpZF0gPSB7YmluLCBwb3NpdGlvbn07XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBhdHRlcm5BdGxhcygpO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICBiaW5kKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBpZiAoIXRoaXMuYXRsYXNUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmF0bGFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHRoaXMuYXRsYXNJbWFnZSwgZ2wuUkdCQSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBhdHRlcm5BdGxhcygpIHtcbiAgICAgICAgY29uc3QgYmlucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMucGF0dGVybnMpIHtcbiAgICAgICAgICAgIGJpbnMucHVzaCh0aGlzLnBhdHRlcm5zW2lkXS5iaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3csIGh9ID0gcG90cGFjayhiaW5zKTtcblxuICAgICAgICBjb25zdCBkc3QgPSB0aGlzLmF0bGFzSW1hZ2U7XG4gICAgICAgIGRzdC5yZXNpemUoe3dpZHRoOiB3IHx8IDEsIGhlaWdodDogaCB8fCAxfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBhdHRlcm5zKSB7XG4gICAgICAgICAgICBjb25zdCB7YmlufSA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICAgICAgY29uc3QgeCA9IGJpbi54ICsgcGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLmltYWdlc1tpZF0uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoID0gc3JjLmhlaWdodDtcblxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogMCB9LCB7IHgsIHkgfSwgeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0pO1xuXG4gICAgICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7IHg6IDAsIHk6IGggLSAxIH0sIHsgeDogeCwgeTogeSAtIDEgfSwgeyB3aWR0aDogdywgaGVpZ2h0OiAxIH0pOyAvLyBUXG4gICAgICAgICAgICBSR0JBSW1hZ2UuY29weShzcmMsIGRzdCwgeyB4OiAwLCB5OiAgICAgMCB9LCB7IHg6IHgsIHk6IHkgKyBoIH0sIHsgd2lkdGg6IHcsIGhlaWdodDogMSB9KTsgLy8gQlxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogdyAtIDEsIHk6IDAgfSwgeyB4OiB4IC0gMSwgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIExcbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7IHg6IDAsICAgICB5OiAwIH0sIHsgeDogeCArIHcsIHk6IHkgfSwgeyB3aWR0aDogMSwgaGVpZ2h0OiBoIH0pOyAvLyBSXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBUaW55U0RGO1xuXG52YXIgSU5GID0gMWUyMDtcblxuZnVuY3Rpb24gVGlueVNERihmb250U2l6ZSwgYnVmZmVyLCByYWRpdXMsIGN1dG9mZiwgZm9udEZhbWlseSwgZm9udFdlaWdodCkge1xuICAgIHRoaXMuZm9udFNpemUgPSBmb250U2l6ZSB8fCAyNDtcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciA9PT0gdW5kZWZpbmVkID8gMyA6IGJ1ZmZlcjtcbiAgICB0aGlzLmN1dG9mZiA9IGN1dG9mZiB8fCAwLjI1O1xuICAgIHRoaXMuZm9udEZhbWlseSA9IGZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICAgIHRoaXMuZm9udFdlaWdodCA9IGZvbnRXZWlnaHQgfHwgJ25vcm1hbCc7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXMgfHwgODtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSA9IHRoaXMuZm9udFNpemUgKyB0aGlzLmJ1ZmZlciAqIDI7XG5cbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuaGVpZ2h0ID0gc2l6ZTtcblxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLmN0eC5mb250ID0gdGhpcy5mb250V2VpZ2h0ICsgJyAnICsgdGhpcy5mb250U2l6ZSArICdweCAnICsgdGhpcy5mb250RmFtaWx5O1xuICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG5cbiAgICAvLyB0ZW1wb3JhcnkgYXJyYXlzIGZvciB0aGUgZGlzdGFuY2UgdHJhbnNmb3JtXG4gICAgdGhpcy5ncmlkT3V0ZXIgPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUgKiBzaXplKTtcbiAgICB0aGlzLmdyaWRJbm5lciA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSAqIHNpemUpO1xuICAgIHRoaXMuZiA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSk7XG4gICAgdGhpcy5kID0gbmV3IEZsb2F0NjRBcnJheShzaXplKTtcbiAgICB0aGlzLnogPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUgKyAxKTtcbiAgICB0aGlzLnYgPSBuZXcgSW50MTZBcnJheShzaXplKTtcblxuICAgIC8vIGhhY2sgYXJvdW5kIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTczNzg1MlxuICAgIHRoaXMubWlkZGxlID0gTWF0aC5yb3VuZCgoc2l6ZSAvIDIpICogKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignR2Vja28vJykgPj0gMCA/IDEuMiA6IDEpKTtcbn1cblxuVGlueVNERi5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcbiAgICB0aGlzLmN0eC5maWxsVGV4dChjaGFyLCB0aGlzLmJ1ZmZlciwgdGhpcy5taWRkbGUpO1xuXG4gICAgdmFyIGltZ0RhdGEgPSB0aGlzLmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgIHZhciBhbHBoYUNoYW5uZWwgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy5zaXplICogdGhpcy5zaXplKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaXplICogdGhpcy5zaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGEgPSBpbWdEYXRhLmRhdGFbaSAqIDQgKyAzXSAvIDI1NTsgLy8gYWxwaGEgdmFsdWVcbiAgICAgICAgdGhpcy5ncmlkT3V0ZXJbaV0gPSBhID09PSAxID8gMCA6IGEgPT09IDAgPyBJTkYgOiBNYXRoLnBvdyhNYXRoLm1heCgwLCAwLjUgLSBhKSwgMik7XG4gICAgICAgIHRoaXMuZ3JpZElubmVyW2ldID0gYSA9PT0gMSA/IElORiA6IGEgPT09IDAgPyAwIDogTWF0aC5wb3coTWF0aC5tYXgoMCwgYSAtIDAuNSksIDIpO1xuICAgIH1cblxuICAgIGVkdCh0aGlzLmdyaWRPdXRlciwgdGhpcy5zaXplLCB0aGlzLnNpemUsIHRoaXMuZiwgdGhpcy5kLCB0aGlzLnYsIHRoaXMueik7XG4gICAgZWR0KHRoaXMuZ3JpZElubmVyLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSwgdGhpcy5mLCB0aGlzLmQsIHRoaXMudiwgdGhpcy56KTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnNpemUgKiB0aGlzLnNpemU7IGkrKykge1xuICAgICAgICB2YXIgZCA9IHRoaXMuZ3JpZE91dGVyW2ldIC0gdGhpcy5ncmlkSW5uZXJbaV07XG4gICAgICAgIGFscGhhQ2hhbm5lbFtpXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCgyNTUgLSAyNTUgKiAoZCAvIHRoaXMucmFkaXVzICsgdGhpcy5jdXRvZmYpKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBhbHBoYUNoYW5uZWw7XG59O1xuXG4vLyAyRCBFdWNsaWRlYW4gZGlzdGFuY2UgdHJhbnNmb3JtIGJ5IEZlbHplbnN6d2FsYiAmIEh1dHRlbmxvY2hlciBodHRwczovL2NzLmJyb3duLmVkdS9+cGZmL2R0L1xuZnVuY3Rpb24gZWR0KGRhdGEsIHdpZHRoLCBoZWlnaHQsIGYsIGQsIHYsIHopIHtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZlt5XSA9IGRhdGFbeSAqIHdpZHRoICsgeF07XG4gICAgICAgIH1cbiAgICAgICAgZWR0MWQoZiwgZCwgdiwgeiwgaGVpZ2h0KTtcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBkYXRhW3kgKiB3aWR0aCArIHhdID0gZFt5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGZbeF0gPSBkYXRhW3kgKiB3aWR0aCArIHhdO1xuICAgICAgICB9XG4gICAgICAgIGVkdDFkKGYsIGQsIHYsIHosIHdpZHRoKTtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGRhdGFbeSAqIHdpZHRoICsgeF0gPSBNYXRoLnNxcnQoZFt4XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIDFEIHNxdWFyZWQgZGlzdGFuY2UgdHJhbnNmb3JtXG5mdW5jdGlvbiBlZHQxZChmLCBkLCB2LCB6LCBuKSB7XG4gICAgdlswXSA9IDA7XG4gICAgelswXSA9IC1JTkY7XG4gICAgelsxXSA9ICtJTkY7XG5cbiAgICBmb3IgKHZhciBxID0gMSwgayA9IDA7IHEgPCBuOyBxKyspIHtcbiAgICAgICAgdmFyIHMgPSAoKGZbcV0gKyBxICogcSkgLSAoZlt2W2tdXSArIHZba10gKiB2W2tdKSkgLyAoMiAqIHEgLSAyICogdltrXSk7XG4gICAgICAgIHdoaWxlIChzIDw9IHpba10pIHtcbiAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgIHMgPSAoKGZbcV0gKyBxICogcSkgLSAoZlt2W2tdXSArIHZba10gKiB2W2tdKSkgLyAoMiAqIHEgLSAyICogdltrXSk7XG4gICAgICAgIH1cbiAgICAgICAgaysrO1xuICAgICAgICB2W2tdID0gcTtcbiAgICAgICAgeltrXSA9IHM7XG4gICAgICAgIHpbayArIDFdID0gK0lORjtcbiAgICB9XG5cbiAgICBmb3IgKHEgPSAwLCBrID0gMDsgcSA8IG47IHErKykge1xuICAgICAgICB3aGlsZSAoeltrICsgMV0gPCBxKSBrKys7XG4gICAgICAgIGRbcV0gPSAocSAtIHZba10pICogKHEgLSB2W2tdKSArIGZbdltrXV07XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGxvYWRHbHlwaFJhbmdlIGZyb20gJy4uL3N0eWxlL2xvYWRfZ2x5cGhfcmFuZ2UnO1xuXG5pbXBvcnQgVGlueVNERiBmcm9tICdAbWFwYm94L3Rpbnktc2RmJztcbmltcG9ydCBpc0NoYXIgZnJvbSAnLi4vdXRpbC9pc19jaGFyX2luX3VuaWNvZGVfYmxvY2snO1xuaW1wb3J0IHsgYXN5bmNBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgQWxwaGFJbWFnZSB9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVHbHlwaH0gZnJvbSAnLi4vc3R5bGUvc3R5bGVfZ2x5cGgnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbn0gZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG50eXBlIEVudHJ5ID0ge1xuICAgIC8vIG51bGwgbWVhbnMgd2UndmUgcmVxdWVzdGVkIHRoZSByYW5nZSwgYnV0IHRoZSBnbHlwaCB3YXNuJ3QgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdC5cbiAgICBnbHlwaHM6IHtbaWQ6IG51bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfSxcbiAgICByZXF1ZXN0czoge1tyYW5nZTogbnVtYmVyXTogQXJyYXk8Q2FsbGJhY2s8e1tudW1iZXJdOiBTdHlsZUdseXBoIHwgbnVsbH0+Pn0sXG4gICAgdGlueVNERj86IFRpbnlTREZcbn07XG5cbmNsYXNzIEdseXBoTWFuYWdlciB7XG4gICAgcmVxdWVzdFRyYW5zZm9ybTogUmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9uO1xuICAgIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTogP3N0cmluZztcbiAgICBlbnRyaWVzOiB7W3N0cmluZ106IEVudHJ5fTtcbiAgICB1cmw6ID9zdHJpbmc7XG5cbiAgICAvLyBleHBvc2VkIGFzIHN0YXRpY3MgdG8gZW5hYmxlIHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgbG9hZEdseXBoUmFuZ2U6IHR5cGVvZiBsb2FkR2x5cGhSYW5nZTtcbiAgICBzdGF0aWMgVGlueVNERjogQ2xhc3M8VGlueVNERj47XG5cbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0VHJhbnNmb3JtOiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb24sIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTogP3N0cmluZykge1xuICAgICAgICB0aGlzLnJlcXVlc3RUcmFuc2Zvcm0gPSByZXF1ZXN0VHJhbnNmb3JtO1xuICAgICAgICB0aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSA9IGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0ge307XG4gICAgfVxuXG4gICAgc2V0VVJMKHVybDogP3N0cmluZykge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICB9XG5cbiAgICBnZXRHbHlwaHMoZ2x5cGhzOiB7W3N0YWNrOiBzdHJpbmddOiBBcnJheTxudW1iZXI+fSwgY2FsbGJhY2s6IENhbGxiYWNrPHtbc3RhY2s6IHN0cmluZ106IHtbaWQ6IG51bWJlcl06ID9TdHlsZUdseXBofX0+KSB7XG4gICAgICAgIGNvbnN0IGFsbCA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3RhY2sgaW4gZ2x5cGhzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGdseXBoc1tzdGFja10pIHtcbiAgICAgICAgICAgICAgICBhbGwucHVzaCh7c3RhY2ssIGlkfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhc3luY0FsbChhbGwsICh7c3RhY2ssIGlkfSwgY2FsbGJhY2s6IENhbGxiYWNrPHtzdGFjazogc3RyaW5nLCBpZDogbnVtYmVyLCBnbHlwaDogP1N0eWxlR2x5cGh9PikgPT4ge1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy5lbnRyaWVzW3N0YWNrXTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICBlbnRyeSA9IHRoaXMuZW50cmllc1tzdGFja10gPSB7XG4gICAgICAgICAgICAgICAgICAgIGdseXBoczoge30sXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzOiB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBnbHlwaCA9IGVudHJ5LmdseXBoc1tpZF07XG4gICAgICAgICAgICBpZiAoZ2x5cGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGFjaywgaWQsIGdseXBofSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbHlwaCA9IHRoaXMuX3RpbnlTREYoZW50cnksIHN0YWNrLCBpZCk7XG4gICAgICAgICAgICBpZiAoZ2x5cGgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7c3RhY2ssIGlkLCBnbHlwaH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLmZsb29yKGlkIC8gMjU2KTtcbiAgICAgICAgICAgIGlmIChyYW5nZSAqIDI1NiA+IDY1NTM1KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdnbHlwaHMgPiA2NTUzNSBub3Qgc3VwcG9ydGVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHJlcXVlc3RzID0gZW50cnkucmVxdWVzdHNbcmFuZ2VdO1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RzID0gZW50cnkucmVxdWVzdHNbcmFuZ2VdID0gW107XG4gICAgICAgICAgICAgICAgR2x5cGhNYW5hZ2VyLmxvYWRHbHlwaFJhbmdlKHN0YWNrLCByYW5nZSwgKHRoaXMudXJsOiBhbnkpLCB0aGlzLnJlcXVlc3RUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgIChlcnIsIHJlc3BvbnNlOiA/e1tudW1iZXJdOiBTdHlsZUdseXBoIHwgbnVsbH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuZ2x5cGhzWytpZF0gPSByZXNwb25zZVsraWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2Igb2YgcmVxdWVzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYihlcnIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXF1ZXN0cy5wdXNoKChlcnIsIHJlc3VsdDogP3tbbnVtYmVyXTogU3R5bGVHbHlwaCB8IG51bGx9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGFjaywgaWQsIGdseXBoOiByZXN1bHRbaWRdIHx8IG51bGx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgKGVyciwgZ2x5cGhzOiA/QXJyYXk8e3N0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIsIGdseXBoOiA/U3R5bGVHbHlwaH0+KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2x5cGhzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHtzdGFjaywgaWQsIGdseXBofSBvZiBnbHlwaHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGdseXBoIHNvIHRoYXQgb3VyIG93biBjb3B5IG9mIGl0cyBBcnJheUJ1ZmZlciBkb2Vzbid0IGdldCB0cmFuc2ZlcnJlZC5cbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdFtzdGFja10gfHwgKHJlc3VsdFtzdGFja10gPSB7fSkpW2lkXSA9IGdseXBoICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBnbHlwaC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcDogZ2x5cGguYml0bWFwLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRyaWNzOiBnbHlwaC5tZXRyaWNzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RpbnlTREYoZW50cnk6IEVudHJ5LCBzdGFjazogc3RyaW5nLCBpZDogbnVtYmVyKTogP1N0eWxlR2x5cGgge1xuICAgICAgICBjb25zdCBmYW1pbHkgPSB0aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtcbiAgICAgICAgaWYgKCFmYW1pbHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNDaGFyWydDSksgVW5pZmllZCBJZGVvZ3JhcGhzJ10oaWQpICYmICFpc0NoYXJbJ0hhbmd1bCBTeWxsYWJsZXMnXShpZCkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGlueVNERiA9IGVudHJ5LnRpbnlTREY7XG4gICAgICAgIGlmICghdGlueVNERikge1xuICAgICAgICAgICAgbGV0IGZvbnRXZWlnaHQgPSAnNDAwJztcbiAgICAgICAgICAgIGlmICgvYm9sZC9pLnRlc3Qoc3RhY2spKSB7XG4gICAgICAgICAgICAgICAgZm9udFdlaWdodCA9ICc5MDAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvbWVkaXVtL2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzUwMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9saWdodC9pLnRlc3Qoc3RhY2spKSB7XG4gICAgICAgICAgICAgICAgZm9udFdlaWdodCA9ICcyMDAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGlueVNERiA9IGVudHJ5LnRpbnlTREYgPSBuZXcgR2x5cGhNYW5hZ2VyLlRpbnlTREYoMjQsIDMsIDgsIC4yNSwgZmFtaWx5LCBmb250V2VpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGJpdG1hcDogbmV3IEFscGhhSW1hZ2Uoe3dpZHRoOiAzMCwgaGVpZ2h0OiAzMH0sIHRpbnlTREYuZHJhdyhTdHJpbmcuZnJvbUNoYXJDb2RlKGlkKSkpLFxuICAgICAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAyNCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAtOCxcbiAgICAgICAgICAgICAgICBhZHZhbmNlOiAyNFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuR2x5cGhNYW5hZ2VyLmxvYWRHbHlwaFJhbmdlID0gbG9hZEdseXBoUmFuZ2U7XG5HbHlwaE1hbmFnZXIuVGlueVNERiA9IFRpbnlTREY7XG5cbmV4cG9ydCBkZWZhdWx0IEdseXBoTWFuYWdlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBzdHlsZVNwZWMgZnJvbSAnLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0JztcblxuaW1wb3J0IHsgZW5kc1dpdGgsIGV4dGVuZCwgc3BoZXJpY2FsVG9DYXJ0ZXNpYW4gfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQge1xuICAgIHZhbGlkYXRlU3R5bGUsXG4gICAgdmFsaWRhdGVMaWdodCxcbiAgICBlbWl0VmFsaWRhdGlvbkVycm9yc1xufSBmcm9tICcuL3ZhbGlkYXRlX3N0eWxlJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuaW1wb3J0IHsgbnVtYmVyIGFzIGludGVycG9sYXRlIH0gZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlJztcblxuaW1wb3J0IHR5cGUge1N0eWxlUHJvcGVydHlTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi9zdHlsZS1zcGVjL3N0eWxlLXNwZWMnO1xuaW1wb3J0IHR5cGUgRXZhbHVhdGlvblBhcmFtZXRlcnMgZnJvbSAnLi9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuXG5pbXBvcnQgeyBQcm9wZXJ0aWVzLCBUcmFuc2l0aW9uYWJsZSwgVHJhbnNpdGlvbmluZywgUG9zc2libHlFdmFsdWF0ZWQsIERhdGFDb25zdGFudFByb3BlcnR5IH0gZnJvbSAnLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IHR5cGUge1xuICAgIFByb3BlcnR5LFxuICAgIFByb3BlcnR5VmFsdWUsXG4gICAgVHJhbnNpdGlvblBhcmFtZXRlcnNcbn0gZnJvbSAnLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IHR5cGUge0xpZ2h0U3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5cbnR5cGUgTGlnaHRQb3NpdGlvbiA9IHtcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHo6IG51bWJlclxufTtcblxuY2xhc3MgTGlnaHRQb3NpdGlvblByb3BlcnR5IGltcGxlbWVudHMgUHJvcGVydHk8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiB7XG4gICAgc3BlY2lmaWNhdGlvbjogU3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2F0aW9uID0gc3R5bGVTcGVjLmxpZ2h0LnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHBvc3NpYmx5RXZhbHVhdGUodmFsdWU6IFByb3BlcnR5VmFsdWU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiwgcGFyYW1ldGVyczogRXZhbHVhdGlvblBhcmFtZXRlcnMpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHNwaGVyaWNhbFRvQ2FydGVzaWFuKHZhbHVlLmV4cHJlc3Npb24uZXZhbHVhdGUocGFyYW1ldGVycykpO1xuICAgIH1cblxuICAgIGludGVycG9sYXRlKGE6IExpZ2h0UG9zaXRpb24sIGI6IExpZ2h0UG9zaXRpb24sIHQ6IG51bWJlcik6IExpZ2h0UG9zaXRpb24ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogaW50ZXJwb2xhdGUoYS54LCBiLngsIHQpLFxuICAgICAgICAgICAgeTogaW50ZXJwb2xhdGUoYS55LCBiLnksIHQpLFxuICAgICAgICAgICAgejogaW50ZXJwb2xhdGUoYS56LCBiLnosIHQpLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxudHlwZSBQcm9wcyA9IHt8XG4gICAgXCJhbmNob3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8XCJtYXBcIiB8IFwidmlld3BvcnRcIj4sXG4gICAgXCJwb3NpdGlvblwiOiBMaWdodFBvc2l0aW9uUHJvcGVydHksXG4gICAgXCJjb2xvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxDb2xvcj4sXG4gICAgXCJpbnRlbnNpdHlcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8bnVtYmVyPixcbnx9O1xuXG5jb25zdCBwcm9wZXJ0aWVzOiBQcm9wZXJ0aWVzPFByb3BzPiA9IG5ldyBQcm9wZXJ0aWVzKHtcbiAgICBcImFuY2hvclwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmxpZ2h0LmFuY2hvciksXG4gICAgXCJwb3NpdGlvblwiOiBuZXcgTGlnaHRQb3NpdGlvblByb3BlcnR5KCksXG4gICAgXCJjb2xvclwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmxpZ2h0LmNvbG9yKSxcbiAgICBcImludGVuc2l0eVwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmxpZ2h0LmludGVuc2l0eSksXG59KTtcblxuY29uc3QgVFJBTlNJVElPTl9TVUZGSVggPSAnLXRyYW5zaXRpb24nO1xuXG4vKlxuICogUmVwcmVzZW50cyB0aGUgbGlnaHQgdXNlZCB0byBsaWdodCBleHRydWRlZCBmZWF0dXJlcy5cbiAqL1xuY2xhc3MgTGlnaHQgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfdHJhbnNpdGlvbmFibGU6IFRyYW5zaXRpb25hYmxlPFByb3BzPjtcbiAgICBfdHJhbnNpdGlvbmluZzogVHJhbnNpdGlvbmluZzxQcm9wcz47XG4gICAgcHJvcGVydGllczogUG9zc2libHlFdmFsdWF0ZWQ8UHJvcHM+O1xuXG4gICAgY29uc3RydWN0b3IobGlnaHRPcHRpb25zPzogTGlnaHRTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlID0gbmV3IFRyYW5zaXRpb25hYmxlKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLnNldExpZ2h0KGxpZ2h0T3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO1xuICAgIH1cblxuICAgIGdldExpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCk7XG4gICAgfVxuXG4gICAgc2V0TGlnaHQob3B0aW9ucz86IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUodmFsaWRhdGVMaWdodCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgobmFtZSwgVFJBTlNJVElPTl9TVUZGSVgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuYW1lLnNsaWNlKDAsIC1UUkFOU0lUSU9OX1NVRkZJWC5sZW5ndGgpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnM6IFRyYW5zaXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQocGFyYW1ldGVycywgdGhpcy5fdHJhbnNpdGlvbmluZyk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpO1xuICAgIH1cblxuICAgIHJlY2FsY3VsYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGUodmFsaWRhdGU6IEZ1bmN0aW9uLCB2YWx1ZTogbWl4ZWQpIHtcbiAgICAgICAgcmV0dXJuIGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlLmNhbGwodmFsaWRhdGVTdHlsZSwgZXh0ZW5kKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yNDA3XG4gICAgICAgICAgICBzdHlsZToge2dseXBoczogdHJ1ZSwgc3ByaXRlOiB0cnVlfSxcbiAgICAgICAgICAgIHN0eWxlU3BlYzogc3R5bGVTcGVjXG4gICAgICAgIH0pKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaWdodDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuLyoqXG4gKiBBIExpbmVBdGxhcyBsZXRzIHVzIHJldXNlIHJlbmRlcmVkIGRhc2hlZCBsaW5lc1xuICogYnkgd3JpdGluZyBtYW55IG9mIHRoZW0gdG8gYSB0ZXh0dXJlIGFuZCB0aGVuIGZldGNoaW5nIHRoZWlyIHBvc2l0aW9uc1xuICogdXNpbmcgLmdldERhc2guXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBMaW5lQXRsYXMge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgbmV4dFJvdzogbnVtYmVyO1xuICAgIGJ5dGVzOiBudW1iZXI7XG4gICAgZGF0YTogVWludDhBcnJheTtcbiAgICBwb3NpdGlvbnM6IHtbc3RyaW5nXTogYW55fTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcbiAgICB0ZXh0dXJlOiBXZWJHTFRleHR1cmU7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLm5leHRSb3cgPSAwO1xuXG4gICAgICAgIHRoaXMuYnl0ZXMgPSA0O1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQgKiB0aGlzLmJ5dGVzKTtcblxuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBvciBjcmVhdGUgYSBkYXNoIGxpbmUgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGFzaGFycmF5XG4gICAgICogQHBhcmFtIHtib29sZWFufSByb3VuZCB3aGV0aGVyIHRvIGFkZCBjaXJjbGUgY2FwcyBpbiBiZXR3ZWVuIGRhc2ggc2VnbWVudHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwb3NpdGlvbiBvZiBkYXNoIHRleHR1cmUgaW4geyB5LCBoZWlnaHQsIHdpZHRoIH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldERhc2goZGFzaGFycmF5OiBBcnJheTxudW1iZXI+LCByb3VuZDogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBrZXkgPSBkYXNoYXJyYXkuam9pbihcIixcIikgKyBTdHJpbmcocm91bmQpO1xuXG4gICAgICAgIGlmICghdGhpcy5wb3NpdGlvbnNba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnNba2V5XSA9IHRoaXMuYWRkRGFzaChkYXNoYXJyYXksIHJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBhZGREYXNoKGRhc2hhcnJheTogQXJyYXk8bnVtYmVyPiwgcm91bmQ6IGJvb2xlYW4pIHtcblxuICAgICAgICBjb25zdCBuID0gcm91bmQgPyA3IDogMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMiAqIG4gKyAxO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAxMjg7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFJvdyArIGhlaWdodCA+IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB3YXJuT25jZSgnTGluZUF0bGFzIG91dCBvZiBzcGFjZScpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXNoYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSBkYXNoYXJyYXlbaV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHJldGNoID0gdGhpcy53aWR0aCAvIGxlbmd0aDtcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gc3RyZXRjaCAvIDI7XG5cbiAgICAgICAgLy8gSWYgZGFzaGFycmF5IGhhcyBhbiBvZGQgbGVuZ3RoLCBib3RoIHRoZSBmaXJzdCBhbmQgbGFzdCBwYXJ0c1xuICAgICAgICAvLyBhcmUgZGFzaGVzIGFuZCBzaG91bGQgYmUgam9pbmVkIHNlYW1sZXNzbHkuXG4gICAgICAgIGNvbnN0IG9kZExlbmd0aCA9IGRhc2hhcnJheS5sZW5ndGggJSAyID09PSAxO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAtbjsgeSA8PSBuOyB5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMubmV4dFJvdyArIG4gKyB5O1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLndpZHRoICogcm93O1xuXG4gICAgICAgICAgICBsZXQgbGVmdCA9IG9kZExlbmd0aCA/IC1kYXNoYXJyYXlbZGFzaGFycmF5Lmxlbmd0aCAtIDFdIDogMDtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGRhc2hhcnJheVswXTtcbiAgICAgICAgICAgIGxldCBwYXJ0SW5kZXggPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHJpZ2h0IDwgeCAvIHN0cmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHJpZ2h0ICsgZGFzaGFycmF5W3BhcnRJbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9kZExlbmd0aCAmJiBwYXJ0SW5kZXggPT09IGRhc2hhcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodCArPSBkYXNoYXJyYXlbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0TGVmdCA9IE1hdGguYWJzKHggLSBsZWZ0ICogc3RyZXRjaCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdFJpZ2h0ID0gTWF0aC5hYnMoeCAtIHJpZ2h0ICogc3RyZXRjaCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGgubWluKGRpc3RMZWZ0LCBkaXN0UmlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IChwYXJ0SW5kZXggJSAyKSA9PT0gMTtcbiAgICAgICAgICAgICAgICBsZXQgc2lnbmVkRGlzdGFuY2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGNpcmNsZSBjYXBzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RNaWRkbGUgPSBuID8geSAvIG4gKiAoaGFsZldpZHRoICsgMSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0RWRnZSA9IGhhbGZXaWR0aCAtIE1hdGguYWJzKGRpc3RNaWRkbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkRGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdCAqIGRpc3QgKyBkaXN0RWRnZSAqIGRpc3RFZGdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gaGFsZldpZHRoIC0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0ICsgZGlzdE1pZGRsZSAqIGRpc3RNaWRkbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmVkRGlzdGFuY2UgPSAoaW5zaWRlID8gMSA6IC0xKSAqIGRpc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhWzMgKyAoaW5kZXggKyB4KSAqIDRdID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBzaWduZWREaXN0YW5jZSArIG9mZnNldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zID0ge1xuICAgICAgICAgICAgeTogKHRoaXMubmV4dFJvdyArIG4gKyAwLjUpIC8gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBoZWlnaHQ6IDIgKiBuIC8gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogbGVuZ3RoXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5uZXh0Um93ICs9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG5cbiAgICBiaW5kKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMuZGF0YSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVBdGxhcztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IHVuaXF1ZUlkLCBhc3luY0FsbCB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgQWN0b3IgZnJvbSAnLi9hY3Rvcic7XG5cbmltcG9ydCB0eXBlIFdvcmtlclBvb2wgZnJvbSAnLi93b3JrZXJfcG9vbCc7XG5cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHNlbmRpbmcgbWVzc2FnZXMgZnJvbSBhIHtAbGluayBTb3VyY2V9IHRvIGFuIGFzc29jaWF0ZWRcbiAqIHtAbGluayBXb3JrZXJTb3VyY2V9LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIERpc3BhdGNoZXIge1xuICAgIHdvcmtlclBvb2w6IFdvcmtlclBvb2w7XG4gICAgYWN0b3JzOiBBcnJheTxBY3Rvcj47XG4gICAgY3VycmVudEFjdG9yOiBudW1iZXI7XG4gICAgaWQ6IG51bWJlcjtcblxuICAgIC8vIGV4cG9zZWQgdG8gYWxsb3cgc3R1YmJpbmcgaW4gdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBBY3RvcjogQ2xhc3M8QWN0b3I+O1xuXG4gICAgY29uc3RydWN0b3Iod29ya2VyUG9vbDogV29ya2VyUG9vbCwgcGFyZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sID0gd29ya2VyUG9vbDtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0b3IgPSAwO1xuICAgICAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcbiAgICAgICAgY29uc3Qgd29ya2VycyA9IHRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlciA9IHdvcmtlcnNbaV07XG4gICAgICAgICAgICBjb25zdCBhY3RvciA9IG5ldyBEaXNwYXRjaGVyLkFjdG9yKHdvcmtlciwgcGFyZW50LCB0aGlzLmlkKTtcbiAgICAgICAgICAgIGFjdG9yLm5hbWUgPSBgV29ya2VyICR7aX1gO1xuICAgICAgICAgICAgdGhpcy5hY3RvcnMucHVzaChhY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCcm9hZGNhc3QgYSBtZXNzYWdlIHRvIGFsbCBXb3JrZXJzLlxuICAgICAqL1xuICAgIGJyb2FkY2FzdCh0eXBlOiBzdHJpbmcsIGRhdGE6IG1peGVkLCBjYj86IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNiID0gY2IgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGFzeW5jQWxsKHRoaXMuYWN0b3JzLCAoYWN0b3IsIGRvbmUpID0+IHtcbiAgICAgICAgICAgIGFjdG9yLnNlbmQodHlwZSwgZGF0YSwgZG9uZSk7XG4gICAgICAgIH0sIGNiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byBhIFdvcmtlci5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0SUQgVGhlIElEIG9mIHRoZSBXb3JrZXIgdG8gd2hpY2ggdG8gc2VuZCB0aGlzIG1lc3NhZ2UuIE9taXQgdG8gYWxsb3cgdGhlIGRpc3BhdGNoZXIgdG8gY2hvb3NlLlxuICAgICAqIEByZXR1cm5zIFRoZSBJRCBvZiB0aGUgd29ya2VyIHRvIHdoaWNoIHRoZSBtZXNzYWdlIHdhcyBzZW50LlxuICAgICAqL1xuICAgIHNlbmQodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2FsbGJhY2s/OiA/RnVuY3Rpb24sIHRhcmdldElEPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRJRCAhPT0gJ251bWJlcicgfHwgaXNOYU4odGFyZ2V0SUQpKSB7XG4gICAgICAgICAgICAvLyBVc2Ugcm91bmQgcm9iaW4gdG8gc2VuZCByZXF1ZXN0cyB0byB3ZWIgd29ya2Vycy5cbiAgICAgICAgICAgIHRhcmdldElEID0gdGhpcy5jdXJyZW50QWN0b3IgPSAodGhpcy5jdXJyZW50QWN0b3IgKyAxKSAlIHRoaXMuYWN0b3JzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0b3JzW3RhcmdldElEXS5zZW5kKHR5cGUsIGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldElEO1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5hY3RvcnMuZm9yRWFjaCgoYWN0b3IpID0+IHsgYWN0b3IucmVtb3ZlKCk7IH0pO1xuICAgICAgICB0aGlzLmFjdG9ycyA9IFtdO1xuICAgICAgICB0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKTtcbiAgICB9XG59XG5cbkRpc3BhdGNoZXIuQWN0b3IgPSBBY3RvcjtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGF0Y2hlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2xuZ19sYXRfYm91bmRzJztcblxuLyoqXG4gKiBBIGBMbmdMYXRgIG9iamVjdCByZXByZXNlbnRzIGEgZ2l2ZW4gbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBjb29yZGluYXRlLCBtZWFzdXJlZCBpbiBkZWdyZWVzLlxuICpcbiAqIE1hcGJveCBHTCB1c2VzIGxvbmdpdHVkZSwgbGF0aXR1ZGUgY29vcmRpbmF0ZSBvcmRlciAoYXMgb3Bwb3NlZCB0byBsYXRpdHVkZSwgbG9uZ2l0dWRlKSB0byBtYXRjaCBHZW9KU09OLlxuICpcbiAqIE5vdGUgdGhhdCBhbnkgTWFwYm94IEdMIG1ldGhvZCB0aGF0IGFjY2VwdHMgYSBgTG5nTGF0YCBvYmplY3QgYXMgYW4gYXJndW1lbnQgb3Igb3B0aW9uXG4gKiBjYW4gYWxzbyBhY2NlcHQgYW4gYEFycmF5YCBvZiB0d28gbnVtYmVycyBhbmQgd2lsbCBwZXJmb3JtIGFuIGltcGxpY2l0IGNvbnZlcnNpb24uXG4gKiBUaGlzIGZsZXhpYmxlIHR5cGUgaXMgZG9jdW1lbnRlZCBhcyB7QGxpbmsgTG5nTGF0TGlrZX0uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGxuZyBMb25naXR1ZGUsIG1lYXN1cmVkIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gbGF0IExhdGl0dWRlLCBtZWFzdXJlZCBpbiBkZWdyZWVzLlxuICogQGV4YW1wbGVcbiAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICogQHNlZSBbR2V0IGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21vdXNlLXBvc2l0aW9uLylcbiAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICogQHNlZSBbQ3JlYXRlIGEgdGltZWxpbmUgYW5pbWF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RpbWVsaW5lLWFuaW1hdGlvbi8pXG4gKi9cbmNsYXNzIExuZ0xhdCB7XG4gICAgbG5nOiBudW1iZXI7XG4gICAgbGF0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihsbmc6IG51bWJlciwgbGF0OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGlzTmFOKGxuZykgfHwgaXNOYU4obGF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIExuZ0xhdCBvYmplY3Q6ICgke2xuZ30sICR7bGF0fSlgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxuZyA9ICtsbmc7XG4gICAgICAgIHRoaXMubGF0ID0gK2xhdDtcbiAgICAgICAgaWYgKHRoaXMubGF0ID4gOTAgfHwgdGhpcy5sYXQgPCAtOTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBMbmdMYXQgbGF0aXR1ZGUgdmFsdWU6IG11c3QgYmUgYmV0d2VlbiAtOTAgYW5kIDkwJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGBMbmdMYXRgIG9iamVjdCB3aG9zZSBsb25naXR1ZGUgaXMgd3JhcHBlZCB0byB0aGUgcmFuZ2UgKC0xODAsIDE4MCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgd3JhcHBlZCBgTG5nTGF0YCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGwgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KDI4Ni4wMjUxLCA0MC43NzM2KTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IGxsLndyYXAoKTtcbiAgICAgKiB3cmFwcGVkLmxuZzsgLy8gPSAtNzMuOTc0OVxuICAgICAqL1xuICAgIHdyYXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0KHdyYXAodGhpcy5sbmcsIC0xODAsIDE4MCksIHRoaXMubGF0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBhcyBhbiBhcnJheSBvZiB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxudW1iZXI+fSBUaGUgY29vcmRpbmF0ZXMgcmVwcmVzZXRlZCBhcyBhbiBhcnJheSBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNik7XG4gICAgICogbGwudG9BcnJheSgpOyAvLyA9IFstNzMuOTc0OSwgNDAuNzczNl1cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMubG5nLCB0aGlzLmxhdF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgcmVwcmVzZW50IGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvb3JkaW5hdGVzIHJlcHJlc2VudGVkIGFzIGEgc3RyaW5nIG9mIHRoZSBmb3JtYXQgYCdMbmdMYXQobG5nLCBsYXQpJ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGwgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45NzQ5LCA0MC43NzM2KTtcbiAgICAgKiBsbC50b1N0cmluZygpOyAvLyA9IFwiTG5nTGF0KC03My45NzQ5LCA0MC43NzM2KVwiXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBgTG5nTGF0Qm91bmRzYCBmcm9tIHRoZSBjb29yZGluYXRlcyBleHRlbmRlZCBieSBhIGdpdmVuIGByYWRpdXNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBEaXN0YW5jZSBpbiBtZXRlcnMgZnJvbSB0aGUgY29vcmRpbmF0ZXMgdG8gZXh0ZW5kIHRoZSBib3VuZHMuXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gQSBuZXcgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY29vcmRpbmF0ZXMgZXh0ZW5kZWQgYnkgdGhlIGByYWRpdXNgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNik7XG4gICAgICogbGwudG9Cb3VuZHMoMTAwKS50b0FycmF5KCk7IC8vID0gW1stNzMuOTc1MDE4NjIxNDEzMjgsIDQwLjc3MzUxMDE2ODQ3MjI5XSwgWy03My45NzQ3ODEzNzg1ODY3MywgNDAuNzczNjg5ODMxNTI3NzFdXVxuICAgICAqL1xuICAgIHRvQm91bmRzKHJhZGl1czogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGVhcnRoQ2lyY3VtZmVyZW5jZUluTWV0ZXJzQXRFcXVhdG9yID0gNDAwNzUwMTc7XG4gICAgICAgIGNvbnN0IGxhdEFjY3VyYWN5ID0gMzYwICogcmFkaXVzIC8gZWFydGhDaXJjdW1mZXJlbmNlSW5NZXRlcnNBdEVxdWF0b3IsXG4gICAgICAgICAgICBsbmdBY2N1cmFjeSA9IGxhdEFjY3VyYWN5IC8gTWF0aC5jb3MoKE1hdGguUEkgLyAxODApICogdGhpcy5sYXQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKG5ldyBMbmdMYXQodGhpcy5sbmcgLSBsbmdBY2N1cmFjeSwgdGhpcy5sYXQgLSBsYXRBY2N1cmFjeSksXG4gICAgICAgICAgICBuZXcgTG5nTGF0KHRoaXMubG5nICsgbG5nQWNjdXJhY3ksIHRoaXMubGF0ICsgbGF0QWNjdXJhY3kpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiB0d28gbnVtYmVycyB0byBhIGBMbmdMYXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIElmIGEgYExuZ0xhdGAgb2JqZWN0IGlzIHBhc3NlZCBpbiwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXQgdW5jaGFuZ2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBpbnB1dCBBbiBhcnJheSBvZiB0d28gbnVtYmVycyB0byBjb252ZXJ0LCBvciBhIGBMbmdMYXRgIG9iamVjdCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gQSBuZXcgYExuZ0xhdGAgb2JqZWN0LCBpZiBhIGNvbnZlcnNpb24gb2NjdXJyZWQsIG9yIHRoZSBvcmlnaW5hbCBgTG5nTGF0YCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgYXJyID0gWy03My45NzQ5LCA0MC43NzM2XTtcbiAgICAgKiB2YXIgbGwgPSBtYXBib3hnbC5MbmdMYXQuY29udmVydChhcnIpO1xuICAgICAqIGxsOyAgIC8vID0gTG5nTGF0IHtsbmc6IC03My45NzQ5LCBsYXQ6IDQwLjc3MzZ9XG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnQoaW5wdXQ6IExuZ0xhdExpa2UpOiBMbmdMYXQge1xuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBMbmdMYXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkgJiYgKGlucHV0Lmxlbmd0aCA9PT0gMiB8fCBpbnB1dC5sZW5ndGggPT09IDMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChOdW1iZXIoaW5wdXRbMF0pLCBOdW1iZXIoaW5wdXRbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTG5nTGF0KE51bWJlcihpbnB1dC5sbmcpLCBOdW1iZXIoaW5wdXQubGF0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYExuZ0xhdExpa2VgIGFyZ3VtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgTG5nTGF0IGluc3RhbmNlLCBhbiBvYmplY3Qge2xuZzogPGxuZz4sIGxhdDogPGxhdD59LCBvciBhbiBhcnJheSBvZiBbPGxuZz4sIDxsYXQ+XVwiKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSB7QGxpbmsgTG5nTGF0fSBvYmplY3QsIGFuIGFycmF5IG9mIHR3byBudW1iZXJzIHJlcHJlc2VudGluZyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLFxuICogb3IgYW4gb2JqZWN0IHdpdGggYGxuZ2AgYW5kIGBsYXRgIHByb3BlcnRpZXMuXG4gKlxuICogQHR5cGVkZWYge0xuZ0xhdCB8IHtsbmc6IG51bWJlciwgbGF0OiBudW1iZXJ9IHwgW251bWJlciwgbnVtYmVyXX0gTG5nTGF0TGlrZVxuICogQGV4YW1wbGVcbiAqIHZhciB2MSA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTEyMi40MjA2NzksIDM3Ljc3MjUzNyk7XG4gKiB2YXIgdjIgPSBbLTEyMi40MjA2NzksIDM3Ljc3MjUzN107XG4gKi9cbmV4cG9ydCB0eXBlIExuZ0xhdExpa2UgPSBMbmdMYXQgfCB7bG5nOiBudW1iZXIsIGxhdDogbnVtYmVyfSB8IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBkZWZhdWx0IExuZ0xhdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBMbmdMYXQgZnJvbSAnLi9sbmdfbGF0JztcblxuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gJy4vbG5nX2xhdCc7XG5cbi8qKlxuICogQSBgTG5nTGF0Qm91bmRzYCBvYmplY3QgcmVwcmVzZW50cyBhIGdlb2dyYXBoaWNhbCBib3VuZGluZyBib3gsXG4gKiBkZWZpbmVkIGJ5IGl0cyBzb3V0aHdlc3QgYW5kIG5vcnRoZWFzdCBwb2ludHMgaW4gbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZS5cbiAqXG4gKiBJZiBubyBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3RvciwgYSBgbnVsbGAgYm91bmRpbmcgYm94IGlzIGNyZWF0ZWQuXG4gKlxuICogTm90ZSB0aGF0IGFueSBNYXBib3ggR0wgbWV0aG9kIHRoYXQgYWNjZXB0cyBhIGBMbmdMYXRCb3VuZHNgIG9iamVjdCBhcyBhbiBhcmd1bWVudCBvciBvcHRpb25cbiAqIGNhbiBhbHNvIGFjY2VwdCBhbiBgQXJyYXlgIG9mIHR3byB7QGxpbmsgTG5nTGF0TGlrZX0gY29uc3RydWN0cyBhbmQgd2lsbCBwZXJmb3JtIGFuIGltcGxpY2l0IGNvbnZlcnNpb24uXG4gKiBUaGlzIGZsZXhpYmxlIHR5cGUgaXMgZG9jdW1lbnRlZCBhcyB7QGxpbmsgTG5nTGF0Qm91bmRzTGlrZX0uXG4gKlxuICogQHBhcmFtIHtMbmdMYXRMaWtlfSBbc3ddIFRoZSBzb3V0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gKiBAcGFyYW0ge0xuZ0xhdExpa2V9IFtuZV0gVGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgc3cgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45ODc2LCA0MC43NjYxKTtcbiAqIHZhciBuZSA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjkzOTcsIDQwLjgwMDIpO1xuICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoc3csIG5lKTtcbiAqL1xuY2xhc3MgTG5nTGF0Qm91bmRzIHtcbiAgICBfbmU6IExuZ0xhdDtcbiAgICBfc3c6IExuZ0xhdDtcblxuICAgIC8vIFRoaXMgY29uc3RydWN0b3IgaXMgdG9vIGZsZXhpYmxlIHRvIHR5cGUuIEl0IHNob3VsZCBub3QgYmUgc28gZmxleGlibGUuXG4gICAgY29uc3RydWN0b3Ioc3c6IGFueSwgbmU6IGFueSkge1xuICAgICAgICBpZiAoIXN3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAobmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U291dGhXZXN0KHN3KS5zZXROb3J0aEVhc3QobmUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN3Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTb3V0aFdlc3QoW3N3WzBdLCBzd1sxXV0pLnNldE5vcnRoRWFzdChbc3dbMl0sIHN3WzNdXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXRoV2VzdChzd1swXSkuc2V0Tm9ydGhFYXN0KHN3WzFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbm9ydGhlYXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IG5lXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgc2V0Tm9ydGhFYXN0KG5lOiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX25lID0gbmUgaW5zdGFuY2VvZiBMbmdMYXQgPyBuZXcgTG5nTGF0KG5lLmxuZywgbmUubGF0KSA6IExuZ0xhdC5jb252ZXJ0KG5lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzb3V0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gc3dcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRTb3V0aFdlc3Qoc3c6IExuZ0xhdExpa2UpIHtcbiAgICAgICAgdGhpcy5fc3cgPSBzdyBpbnN0YW5jZW9mIExuZ0xhdCA/IG5ldyBMbmdMYXQoc3cubG5nLCBzdy5sYXQpIDogTG5nTGF0LmNvbnZlcnQoc3cpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgdGhlIGJvdW5kcyB0byBpbmNsdWRlIGEgZ2l2ZW4gTG5nTGF0IG9yIExuZ0xhdEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0fExuZ0xhdEJvdW5kc30gb2JqIG9iamVjdCB0byBleHRlbmQgdG9cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBgdGhpc2BcbiAgICAgKi9cbiAgICBleHRlbmQob2JqOiBMbmdMYXQgfCBMbmdMYXRCb3VuZHMpIHtcbiAgICAgICAgY29uc3Qgc3cgPSB0aGlzLl9zdyxcbiAgICAgICAgICAgIG5lID0gdGhpcy5fbmU7XG4gICAgICAgIGxldCBzdzIsIG5lMjtcblxuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTG5nTGF0KSB7XG4gICAgICAgICAgICBzdzIgPSBvYmo7XG4gICAgICAgICAgICBuZTIgPSBvYmo7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBMbmdMYXRCb3VuZHMpIHtcbiAgICAgICAgICAgIHN3MiA9IG9iai5fc3c7XG4gICAgICAgICAgICBuZTIgPSBvYmouX25lO1xuXG4gICAgICAgICAgICBpZiAoIXN3MiB8fCAhbmUyKSByZXR1cm4gdGhpcztcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmouZXZlcnkoQXJyYXkuaXNBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5kKExuZ0xhdEJvdW5kcy5jb252ZXJ0KG9iaikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuZChMbmdMYXQuY29udmVydChvYmopKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3cgJiYgIW5lKSB7XG4gICAgICAgICAgICB0aGlzLl9zdyA9IG5ldyBMbmdMYXQoc3cyLmxuZywgc3cyLmxhdCk7XG4gICAgICAgICAgICB0aGlzLl9uZSA9IG5ldyBMbmdMYXQobmUyLmxuZywgbmUyLmxhdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3LmxuZyA9IE1hdGgubWluKHN3Mi5sbmcsIHN3LmxuZyk7XG4gICAgICAgICAgICBzdy5sYXQgPSBNYXRoLm1pbihzdzIubGF0LCBzdy5sYXQpO1xuICAgICAgICAgICAgbmUubG5nID0gTWF0aC5tYXgobmUyLmxuZywgbmUubG5nKTtcbiAgICAgICAgICAgIG5lLmxhdCA9IE1hdGgubWF4KG5lMi5sYXQsIG5lLmxhdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSBlcXVpZGlzdGFudCBmcm9tIHRoZSBib3VuZGluZyBib3gncyBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIGJvdW5kaW5nIGJveCdzIGNlbnRlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbGIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFstNzMuOTg3NiwgNDAuNzY2MV0sIFstNzMuOTM5NywgNDAuODAwMl0pO1xuICAgICAqIGxsYi5nZXRDZW50ZXIoKTsgLy8gPSBMbmdMYXQge2xuZzogLTczLjk2MzY1LCBsYXQ6IDQwLjc4MzE1fVxuICAgICAqL1xuICAgIGdldENlbnRlcigpOiBMbmdMYXQge1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdCgodGhpcy5fc3cubG5nICsgdGhpcy5fbmUubG5nKSAvIDIsICh0aGlzLl9zdy5sYXQgKyB0aGlzLl9uZS5sYXQpIC8gMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHNvdXRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aFdlc3QoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMuX3N3OyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgbm9ydGhlYXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldE5vcnRoRWFzdCgpOiBMbmdMYXQgeyByZXR1cm4gdGhpcy5fbmU7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgbm9ydGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBub3J0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0Tm9ydGhXZXN0KCk6IExuZ0xhdCB7IHJldHVybiBuZXcgTG5nTGF0KHRoaXMuZ2V0V2VzdCgpLCB0aGlzLmdldE5vcnRoKCkpOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIHNvdXRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgc291dGhlYXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldFNvdXRoRWFzdCgpOiBMbmdMYXQgeyByZXR1cm4gbmV3IExuZ0xhdCh0aGlzLmdldEVhc3QoKSwgdGhpcy5nZXRTb3V0aCgpKTsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSB3ZXN0IGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgd2VzdCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0V2VzdCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fc3cubG5nOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIHNvdXRoIGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgc291dGggZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldFNvdXRoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9zdy5sYXQ7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgZWFzdCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIGVhc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldEVhc3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX25lLmxuZzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBub3J0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG5vcnRoIGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXROb3J0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbmUubGF0OyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBib3VuZGluZyBib3ggcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IFRoZSBib3VuZGluZyBib3ggcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXksIGNvbnNpc3Rpbmcgb2YgdGhlXG4gICAgICogICBzb3V0aHdlc3QgYW5kIG5vcnRoZWFzdCBjb29yZGluYXRlcyBvZiB0aGUgYm91bmRpbmcgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIG51bWJlcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGxiID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcyhbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdKTtcbiAgICAgKiBsbGIudG9BcnJheSgpOyAvLyA9IFtbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdXVxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5fc3cudG9BcnJheSgpLCB0aGlzLl9uZS50b0FycmF5KCldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGJvdW5kaW5nIGJveCByZXByZXNlbnRzIGFzIGEgc3RyaW5nIG9mIHRoZSBmb3JtYXRcbiAgICAgKiAgIGAnTG5nTGF0Qm91bmRzKExuZ0xhdChsbmcsIGxhdCksIExuZ0xhdChsbmcsIGxhdCkpJ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGxiID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcyhbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdKTtcbiAgICAgKiBsbGIudG9TdHJpbmcoKTsgLy8gPSBcIkxuZ0xhdEJvdW5kcyhMbmdMYXQoLTczLjk4NzYsIDQwLjc2NjEpLCBMbmdMYXQoLTczLjkzOTcsIDQwLjgwMDIpKVwiXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgTG5nTGF0Qm91bmRzKCR7dGhpcy5fc3cudG9TdHJpbmcoKX0sICR7dGhpcy5fbmUudG9TdHJpbmcoKX0pYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94IGlzIGFuIGVtcHR5L2BudWxsYC10eXBlIGJveC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGJvdW5kcyBoYXZlIGJlZW4gZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqL1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMuX3N3ICYmIHRoaXMuX25lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSB0byBhIGBMbmdMYXRCb3VuZHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIElmIGEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IGlzIHBhc3NlZCBpbiwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXQgdW5jaGFuZ2VkLlxuICAgICAqXG4gICAgICogSW50ZXJuYWxseSwgdGhlIGZ1bmN0aW9uIGNhbGxzIGBMbmdMYXQjY29udmVydGAgdG8gY29udmVydCBhcnJheXMgdG8gYExuZ0xhdGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBpbnB1dCBBbiBhcnJheSBvZiB0d28gY29vcmRpbmF0ZXMgdG8gY29udmVydCwgb3IgYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IEEgbmV3IGBMbmdMYXRCb3VuZHNgIG9iamVjdCwgaWYgYSBjb252ZXJzaW9uIG9jY3VycmVkLCBvciB0aGUgb3JpZ2luYWwgYExuZ0xhdEJvdW5kc2Agb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGFyciA9IFtbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdXTtcbiAgICAgKiB2YXIgbGxiID0gbWFwYm94Z2wuTG5nTGF0Qm91bmRzLmNvbnZlcnQoYXJyKTtcbiAgICAgKiBsbGI7ICAgLy8gPSBMbmdMYXRCb3VuZHMge19zdzogTG5nTGF0IHtsbmc6IC03My45ODc2LCBsYXQ6IDQwLjc2NjF9LCBfbmU6IExuZ0xhdCB7bG5nOiAtNzMuOTM5NywgbGF0OiA0MC44MDAyfX1cbiAgICAgKi9cbiAgICBzdGF0aWMgY29udmVydChpbnB1dDogTG5nTGF0Qm91bmRzTGlrZSk6IExuZ0xhdEJvdW5kcyB7XG4gICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQgaW5zdGFuY2VvZiBMbmdMYXRCb3VuZHMpIHJldHVybiBpbnB1dDtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXRCb3VuZHMoaW5wdXQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIHtAbGluayBMbmdMYXRCb3VuZHN9IG9iamVjdCwgYW4gYXJyYXkgb2Yge0BsaW5rIExuZ0xhdExpa2V9IG9iamVjdHMgaW4gW3N3LCBuZV0gb3JkZXIsXG4gKiBvciBhbiBhcnJheSBvZiBudW1iZXJzIGluIFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIG9yZGVyLlxuICpcbiAqIEB0eXBlZGVmIHtMbmdMYXRCb3VuZHMgfCBbTG5nTGF0TGlrZSwgTG5nTGF0TGlrZV0gfCBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXX0gTG5nTGF0Qm91bmRzTGlrZVxuICogQGV4YW1wbGVcbiAqIHZhciB2MSA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoXG4gKiAgIG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk4NzYsIDQwLjc2NjEpLFxuICogICBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKVxuICogKTtcbiAqIHZhciB2MiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSlcbiAqIHZhciB2MyA9IFtbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdXTtcbiAqL1xuZXhwb3J0IHR5cGUgTG5nTGF0Qm91bmRzTGlrZSA9IExuZ0xhdEJvdW5kcyB8IFtMbmdMYXRMaWtlLCBMbmdMYXRMaWtlXSB8IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZGVmYXVsdCBMbmdMYXRCb3VuZHM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUge0Nhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcblxuY2xhc3MgVGlsZUJvdW5kcyB7XG4gICAgYm91bmRzOiBMbmdMYXRCb3VuZHM7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKGJvdW5kcykpO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSBtaW56b29tIHx8IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IG1heHpvb20gfHwgMjQ7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVCb3VuZHMoYm91bmRzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSkge1xuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGJvdW5kcyBwcm9wZXJ0eSBjb250YWlucyB2YWxpZCBsb25naXR1ZGUgYW5kIGxhdGl0dWRlc1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYm91bmRzKSB8fCBib3VuZHMubGVuZ3RoICE9PSA0KSByZXR1cm4gWy0xODAsIC05MCwgMTgwLCA5MF07XG4gICAgICAgIHJldHVybiBbTWF0aC5tYXgoLTE4MCwgYm91bmRzWzBdKSwgTWF0aC5tYXgoLTkwLCBib3VuZHNbMV0pLCBNYXRoLm1pbigxODAsIGJvdW5kc1syXSksIE1hdGgubWluKDkwLCBib3VuZHNbM10pXTtcbiAgICB9XG5cbiAgICBjb250YWlucyh0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCkge1xuICAgICAgICBjb25zdCBsZXZlbCA9IHtcbiAgICAgICAgICAgIG1pblg6IE1hdGguZmxvb3IodGhpcy5sbmdYKHRoaXMuYm91bmRzLmdldFdlc3QoKSwgdGlsZUlELnopKSxcbiAgICAgICAgICAgIG1pblk6IE1hdGguZmxvb3IodGhpcy5sYXRZKHRoaXMuYm91bmRzLmdldE5vcnRoKCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtYXhYOiBNYXRoLmNlaWwodGhpcy5sbmdYKHRoaXMuYm91bmRzLmdldEVhc3QoKSwgdGlsZUlELnopKSxcbiAgICAgICAgICAgIG1heFk6IE1hdGguY2VpbCh0aGlzLmxhdFkodGhpcy5ib3VuZHMuZ2V0U291dGgoKSwgdGlsZUlELnopKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoaXQgPSB0aWxlSUQueCA+PSBsZXZlbC5taW5YICYmIHRpbGVJRC54IDwgbGV2ZWwubWF4WCAmJiB0aWxlSUQueSA+PSBsZXZlbC5taW5ZICYmIHRpbGVJRC55IDwgbGV2ZWwubWF4WTtcbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG5cbiAgICBsbmdYKGxuZzogbnVtYmVyLCB6b29tOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIChsbmcgKyAxODApICogKE1hdGgucG93KDIsIHpvb20pIC8gMzYwKTtcbiAgICB9XG5cbiAgICBsYXRZKGxhdDogbnVtYmVyLCB6b29tOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZiA9IGNsYW1wKE1hdGguc2luKE1hdGguUEkgLyAxODAgKiBsYXQpLCAtMC45OTk5LCAwLjk5OTkpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIHpvb20pIC8gKDIgKiBNYXRoLlBJKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDIsIHpvb20gLSAxKSArIDAuNSAqIE1hdGgubG9nKCgxICsgZikgLyAoMSAtIGYpKSAqIC1zY2FsZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVCb3VuZHM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB7IGV4dGVuZCwgcGljayB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbic7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCwgcG9zdFR1cm5zdGlsZUV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXBib3gnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcyc7XG5pbXBvcnQgeyBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUnO1xuaW1wb3J0IHR5cGUge1ZlY3RvclNvdXJjZVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuXG5jbGFzcyBWZWN0b3JUaWxlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ3ZlY3Rvcic7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHNjaGVtZTogc3RyaW5nO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG5cbiAgICBfb3B0aW9uczogVmVjdG9yU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgYm91bmRzOiA/W251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gICAgdGlsZXM6IEFycmF5PHN0cmluZz47XG4gICAgdGlsZUJvdW5kczogVGlsZUJvdW5kcztcbiAgICByZXBhcnNlT3ZlcnNjYWxlZDogYm9vbGVhbjtcbiAgICBpc1RpbGVDbGlwcGVkOiBib29sZWFuO1xuICAgIF90aWxlSlNPTlJlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogVmVjdG9yU291cmNlU3BlY2lmaWNhdGlvbiAmIHtjb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW59LCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcblxuICAgICAgICB0aGlzLnR5cGUgPSAndmVjdG9yJztcbiAgICAgICAgdGhpcy5taW56b29tID0gMDtcbiAgICAgICAgdGhpcy5tYXh6b29tID0gMjI7XG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ3h5eic7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMucmVwYXJzZU92ZXJzY2FsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzVGlsZUNsaXBwZWQgPSB0cnVlO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCBwaWNrKG9wdGlvbnMsIFsndXJsJywgJ3NjaGVtZScsICd0aWxlU2l6ZSddKSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoeyB0eXBlOiAndmVjdG9yJyB9LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSBvcHRpb25zLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICBpZiAodGhpcy50aWxlU2l6ZSAhPT0gNTEyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QgPSBsb2FkVGlsZUpTT04odGhpcy5fb3B0aW9ucywgdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QsIChlcnIsIHRpbGVKU09OKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgdGlsZUpTT04pO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlSlNPTi5ib3VuZHMpIHRoaXMudGlsZUJvdW5kcyA9IG5ldyBUaWxlQm91bmRzKHRpbGVKU09OLmJvdW5kcywgdGhpcy5taW56b29tLCB0aGlzLm1heHpvb20pO1xuXG4gICAgICAgICAgICAgICAgcG9zdFR1cm5zdGlsZUV2ZW50KHRpbGVKU09OLnRpbGVzKTtcblxuICAgICAgICAgICAgICAgIC8vIGBjb250ZW50YCBpcyBpbmNsdWRlZCBoZXJlIHRvIHByZXZlbnQgYSByYWNlIGNvbmRpdGlvbiB3aGVyZSBgU3R5bGUjX3VwZGF0ZVNvdXJjZXNgIGlzIGNhbGxlZFxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgVGlsZUpTT04gYXJyaXZlcy4gdGhpcyBtYWtlcyBzdXJlIHRoZSB0aWxlcyBuZWVkZWQgYXJlIGxvYWRlZCBvbmNlIFRpbGVKU09OIGFycml2ZXNcbiAgICAgICAgICAgICAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNDM0NyNkaXNjdXNzaW9uX3IxMDQ0MTgwODhcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWxlSlNPTlJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSksIHRoaXMudXJsKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSksXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUgKiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlczogdGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLFxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgaWYgKHRpbGUud29ya2VySUQgPT09IHVuZGVmaW5lZCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZS5zdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICAvLyBzY2hlZHVsZSB0aWxlIHJlbG9hZGluZyBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgICAgIHRpbGUucmVsb2FkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdyZWxvYWRUaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHRpbGUud29ya2VySUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlc291cmNlVGltaW5nKVxuICAgICAgICAgICAgICAgIHRpbGUucmVzb3VyY2VUaW1pbmcgPSBkYXRhLnJlc291cmNlVGltaW5nO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMgJiYgZGF0YSkgdGlsZS5zZXRFeHBpcnlEYXRhKGRhdGEpO1xuICAgICAgICAgICAgdGlsZS5sb2FkVmVjdG9yRGF0YShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLnJlbG9hZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZSh0aWxlLCB0aWxlLnJlbG9hZENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdhYm9ydFRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgdW5kZWZpbmVkLCB0aWxlLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBwaWNrIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbic7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCwgcG9zdFR1cm5zdGlsZUV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXBib3gnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlJztcbmltcG9ydCB0eXBlIHtcbiAgICBSYXN0ZXJTb3VyY2VTcGVjaWZpY2F0aW9uLFxuICAgIFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5cbmNsYXNzIFJhc3RlclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAncmFzdGVyJyB8ICdyYXN0ZXItZGVtJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGlsZXM6IEFycmF5PHN0cmluZz47XG5cbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9vcHRpb25zOiBSYXN0ZXJTb3VyY2VTcGVjaWZpY2F0aW9uIHwgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICBfdGlsZUpTT05SZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5yb3VuZFpvb20gPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVtZSA9ICd4eXonO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aWxlSlNPTikge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCB0aWxlSlNPTik7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGVKU09OLmJvdW5kcykgdGhpcy50aWxlQm91bmRzID0gbmV3IFRpbGVCb3VuZHModGlsZUpTT04uYm91bmRzLCB0aGlzLm1pbnpvb20sIHRoaXMubWF4em9vbSk7XG5cbiAgICAgICAgICAgICAgICBwb3N0VHVybnN0aWxlRXZlbnQodGlsZUpTT04udGlsZXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlsZUpTT05SZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcbiAgICB9XG5cbiAgICBoYXNUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICByZXR1cm4gIXRoaXMudGlsZUJvdW5kcyB8fCB0aGlzLnRpbGVCb3VuZHMuY29udGFpbnModGlsZUlELmNhbm9uaWNhbCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5vcm1hbGl6ZVVSTCh0aWxlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsIHRoaXMuc2NoZW1lKSwgdGhpcy51cmwsIHRoaXMudGlsZVNpemUpO1xuICAgICAgICB0aWxlLnJlcXVlc3QgPSBnZXRJbWFnZSh0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5UaWxlKSwgKGVyciwgaW1nKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzKSB0aWxlLnNldEV4cGlyeURhdGEoaW1nKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgZGVsZXRlIChpbWc6IGFueSkuZXhwaXJlcztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZSA9IHRoaXMubWFwLnBhaW50ZXIuZ2V0VGlsZVRleHR1cmUoaW1nLndpZHRoKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZS50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZS51cGRhdGUoaW1nLCB7IHVzZU1pcG1hcDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBpbWcsIGdsLlJHQkEsIHsgdXNlTWlwbWFwOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWJvcnRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBpZiAodGlsZS5yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aWxlLnJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBSYXN0ZXJUaWxlU291cmNlIGZyb20gJy4vcmFzdGVyX3RpbGVfc291cmNlJztcbi8vIGVuc3VyZSBERU1EYXRhIGlzIHJlZ2lzdGVyZWQgZm9yIHdvcmtlciB0cmFuc2ZlciBvbiBtYWluIHRocmVhZDpcbmltcG9ydCAnLi4vZGF0YS9kZW1fZGF0YSc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUge1Jhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuXG5cbmNsYXNzIFJhc3RlckRFTVRpbGVTb3VyY2UgZXh0ZW5kcyBSYXN0ZXJUaWxlU291cmNlIGltcGxlbWVudHMgU291cmNlIHtcbiAgICBlbmNvZGluZzogXCJtYXBib3hcIiB8IFwidGVycmFyaXVtXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlci1kZW0nO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8IFwibWFwYm94XCI7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Jhc3Rlci1kZW0nLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGlsZXM6IHRoaXMudGlsZXMsXG4gICAgICAgICAgICBib3VuZHM6IHRoaXMuYm91bmRzLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IHRoaXMuZW5jb2RpbmdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCBpbWFnZUxvYWRlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aWxlLm5laWdoYm9yaW5nVGlsZXMgPSB0aGlzLl9nZXROZWlnaGJvcmluZ1RpbGVzKHRpbGUudGlsZUlEKTtcbiAgICAgICAgZnVuY3Rpb24gaW1hZ2VMb2FkZWQoZXJyLCBpbWcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzKSB0aWxlLnNldEV4cGlyeURhdGEoaW1nKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgZGVsZXRlIChpbWc6IGFueSkuZXhwaXJlcztcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0ltYWdlRGF0YSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgICAgICAgICBjb29yZDogdGlsZS50aWxlSUQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmF3SW1hZ2VEYXRhOiByYXdJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nOiB0aGlzLmVuY29kaW5nXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICghdGlsZS53b3JrZXJJRCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdsb2FkREVNVGlsZScsIHBhcmFtcywgZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb25lKGVyciwgZGVtKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVtKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5kZW0gPSBkZW07XG4gICAgICAgICAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX2dldE5laWdoYm9yaW5nVGlsZXModGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIGNhbm9uaWNhbC56KTtcblxuICAgICAgICBjb25zdCBweCA9IChjYW5vbmljYWwueCAtIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBweHcgPSBjYW5vbmljYWwueCA9PT0gMCA/IHRpbGVJRC53cmFwIC0gMSA6IHRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCBueCA9IChjYW5vbmljYWwueCArIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBueHcgPSBjYW5vbmljYWwueCArIDEgPT09IGRpbSA/IHRpbGVJRC53cmFwICsgMSA6IHRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nVGlsZXMgPSB7fTtcbiAgICAgICAgLy8gYWRkIGFkamFjZW50IHRpbGVzXG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgbnh3LCBjYW5vbmljYWwueiwgbngsIGNhbm9uaWNhbC55KS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcblxuICAgICAgICAvLyBBZGQgdXBwZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgPiAwKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55IC0gMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbG93ZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgKyAxIDwgZGltKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55ICsgMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1RpbGVzO1xuICAgIH1cblxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKHRpbGUuZGVtVGV4dHVyZSk7XG4gICAgICAgIGlmICh0aWxlLmZibykge1xuICAgICAgICAgICAgdGlsZS5mYm8uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUuZmJvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlLmRlbSkgZGVsZXRlIHRpbGUuZGVtO1xuICAgICAgICBkZWxldGUgdGlsZS5uZWlnaGJvcmluZ1RpbGVzO1xuXG4gICAgICAgIHRpbGUuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlREVNVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlckRFTVRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUge1BlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmd9IGZyb20gJy4uL3R5cGVzL3BlcmZvcm1hbmNlX3Jlc291cmNlX3RpbWluZyc7XG5pbXBvcnQgdHlwZSB7R2VvSlNPTiwgR2VvSlNPTkZlYXR1cmV9IGZyb20gJ0BtYXBib3gvZ2VvanNvbi10eXBlcyc7XG5pbXBvcnQgdHlwZSB7R2VvSlNPTlNvdXJjZVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuXG4vKipcbiAqIEEgc291cmNlIGNvbnRhaW5pbmcgR2VvSlNPTi5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWdlb2pzb24pIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgICBkYXRhOiAnaHR0cHM6Ly9kMmFkNmI0dXI3eXZwcS5jbG91ZGZyb250Lm5ldC9uYXR1cmFsZWFydGgtMy4zLjAvbmVfMTBtX3BvcnRzLmdlb2pzb24nXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgIGRhdGE6IHtcbiAqICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICAgICAgIFwiZmVhdHVyZXNcIjogW3tcbiAqICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICogICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogW1xuICogICAgICAgICAgICAgICAgICAgIC03Ni41MzA2MzI5NzI3MTcyOSxcbiAqICAgICAgICAgICAgICAgICAgICAzOS4xODE3NDA3Nzk5NDEwOFxuICogICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgICB9XG4gKiAgICAgICAgfV1cbiAqICAgIH1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSh7XG4gKiAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gKiAgIFwiZmVhdHVyZXNcIjogW3tcbiAqICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgIFwicHJvcGVydGllc1wiOiB7IFwibmFtZVwiOiBcIk51bGwgSXNsYW5kXCIgfSxcbiAqICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbIDAsIDAgXVxuICogICAgICAgfVxuICogICB9XVxuICogfSk7XG4gKiBAc2VlIFtEcmF3IEdlb0pTT04gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbWFya2Vycy8pXG4gKiBAc2VlIFtBZGQgYSBHZW9KU09OIGxpbmVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1saW5lLylcbiAqIEBzZWUgW0NyZWF0ZSBhIGhlYXRtYXAgZnJvbSBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaGVhdG1hcC8pXG4gKiBAc2VlIFtDcmVhdGUgYW5kIHN0eWxlIGNsdXN0ZXJzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXIvKVxuICovXG5jbGFzcyBHZW9KU09OU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ2dlb2pzb24nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIGF0dHJpYnV0aW9uOiBzdHJpbmc7XG5cbiAgICBpc1RpbGVDbGlwcGVkOiBib29sZWFuO1xuICAgIHJlcGFyc2VPdmVyc2NhbGVkOiBib29sZWFuO1xuICAgIF9kYXRhOiBHZW9KU09OIHwgc3RyaW5nO1xuICAgIF9vcHRpb25zOiBhbnk7XG4gICAgd29ya2VyT3B0aW9uczogYW55O1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgd29ya2VySUQ6IG51bWJlcjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgX3Jlc291cmNlVGltaW5nOiBBcnJheTxQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nPjtcbiAgICBfcmVtb3ZlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogR2VvSlNPTlNvdXJjZVNwZWNpZmljYXRpb24gJiB7d29ya2VyT3B0aW9ucz86IGFueSwgY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFufSwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICAvLyBgdHlwZWAgaXMgYSBwcm9wZXJ0eSByYXRoZXIgdGhhbiBhIGNvbnN0YW50IHRvIG1ha2UgaXQgZWFzeSBmb3IgM3JkXG4gICAgICAgIC8vIHBhcnRpZXMgdG8gdXNlIEdlb0pTT05Tb3VyY2UgdG8gYnVpbGQgdGhlaXIgb3duIHNvdXJjZSB0eXBlcy5cbiAgICAgICAgdGhpcy50eXBlID0gJ2dlb2pzb24nO1xuXG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDE4O1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLmlzVGlsZUNsaXBwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcGFyc2VPdmVyc2NhbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLl9kYXRhID0gKG9wdGlvbnMuZGF0YTogYW55KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nID0gb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlVGltaW5nID0gW107XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4em9vbSAhPT0gdW5kZWZpbmVkKSB0aGlzLm1heHpvb20gPSBvcHRpb25zLm1heHpvb207XG4gICAgICAgIGlmIChvcHRpb25zLnR5cGUpIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRpb24pIHRoaXMuYXR0cmlidXRpb24gPSBvcHRpb25zLmF0dHJpYnV0aW9uO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gRVhURU5UIC8gdGhpcy50aWxlU2l6ZTtcblxuICAgICAgICAvLyBzZW50IHRvIHRoZSB3b3JrZXIsIGFsb25nIHdpdGggYHVybDogLi4uYCBvciBgZGF0YTogbGl0ZXJhbCBnZW9qc29uYCxcbiAgICAgICAgLy8gc28gdGhhdCBpdCBjYW4gbG9hZC9wYXJzZS9pbmRleCB0aGUgZ2VvanNvbiBkYXRhXG4gICAgICAgIC8vIGV4dGVuZGluZyB3aXRoIGBvcHRpb25zLndvcmtlck9wdGlvbnNgIGhlbHBzIHRvIG1ha2UgaXQgZWFzeSBmb3JcbiAgICAgICAgLy8gdGhpcmQtcGFydHkgc291cmNlcyB0byBoYWNrL3JldXNlIEdlb0pTT05Tb3VyY2UuXG4gICAgICAgIHRoaXMud29ya2VyT3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBjbHVzdGVyOiBvcHRpb25zLmNsdXN0ZXIgfHwgZmFsc2UsXG4gICAgICAgICAgICBnZW9qc29uVnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgYnVmZmVyOiAob3B0aW9ucy5idWZmZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYnVmZmVyIDogMTI4KSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIHRvbGVyYW5jZTogKG9wdGlvbnMudG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRvbGVyYW5jZSA6IDAuMzc1KSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIGV4dGVudDogRVhURU5ULFxuICAgICAgICAgICAgICAgIG1heFpvb206IHRoaXMubWF4em9vbSxcbiAgICAgICAgICAgICAgICBsaW5lTWV0cmljczogb3B0aW9ucy5saW5lTWV0cmljcyB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUlkOiBvcHRpb25zLmdlbmVyYXRlSWQgfHwgZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBlcmNsdXN0ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogb3B0aW9ucy5jbHVzdGVyTWF4Wm9vbSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4ob3B0aW9ucy5jbHVzdGVyTWF4Wm9vbSwgdGhpcy5tYXh6b29tIC0gMSkgOlxuICAgICAgICAgICAgICAgICAgICAodGhpcy5tYXh6b29tIC0gMSksXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAob3B0aW9ucy5jbHVzdGVyUmFkaXVzIHx8IDUwKSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIGxvZzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucy53b3JrZXJPcHRpb25zKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IE9iamVjdCA9IHsgZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJyB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyAmJiB0aGlzLl9yZXNvdXJjZVRpbWluZyAmJiAodGhpcy5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc291cmNlVGltaW5nID0gdGhpcy5fcmVzb3VyY2VUaW1pbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWx0aG91Z2ggR2VvSlNPTiBzb3VyY2VzIGNvbnRhaW4gbm8gbWV0YWRhdGEsIHdlIGZpcmUgdGhpcyBldmVudCB0byBsZXQgdGhlIFNvdXJjZUNhY2hlXG4gICAgICAgICAgICAvLyBrbm93IGl0cyBvayB0byBzdGFydCByZXF1ZXN0aW5nIHRpbGVzLlxuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEdlb0pTT04gZGF0YSBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBkYXRhIEEgR2VvSlNPTiBkYXRhIG9iamVjdCBvciBhIFVSTCB0byBvbmUuIFRoZSBsYXR0ZXIgaXMgcHJlZmVyYWJsZSBpbiB0aGUgY2FzZSBvZiBsYXJnZSBHZW9KU09OIGZpbGVzLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgc2V0RGF0YShkYXRhOiBHZW9KU09OIHwgc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IE9iamVjdCA9IHsgZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnIH07XG4gICAgICAgICAgICBpZiAodGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nICYmIHRoaXMuX3Jlc291cmNlVGltaW5nICYmICh0aGlzLl9yZXNvdXJjZVRpbWluZy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIGRhdGEucmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9yZXNvdXJjZVRpbWluZztcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGNsdXN0ZXJlZCBzb3VyY2VzLCBmZXRjaGVzIHRoZSB6b29tIGF0IHdoaWNoIHRoZSBnaXZlbiBjbHVzdGVyIGV4cGFuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgem9vbSB2YWx1ZSBpcyByZXRyaWV2ZWQgKGAoZXJyb3IsIHpvb20pID0+IHsgLi4uIH1gKS5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gdGhpc1xuICAgICAqL1xuICAgIGdldENsdXN0ZXJFeHBhbnNpb25ab29tKGNsdXN0ZXJJZDogbnVtYmVyLCBjYWxsYmFjazogQ2FsbGJhY2s8bnVtYmVyPikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgnZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbScsIHsgY2x1c3RlcklkLCBzb3VyY2U6IHRoaXMuaWQgfSwgY2FsbGJhY2ssIHRoaXMud29ya2VySUQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBjbHVzdGVyIG9uIHRoZSBuZXh0IHpvb20gbGV2ZWwgKGFzIGFuIGFycmF5IG9mIEdlb0pTT04gZmVhdHVyZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNsdXN0ZXJJZCBUaGUgdmFsdWUgb2YgdGhlIGNsdXN0ZXIncyBgY2x1c3Rlcl9pZGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGZlYXR1cmVzIGFyZSByZXRyaWV2ZWQgKGAoZXJyb3IsIGZlYXR1cmVzKSA9PiB7IC4uLiB9YCkuXG4gICAgICogQHJldHVybnMge0dlb0pTT05Tb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyQ2hpbGRyZW4oY2x1c3RlcklkOiBudW1iZXIsIGNhbGxiYWNrOiBDYWxsYmFjazxBcnJheTxHZW9KU09ORmVhdHVyZT4+KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlbicsIHsgY2x1c3RlcklkLCBzb3VyY2U6IHRoaXMuaWQgfSwgY2FsbGJhY2ssIHRoaXMud29ya2VySUQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIG9yaWdpbmFsIHBvaW50cyB0aGF0IGJlbG9uZyB0byB0aGUgY2x1c3RlciAoYXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBmZWF0dXJlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0gbGltaXQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZlYXR1cmVzIHRvIHJldHVybi5cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBudW1iZXIgb2YgZmVhdHVyZXMgdG8gc2tpcCAoZS5nLiBmb3IgcGFnaW5hdGlvbikuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGZlYXR1cmVzIGFyZSByZXRyaWV2ZWQgKGAoZXJyb3IsIGZlYXR1cmVzKSA9PiB7IC4uLiB9YCkuXG4gICAgICogQHJldHVybnMge0dlb0pTT05Tb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyTGVhdmVzKGNsdXN0ZXJJZDogbnVtYmVyLCBsaW1pdDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrPEFycmF5PEdlb0pTT05GZWF0dXJlPj4pIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ2dlb2pzb24uZ2V0Q2x1c3RlckxlYXZlcycsIHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIGNsdXN0ZXJJZCxcbiAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgb2Zmc2V0XG4gICAgICAgIH0sIGNhbGxiYWNrLCB0aGlzLndvcmtlcklEKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgaW52b2tpbmcgV29ya2VyU291cmNlJ3MgZ2VvanNvbi5sb2FkRGF0YSB0YXJnZXQsIHdoaWNoXG4gICAgICogaGFuZGxlcyBsb2FkaW5nIHRoZSBnZW9qc29uIGRhdGEgYW5kIHByZXBhcmluZyB0byBzZXJ2ZSBpdCB1cCBhcyB0aWxlcyxcbiAgICAgKiB1c2luZyBnZW9qc29uLXZ0IG9yIHN1cGVyY2x1c3RlciBhcyBhcHByb3ByaWF0ZS5cbiAgICAgKi9cbiAgICBfdXBkYXRlV29ya2VyRGF0YShjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGV4dGVuZCh7fSwgdGhpcy53b3JrZXJPcHRpb25zKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2RhdGE7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdCA9IHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KGJyb3dzZXIucmVzb2x2ZVVSTChkYXRhKSwgUmVzb3VyY2VUeXBlLlNvdXJjZSk7XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nID0gdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0YXJnZXQge3RoaXMudHlwZX0ubG9hZERhdGEgcmF0aGVyIHRoYW4gbGl0ZXJhbGx5IGdlb2pzb24ubG9hZERhdGEsXG4gICAgICAgIC8vIHNvIHRoYXQgb3RoZXIgZ2VvanNvbi1saWtlIHNvdXJjZSB0eXBlcyBjYW4gZWFzaWx5IHJldXNlIHRoaXNcbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb25cbiAgICAgICAgdGhpcy53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKGAke3RoaXMudHlwZX0ubG9hZERhdGFgLCBvcHRpb25zLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdmVkIHx8IChyZXN1bHQgJiYgcmVzdWx0LmFiYW5kb25lZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJlc291cmNlVGltaW5nICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSlcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXS5zbGljZSgwKTtcbiAgICAgICAgICAgIC8vIEFueSBgbG9hZERhdGFgIGNhbGxzIHRoYXQgcGlsZWQgdXAgd2hpbGUgd2Ugd2VyZSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAvLyB0aGlzIG9uZSB3aWxsIGdldCBjb2FsZXNjZWQgaW50byBhIHNpbmdsZSBjYWxsIHdoZW4gdGhpc1xuICAgICAgICAgICAgLy8gJ2NvYWxlc2NlJyBtZXNzYWdlIGlzIHByb2Nlc3NlZC5cbiAgICAgICAgICAgIC8vIFdlIHdvdWxkIHNlbGYtc2VuZCBmcm9tIHRoZSB3b3JrZXIgaWYgd2UgaGFkIGFjY2VzcyB0byBpdHNcbiAgICAgICAgICAgIC8vIG1lc3NhZ2UgcXVldWUuIFdhaXRpbmcgaW5zdGVhZCBmb3IgdGhlICdjb2FsZXNjZScgdG8gcm91bmQtdHJpcFxuICAgICAgICAgICAgLy8gdGhyb3VnaCB0aGUgZm9yZWdyb3VuZCBqdXN0IG1lYW5zIHdlJ3JlIHRocm90dGxpbmcgdGhlIHdvcmtlclxuICAgICAgICAgICAgLy8gdG8gcnVuIGF0IGEgbGl0dGxlIGxlc3MgdGhhbiBmdWxsLXRocm90dGxlLlxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoYCR7dGhpcy50eXBlfS5jb2FsZXNjZWAsIHsgc291cmNlOiBvcHRpb25zLnNvdXJjZSB9LCBudWxsLCB0aGlzLndvcmtlcklEKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG5cbiAgICAgICAgfSwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aWxlLndvcmtlcklEID09PSB1bmRlZmluZWQgPyAnbG9hZFRpbGUnIDogJ3JlbG9hZFRpbGUnO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IHRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZChtZXNzYWdlLCBwYXJhbXMsIChlcnIsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlciwgbWVzc2FnZSA9PT0gJ3JlbG9hZFRpbGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9LCB0aGlzLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLmFib3J0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIG51bGwsIHRpbGUud29ya2VySUQpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVNvdXJjZScsIHsgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgbnVsbCwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb0pTT05Tb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBnZXRDb29yZGluYXRlc0NlbnRlciB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB7IENhbm9uaWNhbFRpbGVJRCB9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7IEV2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7IGdldEltYWdlLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgUmFzdGVyQm91bmRzQXJyYXkgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudCc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIHtDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9ufSBmcm9tICcuL2NhbnZhc19zb3VyY2UnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUge1xuICAgIEltYWdlU291cmNlU3BlY2lmaWNhdGlvbixcbiAgICBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIGFuIGltYWdlLlxuICogKFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMtaW1hZ2UpIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgdHlwZTogJ2ltYWdlJyxcbiAqICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Zvby5wbmcnLFxuICogICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogdmFyIG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICogQHNlZSBbQWRkIGFuIGltYWdlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ltYWdlLW9uLWEtbWFwLylcbiAqL1xuY2xhc3MgSW1hZ2VTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG5cbiAgICBjb29yZGluYXRlczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dO1xuICAgIHRpbGVzOiB7W3N0cmluZ106IFRpbGV9O1xuICAgIG9wdGlvbnM6IGFueTtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIHRleHR1cmU6IFRleHR1cmU7XG4gICAgaW1hZ2U6IEltYWdlRGF0YTtcbiAgICBjZW50ZXJDb29yZDogQ29vcmRpbmF0ZTtcbiAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRDtcbiAgICBfYm91bmRzQXJyYXk6IFJhc3RlckJvdW5kc0FycmF5O1xuICAgIGJvdW5kc0J1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIGJvdW5kc1NlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBJbWFnZVNvdXJjZVNwZWNpZmljYXRpb24gfCBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb24gfCBDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IG9wdGlvbnMuY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ2ltYWdlJztcbiAgICAgICAgdGhpcy5taW56b29tID0gMDtcbiAgICAgICAgdGhpcy5tYXh6b29tID0gMjI7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMudGlsZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLm9wdGlvbnMudXJsO1xuXG4gICAgICAgIGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCAoZXJyLCBpbWFnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2ZpbmlzaExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbWFnZSdzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgaW1hZ2UuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2UgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0ltYWdlU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXM6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoaWNoIG1lcmNhdG9yIHRpbGUgaXMgc3VpdGFibGUgZm9yIHJlbmRlcmluZyB0aGUgdmlkZW8gaW5cbiAgICAgICAgLy8gYW5kIGNyZWF0ZSBhIGJ1ZmZlciB3aXRoIHRoZSBjb3JuZXIgY29vcmRpbmF0ZXMuIFRoZXNlIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIG1heSBiZSBvdXRzaWRlIHRoZSB0aWxlLCBiZWNhdXNlIHJhc3RlciB0aWxlcyBhcmVuJ3QgY2xpcHBlZCB3aGVuIHJlbmRlcmluZy5cblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLm1hcDtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGdlbyBjb29yZGluYXRlcyBpbnRvICh6b29tIDApIHRpbGUgc3BhY2UgY29vcmRpbmF0ZXNcbiAgICAgICAgY29uc3QgY29ybmVyWjBDb29yZHMgPSBjb29yZGluYXRlcy5tYXAoKGNvb3JkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbWFwLnRyYW5zZm9ybS5sb2NhdGlvbkNvb3JkaW5hdGUoTG5nTGF0LmNvbnZlcnQoY29vcmQpKS56b29tVG8oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxlIHdlJ2xsIHVzZSB0byBob2xkIHRoaXMgaW1hZ2Unc1xuICAgICAgICAvLyByZW5kZXIgZGF0YVxuICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IHRoaXMuY2VudGVyQ29vcmQgPSBnZXRDb29yZGluYXRlc0NlbnRlcihjb3JuZXJaMENvb3Jkcyk7XG4gICAgICAgIC8vIGBjb2x1bW5gIGFuZCBgcm93YCBtYXkgYmUgZnJhY3Rpb25hbDsgcm91bmQgdGhlbSBkb3duIHNvIHRoYXQgdGhleVxuICAgICAgICAvLyByZXByZXNlbnQgaW50ZWdlciB0aWxlIGNvb3JkaW5hdGVzXG4gICAgICAgIGNlbnRlckNvb3JkLmNvbHVtbiA9IE1hdGguZmxvb3IoY2VudGVyQ29vcmQuY29sdW1uKTtcbiAgICAgICAgY2VudGVyQ29vcmQucm93ID0gTWF0aC5mbG9vcihjZW50ZXJDb29yZC5yb3cpO1xuICAgICAgICB0aGlzLnRpbGVJRCA9IG5ldyBDYW5vbmljYWxUaWxlSUQoY2VudGVyQ29vcmQuem9vbSwgY2VudGVyQ29vcmQuY29sdW1uLCBjZW50ZXJDb29yZC5yb3cpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiBtaW4vbWF4IHpvb20gdG8gb3VyIHRpbGUncyB6b29tIGxldmVsIGluIG9yZGVyIHRvIGZvcmNlXG4gICAgICAgIC8vIFNvdXJjZUNhY2hlIHRvIHJlcXVlc3QgdGhpcyB0aWxlIChubyBtYXR0ZXIgd2hhdCB0aGUgbWFwJ3Mgem9vbVxuICAgICAgICAvLyBsZXZlbClcbiAgICAgICAgdGhpcy5taW56b29tID0gdGhpcy5tYXh6b29tID0gY2VudGVyQ29vcmQuem9vbTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIGNvcm5lciBjb29yZGluYXRlcyBpbnRvIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIG91clxuICAgICAgICAvLyB0aWxlLlxuICAgICAgICBjb25zdCB0aWxlQ29vcmRzID0gY29ybmVyWjBDb29yZHMubWFwKChjb29yZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8oY2VudGVyQ29vcmQuem9vbSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLmNvbHVtbiAtIGNlbnRlckNvb3JkLmNvbHVtbikgKiBFWFRFTlQpLFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLnJvdyAtIGNlbnRlckNvb3JkLnJvdykgKiBFWFRFTlQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1swXS54LCB0aWxlQ29vcmRzWzBdLnksIDAsIDApO1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayh0aWxlQ29vcmRzWzFdLngsIHRpbGVDb29yZHNbMV0ueSwgRVhURU5ULCAwKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1szXS54LCB0aWxlQ29vcmRzWzNdLnksIDAsIEVYVEVOVCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRpbGVDb29yZHNbMl0ueCwgdGlsZUNvb3Jkc1syXS55LCBFWFRFTlQsIEVYVEVOVCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ib3VuZHNCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8ICF0aGlzLmltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNTZWdtZW50cykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNTZWdtZW50cyA9IFNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLCAwLCA0LCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmltYWdlLCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSBzaW5nbGUgdGlsZSAtLSB3aG9vc2UgY29vcmRpbmF0ZXMgYXJlIHRoaXMudGlsZUlEIC0tIHRoYXRcbiAgICAgICAgLy8gY292ZXJzIHRoZSBpbWFnZSB3ZSB3YW50IHRvIHJlbmRlci4gIElmIHRoYXQncyB0aGUgb25lIGJlaW5nXG4gICAgICAgIC8vIHJlcXVlc3RlZCwgc2V0IGl0IHVwIHdpdGggdGhlIGltYWdlOyBvdGhlcndpc2UsIG1hcmsgdGhlIHRpbGUgYXNcbiAgICAgICAgLy8gYGVycm9yZWRgIHRvIGluZGljYXRlIHRoYXQgd2UgaGF2ZSBubyBkYXRhIGZvciBpdC5cbiAgICAgICAgLy8gSWYgdGhlIHdvcmxkIHdyYXBzLCB3ZSBtYXkgaGF2ZSBtdWx0aXBsZSBcIndyYXBwZWRcIiBjb3BpZXMgb2YgdGhlXG4gICAgICAgIC8vIHNpbmdsZSB0aWxlLlxuICAgICAgICBpZiAodGhpcy50aWxlSUQgJiYgdGhpcy50aWxlSUQuZXF1YWxzKHRpbGUudGlsZUlELmNhbm9uaWNhbCkpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZXNbU3RyaW5nKHRpbGUudGlsZUlELndyYXApXSA9IHRpbGU7XG4gICAgICAgICAgICB0aWxlLmJ1Y2tldHMgPSB7fTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgdXJsOiB0aGlzLm9wdGlvbnMudXJsLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVNvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGdldFZpZGVvLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcbmltcG9ydCB7IEVycm9yRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHR5cGUge1ZpZGVvU291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIHZpZGVvLlxuICogKFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMtdmlkZW8pIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgdHlwZTogJ3ZpZGVvJyxcbiAqICAgIHVybDogW1xuICogICAgICAgICdodHRwczovL3d3dy5tYXBib3guY29tL2Jsb2cvYXNzZXRzL2JhbHRpbW9yZS1zbW9rZS5tcDQnLFxuICogICAgICAgICdodHRwczovL3d3dy5tYXBib3guY29tL2Jsb2cvYXNzZXRzL2JhbHRpbW9yZS1zbW9rZS53ZWJtJ1xuICogICAgXSxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0FkZCBhIHZpZGVvXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZpZGVvLW9uLWEtbWFwLylcbiAqL1xuY2xhc3MgVmlkZW9Tb3VyY2UgZXh0ZW5kcyBJbWFnZVNvdXJjZSB7XG4gICAgb3B0aW9uczogVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIHVybHM6IEFycmF5PHN0cmluZz47XG4gICAgdmlkZW86IEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG4gICAgICAgIHRoaXMudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnVybHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB1cmwgb2Ygb3B0aW9ucy51cmxzKSB7XG4gICAgICAgICAgICB0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRWaWRlbyh0aGlzLnVybHMsIChlcnIsIHZpZGVvKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlbykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbztcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgcmVwYWludGluZyB3aGVuIHZpZGVvIHN0YXJ0cyBwbGF5aW5nLiBoYXNUcmFuc2l0aW9uKCkgd2lsbCB0aGVuIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHRydWUgdG8gdHJpZ2dlciBhZGRpdGlvbmFsIGZyYW1lcyBhcyBsb25nIGFzIHRoZSB2aWRlb3MgY29udGludWVzIHBsYXlpbmcuXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSFRNTCBgdmlkZW9gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTFZpZGVvRWxlbWVudH0gVGhlIEhUTUwgYHZpZGVvYCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldFZpZGVvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlbztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICBpZiAodGhpcy5tYXApIHJldHVybjtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlkZW8ncyBjb29yZGluYXRlcyBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBzZXRDb29yZGluYXRlc1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBWaWRlb1NvdXJjZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLFxuICAgICAqICAgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgbnVtYmVycywgd2hpY2ggZGVmaW5lIHRoZSBjb3JuZXJzIG9mIHRoZSB2aWRlby5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB2aWRlbyBhbmQgcHJvY2VlZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICogICBUaGV5IGRvIG5vdCBoYXZlIHRvIHJlcHJlc2VudCBhIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7VmlkZW9Tb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICAvLyBzZXRDb29yZGluYXRlcyBpbmhlcml0ZWQgZnJvbSBJbWFnZVNvdXJjZVxuXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCB8fCB0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIG5vdCBlbm91Z2ggZGF0YSBmb3IgY3VycmVudCBwb3NpdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksIHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzU2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy52aWRlbywgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy52aWRlbyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIHVybHM6IHRoaXMudXJscyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8gJiYgIXRoaXMudmlkZW8ucGF1c2VkO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9Tb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UnO1xuXG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudCc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5pbXBvcnQgeyBFcnJvckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBWYWxpZGF0aW9uRXJyb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy9lcnJvci92YWxpZGF0aW9uX2Vycm9yJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSB7RXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuZXhwb3J0IHR5cGUgQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbiA9IHt8XG4gICAgXCJ0eXBlXCI6IFwiY2FudmFzXCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBbW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXV0sXG4gICAgXCJhbmltYXRlXCI/OiBib29sZWFuLFxuICAgIFwiY2FudmFzXCI6IHN0cmluZyB8IEhUTUxDYW52YXNFbGVtZW50XG58fTtcblxuLyoqXG4gKiBPcHRpb25zIHRvIGFkZCBhIGNhbnZhcyBzb3VyY2UgdHlwZSB0byB0aGUgbWFwLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbnZhc1NvdXJjZU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFNvdXJjZSB0eXBlLiBNdXN0IGJlIGBcImNhbnZhc1wiYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgQ2FudmFzIHNvdXJjZSBmcm9tIHdoaWNoIHRvIHJlYWQgcGl4ZWxzLiBDYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQsIG9yIHRoZSBgSFRNTENhbnZhc0VsZW1lbnRgIGl0c2VsZi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGRlbm90aW5nIHdoZXJlIHRvIHBsYWNlIHRoZSBjb3JuZXJzIG9mIHRoZSBjYW52YXMsIHNwZWNpZmllZCBpbiBgW2xvbmdpdHVkZSwgbGF0aXR1ZGVdYCBwYWlycy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FuaW1hdGU9dHJ1ZV0gV2hldGhlciB0aGUgY2FudmFzIHNvdXJjZSBpcyBhbmltYXRlZC4gSWYgdGhlIGNhbnZhcyBpcyBzdGF0aWMgKGkuZS4gcGl4ZWxzIGRvIG5vdCBuZWVkIHRvIGJlIHJlLXJlYWQgb24gZXZlcnkgZnJhbWUpLCBgYW5pbWF0ZWAgc2hvdWxkIGJlIHNldCB0byBgZmFsc2VgIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gKi9cblxuLyoqXG4gKiBBIGRhdGEgc291cmNlIGNvbnRhaW5pbmcgdGhlIGNvbnRlbnRzIG9mIGFuIEhUTUwgY2FudmFzLiBTZWUge0BsaW5rIENhbnZhc1NvdXJjZU9wdGlvbnN9IGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGFkZCB0byBtYXBcbiAqIG1hcC5hZGRTb3VyY2UoJ3NvbWUgaWQnLCB7XG4gKiAgICB0eXBlOiAnY2FudmFzJyxcbiAqICAgIGNhbnZhczogJ2lkT2ZNeUhUTUxDYW52YXMnLFxuICogICAgYW5pbWF0ZTogdHJ1ZSxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqL1xuY2xhc3MgQ2FudmFzU291cmNlIGV4dGVuZHMgSW1hZ2VTb3VyY2Uge1xuICAgIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgYW5pbWF0ZTogYm9vbGVhbjtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgcGxheTogKCkgPT4gdm9pZDtcbiAgICBwYXVzZTogKCkgPT4gdm9pZDtcbiAgICBfcGxheWluZzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcihpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgLy8gV2UgYnVpbGQgaW4gc29tZSB2YWxpZGF0aW9uIGhlcmUsIHNpbmNlIGNhbnZhcyBzb3VyY2VzIGFyZW4ndCBpbmNsdWRlZCBpbiB0aGUgc3R5bGUgc3BlYzpcbiAgICAgICAgaWYgKCFvcHRpb25zLmNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IFZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke2lkfWAsIG51bGwsICdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY29vcmRpbmF0ZXNcIicpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucy5jb29yZGluYXRlcykgfHwgb3B0aW9ucy5jb29yZGluYXRlcy5sZW5ndGggIT09IDQgfHxcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvb3JkaW5hdGVzLnNvbWUoYyA9PiAhQXJyYXkuaXNBcnJheShjKSB8fCBjLmxlbmd0aCAhPT0gMiB8fCBjLnNvbWUobCA9PiB0eXBlb2YgbCAhPT0gJ251bWJlcicpKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBWYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHtpZH1gLCBudWxsLCAnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0ZSAmJiB0eXBlb2Ygb3B0aW9ucy5hbmltYXRlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ29wdGlvbmFsIFwiYW5pbWF0ZVwiIHByb3BlcnR5IG11c3QgYmUgYSBib29sZWFuIHZhbHVlJykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5jYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjYW52YXNcIicpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuY2FudmFzICE9PSAnc3RyaW5nJyAmJiAhKG9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2Ygd2luZG93LkhUTUxDYW52YXNFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBWYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHtpZH1gLCBudWxsLCAnXCJjYW52YXNcIiBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIHRoZSBjYW52YXMgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQsIG9yIGFuIEhUTUxDYW52YXNFbGVtZW50IGluc3RhbmNlJykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSA9IG9wdGlvbnMuYW5pbWF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmltYXRlIDogdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGFuaW1hdGlvbi4gVGhlIGltYWdlIHdpbGwgYmUgY29waWVkIGZyb20gdGhlIGNhbnZhcyB0byB0aGUgbWFwIG9uIGVhY2ggZnJhbWUuXG4gICAgICogQG1ldGhvZCBwbGF5XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW5pbWF0aW9uLiBUaGUgbWFwIHdpbGwgZGlzcGxheSBhIHN0YXRpYyBjb3B5IG9mIHRoZSBjYW52YXMgaW1hZ2UuXG4gICAgICogQG1ldGhvZCBwYXVzZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNTb3VyY2VcbiAgICAgKi9cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMub3B0aW9ucy5jYW52YXMgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQpID9cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuY2FudmFzIDpcbiAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignQ2FudmFzIGRpbWVuc2lvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvLicpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgYGNhbnZhc2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIEhUTUwgYGNhbnZhc2AgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZSkgdGhpcy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNhbnZhcydzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNldENvb3JkaW5hdGVzXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLFxuICAgICAqICAgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgbnVtYmVycywgd2hpY2ggZGVmaW5lIHRoZSBjb3JuZXJzIG9mIHRoZSBjYW52YXMuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgY2FudmFzIGFuZCBwcm9jZWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiAgIFRoZXkgZG8gbm90IGhhdmUgdG8gcmVwcmVzZW50IGEgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtDYW52YXNTb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICAvLyBzZXRDb29yZGluYXRlcyBpbmhlcml0ZWQgZnJvbSBJbWFnZVNvdXJjZVxuXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgbGV0IHJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgcmVzaXplID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNTZWdtZW50cykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNTZWdtZW50cyA9IFNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLCAwLCA0LCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmNhbnZhcywgZ2wuUkdCQSwgeyBwcmVtdWx0aXBseTogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgfHwgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcywgeyBwcmVtdWx0aXBseTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgdyBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1t3XTtcbiAgICAgICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgeCBvZiBbdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodF0pIHtcbiAgICAgICAgICAgIGlmIChpc05hTih4KSB8fCB4IDw9IDApIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1NvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSB7RXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQge0Nhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcblxuLyoqXG4gKiBUaGUgYFNvdXJjZWAgaW50ZXJmYWNlIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBzb3VyY2UgdHlwZSwgaW5jbHVkaW5nIFwiY29yZVwiIHR5cGVzIChgdmVjdG9yYCwgYHJhc3RlcmAsXG4gKiBgdmlkZW9gLCBldGMuKSBhbmQgYWxsIGN1c3RvbSwgdGhpcmQtcGFydHkgdHlwZXMuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiBNdXN0IG5vdCBiZSB1c2VkIGJ5IGFueSBleGlzdGluZyBzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucywgc3BlY2lmaWMgdG8gdGhlIHNvdXJjZSB0eXBlIChleGNlcHQgZm9yIGBvcHRpb25zLnR5cGVgLCB3aGljaCBpcyBhbHdheXNcbiAqIHJlcXVpcmVkKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnR5cGUgVGhlIHNvdXJjZSB0eXBlLCBtYXRjaGluZyB0aGUgdmFsdWUgb2YgYG5hbWVgIHVzZWQgaW4ge0BsaW5rIFN0eWxlI2FkZFNvdXJjZVR5cGV9LlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyIEEge0BsaW5rIERpc3BhdGNoZXJ9IGluc3RhbmNlLCB3aGljaCBjYW4gYmUgdXNlZCB0byBzZW5kIG1lc3NhZ2VzIHRvIHRoZSB3b3JrZXJzLlxuICpcbiAqIEBmaXJlcyBkYXRhIHdpdGggYHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnfWAgdG8gaW5kaWNhdGUgdGhhdCBhbnkgbmVjZXNzYXJ5IG1ldGFkYXRhXG4gKiBoYXMgYmVlbiBsb2FkZWQgc28gdGhhdCBpdCdzIG9rYXkgdG8gY2FsbCBgbG9hZFRpbGVgOyBhbmQgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J31gXG4gKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzb3VyY2UgZGF0YSBoYXMgY2hhbmdlZCwgc28gdGhhdCBhbnkgY3VycmVudCBjYWNoZXMgc2hvdWxkIGJlIGZsdXNoZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiAgTXVzdCBtYXRjaCB0aGUgaWQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW56b29tXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4em9vbVxuICogQHByb3BlcnR5IHtib29sZWFufSBpc1RpbGVDbGlwcGVkIGBmYWxzZWAgaWYgdGlsZXMgY2FuIGJlIGRyYXduIG91dHNpZGUgdGhlaXIgYm91bmRhcmllcywgYHRydWVgIGlmIHRoZXkgY2Fubm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByZXBhcnNlT3ZlcnNjYWxlZCBgdHJ1ZWAgaWYgdGlsZXMgc2hvdWxkIGJlIHNlbnQgYmFjayB0byB0aGUgd29ya2VyIGZvciBlYWNoIG92ZXJ6b29tZWQgem9vbVxuICogbGV2ZWwsIGBmYWxzZWAgaWYgbm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFpvb20gYHRydWVgIGlmIHpvb20gbGV2ZWxzIGFyZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgaW4gdGhlIHNvdXJjZSBkYXRhLCBgZmFsc2VgXG4gKiBpZiB0aGV5IGFyZSBmbG9vci1lZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZSB7XG4gICAgK3R5cGU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcixcbiAgICBtYXh6b29tOiBudW1iZXIsXG4gICAgdGlsZVNpemU6IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbj86IHN0cmluZyxcblxuICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgaXNUaWxlQ2xpcHBlZD86IGJvb2xlYW4sXG4gICAgbWFwYm94X2xvZ28/OiBib29sZWFuLFxuICAgIHRpbGVJRD86IENhbm9uaWNhbFRpbGVJRDtcbiAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgdmVjdG9yTGF5ZXJJZHM/OiBBcnJheTxzdHJpbmc+LFxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuO1xuXG4gICAgZmlyZShldmVudDogRXZlbnQpOiBtaXhlZDtcblxuICAgICtvbkFkZD86IChtYXA6IE1hcCkgPT4gdm9pZDtcbiAgICArb25SZW1vdmU/OiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pOiB2b2lkO1xuICAgICtoYXNUaWxlPzogKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkgPT4gYm9vbGVhbjtcbiAgICArYWJvcnRUaWxlPzogKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikgPT4gdm9pZDtcbiAgICArdW5sb2FkVGlsZT86ICh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIHBsYWluIChzdHJpbmdpZmlhYmxlKSBKUyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQ3JlYXRpbmcgYSBzb3VyY2UgdXNpbmcgdGhlIHJldHVybmVkIG9iamVjdCBhcyB0aGUgYG9wdGlvbnNgIHNob3VsZCByZXN1bHQgaW4gYSBTb3VyY2UgdGhhdCBpc1xuICAgICAqIGVxdWl2YWxlbnQgdG8gdGhpcyBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0O1xuXG4gICAgK3ByZXBhcmU/OiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIFNvdXJjZVN0YXRpY3MgPSB7XG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgVVJMIHRvIGEgc2NyaXB0IHdoaWNoLCB3aGVuIHJ1biBieSBhIFdvcmtlciwgcmVnaXN0ZXJzIGEge0BsaW5rIFdvcmtlclNvdXJjZX1cbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBTb3VyY2UgdHlwZSBieSBjYWxsaW5nIGBzZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlKHdvcmtlclNvdXJjZTogV29ya2VyU291cmNlKWAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB3b3JrZXJTb3VyY2VVUkw/OiBVUkw7XG59O1xuXG5leHBvcnQgdHlwZSBTb3VyY2VDbGFzcyA9IENsYXNzPFNvdXJjZT4gJiBTb3VyY2VTdGF0aWNzO1xuXG5pbXBvcnQgdmVjdG9yIGZyb20gJy4uL3NvdXJjZS92ZWN0b3JfdGlsZV9zb3VyY2UnO1xuaW1wb3J0IHJhc3RlciBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlJztcbmltcG9ydCByYXN0ZXJEZW0gZnJvbSAnLi4vc291cmNlL3Jhc3Rlcl9kZW1fdGlsZV9zb3VyY2UnO1xuaW1wb3J0IGdlb2pzb24gZnJvbSAnLi4vc291cmNlL2dlb2pzb25fc291cmNlJztcbmltcG9ydCB2aWRlbyBmcm9tICcuLi9zb3VyY2UvdmlkZW9fc291cmNlJztcbmltcG9ydCBpbWFnZSBmcm9tICcuLi9zb3VyY2UvaW1hZ2Vfc291cmNlJztcbmltcG9ydCBjYW52YXMgZnJvbSAnLi4vc291cmNlL2NhbnZhc19zb3VyY2UnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5cbmNvbnN0IHNvdXJjZVR5cGVzID0ge1xuICAgIHZlY3RvcixcbiAgICByYXN0ZXIsXG4gICAgJ3Jhc3Rlci1kZW0nOiByYXN0ZXJEZW0sXG4gICAgZ2VvanNvbixcbiAgICB2aWRlbyxcbiAgICBpbWFnZSxcbiAgICBjYW52YXNcbn07XG5cbi8qXG4gKiBDcmVhdGVzIGEgdGlsZWQgZGF0YSBzb3VyY2UgaW5zdGFuY2UgZ2l2ZW4gYW4gb3B0aW9ucyBvYmplY3QuXG4gKlxuICogQHBhcmFtIGlkXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIEEgc291cmNlIGRlZmluaXRpb24gb2JqZWN0IGNvbXBsaWFudCB3aXRoXG4gKiBbYG1hcGJveC1nbC1zdHlsZS1zcGVjYF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcykgb3IsIGZvciBhIHRoaXJkLXBhcnR5IHNvdXJjZSB0eXBlLFxuICAqIHdpdGggdGhhdCB0eXBlJ3MgcmVxdWlyZW1lbnRzLlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyXG4gKiBAcmV0dXJucyB7U291cmNlfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gZnVuY3Rpb24oaWQ6IHN0cmluZywgc3BlY2lmaWNhdGlvbjogU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IG5ldyBzb3VyY2VUeXBlc1tzcGVjaWZpY2F0aW9uLnR5cGVdKGlkLCAoc3BlY2lmaWNhdGlvbjogYW55KSwgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG5cbiAgICBpZiAoc291cmNlLmlkICE9PSBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke2lkfSBpbnN0ZWFkIG9mICR7c291cmNlLmlkfWApO1xuICAgIH1cblxuICAgIGJpbmRBbGwoWydsb2FkJywgJ2Fib3J0JywgJ3VubG9hZCcsICdzZXJpYWxpemUnLCAncHJlcGFyZSddLCBzb3VyY2UpO1xuICAgIHJldHVybiBzb3VyY2U7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc291cmNlVHlwZXNbbmFtZV07XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIHR5cGU6IENsYXNzPFNvdXJjZT4pIHtcbiAgICBzb3VyY2VUeXBlc1tuYW1lXSA9IHR5cGU7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjdG9yIHtcbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogT2JqZWN0LCBjYWxsYmFjazogQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHR5cGUgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi4vc3ltYm9sL2NvbGxpc2lvbl9pbmRleCc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSB7IFJldGFpbmVkUXVlcnlEYXRhIH0gZnJvbSAnLi4vc3ltYm9sL3BsYWNlbWVudCc7XG5pbXBvcnQgdHlwZSB7RmlsdGVyU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlTGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IEFycmF5PENvb3JkaW5hdGU+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBmaWx0ZXI6IEZpbHRlclNwZWNpZmljYXRpb24sIGxheWVyczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgY29uc3QgbWF4UGl0Y2hTY2FsZUZhY3RvciA9IHRyYW5zZm9ybS5tYXhQaXRjaFNjYWxlRmFjdG9yKCk7XG4gICAgY29uc3QgdGlsZXNJbiA9IHNvdXJjZUNhY2hlLnRpbGVzSW4ocXVlcnlHZW9tZXRyeSwgbWF4UGl0Y2hTY2FsZUZhY3Rvcik7XG5cbiAgICB0aWxlc0luLnNvcnQoc29ydFRpbGVzSW4pO1xuXG4gICAgY29uc3QgcmVuZGVyZWRGZWF0dXJlTGF5ZXJzID0gW107XG4gICAgZm9yIChjb25zdCB0aWxlSW4gb2YgdGlsZXNJbikge1xuICAgICAgICByZW5kZXJlZEZlYXR1cmVMYXllcnMucHVzaCh7XG4gICAgICAgICAgICB3cmFwcGVkVGlsZUlEOiB0aWxlSW4udGlsZUlELndyYXBwZWQoKS5rZXksXG4gICAgICAgICAgICBxdWVyeVJlc3VsdHM6IHRpbGVJbi50aWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICBzdHlsZUxheWVycyxcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5fc3RhdGUsXG4gICAgICAgICAgICAgICAgdGlsZUluLnF1ZXJ5R2VvbWV0cnksXG4gICAgICAgICAgICAgICAgdGlsZUluLnNjYWxlLFxuICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgbWF4UGl0Y2hTY2FsZUZhY3RvcixcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGVJbi50aWxlSUQudG9VbndyYXBwZWQoKSkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHJlbmRlcmVkRmVhdHVyZUxheWVycyk7XG5cbiAgICAvLyBNZXJnZSBzdGF0ZSBmcm9tIFNvdXJjZUNhY2hlIGludG8gdGhlIHJlc3VsdHNcbiAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdFtsYXllcklEXS5mb3JFYWNoKChmZWF0dXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHNvdXJjZUNhY2hlLmdldEZlYXR1cmVTdGF0ZShmZWF0dXJlLmxheWVyWydzb3VyY2UtbGF5ZXInXSwgZmVhdHVyZS5pZCk7XG4gICAgICAgICAgICBmZWF0dXJlLnNvdXJjZSA9IGZlYXR1cmUubGF5ZXIuc291cmNlO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5zb3VyY2VMYXllciA9IGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmVhdHVyZS5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHN0eWxlTGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlczoge1tzdHJpbmddOiBTb3VyY2VDYWNoZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogQXJyYXk8UG9pbnQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBmaWx0ZXI6IEZpbHRlclNwZWNpZmljYXRpb24sIGxheWVyczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5lZFF1ZXJ5RGF0YToge1tudW1iZXJdOiBSZXRhaW5lZFF1ZXJ5RGF0YX0pIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCByZW5kZXJlZFN5bWJvbHMgPSBjb2xsaXNpb25JbmRleC5xdWVyeVJlbmRlcmVkU3ltYm9scyhxdWVyeUdlb21ldHJ5KTtcbiAgICBjb25zdCBidWNrZXRRdWVyeURhdGEgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGJ1Y2tldEluc3RhbmNlSWQgb2YgT2JqZWN0LmtleXMocmVuZGVyZWRTeW1ib2xzKS5tYXAoTnVtYmVyKSkge1xuICAgICAgICBidWNrZXRRdWVyeURhdGEucHVzaChyZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXRJbnN0YW5jZUlkXSk7XG4gICAgfVxuICAgIGJ1Y2tldFF1ZXJ5RGF0YS5zb3J0KHNvcnRUaWxlc0luKTtcblxuICAgIGZvciAoY29uc3QgcXVlcnlEYXRhIG9mIGJ1Y2tldFF1ZXJ5RGF0YSkge1xuICAgICAgICBjb25zdCBidWNrZXRTeW1ib2xzID0gcXVlcnlEYXRhLmZlYXR1cmVJbmRleC5sb29rdXBTeW1ib2xGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICByZW5kZXJlZFN5bWJvbHNbcXVlcnlEYXRhLmJ1Y2tldEluc3RhbmNlSWRdLFxuICAgICAgICAgICAgICAgIHF1ZXJ5RGF0YS5idWNrZXRJbmRleCxcbiAgICAgICAgICAgICAgICBxdWVyeURhdGEuc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgICAgICBwYXJhbXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHBhcmFtcy5sYXllcnMsXG4gICAgICAgICAgICAgICAgc3R5bGVMYXllcnMpO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBpbiBidWNrZXRTeW1ib2xzKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRGZWF0dXJlcyA9IHJlc3VsdFtsYXllcklEXSA9IHJlc3VsdFtsYXllcklEXSB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyU3ltYm9scyA9IGJ1Y2tldFN5bWJvbHNbbGF5ZXJJRF07XG4gICAgICAgICAgICBsYXllclN5bWJvbHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1hdGNoIHRvcERvd25GZWF0dXJlQ29tcGFyYXRvciBmcm9tIEZlYXR1cmVJbmRleCwgYnV0IHVzaW5nXG4gICAgICAgICAgICAgICAgLy8gbW9zdCByZWNlbnQgc29ydGluZyBvZiBmZWF0dXJlcyBmcm9tIGJ1Y2tldC5zb3J0RmVhdHVyZXNcbiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlU29ydE9yZGVyID0gcXVlcnlEYXRhLmZlYXR1cmVTb3J0T3JkZXI7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVTb3J0T3JkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcXVlcnlSZW5kZXJlZFN5bWJvbHMgZG9jdW1lbnRhdGlvbiBzYXlzIHdlJ2xsIHJldHVybiBmZWF0dXJlcyBpblxuICAgICAgICAgICAgICAgICAgICAvLyBcInRvcC10by1ib3R0b21cIiByZW5kZXJpbmcgb3JkZXIgKGFrYSBsYXN0LXRvLWZpcnN0KS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsbHkgdGhlcmUgY2FuIGJlIG11bHRpcGxlIHN5bWJvbCBpbnN0YW5jZXMgcGVyIGZlYXR1cmUsIHNvXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHNvcnQgZWFjaCBmZWF0dXJlIGJhc2VkIG9uIHRoZSBmaXJzdCBtYXRjaGluZyBzeW1ib2wgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEEgPSBmZWF0dXJlU29ydE9yZGVyLmluZGV4T2YoYS5mZWF0dXJlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRCID0gZmVhdHVyZVNvcnRPcmRlci5pbmRleE9mKGIuZmVhdHVyZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHNvcnRlZEEgPj0gMCk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChzb3J0ZWRCID49IDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydGVkQiAtIHNvcnRlZEE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVja2V0IGhhc24ndCBiZWVuIHJlLXNvcnRlZCBiYXNlZCBvbiBhbmdsZSwgc28gdXNlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnNlIG9mIHRoZSBvcmRlciB0aGUgZmVhdHVyZXMgYXBwZWFyZWQgaW4gdGhlIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiLmZlYXR1cmVJbmRleCAtIGEuZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzeW1ib2xGZWF0dXJlIG9mIGxheWVyU3ltYm9scykge1xuICAgICAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2goc3ltYm9sRmVhdHVyZS5mZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lcmdlIHN0YXRlIGZyb20gU291cmNlQ2FjaGUgaW50byB0aGUgcmVzdWx0c1xuICAgIGZvciAoY29uc3QgbGF5ZXJOYW1lIGluIHJlc3VsdCkge1xuICAgICAgICByZXN1bHRbbGF5ZXJOYW1lXS5mb3JFYWNoKChmZWF0dXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHN0eWxlTGF5ZXJzW2xheWVyTmFtZV07XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzb3VyY2VDYWNoZS5nZXRGZWF0dXJlU3RhdGUoZmVhdHVyZS5sYXllclsnc291cmNlLWxheWVyJ10sIGZlYXR1cmUuaWQpO1xuICAgICAgICAgICAgZmVhdHVyZS5zb3VyY2UgPSBmZWF0dXJlLmxheWVyLnNvdXJjZTtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlLmxheWVyWydzb3VyY2UtbGF5ZXInXSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmUuc291cmNlTGF5ZXIgPSBmZWF0dXJlLmxheWVyWydzb3VyY2UtbGF5ZXInXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZlYXR1cmUuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgcGFyYW1zOiBhbnkpIHtcbiAgICBjb25zdCB0aWxlcyA9IHNvdXJjZUNhY2hlLmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiBzb3VyY2VDYWNoZS5nZXRUaWxlQnlJRChpZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IGRhdGFUaWxlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW2ldO1xuICAgICAgICBjb25zdCBkYXRhSUQgPSB0aWxlLnRpbGVJRC5jYW5vbmljYWwua2V5O1xuICAgICAgICBpZiAoIWRhdGFUaWxlc1tkYXRhSURdKSB7XG4gICAgICAgICAgICBkYXRhVGlsZXNbZGF0YUlEXSA9IHRydWU7XG4gICAgICAgICAgICB0aWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gc29ydFRpbGVzSW4oYSwgYikge1xuICAgIGNvbnN0IGlkQSA9IGEudGlsZUlEO1xuICAgIGNvbnN0IGlkQiA9IGIudGlsZUlEO1xuICAgIHJldHVybiAoaWRBLm92ZXJzY2FsZWRaIC0gaWRCLm92ZXJzY2FsZWRaKSB8fCAoaWRBLmNhbm9uaWNhbC55IC0gaWRCLmNhbm9uaWNhbC55KSB8fCAoaWRBLndyYXAgLSBpZEIud3JhcCkgfHwgKGlkQS5jYW5vbmljYWwueCAtIGlkQi5jYW5vbmljYWwueCk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHRpbGVzKSB7XG4gICAgLy8gTWVyZ2UgcmVzdWx0cyBmcm9tIGFsbCB0aWxlcywgYnV0IGlmIHR3byB0aWxlcyBzaGFyZSB0aGUgc2FtZVxuICAgIC8vIHdyYXBwZWQgSUQsIGRvbid0IGR1cGxpY2F0ZSBmZWF0dXJlcyBiZXR3ZWVuIHRoZSB0d28gdGlsZXNcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCB3cmFwcGVkSURMYXllck1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICBjb25zdCBxdWVyeVJlc3VsdHMgPSB0aWxlLnF1ZXJ5UmVzdWx0cztcbiAgICAgICAgY29uc3Qgd3JhcHBlZElEID0gdGlsZS53cmFwcGVkVGlsZUlEO1xuICAgICAgICBjb25zdCB3cmFwcGVkSURMYXllcnMgPSB3cmFwcGVkSURMYXllck1hcFt3cmFwcGVkSURdID0gd3JhcHBlZElETGF5ZXJNYXBbd3JhcHBlZElEXSB8fCB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsYXllcklEIGluIHF1ZXJ5UmVzdWx0cykge1xuICAgICAgICAgICAgY29uc3QgdGlsZUZlYXR1cmVzID0gcXVlcnlSZXN1bHRzW2xheWVySURdO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZElERmVhdHVyZXMgPSB3cmFwcGVkSURMYXllcnNbbGF5ZXJJRF0gPSB3cmFwcGVkSURMYXllcnNbbGF5ZXJJRF0gfHwge307XG4gICAgICAgICAgICBjb25zdCByZXN1bHRGZWF0dXJlcyA9IHJlc3VsdFtsYXllcklEXSA9IHJlc3VsdFtsYXllcklEXSB8fCBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGlsZUZlYXR1cmUgb2YgdGlsZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3cmFwcGVkSURGZWF0dXJlc1t0aWxlRmVhdHVyZS5mZWF0dXJlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRJREZlYXR1cmVzW3RpbGVGZWF0dXJlLmZlYXR1cmVJbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRGZWF0dXJlcy5wdXNoKHRpbGVGZWF0dXJlLmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgT3ZlcnNjYWxlZFRpbGVJRCB9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5cbi8qKlxuICogQSBbbGVhc3QtcmVjZW50bHktdXNlZCBjYWNoZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYWNoZV9hbGdvcml0aG1zKVxuICogd2l0aCBoYXNoIGxvb2t1cCBtYWRlIHBvc3NpYmxlIGJ5IGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgaW4gcGFyYWxsZWwgdG9cbiAqIGFuIGFycmF5IG9mIGRpY3Rpb25hcnkgb2YgdmFsdWVzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVGlsZUNhY2hlIHtcbiAgICBtYXg6IG51bWJlcjtcbiAgICBkYXRhOiB7W2tleTogbnVtYmVyIHwgc3RyaW5nXTogQXJyYXk8eyB2YWx1ZTogVGlsZSwgdGltZW91dDogP1RpbWVvdXRJRH0+fTtcbiAgICBvcmRlcjogQXJyYXk8bnVtYmVyPjtcbiAgICBvblJlbW92ZTogKGVsZW1lbnQ6IFRpbGUpID0+IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBudW1iZXIgb2YgcGVybWl0dGVkIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVtb3ZlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIGl0ZW1zIHdoZW4gdGhleSBleHBpcmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXg6IG51bWJlciwgb25SZW1vdmU6IChlbGVtZW50OiBUaWxlKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMubWF4ID0gbWF4O1xuICAgICAgICB0aGlzLm9uUmVtb3ZlID0gb25SZW1vdmU7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY2FjaGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtUaWxlQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVtb3ZlZERhdGEgb2YgdGhpcy5kYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZERhdGEudGltZW91dCkgY2xlYXJUaW1lb3V0KHJlbW92ZWREYXRhLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub25SZW1vdmUocmVtb3ZlZERhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhID0ge307XG4gICAgICAgIHRoaXMub3JkZXIgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBrZXksIHZhbHVlIGNvbWJpbmF0aW9uIHRvIHRoZSBjYWNoZSwgdHJpbW1pbmcgaXRzIHNpemUgaWYgdGhpcyBwdXNoZXNcbiAgICAgKiBpdCBvdmVyIG1heCBsZW5ndGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge092ZXJzY2FsZWRUaWxlSUR9IHRpbGVJRCBsb29rdXAga2V5IGZvciB0aGUgaXRlbVxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBhbnkgdmFsdWVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtUaWxlQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGRhdGE6IFRpbGUsIGV4cGlyeVRpbWVvdXQ6IG51bWJlciB8IHZvaWQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGlsZUlELndyYXBwZWQoKS5rZXk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YVdyYXBwZXIgPSB7XG4gICAgICAgICAgICB2YWx1ZTogZGF0YSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChleHBpcnlUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGFXcmFwcGVyLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSh0aWxlSUQsIGRhdGFXcmFwcGVyKTtcbiAgICAgICAgICAgIH0sIGV4cGlyeVRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhW2tleV0ucHVzaChkYXRhV3JhcHBlcik7XG4gICAgICAgIHRoaXMub3JkZXIucHVzaChrZXkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9yZGVyLmxlbmd0aCA+IHRoaXMubWF4KSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkRGF0YSA9IHRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWREYXRhKSB0aGlzLm9uUmVtb3ZlKHJlbW92ZWREYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSB2YWx1ZSBhdHRhY2hlZCB0byBga2V5YCBpcyBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge092ZXJzY2FsZWRUaWxlSUR9IHRpbGVJRCB0aGUga2V5IHRvIGJlIGxvb2tlZC11cFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRoZSBjYWNoZSBoYXMgdGhpcyB2YWx1ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaGFzKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGlsZUlELndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgYXR0YWNoZWQgdG8gYSBzcGVjaWZpYyBrZXkgYW5kIHJlbW92ZSBkYXRhIGZyb20gY2FjaGUuXG4gICAgICogSWYgdGhlIGtleSBpcyBub3QgZm91bmQsIHJldHVybnMgYG51bGxgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge092ZXJzY2FsZWRUaWxlSUR9IHRpbGVJRCB0aGUga2V5IHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIGRhdGEsIG9yIG51bGwgaWYgaXQgaXNuJ3QgZm91bmRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldEFuZFJlbW92ZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiA/VGlsZSB7XG4gICAgICAgIGlmICghdGhpcy5oYXModGlsZUlEKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGlsZUlELndyYXBwZWQoKS5rZXkpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogR2V0IGFuZCByZW1vdmUgdGhlIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICovXG4gICAgX2dldEFuZFJlbW92ZUJ5S2V5KGtleTogbnVtYmVyKTogP1RpbGUge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhW2tleV0uc2hpZnQoKTtcbiAgICAgICAgaWYgKGRhdGEudGltZW91dCkgY2xlYXJUaW1lb3V0KGRhdGEudGltZW91dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVtrZXldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihrZXkpLCAxKTtcblxuICAgICAgICByZXR1cm4gZGF0YS52YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIGF0dGFjaGVkIHRvIGEgc3BlY2lmaWMga2V5IHdpdGhvdXQgcmVtb3ZpbmcgZGF0YVxuICAgICAqIGZyb20gdGhlIGNhY2hlLiBJZiB0aGUga2V5IGlzIG5vdCBmb3VuZCwgcmV0dXJucyBgbnVsbGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T3ZlcnNjYWxlZFRpbGVJRH0gdGlsZUlEIHRoZSBrZXkgdG8gbG9vayB1cFxuICAgICAqIEByZXR1cm5zIHsqfSB0aGUgZGF0YSwgb3IgbnVsbCBpZiBpdCBpc24ndCBmb3VuZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6ID9UaWxlIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyh0aWxlSUQpKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVt0aWxlSUQud3JhcHBlZCgpLmtleV1bMF07XG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGtleS92YWx1ZSBjb21iaW5hdGlvbiBmcm9tIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T3ZlcnNjYWxlZFRpbGVJRH0gdGlsZUlEIHRoZSBrZXkgZm9yIHRoZSBwYWlyIHRvIGRlbGV0ZVxuICAgICAqIEBwYXJhbSB7VGlsZX0gdmFsdWUgSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCwgcmVtb3ZlIHRoYXQgZXhhY3QgdmVyc2lvbiBvZiB0aGUgdmFsdWUuXG4gICAgICogQHJldHVybnMge1RpbGVDYWNoZX0gdGhpcyBjYWNoZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVtb3ZlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgdmFsdWU6ID97IHZhbHVlOiBUaWxlLCB0aW1lb3V0OiA/VGltZW91dElEfSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKHRpbGVJRCkpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgY29uc3Qga2V5ID0gdGlsZUlELndyYXBwZWQoKS5rZXk7XG5cbiAgICAgICAgY29uc3QgZGF0YUluZGV4ID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IDAgOiB0aGlzLmRhdGFba2V5XS5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVtrZXldW2RhdGFJbmRleF07XG4gICAgICAgIHRoaXMuZGF0YVtrZXldLnNwbGljZShkYXRhSW5kZXgsIDEpO1xuICAgICAgICBpZiAoZGF0YS50aW1lb3V0KSBjbGVhclRpbWVvdXQoZGF0YS50aW1lb3V0KTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtrZXldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25SZW1vdmUoZGF0YS52YWx1ZSk7XG4gICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihrZXkpLCAxKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIG1heCBzaXplIG9mIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggdGhlIG1heCBzaXplIG9mIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm5zIHtUaWxlQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldE1heFNpemUobWF4OiBudW1iZXIpOiBUaWxlQ2FjaGUge1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcblxuICAgICAgICB3aGlsZSAodGhpcy5vcmRlci5sZW5ndGggPiB0aGlzLm1heCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZERhdGEgPSB0aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkRGF0YSkgdGhpcy5vblJlbW92ZShyZW1vdmVkRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVDYWNoZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHJ1Y3RBcnJheX0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuaW1wb3J0IHR5cGUge1RyaWFuZ2xlSW5kZXhBcnJheSwgTGluZUluZGV4QXJyYXksIExpbmVTdHJpcEluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvaW5kZXhfYXJyYXlfdHlwZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG5cbmNsYXNzIEluZGV4QnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgZHluYW1pY0RyYXc6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gQm9vbGVhbihkeW5hbWljRHJhdyk7XG5cbiAgICAgICAgLy8gVGhlIGJvdW5kIGluZGV4IGJ1ZmZlciBpcyBwYXJ0IG9mIHZlcnRleCBhcnJheSBvYmplY3Qgc3RhdGUuIFdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIFZBTyBoYXBwZW5zIHRvIGJlIGN1cnJlbnRseSBib3VuZCwgc28gbWFrZSBzdXJlIHRoZSBkZWZhdWx0XG4gICAgICAgIC8vIHZlcnRleCBhcnJheSBwcm92aWRlZCBieSB0aGUgY29udGV4dCBpcyBib3VuZCBpbnN0ZWFkLlxuICAgICAgICB0aGlzLmNvbnRleHQudW5iaW5kVkFPKCk7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBhcnJheS5hcnJheUJ1ZmZlciwgdGhpcy5keW5hbWljRHJhdyA/IGdsLkRZTkFNSUNfRFJBVyA6IGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICBpZiAoIXRoaXMuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhcnJheS5hcnJheUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEoYXJyYXk6IFN0cnVjdEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBhc3NlcnQodGhpcy5keW5hbWljRHJhdyk7XG4gICAgICAgIC8vIFRoZSByaWdodCBWQU8gd2lsbCBnZXQgdGhpcyBidWZmZXIgcmUtYm91bmQgbGF0ZXIgaW4gVmVydGV4QXJyYXlPYmplY3QjYmluZFxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU2MjBcbiAgICAgICAgdGhpcy5jb250ZXh0LnVuYmluZFZBTygpO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgMCwgYXJyYXkuYXJyYXlCdWZmZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4uL3JlbmRlci9wcm9ncmFtJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ30gQXR0cmlidXRlVHlwZVxuICogQHByaXZhdGVcbiAqIEByZWFkb25seVxuICovXG5jb25zdCBBdHRyaWJ1dGVUeXBlID0ge1xuICAgIEludDg6ICAgJ0JZVEUnLFxuICAgIFVpbnQ4OiAgJ1VOU0lHTkVEX0JZVEUnLFxuICAgIEludDE2OiAgJ1NIT1JUJyxcbiAgICBVaW50MTY6ICdVTlNJR05FRF9TSE9SVCcsXG4gICAgSW50MzI6ICAnSU5UJyxcbiAgICBVaW50MzI6ICdVTlNJR05FRF9JTlQnLFxuICAgIEZsb2F0MzI6ICdGTE9BVCdcbn07XG5cbi8qKlxuICogVGhlIGBWZXJ0ZXhCdWZmZXJgIGNsYXNzIHR1cm5zIGEgYFN0cnVjdEFycmF5YCBpbnRvIGEgV2ViR0wgYnVmZmVyLiBFYWNoIG1lbWJlciBvZiB0aGUgU3RydWN0QXJyYXknc1xuICogU3RydWN0IHR5cGUgaXMgY29udmVydGVkIHRvIGEgV2ViR0wgYXRyaWJ1dGUuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBWZXJ0ZXhCdWZmZXIge1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPjtcbiAgICBpdGVtU2l6ZTogbnVtYmVyO1xuICAgIGR5bmFtaWNEcmF3OiA/Ym9vbGVhbjtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZHluYW1pY0RyYXcgV2hldGhlciB0aGlzIGJ1ZmZlciB3aWxsIGJlIHJlcGVhdGVkbHkgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLml0ZW1TaXplID0gYXJyYXkuYnl0ZXNQZXJFbGVtZW50O1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gZHluYW1pY0RyYXc7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFycmF5LmFycmF5QnVmZmVyLCB0aGlzLmR5bmFtaWNEcmF3ID8gZ2wuRFlOQU1JQ19EUkFXIDogZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIGlmICghdGhpcy5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgZGVsZXRlIGFycmF5LmFycmF5QnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGFycmF5OiBTdHJ1Y3RBcnJheSkge1xuICAgICAgICBhc3NlcnQoYXJyYXkubGVuZ3RoID09PSB0aGlzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIGFycmF5LmFycmF5QnVmZmVyKTtcbiAgICB9XG5cbiAgICBlbmFibGVBdHRyaWJ1dGVzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW08Kj4pIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4OiBudW1iZXIgfCB2b2lkID0gcHJvZ3JhbS5hdHRyaWJ1dGVzW21lbWJlci5uYW1lXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGUgcG9pbnRlcnMgaW4gYSBXZWJHTCBjb250ZXh0XG4gICAgICogQHBhcmFtIGdsIFRoZSBXZWJHTCBjb250ZXh0XG4gICAgICogQHBhcmFtIHByb2dyYW0gVGhlIGFjdGl2ZSBXZWJHTCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHZlcnRleE9mZnNldCBJbmRleCBvZiB0aGUgc3RhcnRpbmcgdmVydGV4IG9mIHRoZSBzZWdtZW50XG4gICAgICovXG4gICAgc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcHJvZ3JhbTogUHJvZ3JhbTwqPiwgdmVydGV4T2Zmc2V0OiA/bnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBtZW1iZXIgPSB0aGlzLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJJbmRleDogbnVtYmVyIHwgdm9pZCA9IHByb2dyYW0uYXR0cmlidXRlc1ttZW1iZXIubmFtZV07XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgICAgICAgICAgYXR0cmliSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5jb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICAoZ2w6IGFueSlbQXR0cmlidXRlVHlwZVttZW1iZXIudHlwZV1dLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyLm9mZnNldCArICh0aGlzLml0ZW1TaXplICogKHZlcnRleE9mZnNldCB8fCAwKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgR0wgYnVmZmVyIGJvdW5kIHRvIHRoZSBnaXZlbiBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVydGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtcbiAgICBCbGVuZEZ1bmNUeXBlLFxuICAgIEJsZW5kRXF1YXRpb25UeXBlLFxuICAgIENvbG9yTWFza1R5cGUsXG4gICAgRGVwdGhSYW5nZVR5cGUsXG4gICAgRGVwdGhNYXNrVHlwZSxcbiAgICBTdGVuY2lsRnVuY1R5cGUsXG4gICAgU3RlbmNpbE9wVHlwZSxcbiAgICBEZXB0aEZ1bmNUeXBlLFxuICAgIFRleHR1cmVVbml0VHlwZSxcbiAgICBWaWV3cG9ydFR5cGUsXG4gICAgQ3VsbEZhY2VNb2RlVHlwZSxcbiAgICBGcm9udEZhY2VUeXBlLFxufSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZTxUPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBUO1xuICAgIGRlZmF1bHQ6IFQ7XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgZ2V0KCk6IFQ7XG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkO1xuICAgIHNldCh2YWx1ZTogVCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDbGVhckNvbG9yIGltcGxlbWVudHMgVmFsdWU8Q29sb3I+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IENvbG9yO1xuICAgIGRlZmF1bHQ6IENvbG9yO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBDb2xvci50cmFuc3BhcmVudDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IENvbG9yIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IENvbG9yKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LnIgIT09IGMuciB8fCB2LmcgIT09IGMuZyB8fCB2LmIgIT09IGMuYiB8fCB2LmEgIT09IGMuYSB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuY2xlYXJDb2xvcih2LnIsIHYuZywgdi5iLCB2LmEpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyRGVwdGggaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcbiAgICBkZWZhdWx0OiBudW1iZXI7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IDE7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYgfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNsZWFyRGVwdGgodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJTdGVuY2lsIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgZGVmYXVsdDogbnVtYmVyO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5jbGVhclN0ZW5jaWwodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JNYXNrIGltcGxlbWVudHMgVmFsdWU8Q29sb3JNYXNrVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogQ29sb3JNYXNrVHlwZTtcbiAgICBkZWZhdWx0OiBDb2xvck1hc2tUeXBlO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV07XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBDb2xvck1hc2tUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IENvbG9yTWFza1R5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSB8fCB2WzJdICE9PSBjWzJdIHx8IHZbM10gIT09IGNbM10gfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNvbG9yTWFzayh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aE1hc2sgaW1wbGVtZW50cyBWYWx1ZTxEZXB0aE1hc2tUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBEZXB0aE1hc2tUeXBlO1xuICAgIGRlZmF1bHQ6IERlcHRoTWFza1R5cGU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBEZXB0aE1hc2tUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IERlcHRoTWFza1R5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuZGVwdGhNYXNrKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxNYXNrIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgZGVmYXVsdDogbnVtYmVyO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSAweEZGO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5zdGVuY2lsTWFzayh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsRnVuYyBpbXBsZW1lbnRzIFZhbHVlPFN0ZW5jaWxGdW5jVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogU3RlbmNpbEZ1bmNUeXBlO1xuICAgIGRlZmF1bHQ6IFN0ZW5jaWxGdW5jVHlwZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0ge1xuICAgICAgICAgICAgZnVuYzogY29udGV4dC5nbC5BTFdBWVMsXG4gICAgICAgICAgICByZWY6IDAsXG4gICAgICAgICAgICBtYXNrOiAweEZGXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBTdGVuY2lsRnVuY1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogU3RlbmNpbEZ1bmNUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LmZ1bmMgIT09IGMuZnVuYyB8fCB2LnJlZiAhPT0gYy5yZWYgfHwgdi5tYXNrICE9PSBjLm1hc2sgfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnN0ZW5jaWxGdW5jKHYuZnVuYywgdi5yZWYsIHYubWFzayk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE9wIGltcGxlbWVudHMgVmFsdWU8U3RlbmNpbE9wVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogU3RlbmNpbE9wVHlwZTtcbiAgICBkZWZhdWx0OiBTdGVuY2lsT3BUeXBlO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gW2dsLktFRVAsIGdsLktFRVAsIGdsLktFRVBdO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogU3RlbmNpbE9wVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiBTdGVuY2lsT3BUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0gfHwgdlsyXSAhPT0gY1syXSB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuc3RlbmNpbE9wKHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxUZXN0IGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoUmFuZ2UgaW1wbGVtZW50cyBWYWx1ZTxEZXB0aFJhbmdlVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogRGVwdGhSYW5nZVR5cGU7XG4gICAgZGVmYXVsdDogRGVwdGhSYW5nZVR5cGU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IFswLCAxXTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IERlcHRoUmFuZ2VUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IERlcHRoUmFuZ2VUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0gfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmRlcHRoUmFuZ2UodlswXSwgdlsxXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhUZXN0IGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhGdW5jIGltcGxlbWVudHMgVmFsdWU8RGVwdGhGdW5jVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogRGVwdGhGdW5jVHlwZTtcbiAgICBkZWZhdWx0OiBEZXB0aEZ1bmNUeXBlO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBjb250ZXh0LmdsLkxFU1M7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBEZXB0aEZ1bmNUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IERlcHRoRnVuY1R5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuZGVwdGhGdW5jKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZEZ1bmMgaW1wbGVtZW50cyBWYWx1ZTxCbGVuZEZ1bmNUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBCbGVuZEZ1bmNUeXBlO1xuICAgIGRlZmF1bHQ6IEJsZW5kRnVuY1R5cGU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBbZ2wuT05FLCBnbC5aRVJPXTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IEJsZW5kRnVuY1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogQmxlbmRGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdIHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5ibGVuZEZ1bmModlswXSwgdlsxXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmRDb2xvciBpbXBsZW1lbnRzIFZhbHVlPENvbG9yPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBDb2xvcjtcbiAgICBkZWZhdWx0OiBDb2xvcjtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gQ29sb3IudHJhbnNwYXJlbnQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBDb2xvciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiBDb2xvcik6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5yICE9PSBjLnIgfHwgdi5nICE9PSBjLmcgfHwgdi5iICE9PSBjLmIgfHwgdi5hICE9PSBjLmEgfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmJsZW5kQ29sb3Iodi5yLCB2LmcsIHYuYiwgdi5hKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZEVxdWF0aW9uIGltcGxlbWVudHMgVmFsdWU8QmxlbmRFcXVhdGlvblR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IEJsZW5kRXF1YXRpb25UeXBlO1xuICAgIGRlZmF1bHQ6IEJsZW5kRXF1YXRpb25UeXBlO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmNvbnRleHQuZ2wuRlVOQ19BREQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBCbGVuZEVxdWF0aW9uVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiBCbGVuZEVxdWF0aW9uVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodiAhPT0gdGhpcy5jdXJyZW50IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5ibGVuZEVxdWF0aW9uKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlU2lkZSBpbXBsZW1lbnRzIFZhbHVlPEN1bGxGYWNlTW9kZVR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IEN1bGxGYWNlTW9kZVR5cGU7XG4gICAgZGVmYXVsdDogQ3VsbEZhY2VNb2RlVHlwZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGdsLkJBQ0s7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBDdWxsRmFjZU1vZGVUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IEN1bGxGYWNlTW9kZVR5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmN1bGxGYWNlKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyb250RmFjZSBpbXBsZW1lbnRzIFZhbHVlPEZyb250RmFjZVR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IEZyb250RmFjZVR5cGU7XG4gICAgZGVmYXVsdDogRnJvbnRGYWNlVHlwZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGdsLkNDVztcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IEZyb250RmFjZVR5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogRnJvbnRGYWNlVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuZnJvbnRGYWNlKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2dyYW0gaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xQcm9ncmFtPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xQcm9ncmFtO1xuICAgIGRlZmF1bHQ6ID9XZWJHTFByb2dyYW07XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xQcm9ncmFtIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFByb2dyYW0pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wudXNlUHJvZ3JhbSh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVUZXh0dXJlVW5pdCBpbXBsZW1lbnRzIFZhbHVlPFRleHR1cmVVbml0VHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogVGV4dHVyZVVuaXRUeXBlO1xuICAgIGRlZmF1bHQ6IFRleHR1cmVVbml0VHlwZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gY29udGV4dC5nbC5URVhUVVJFMDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IFRleHR1cmVVbml0VHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiBUZXh0dXJlVW5pdFR5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuYWN0aXZlVGV4dHVyZSh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydCBpbXBsZW1lbnRzIFZhbHVlPFZpZXdwb3J0VHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogVmlld3BvcnRUeXBlO1xuICAgIGRlZmF1bHQ6IFZpZXdwb3J0VHlwZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IFswLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHRdO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogVmlld3BvcnRUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6IFZpZXdwb3J0VHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdIHx8IHZbMl0gIT09IGNbMl0gfHwgdlszXSAhPT0gY1szXSB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wudmlld3BvcnQodlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZEZyYW1lYnVmZmVyIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMRnJhbWVidWZmZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTEZyYW1lYnVmZmVyO1xuICAgIGRlZmF1bHQ6ID9XZWJHTEZyYW1lYnVmZmVyO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMRnJhbWVidWZmZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogP1dlYkdMRnJhbWVidWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFJlbmRlcmJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMUmVuZGVyYnVmZmVyO1xuICAgIGRlZmF1bHQ6ID9XZWJHTFJlbmRlcmJ1ZmZlcjtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTFJlbmRlcmJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiA/V2ViR0xSZW5kZXJidWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kVGV4dHVyZSBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTFRleHR1cmU7XG4gICAgZGVmYXVsdDogP1dlYkdMVGV4dHVyZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTFRleHR1cmUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogP1dlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFZlcnRleEJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTEJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMQnVmZmVyO1xuICAgIGRlZmF1bHQ6ID9XZWJHTEJ1ZmZlcjtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTEJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiA/V2ViR0xCdWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kRWxlbWVudEJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTEJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMQnVmZmVyO1xuICAgIGRlZmF1bHQ6ID9XZWJHTEJ1ZmZlcjtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTEJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiA/V2ViR0xCdWZmZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gQWx3YXlzIHJlYmluZFxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kVmVydGV4QXJyYXlPRVMgaW1wbGVtZW50cyBWYWx1ZTxhbnk+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGFueTtcbiAgICBkZWZhdWx0OiBhbnk7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBhbnkgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYgJiYgdGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5iaW5kVmVydGV4QXJyYXlPRVModik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGl4ZWxTdG9yZVVucGFjayBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuICAgIGRlZmF1bHQ6IG51bWJlcjtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gNDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldERlZmF1bHQoKTogdm9pZCB7IHRoaXMuc2V0KHRoaXMuZGVmYXVsdCk7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiB8fCB0aGlzLmRpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCAodjogYW55KSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGl4ZWxTdG9yZVVucGFja0ZsaXBZIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcbiAgICBkZWZhdWx0OiBib29sZWFuO1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2IHx8IHRoaXMuZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgKHY6IGFueSkpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBGcmFtZWJ1ZmZlciB2YWx1ZXNcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBGcmFtZWJ1ZmZlclZhbHVlPFQ+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcjtcbiAgICBjdXJyZW50OiA/VDtcbiAgICBkZWZhdWx0OiA/VDtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9UIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJWYWx1ZTw/V2ViR0xUZXh0dXJlPiBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcikge1xuICAgICAgICBzdXBlcihjb250ZXh0LCBwYXJlbnQpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5zZXQodGhpcy5kZWZhdWx0KTsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgfHwgdGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgICAgIC8vIG5vdGU6IGl0J3MgcG9zc2libGUgdG8gYXR0YWNoIGEgcmVuZGVyYnVmZmVyIHRvIHRoZSBjb2xvclxuICAgICAgICAgICAgLy8gYXR0YWNobWVudCBwb2ludCwgYnV0IHRodXMgZmFyIE1CR0wgb25seSB1c2VzIHRleHR1cmVzIGZvciBjb2xvclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB2LCAwKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJWYWx1ZTw/V2ViR0xSZW5kZXJidWZmZXI+IGltcGxlbWVudHMgVmFsdWU8P1dlYkdMUmVuZGVyYnVmZmVyPiB7XG5cbiAgICBzZXREZWZhdWx0KCk6IHZvaWQgeyB0aGlzLnNldCh0aGlzLmRlZmF1bHQpOyB9XG5cbiAgICBzZXQodjogP1dlYkdMUmVuZGVyYnVmZmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYgfHwgdGhpcy5kaXJ0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7XG4gICAgICAgICAgICAvLyBub3RlOiBpdCdzIHBvc3NpYmxlIHRvIGF0dGFjaCBhIHRleHR1cmUgdG8gdGhlIGRlcHRoIGF0dGFjaG1lbnRcbiAgICAgICAgICAgIC8vIHBvaW50LCBidXQgdGh1cyBmYXIgTUJHTCBvbmx5IHVzZXMgcmVuZGVyYnVmZmVycyBmb3IgZGVwdGhcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBDb2xvckF0dGFjaG1lbnQsIERlcHRoQXR0YWNobWVudCB9IGZyb20gJy4vdmFsdWUnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4vY29udGV4dCc7XG5cbmNsYXNzIEZyYW1lYnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZnJhbWVidWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgY29sb3JBdHRhY2htZW50OiBDb2xvckF0dGFjaG1lbnQ7XG4gICAgZGVwdGhBdHRhY2htZW50OiBEZXB0aEF0dGFjaG1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGZibyA9IHRoaXMuZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXG4gICAgICAgIHRoaXMuY29sb3JBdHRhY2htZW50ID0gbmV3IENvbG9yQXR0YWNobWVudChjb250ZXh0LCBmYm8pO1xuICAgICAgICB0aGlzLmRlcHRoQXR0YWNobWVudCA9IG5ldyBEZXB0aEF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgIGlmICh0ZXh0dXJlKSBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IHRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO1xuICAgICAgICBpZiAocmVuZGVyYnVmZmVyKSBnbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyYnVmZmVyKTtcblxuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZyYW1lYnVmZmVyO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIHsgRGVwdGhGdW5jVHlwZSwgRGVwdGhNYXNrVHlwZSwgRGVwdGhSYW5nZVR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQUxXQVlTID0gMHgwMjA3O1xuXG5jbGFzcyBEZXB0aE1vZGUge1xuICAgIGZ1bmM6IERlcHRoRnVuY1R5cGU7XG4gICAgbWFzazogRGVwdGhNYXNrVHlwZTtcbiAgICByYW5nZTogRGVwdGhSYW5nZVR5cGU7XG5cbiAgICAvLyBEZXB0aE1hc2sgZW51bXNcbiAgICBzdGF0aWMgUmVhZE9ubHk6IGJvb2xlYW47XG4gICAgc3RhdGljIFJlYWRXcml0ZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGRlcHRoRnVuYzogRGVwdGhGdW5jVHlwZSwgZGVwdGhNYXNrOiBEZXB0aE1hc2tUeXBlLCBkZXB0aFJhbmdlOiBEZXB0aFJhbmdlVHlwZSkge1xuICAgICAgICB0aGlzLmZ1bmMgPSBkZXB0aEZ1bmM7XG4gICAgICAgIHRoaXMubWFzayA9IGRlcHRoTWFzaztcbiAgICAgICAgdGhpcy5yYW5nZSA9IGRlcHRoUmFuZ2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc2FibGVkOiAkUmVhZE9ubHk8RGVwdGhNb2RlPjtcbn1cblxuRGVwdGhNb2RlLlJlYWRPbmx5ID0gZmFsc2U7XG5EZXB0aE1vZGUuUmVhZFdyaXRlID0gdHJ1ZTtcblxuRGVwdGhNb2RlLmRpc2FibGVkID0gbmV3IERlcHRoTW9kZShBTFdBWVMsIERlcHRoTW9kZS5SZWFkT25seSwgWzAsIDFdKTtcblxuZXhwb3J0IGRlZmF1bHQgRGVwdGhNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIHsgU3RlbmNpbE9wQ29uc3RhbnQsIFN0ZW5jaWxUZXN0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEFMV0FZUyA9IDB4MDIwNztcbmNvbnN0IEtFRVAgPSAweDFFMDA7XG5cbmNsYXNzIFN0ZW5jaWxNb2RlIHtcbiAgICB0ZXN0OiBTdGVuY2lsVGVzdDtcbiAgICByZWY6IG51bWJlcjtcbiAgICBtYXNrOiBudW1iZXI7XG4gICAgZmFpbDogU3RlbmNpbE9wQ29uc3RhbnQ7XG4gICAgZGVwdGhGYWlsOiBTdGVuY2lsT3BDb25zdGFudDtcbiAgICBwYXNzOiBTdGVuY2lsT3BDb25zdGFudDtcblxuICAgIGNvbnN0cnVjdG9yKHRlc3Q6IFN0ZW5jaWxUZXN0LCByZWY6IG51bWJlciwgbWFzazogbnVtYmVyLCBmYWlsOiBTdGVuY2lsT3BDb25zdGFudCxcbiAgICAgICAgZGVwdGhGYWlsOiBTdGVuY2lsT3BDb25zdGFudCwgcGFzczogU3RlbmNpbE9wQ29uc3RhbnQpIHtcbiAgICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICAgICAgdGhpcy5yZWYgPSByZWY7XG4gICAgICAgIHRoaXMubWFzayA9IG1hc2s7XG4gICAgICAgIHRoaXMuZmFpbCA9IGZhaWw7XG4gICAgICAgIHRoaXMuZGVwdGhGYWlsID0gZGVwdGhGYWlsO1xuICAgICAgICB0aGlzLnBhc3MgPSBwYXNzO1xuICAgIH1cblxuICAgIHN0YXRpYyBkaXNhYmxlZDogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPjtcbn1cblxuU3RlbmNpbE1vZGUuZGlzYWJsZWQgPSBuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBBTFdBWVMsIG1hc2s6IDAgfSwgMCwgMCwgS0VFUCwgS0VFUCwgS0VFUCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZW5jaWxNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuXG5pbXBvcnQgdHlwZSB7QmxlbmRGdW5jVHlwZSwgQ29sb3JNYXNrVHlwZX0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IFpFUk8gPSAweDAwMDA7XG5jb25zdCBPTkUgPSAweDAwMDE7XG5jb25zdCBPTkVfTUlOVVNfU1JDX0FMUEhBID0gMHgwMzAzO1xuXG5jbGFzcyBDb2xvck1vZGUge1xuICAgIGJsZW5kRnVuY3Rpb246IEJsZW5kRnVuY1R5cGU7XG4gICAgYmxlbmRDb2xvcjogQ29sb3I7XG4gICAgbWFzazogQ29sb3JNYXNrVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGJsZW5kRnVuY3Rpb246IEJsZW5kRnVuY1R5cGUsIGJsZW5kQ29sb3I6IENvbG9yLCBtYXNrOiBDb2xvck1hc2tUeXBlKSB7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jdGlvbiA9IGJsZW5kRnVuY3Rpb247XG4gICAgICAgIHRoaXMuYmxlbmRDb2xvciA9IGJsZW5kQ29sb3I7XG4gICAgICAgIHRoaXMubWFzayA9IG1hc2s7XG4gICAgfVxuXG4gICAgc3RhdGljIFJlcGxhY2U6IEJsZW5kRnVuY1R5cGU7XG5cbiAgICBzdGF0aWMgZGlzYWJsZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xuICAgIHN0YXRpYyB1bmJsZW5kZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xuICAgIHN0YXRpYyBhbHBoYUJsZW5kZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xufVxuXG5Db2xvck1vZGUuUmVwbGFjZSA9IFtPTkUsIFpFUk9dO1xuXG5Db2xvck1vZGUuZGlzYWJsZWQgPSBuZXcgQ29sb3JNb2RlKENvbG9yTW9kZS5SZXBsYWNlLCBDb2xvci50cmFuc3BhcmVudCwgW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXSk7XG5Db2xvck1vZGUudW5ibGVuZGVkID0gbmV3IENvbG9yTW9kZShDb2xvck1vZGUuUmVwbGFjZSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG5Db2xvck1vZGUuYWxwaGFCbGVuZGVkID0gbmV3IENvbG9yTW9kZShbT05FLCBPTkVfTUlOVVNfU1JDX0FMUEhBXSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbG9yTW9kZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtDdWxsRmFjZU1vZGVUeXBlLCBGcm9udEZhY2VUeXBlfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQkFDSyA9IDB4MDQwNTtcbmNvbnN0IENDVyA9IDB4MDkwMTtcblxuY2xhc3MgQ3VsbEZhY2VNb2RlIHtcbiAgICBlbmFibGU6IGJvb2xlYW47XG4gICAgbW9kZTogQ3VsbEZhY2VNb2RlVHlwZTtcbiAgICBmcm9udEZhY2U6IEZyb250RmFjZVR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihlbmFibGU6IGJvb2xlYW4sIG1vZGU6IEN1bGxGYWNlTW9kZVR5cGUsIGZyb250RmFjZTogRnJvbnRGYWNlVHlwZSkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGVuYWJsZTtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UgPSBmcm9udEZhY2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc2FibGVkOiAkUmVhZE9ubHk8Q3VsbEZhY2VNb2RlPjtcbiAgICBzdGF0aWMgYmFja0NDVzogJFJlYWRPbmx5PEN1bGxGYWNlTW9kZT47XG59XG5cbkN1bGxGYWNlTW9kZS5kaXNhYmxlZCA9IG5ldyBDdWxsRmFjZU1vZGUoZmFsc2UsIEJBQ0ssIENDVyk7XG5DdWxsRmFjZU1vZGUuYmFja0NDVyA9IG5ldyBDdWxsRmFjZU1vZGUodHJ1ZSwgQkFDSywgQ0NXKTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VsbEZhY2VNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBJbmRleEJ1ZmZlciBmcm9tICcuL2luZGV4X2J1ZmZlcic7XG5cbmltcG9ydCBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCBGcmFtZWJ1ZmZlciBmcm9tICcuL2ZyYW1lYnVmZmVyJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4vY29sb3JfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4vY3VsbF9mYWNlX21vZGUnO1xuaW1wb3J0IHsgZGVlcEVxdWFsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IENsZWFyQ29sb3IsIENsZWFyRGVwdGgsIENsZWFyU3RlbmNpbCwgQ29sb3JNYXNrLCBEZXB0aE1hc2ssIFN0ZW5jaWxNYXNrLCBTdGVuY2lsRnVuYywgU3RlbmNpbE9wLCBTdGVuY2lsVGVzdCwgRGVwdGhSYW5nZSwgRGVwdGhUZXN0LCBEZXB0aEZ1bmMsIEJsZW5kLCBCbGVuZEZ1bmMsIEJsZW5kQ29sb3IsIEJsZW5kRXF1YXRpb24sIEN1bGxGYWNlLCBDdWxsRmFjZVNpZGUsIEZyb250RmFjZSwgUHJvZ3JhbSwgQWN0aXZlVGV4dHVyZVVuaXQsIFZpZXdwb3J0LCBCaW5kRnJhbWVidWZmZXIsIEJpbmRSZW5kZXJidWZmZXIsIEJpbmRUZXh0dXJlLCBCaW5kVmVydGV4QnVmZmVyLCBCaW5kRWxlbWVudEJ1ZmZlciwgQmluZFZlcnRleEFycmF5T0VTLCBQaXhlbFN0b3JlVW5wYWNrLCBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSwgUGl4ZWxTdG9yZVVucGFja0ZsaXBZIH0gZnJvbSAnLi92YWx1ZSc7XG5cblxuaW1wb3J0IHR5cGUge1RyaWFuZ2xlSW5kZXhBcnJheSwgTGluZUluZGV4QXJyYXksIExpbmVTdHJpcEluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvaW5kZXhfYXJyYXlfdHlwZSc7XG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcblxudHlwZSBDbGVhckFyZ3MgPSB7XG4gICAgY29sb3I/OiBDb2xvcixcbiAgICBkZXB0aD86IG51bWJlcixcbiAgICBzdGVuY2lsPzogbnVtYmVyXG59O1xuXG5cbmNsYXNzIENvbnRleHQge1xuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgZXh0VmVydGV4QXJyYXlPYmplY3Q6IGFueTtcbiAgICBjdXJyZW50TnVtQXR0cmlidXRlczogP251bWJlcjtcblxuICAgIGNsZWFyQ29sb3I6IENsZWFyQ29sb3I7XG4gICAgY2xlYXJEZXB0aDogQ2xlYXJEZXB0aDtcbiAgICBjbGVhclN0ZW5jaWw6IENsZWFyU3RlbmNpbDtcbiAgICBjb2xvck1hc2s6IENvbG9yTWFzaztcbiAgICBkZXB0aE1hc2s6IERlcHRoTWFzaztcbiAgICBzdGVuY2lsTWFzazogU3RlbmNpbE1hc2s7XG4gICAgc3RlbmNpbEZ1bmM6IFN0ZW5jaWxGdW5jO1xuICAgIHN0ZW5jaWxPcDogU3RlbmNpbE9wO1xuICAgIHN0ZW5jaWxUZXN0OiBTdGVuY2lsVGVzdDtcbiAgICBkZXB0aFJhbmdlOiBEZXB0aFJhbmdlO1xuICAgIGRlcHRoVGVzdDogRGVwdGhUZXN0O1xuICAgIGRlcHRoRnVuYzogRGVwdGhGdW5jO1xuICAgIGJsZW5kOiBCbGVuZDtcbiAgICBibGVuZEZ1bmM6IEJsZW5kRnVuYztcbiAgICBibGVuZENvbG9yOiBCbGVuZENvbG9yO1xuICAgIGJsZW5kRXF1YXRpb246IEJsZW5kRXF1YXRpb247XG4gICAgY3VsbEZhY2U6IEN1bGxGYWNlO1xuICAgIGN1bGxGYWNlU2lkZTogQ3VsbEZhY2VTaWRlO1xuICAgIGZyb250RmFjZTogRnJvbnRGYWNlO1xuICAgIHByb2dyYW06IFByb2dyYW07XG4gICAgYWN0aXZlVGV4dHVyZTogQWN0aXZlVGV4dHVyZVVuaXQ7XG4gICAgdmlld3BvcnQ6IFZpZXdwb3J0O1xuICAgIGJpbmRGcmFtZWJ1ZmZlcjogQmluZEZyYW1lYnVmZmVyO1xuICAgIGJpbmRSZW5kZXJidWZmZXI6IEJpbmRSZW5kZXJidWZmZXI7XG4gICAgYmluZFRleHR1cmU6IEJpbmRUZXh0dXJlO1xuICAgIGJpbmRWZXJ0ZXhCdWZmZXI6IEJpbmRWZXJ0ZXhCdWZmZXI7XG4gICAgYmluZEVsZW1lbnRCdWZmZXI6IEJpbmRFbGVtZW50QnVmZmVyO1xuICAgIGJpbmRWZXJ0ZXhBcnJheU9FUzogQmluZFZlcnRleEFycmF5T0VTO1xuICAgIHBpeGVsU3RvcmVVbnBhY2s6IFBpeGVsU3RvcmVVbnBhY2s7XG4gICAgcGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE6IFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhO1xuICAgIHBpeGVsU3RvcmVVbnBhY2tGbGlwWTogUGl4ZWxTdG9yZVVucGFja0ZsaXBZO1xuXG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOiBhbnk7XG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4OiBhbnk7XG4gICAgZXh0VGV4dHVyZUhhbGZGbG9hdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgPSB0aGlzLmdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSBuZXcgQ2xlYXJDb2xvcih0aGlzKTtcbiAgICAgICAgdGhpcy5jbGVhckRlcHRoID0gbmV3IENsZWFyRGVwdGgodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsID0gbmV3IENsZWFyU3RlbmNpbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2xvck1hc2sgPSBuZXcgQ29sb3JNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoTWFzayA9IG5ldyBEZXB0aE1hc2sodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2sgPSBuZXcgU3RlbmNpbE1hc2sodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMgPSBuZXcgU3RlbmNpbEZ1bmModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE9wID0gbmV3IFN0ZW5jaWxPcCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsVGVzdCA9IG5ldyBTdGVuY2lsVGVzdCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aFJhbmdlID0gbmV3IERlcHRoUmFuZ2UodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhUZXN0ID0gbmV3IERlcHRoVGVzdCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aEZ1bmMgPSBuZXcgRGVwdGhGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kID0gbmV3IEJsZW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kRnVuYyA9IG5ldyBCbGVuZEZ1bmModGhpcyk7XG4gICAgICAgIHRoaXMuYmxlbmRDb2xvciA9IG5ldyBCbGVuZENvbG9yKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBuZXcgQmxlbmRFcXVhdGlvbih0aGlzKTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZSA9IG5ldyBDdWxsRmFjZSh0aGlzKTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZVNpZGUgPSBuZXcgQ3VsbEZhY2VTaWRlKHRoaXMpO1xuICAgICAgICB0aGlzLmZyb250RmFjZSA9IG5ldyBGcm9udEZhY2UodGhpcyk7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMpO1xuICAgICAgICB0aGlzLmFjdGl2ZVRleHR1cmUgPSBuZXcgQWN0aXZlVGV4dHVyZVVuaXQodGhpcyk7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgVmlld3BvcnQodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZEZyYW1lYnVmZmVyID0gbmV3IEJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyYnVmZmVyID0gbmV3IEJpbmRSZW5kZXJidWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFRleHR1cmUgPSBuZXcgQmluZFRleHR1cmUodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFZlcnRleEJ1ZmZlciA9IG5ldyBCaW5kVmVydGV4QnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRFbGVtZW50QnVmZmVyID0gbmV3IEJpbmRFbGVtZW50QnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUyA9IHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgJiYgbmV3IEJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrID0gbmV3IFBpeGVsU3RvcmVVbnBhY2sodGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEgPSBuZXcgUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEodGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZID0gbmV3IFBpeGVsU3RvcmVVbnBhY2tGbGlwWSh0aGlzKTtcblxuICAgICAgICB0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyA9IChcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKVxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4ID0gZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQgPSBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdCkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckNvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhckRlcHRoLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbG9yTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhNYXNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoUmFuZ2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZENvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VsbEZhY2VTaWRlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2dyYW0uZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2ZVRleHR1cmUuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXdwb3J0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGVJbmRleEJ1ZmZlcihhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleEJ1ZmZlcih0aGlzLCBhcnJheSwgZHluYW1pY0RyYXcpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZlcnRleEJ1ZmZlcihhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4QnVmZmVyKHRoaXMsIGFycmF5LCBhdHRyaWJ1dGVzLCBkeW5hbWljRHJhdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmVuZGVyYnVmZmVyKHN0b3JhZ2VGb3JtYXQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGNvbnN0IHJibyA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KHJibyk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBzdG9yYWdlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKTtcblxuICAgICAgICByZXR1cm4gcmJvO1xuICAgIH1cblxuICAgIGNyZWF0ZUZyYW1lYnVmZmVyKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhbWVidWZmZXIodGhpcywgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgY2xlYXIoe2NvbG9yLCBkZXB0aH06IENsZWFyQXJncykge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGxldCBtYXNrID0gMDtcblxuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIG1hc2sgfD0gZ2wuQ09MT1JfQlVGRkVSX0JJVDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDb2xvci5zZXQoY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5jb2xvck1hc2suc2V0KFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGRlcHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWFzayB8PSBnbC5ERVBUSF9CVUZGRVJfQklUO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRlcHRoLnNldChkZXB0aCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoTWFzay5zZXQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgbm90ZSBpbiBQYWludGVyI2NsZWFyU3RlbmNpbDogaW1wbGVtZW50IHRoaXMgdGhlIGVhc3kgd2F5IG9uY2UgR1BVIGJ1Zy93b3JrYXJvdW5kIGlzIGZpeGVkIHVwc3RyZWFtXG4gICAgICAgIC8vIGlmICh0eXBlb2Ygc3RlbmNpbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gICAgIG1hc2sgfD0gZ2wuU1RFTkNJTF9CVUZGRVJfQklUO1xuICAgICAgICAvLyAgICAgdGhpcy5jbGVhclN0ZW5jaWwuc2V0KHN0ZW5jaWwpO1xuICAgICAgICAvLyAgICAgdGhpcy5zdGVuY2lsTWFzay5zZXQoMHhGRik7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBnbC5jbGVhcihtYXNrKTtcbiAgICB9XG5cbiAgICBzZXRDdWxsRmFjZShjdWxsRmFjZU1vZGU6ICRSZWFkT25seTxDdWxsRmFjZU1vZGU+KSB7XG4gICAgICAgIGlmIChjdWxsRmFjZU1vZGUuZW5hYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5jdWxsRmFjZS5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdWxsRmFjZS5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmN1bGxGYWNlU2lkZS5zZXQoY3VsbEZhY2VNb2RlLm1vZGUpO1xuICAgICAgICAgICAgdGhpcy5mcm9udEZhY2Uuc2V0KGN1bGxGYWNlTW9kZS5mcm9udEZhY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RGVwdGhNb2RlKGRlcHRoTW9kZTogJFJlYWRPbmx5PERlcHRoTW9kZT4pIHtcbiAgICAgICAgaWYgKGRlcHRoTW9kZS5mdW5jID09PSB0aGlzLmdsLkFMV0FZUyAmJiAhZGVwdGhNb2RlLm1hc2spIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXN0LnNldChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoRnVuYy5zZXQoZGVwdGhNb2RlLmZ1bmMpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aE1hc2suc2V0KGRlcHRoTW9kZS5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXQoZGVwdGhNb2RlLnJhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0ZW5jaWxNb2RlKHN0ZW5jaWxNb2RlOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+KSB7XG4gICAgICAgIGlmIChzdGVuY2lsTW9kZS50ZXN0LmZ1bmMgPT09IHRoaXMuZ2wuQUxXQVlTICYmICFzdGVuY2lsTW9kZS5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxUZXN0LnNldChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxUZXN0LnNldCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hc2suc2V0KHN0ZW5jaWxNb2RlLm1hc2spO1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsT3Auc2V0KFtzdGVuY2lsTW9kZS5mYWlsLCBzdGVuY2lsTW9kZS5kZXB0aEZhaWwsIHN0ZW5jaWxNb2RlLnBhc3NdKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtcbiAgICAgICAgICAgICAgICBmdW5jOiBzdGVuY2lsTW9kZS50ZXN0LmZ1bmMsXG4gICAgICAgICAgICAgICAgcmVmOiBzdGVuY2lsTW9kZS5yZWYsXG4gICAgICAgICAgICAgICAgbWFzazogc3RlbmNpbE1vZGUudGVzdC5tYXNrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbG9yTW9kZShjb2xvck1vZGU6ICRSZWFkT25seTxDb2xvck1vZGU+KSB7XG4gICAgICAgIGlmIChkZWVwRXF1YWwoY29sb3JNb2RlLmJsZW5kRnVuY3Rpb24sIENvbG9yTW9kZS5SZXBsYWNlKSkge1xuICAgICAgICAgICAgdGhpcy5ibGVuZC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ibGVuZC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsZW5kRnVuYy5zZXQoY29sb3JNb2RlLmJsZW5kRnVuY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5ibGVuZENvbG9yLnNldChjb2xvck1vZGUuYmxlbmRDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbG9yTWFzay5zZXQoY29sb3JNb2RlLm1hc2spO1xuICAgIH1cblxuICAgIHVuYmluZFZBTygpIHtcbiAgICAgICAgLy8gVW5iaW5kaW5nIHRoZSBWQU8gcHJldmVudHMgb3RoZXIgdGhpbmdzIChjdXN0b20gbGF5ZXJzLCBuZXcgYnVmZmVyIGNyZWF0aW9uKSBmcm9tXG4gICAgICAgIC8vIHVuaW50ZW50aW9uYWxseSBjaGFuZ2luZyB0aGUgc3RhdGUgb2YgdGhlIGxhc3QgVkFPIHVzZWQuXG4gICAgICAgIGlmICh0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRleHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBjcmVhdGUgYXMgY3JlYXRlU291cmNlIH0gZnJvbSAnLi9zb3VyY2UnO1xuXG5pbXBvcnQgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuL3RpbGVfY2FjaGUnO1xuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHsga2V5c0RpZmZlcmVuY2UgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBTb3VyY2VGZWF0dXJlU3RhdGUgZnJvbSAnLi9zb3VyY2Vfc3RhdGUnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtUaWxlU3RhdGV9IGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcbmltcG9ydCB0eXBlIHtTb3VyY2VTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzJztcblxuLyoqXG4gKiBgU291cmNlQ2FjaGVgIGlzIHJlc3BvbnNpYmxlIGZvclxuICpcbiAqICAtIGNyZWF0aW5nIGFuIGluc3RhbmNlIG9mIGBTb3VyY2VgXG4gKiAgLSBmb3J3YXJkaW5nIGV2ZW50cyBmcm9tIGBTb3VyY2VgXG4gKiAgLSBjYWNoaW5nIHRpbGVzIGxvYWRlZCBmcm9tIGFuIGluc3RhbmNlIG9mIGBTb3VyY2VgXG4gKiAgLSBsb2FkaW5nIHRoZSB0aWxlcyBuZWVkZWQgdG8gcmVuZGVyIGEgZ2l2ZW4gdmlld3BvcnRcbiAqICAtIHVubG9hZGluZyB0aGUgY2FjaGVkIHRpbGVzIG5vdCBuZWVkZWQgdG8gcmVuZGVyIGEgZ2l2ZW4gdmlld3BvcnRcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBTb3VyY2VDYWNoZSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICBzdHlsZTogU3R5bGU7XG5cbiAgICBfc291cmNlOiBTb3VyY2U7XG4gICAgX3NvdXJjZUxvYWRlZDogYm9vbGVhbjtcbiAgICBfc291cmNlRXJyb3JlZDogYm9vbGVhbjtcbiAgICBfdGlsZXM6IHtbYW55XTogVGlsZX07XG4gICAgX3ByZXZMbmc6IG51bWJlciB8IHZvaWQ7XG4gICAgX2NhY2hlOiBUaWxlQ2FjaGU7XG4gICAgX3RpbWVyczoge1thbnldOiBUaW1lb3V0SUR9O1xuICAgIF9jYWNoZVRpbWVyczoge1thbnldOiBUaW1lb3V0SUR9O1xuICAgIF9tYXhUaWxlQ2FjaGVTaXplOiA/bnVtYmVyO1xuICAgIF9wYXVzZWQ6IGJvb2xlYW47XG4gICAgX3Nob3VsZFJlbG9hZE9uUmVzdW1lOiBib29sZWFuO1xuICAgIF9jb3ZlcmVkVGlsZXM6IHtbYW55XTogYm9vbGVhbn07XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgX2lzSWRSZW5kZXJhYmxlOiAoaWQ6IG51bWJlciwgc3ltYm9sTGF5ZXI/OiBib29sZWFuKSA9PiBib29sZWFuO1xuICAgIHVzZWQ6IGJvb2xlYW47XG4gICAgX3N0YXRlOiBTb3VyY2VGZWF0dXJlU3RhdGU7XG5cbiAgICBzdGF0aWMgbWF4VW5kZXJ6b29taW5nOiBudW1iZXI7XG4gICAgc3RhdGljIG1heE92ZXJ6b29taW5nOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcblxuICAgICAgICB0aGlzLm9uKCdkYXRhJywgKGUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMuX3NvdXJjZUxvYWRlZCBzaWduaWZpZXMgdGhhdCB0aGUgVGlsZUpTT04gaXMgbG9hZGVkIGlmIGFwcGxpY2FibGUuXG4gICAgICAgICAgICAvLyBpZiB0aGUgc291cmNlIHR5cGUgZG9lcyBub3QgY29tZSB3aXRoIGEgVGlsZUpTT04sIHRoZSBmbGFnIHNpZ25pZmllcyB0aGVcbiAgICAgICAgICAgIC8vIHNvdXJjZSBkYXRhIGhhcyBsb2FkZWQgKGkuZSBnZW9qc29uIGhhcyBiZWVuIHRpbGVkIG9uIHRoZSB3b3JrZXIgYW5kIGlzIHJlYWR5KVxuICAgICAgICAgICAgaWYgKGUuZGF0YVR5cGUgPT09ICdzb3VyY2UnICYmIGUuc291cmNlRGF0YVR5cGUgPT09ICdtZXRhZGF0YScpIHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGZvciBzb3VyY2VzIHdpdGggbXV0YWJsZSBkYXRhLCB0aGlzIGV2ZW50IGZpcmVzIHdoZW4gdGhlIHVuZGVybHlpbmcgZGF0YVxuICAgICAgICAgICAgLy8gdG8gYSBzb3VyY2UgaXMgY2hhbmdlZC4gKGkuZS4gR2VvSlNPTlNvdXJjZSNzZXREYXRhIGFuZCBJbWFnZVNvdXJjZSNzZXJDb29yZGluYXRlcylcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2VMb2FkZWQgJiYgIXRoaXMuX3BhdXNlZCAmJiBlLmRhdGFUeXBlID09PSBcInNvdXJjZVwiICYmIGUuc291cmNlRGF0YVR5cGUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlRXJyb3JlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IGNyZWF0ZVNvdXJjZShpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fdGlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgVGlsZUNhY2hlKDAsIHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX3RpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9jYWNoZVRpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb3ZlcmVkVGlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgU291cmNlRmVhdHVyZVN0YXRlKCk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21heFRpbGVDYWNoZVNpemUgPSBtYXAgPyBtYXAuX21heFRpbGVDYWNoZVNpemUgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5vbkFkZCkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLm9uQWRkKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlbW92ZShtYXA6IE1hcCkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5vblJlbW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLm9uUmVtb3ZlKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBubyB0aWxlIGRhdGEgaXMgcGVuZGluZywgdGlsZXMgd2lsbCBub3QgY2hhbmdlIHVubGVzc1xuICAgICAqIGFuIGFkZGl0aW9uYWwgQVBJIGNhbGwgaXMgcmVjZWl2ZWQuXG4gICAgICovXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlRXJyb3JlZCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUxvYWRlZCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgZm9yIChjb25zdCB0IGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbdF07XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcgJiYgdGlsZS5zdGF0ZSAhPT0gJ2Vycm9yZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRTb3VyY2UoKTogU291cmNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGF1c2VkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbG9hZCA9IHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNob3VsZFJlbG9hZCkgdGhpcy5yZWxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgX2xvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmxvYWRUaWxlKHRpbGUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBfdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSh0aWxlLCAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgX2Fib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUodGlsZSwgKCkgPT4ge30pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwcmVwYXJlKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgaWYgICh0aGlzLl9zb3VyY2UucHJlcGFyZSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLnByZXBhcmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXRlLmNvYWxlc2NlQ2hhbmdlcyh0aGlzLl90aWxlcywgdGhpcy5tYXAgPyB0aGlzLm1hcC5wYWludGVyIDogbnVsbCk7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgdGhpcy5fdGlsZXNbaV0udXBsb2FkKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB0aWxlIGlkcyBvcmRlcmVkIHdpdGggei1vcmRlciwgYW5kIGNhc3QgdG8gbnVtYmVyc1xuICAgICAqL1xuICAgIGdldElkcygpOiBBcnJheTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3RpbGVzKS5tYXAoTnVtYmVyKS5zb3J0KGNvbXBhcmVLZXlab29tKTtcbiAgICB9XG5cbiAgICBnZXRSZW5kZXJhYmxlSWRzKHN5bWJvbExheWVyPzogYm9vbGVhbik6IEFycmF5PG51bWJlcj4ge1xuICAgICAgICBjb25zdCBpZHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzSWRSZW5kZXJhYmxlKCtpZCwgc3ltYm9sTGF5ZXIpKSBpZHMucHVzaCgraWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzeW1ib2xMYXllcikge1xuICAgICAgICAgICAgcmV0dXJuIGlkcy5zb3J0KChhXywgYl8pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5fdGlsZXNbYV9dLnRpbGVJRDtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gdGhpcy5fdGlsZXNbYl9dLnRpbGVJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByb3RhdGVkQSA9IChuZXcgUG9pbnQoYS5jYW5vbmljYWwueCwgYS5jYW5vbmljYWwueSkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRCID0gKG5ldyBQb2ludChiLmNhbm9uaWNhbC54LCBiLmNhbm9uaWNhbC55KSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEub3ZlcnNjYWxlZFogLSBiLm92ZXJzY2FsZWRaIHx8IHJvdGF0ZWRCLnkgLSByb3RhdGVkQS55IHx8IHJvdGF0ZWRCLnggLSByb3RhdGVkQS54O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkcy5zb3J0KGNvbXBhcmVLZXlab29tKTtcbiAgICB9XG5cbiAgICBoYXNSZW5kZXJhYmxlUGFyZW50KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICBjb25zdCBwYXJlbnRUaWxlID0gdGhpcy5maW5kTG9hZGVkUGFyZW50KHRpbGVJRCwgMCk7XG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNJZFJlbmRlcmFibGUocGFyZW50VGlsZS50aWxlSUQua2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2lzSWRSZW5kZXJhYmxlKGlkOiBudW1iZXIsIHN5bWJvbExheWVyPzogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbaWRdICYmIHRoaXMuX3RpbGVzW2lkXS5oYXNEYXRhKCkgJiZcbiAgICAgICAgICAgICF0aGlzLl9jb3ZlcmVkVGlsZXNbaWRdICYmIChzeW1ib2xMYXllciB8fCAhdGhpcy5fdGlsZXNbaWRdLmhvbGRpbmdGb3JGYWRlKCkpO1xuICAgIH1cblxuICAgIHJlbG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FjaGUucmVzZXQoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWxlc1tpXS5zdGF0ZSAhPT0gXCJlcnJvcmVkXCIpIHRoaXMuX3JlbG9hZFRpbGUoaSwgJ3JlbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JlbG9hZFRpbGUoaWQ6IHN0cmluZyB8IG51bWJlciwgc3RhdGU6IFRpbGVTdGF0ZSkge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuXG4gICAgICAgIC8vIHRoaXMgcG90ZW50aWFsbHkgZG9lcyBub3QgYWRkcmVzcyBhbGwgdW5kZXJseWluZ1xuICAgICAgICAvLyBpc3N1ZXMgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzQyNTJcbiAgICAgICAgLy8gLSBoYXJkIHRvIHRlbGwgd2l0aG91dCByZXBybyBzdGVwc1xuICAgICAgICBpZiAoIXRpbGUpIHJldHVybjtcblxuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFwibG9hZGluZ1wiIHRpbGVzIGFuZCBcInJlbG9hZGluZ1wiIG9yIFwiZXhwaXJlZFwiXG4gICAgICAgIC8vIHRpbGVzIGlzIHRoYXQgXCJyZWxvYWRpbmdcIi9cImV4cGlyZWRcIiB0aWxlcyBhcmUgXCJyZW5kZXJhYmxlXCIuXG4gICAgICAgIC8vIFRoZXJlZm9yZSwgYSBcImxvYWRpbmdcIiB0aWxlIGNhbm5vdCBiZWNvbWUgYSBcInJlbG9hZGluZ1wiIHRpbGUgd2l0aG91dFxuICAgICAgICAvLyBmaXJzdCBiZWNvbWluZyBhIFwibG9hZGVkXCIgdGlsZS5cbiAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFRpbGUodGlsZSwgdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsIHRpbGUsIGlkLCBzdGF0ZSkpO1xuICAgIH1cblxuICAgIF90aWxlTG9hZGVkKHRpbGU6IFRpbGUsIGlkOiBzdHJpbmcgfCBudW1iZXIsIHByZXZpb3VzU3RhdGU6IFRpbGVTdGF0ZSwgZXJyOiA/RXJyb3IpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgIGlmICgoZXJyOiBhbnkpLnN0YXR1cyAhPT0gNDA0KSB0aGlzLl9zb3VyY2UuZmlyZShuZXcgRXJyb3JFdmVudChlcnIsIHt0aWxlfSkpO1xuICAgICAgICAgICAgLy8gY29udGludWUgdG8gdHJ5IGxvYWRpbmcgcGFyZW50L2NoaWxkcmVuIHRpbGVzIGlmIGEgdGlsZSBkb2Vzbid0IGV4aXN0ICg0MDQpXG4gICAgICAgICAgICBlbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRpbGUudGltZUFkZGVkID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUgPT09ICdleHBpcmVkJykgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihpZCwgdGlsZSk7XG4gICAgICAgIGlmICh0aGlzLmdldFNvdXJjZSgpLnR5cGUgPT09ICdyYXN0ZXItZGVtJyAmJiB0aWxlLmRlbSkgdGhpcy5fYmFja2ZpbGxERU0odGlsZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodGlsZSwgdGhpcy5tYXAgPyB0aGlzLm1hcC5wYWludGVyIDogbnVsbCk7XG5cbiAgICAgICAgdGhpcy5fc291cmNlLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgdGlsZTogdGlsZSwgY29vcmQ6IHRpbGUudGlsZUlEfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogRm9yIHJhc3RlciB0ZXJyYWluIHNvdXJjZSwgYmFja2ZpbGwgREVNIHRvIGVsaW1pbmF0ZSB2aXNpYmxlIHRpbGUgYm91bmRhcmllc1xuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIF9iYWNrZmlsbERFTSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmFibGVzID0gdGhpcy5nZXRSZW5kZXJhYmxlSWRzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlcklkID0gcmVuZGVyYWJsZXNbaV07XG4gICAgICAgICAgICBpZiAodGlsZS5uZWlnaGJvcmluZ1RpbGVzICYmIHRpbGUubmVpZ2hib3JpbmdUaWxlc1tib3JkZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib3JkZXJUaWxlID0gdGhpcy5nZXRUaWxlQnlJRChib3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgZmlsbEJvcmRlcih0aWxlLCBib3JkZXJUaWxlKTtcbiAgICAgICAgICAgICAgICBmaWxsQm9yZGVyKGJvcmRlclRpbGUsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlsbEJvcmRlcih0aWxlLCBib3JkZXJUaWxlKSB7XG4gICAgICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZHggPSBib3JkZXJUaWxlLnRpbGVJRC5jYW5vbmljYWwueCAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC54O1xuICAgICAgICAgICAgY29uc3QgZHkgPSBib3JkZXJUaWxlLnRpbGVJRC5jYW5vbmljYWwueSAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC55O1xuICAgICAgICAgICAgY29uc3QgZGltID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQuY2Fub25pY2FsLnopO1xuICAgICAgICAgICAgY29uc3QgYm9yZGVySWQgPSBib3JkZXJUaWxlLnRpbGVJRC5rZXk7XG4gICAgICAgICAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR5KSA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgZGVsdGEgY29vcmRpbmF0ZSBmb3Igd29ybGQgd3JhcGFyb3VuZC5cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHggKyBkaW0pID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ICs9IGRpbTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR4IC0gZGltKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkeCAtPSBkaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFib3JkZXJUaWxlLmRlbSB8fCAhdGlsZS5kZW0pIHJldHVybjtcbiAgICAgICAgICAgIHRpbGUuZGVtLmJhY2tmaWxsQm9yZGVyKGJvcmRlclRpbGUuZGVtLCBkeCwgZHkpO1xuICAgICAgICAgICAgaWYgKHRpbGUubmVpZ2hib3JpbmdUaWxlcyAmJiB0aWxlLm5laWdoYm9yaW5nVGlsZXNbYm9yZGVySWRdKVxuICAgICAgICAgICAgICAgIHRpbGUubmVpZ2hib3JpbmdUaWxlc1tib3JkZXJJZF0uYmFja2ZpbGxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3BlY2lmaWMgdGlsZSBieSBUaWxlSURcbiAgICAgKi9cbiAgICBnZXRUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFRpbGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0aWxlSUQua2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyB0aWxlIGJ5IGlkXG4gICAgICovXG4gICAgZ2V0VGlsZUJ5SUQoaWQ6IHN0cmluZyB8IG51bWJlcik6IFRpbGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbaWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCB0aGUgem9vbSBsZXZlbCBhZGp1c3RlZCBmb3IgdGhlIGRpZmZlcmVuY2UgaW4gbWFwIGFuZCBzb3VyY2UgdGlsZXNpemVzXG4gICAgICovXG4gICAgZ2V0Wm9vbSh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0uem9vbSArIHRyYW5zZm9ybS5zY2FsZVpvb20odHJhbnNmb3JtLnRpbGVTaXplIC8gdGhpcy5fc291cmNlLnRpbGVTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgYSBnaXZlbiBzZXQgb2YgdGlsZXMsIHJldGFpbiBjaGlsZHJlbiB0aGF0IGFyZSBsb2FkZWQgYW5kIGhhdmUgYSB6b29tXG4gICAgICogYmV0d2VlbiBgem9vbWAgKGV4Y2x1c2l2ZSkgYW5kIGBtYXhDb3ZlcmluZ1pvb21gIChpbmNsdXNpdmUpXG4gICAgICovXG4gICAgX3JldGFpbkxvYWRlZENoaWxkcmVuKFxuICAgICAgICBpZGVhbFRpbGVzOiB7W2FueV06IE92ZXJzY2FsZWRUaWxlSUR9LFxuICAgICAgICB6b29tOiBudW1iZXIsXG4gICAgICAgIG1heENvdmVyaW5nWm9vbTogbnVtYmVyLFxuICAgICAgICByZXRhaW46IHtbYW55XTogT3ZlcnNjYWxlZFRpbGVJRH1cbiAgICApIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY29uc2lkZXIgcmVuZGVyYWJsZSB0aWxlcyB1cCB0byBtYXhDb3ZlcmluZ1pvb21cbiAgICAgICAgICAgIGlmIChyZXRhaW5baWRdIHx8XG4gICAgICAgICAgICAgICAgIXRpbGUuaGFzRGF0YSgpIHx8XG4gICAgICAgICAgICAgICAgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogPD0gem9vbSB8fFxuICAgICAgICAgICAgICAgIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaID4gbWF4Q292ZXJpbmdab29tXG4gICAgICAgICAgICApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggcGFyZW50cyBhbmQgcmV0YWluIHRoZSB0b3Btb3N0IGxvYWRlZCBvbmUgaWYgZm91bmRcbiAgICAgICAgICAgIGxldCB0b3Btb3N0TG9hZGVkSUQgPSB0aWxlLnRpbGVJRDtcbiAgICAgICAgICAgIHdoaWxlICh0aWxlICYmIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaID4gem9vbSArIDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJRCA9IHRpbGUudGlsZUlELnNjYWxlZFRvKHRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gMSk7XG5cbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5fdGlsZXNbcGFyZW50SUQua2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcG1vc3RMb2FkZWRJRCA9IHBhcmVudElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFuY2VzdG9ycyBvZiB0aGUgdG9wbW9zdCBsb2FkZWQgY2hpbGQgdG8gc2VlIGlmIHRoZXJlJ3Mgb25lIHRoYXQgbmVlZGVkIGl0XG4gICAgICAgICAgICBsZXQgdGlsZUlEID0gdG9wbW9zdExvYWRlZElEO1xuICAgICAgICAgICAgd2hpbGUgKHRpbGVJRC5vdmVyc2NhbGVkWiA+IHpvb20pIHtcbiAgICAgICAgICAgICAgICB0aWxlSUQgPSB0aWxlSUQuc2NhbGVkVG8odGlsZUlELm92ZXJzY2FsZWRaIC0gMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaWRlYWxUaWxlc1t0aWxlSUQua2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIHBhcmVudCB0aGF0IG5lZWRlZCBhIGxvYWRlZCBjaGlsZDsgcmV0YWluIHRoYXQgY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgcmV0YWluW3RvcG1vc3RMb2FkZWRJRC5rZXldID0gdG9wbW9zdExvYWRlZElEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgbG9hZGVkIHBhcmVudCBvZiB0aGUgZ2l2ZW4gdGlsZSAodXAgdG8gbWluQ292ZXJpbmdab29tKVxuICAgICAqL1xuICAgIGZpbmRMb2FkZWRQYXJlbnQodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBtaW5Db3ZlcmluZ1pvb206IG51bWJlcik6ID9UaWxlIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IHRpbGVJRC5vdmVyc2NhbGVkWiAtIDE7IHogPj0gbWluQ292ZXJpbmdab29tOyB6LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRpbGVJRC5zY2FsZWRUbyh6KTtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpZCA9IFN0cmluZyhwYXJlbnQua2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhcyhwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmdldChwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgdGlsZSBjYWNoZSBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydCdzIHNpemVcbiAgICAgKiBvciB0aGUgbWF4VGlsZUNhY2hlU2l6ZSBvcHRpb24gcGFzc2VkIGR1cmluZyBtYXAgY3JlYXRpb25cbiAgICAgKlxuICAgICAqIExhcmdlciB2aWV3cG9ydHMgdXNlIG1vcmUgdGlsZXMgYW5kIG5lZWQgbGFyZ2VyIGNhY2hlcy4gTGFyZ2VyIHZpZXdwb3J0c1xuICAgICAqIGFyZSBtb3JlIGxpa2VseSB0byBiZSBmb3VuZCBvbiBkZXZpY2VzIHdpdGggbW9yZSBtZW1vcnkgYW5kIG9uIHBhZ2VzIHdoZXJlXG4gICAgICogdGhlIG1hcCBpcyBtb3JlIGltcG9ydGFudC5cbiAgICAgKi9cbiAgICB1cGRhdGVDYWNoZVNpemUodHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3Qgd2lkdGhJblRpbGVzID0gTWF0aC5jZWlsKHRyYW5zZm9ybS53aWR0aCAvIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSkgKyAxO1xuICAgICAgICBjb25zdCBoZWlnaHRJblRpbGVzID0gTWF0aC5jZWlsKHRyYW5zZm9ybS5oZWlnaHQgLyB0aGlzLl9zb3VyY2UudGlsZVNpemUpICsgMTtcbiAgICAgICAgY29uc3QgYXBwcm94VGlsZXNJblZpZXcgPSB3aWR0aEluVGlsZXMgKiBoZWlnaHRJblRpbGVzO1xuICAgICAgICBjb25zdCBjb21tb25ab29tUmFuZ2UgPSA1O1xuXG4gICAgICAgIGNvbnN0IHZpZXdEZXBlbmRlbnRNYXhTaXplID0gTWF0aC5mbG9vcihhcHByb3hUaWxlc0luVmlldyAqIGNvbW1vblpvb21SYW5nZSk7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0eXBlb2YgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9tYXhUaWxlQ2FjaGVTaXplLCB2aWV3RGVwZW5kZW50TWF4U2l6ZSkgOiB2aWV3RGVwZW5kZW50TWF4U2l6ZTtcblxuICAgICAgICB0aGlzLl9jYWNoZS5zZXRNYXhTaXplKG1heFNpemUpO1xuICAgIH1cblxuICAgIGhhbmRsZVdyYXBKdW1wKGxuZzogbnVtYmVyKSB7XG4gICAgICAgIC8vIE9uIHRvcCBvZiB0aGUgcmVndWxhciB6L3gveSB2YWx1ZXMsIFRpbGVJRHMgaGF2ZSBhIGB3cmFwYCB2YWx1ZSB0aGF0IHNwZWNpZnlcbiAgICAgICAgLy8gd2hpY2ggY3BweSBvZiB0aGUgd29ybGQgdGhlIHRpbGUgYmVsb25ncyB0by4gRm9yIGV4YW1wbGUsIGF0IGBsbmc6IDEwYCB5b3VcbiAgICAgICAgLy8gbWlnaHQgcmVuZGVyIHoveC95LzAgd2hpbGUgYXQgYGxuZzogMzcwYCB5b3Ugd291bGQgcmVuZGVyIHoveC95LzEuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdoZW4gbG5nIHZhbHVlcyBnZXQgd3JhcHBlZCAoZ29pbmcgZnJvbSBgbG5nOiAzNzBgIHRvIGBsb25nOiAxMGApIHlvdSBleHBlY3RcbiAgICAgICAgLy8gdG8gc2VlIHRoZSBzYW1lIHRoaW5nIG9uIHRoZSBzY3JlZW4gKDM3MCBkZWdyZWVzIGFuZCAxMCBkZWdyZWVzIGlzIHRoZSBzYW1lXG4gICAgICAgIC8vIHBsYWNlIGluIHRoZSB3b3JsZCkgYnV0IGFsbCB0aGUgVGlsZUlEcyB3aWxsIGhhdmUgZGlmZmVyZW50IHdyYXAgdmFsdWVzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJbiBvcmRlciB0byBtYWtlIHRoaXMgdHJhbnNpdGlvbiBzZWFtbGVzcywgd2UgY2FsY3VsYXRlIHRoZSByb3VuZGVkIGRpZmZlcmVuY2Ugb2ZcbiAgICAgICAgLy8gXCJ3b3JsZHNcIiBiZXR3ZWVuIHRoZSBsYXN0IGZyYW1lIGFuZCB0aGUgY3VycmVudCBmcmFtZS4gSWYgdGhlIG1hcCBwYW5uZWQgYnlcbiAgICAgICAgLy8gYSB3b3JsZCwgdGhlbiB3ZSBjYW4gYXNzaWduIGFsbCB0aGUgdGlsZXMgbmV3IFRpbGVJRHMgd2l0aCB1cGRhdGVkIHdyYXAgdmFsdWVzLlxuICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYXNzaWduIHoveC95LzEgYSBuZXcgaWQ6IHoveC95LzAuIEl0IGlzIHRoZSBzYW1lIHRpbGUsIGp1c3QgcmVuZGVyZWRcbiAgICAgICAgLy8gaW4gYSBkaWZmZXJlbnQgcG9zaXRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZW5hYmxlcyB1cyB0byByZXVzZSB0aGUgdGlsZXMgYXQgbW9yZSBpZGVhbCBsb2NhdGlvbnMgYW5kIHByZXZlbnQgZmxpY2tlcmluZy5cbiAgICAgICAgY29uc3QgcHJldkxuZyA9IHRoaXMuX3ByZXZMbmcgPT09IHVuZGVmaW5lZCA/IGxuZyA6IHRoaXMuX3ByZXZMbmc7XG4gICAgICAgIGNvbnN0IGxuZ0RpZmZlcmVuY2UgPSBsbmcgLSBwcmV2TG5nO1xuICAgICAgICBjb25zdCB3b3JsZERpZmZlcmVuY2UgPSBsbmdEaWZmZXJlbmNlIC8gMzYwO1xuICAgICAgICBjb25zdCB3cmFwRGVsdGEgPSBNYXRoLnJvdW5kKHdvcmxkRGlmZmVyZW5jZSk7XG4gICAgICAgIHRoaXMuX3ByZXZMbmcgPSBsbmc7XG5cbiAgICAgICAgaWYgKHdyYXBEZWx0YSkge1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XG4gICAgICAgICAgICAgICAgdGlsZS50aWxlSUQgPSB0aWxlLnRpbGVJRC51bndyYXBUbyh0aWxlLnRpbGVJRC53cmFwICsgd3JhcERlbHRhKTtcbiAgICAgICAgICAgICAgICB0aWxlc1t0aWxlLnRpbGVJRC5rZXldID0gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RpbGVzID0gdGlsZXM7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRpbGUgcmVsb2FkIHRpbWVyc1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aW1lcnMpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2lkXSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoaWQsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aWxlcyB0aGF0IGFyZSBvdXRzaWRlIHRoZSB2aWV3cG9ydCBhbmQgYWRkcyBuZXcgdGlsZXMgdGhhdFxuICAgICAqIGFyZSBpbnNpZGUgdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIHVwZGF0ZSh0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VMb2FkZWQgfHwgdGhpcy5fcGF1c2VkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlQ2FjaGVTaXplKHRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMuaGFuZGxlV3JhcEp1bXAodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZyk7XG5cbiAgICAgICAgLy8gQ292ZXJlZCBpcyBhIGxpc3Qgb2YgcmV0YWluZWQgdGlsZXMgd2hvJ3MgYXJlYXMgYXJlIGZ1bGx5IGNvdmVyZWQgYnkgb3RoZXIsXG4gICAgICAgIC8vIGJldHRlciwgcmV0YWluZWQgdGlsZXMuIFRoZXkgYXJlIG5vdCBkcmF3biBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9jb3ZlcmVkVGlsZXMgPSB7fTtcblxuICAgICAgICBsZXQgaWRlYWxUaWxlSURzO1xuICAgICAgICBpZiAoIXRoaXMudXNlZCkge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gW107XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc291cmNlLnRpbGVJRCkge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gdHJhbnNmb3JtLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aGlzLl9zb3VyY2UudGlsZUlEKVxuICAgICAgICAgICAgICAgIC5tYXAoKHVud3JhcHBlZCkgPT4gbmV3IE92ZXJzY2FsZWRUaWxlSUQodW53cmFwcGVkLmNhbm9uaWNhbC56LCB1bndyYXBwZWQud3JhcCwgdW53cmFwcGVkLmNhbm9uaWNhbC56LCB1bndyYXBwZWQuY2Fub25pY2FsLngsIHVud3JhcHBlZC5jYW5vbmljYWwueSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gdHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe1xuICAgICAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLl9zb3VyY2UudGlsZVNpemUsXG4gICAgICAgICAgICAgICAgbWluem9vbTogdGhpcy5fc291cmNlLm1pbnpvb20sXG4gICAgICAgICAgICAgICAgbWF4em9vbTogdGhpcy5fc291cmNlLm1heHpvb20sXG4gICAgICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLl9zb3VyY2Uucm91bmRab29tLFxuICAgICAgICAgICAgICAgIHJlcGFyc2VPdmVyc2NhbGVkOiB0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlLmhhc1RpbGUpIHtcbiAgICAgICAgICAgICAgICBpZGVhbFRpbGVJRHMgPSBpZGVhbFRpbGVJRHMuZmlsdGVyKChjb29yZCkgPT4gKHRoaXMuX3NvdXJjZS5oYXNUaWxlOiBhbnkpKGNvb3JkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG92ZXJ6b29taW5nL3VuZGVyem9vbWluZyBhbW91bnRzLlxuICAgICAgICBjb25zdCB6b29tID0gKHRoaXMuX3NvdXJjZS5yb3VuZFpvb20gPyBNYXRoLnJvdW5kIDogTWF0aC5mbG9vcikodGhpcy5nZXRab29tKHRyYW5zZm9ybSkpO1xuICAgICAgICBjb25zdCBtaW5Db3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tIC0gU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcsIHRoaXMuX3NvdXJjZS5taW56b29tKTtcbiAgICAgICAgY29uc3QgbWF4Q292ZXJpbmdab29tID0gTWF0aC5tYXgoem9vbSArIFNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZywgIHRoaXMuX3NvdXJjZS5taW56b29tKTtcblxuICAgICAgICAvLyBSZXRhaW4gaXMgYSBsaXN0IG9mIHRpbGVzIHRoYXQgd2Ugc2hvdWxkbid0IGRlbGV0ZSwgZXZlbiBpZiB0aGV5IGFyZSBub3RcbiAgICAgICAgLy8gdGhlIG1vc3QgaWRlYWwgdGlsZSBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQuIFRoaXMgbWF5IGluY2x1ZGUgdGlsZXMgbGlrZVxuICAgICAgICAvLyBwYXJlbnQgb3IgY2hpbGQgdGlsZXMgdGhhdCBhcmUgKmFscmVhZHkqIGxvYWRlZC5cbiAgICAgICAgY29uc3QgcmV0YWluID0gdGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhpZGVhbFRpbGVJRHMsIHpvb20pO1xuXG4gICAgICAgIGlmIChpc1Jhc3RlclR5cGUodGhpcy5fc291cmNlLnR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRzRm9yRmFkaW5nID0ge307XG4gICAgICAgICAgICBjb25zdCBmYWRpbmdUaWxlcyA9IHt9O1xuICAgICAgICAgICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMocmV0YWluKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZUlEID0gcmV0YWluW2lkXTtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGlsZUlELmtleSA9PT0gK2lkKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKCF0aWxlIHx8IHRpbGUuZmFkZUVuZFRpbWUgJiYgdGlsZS5mYWRlRW5kVGltZSA8PSBicm93c2VyLm5vdygpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0aWxlIGlzIGxvYWRlZCBidXQgc3RpbGwgZmFkaW5nIGluLCBmaW5kIHBhcmVudHMgdG8gY3Jvc3MtZmFkZSB3aXRoIGl0XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VGlsZSA9IHRoaXMuZmluZExvYWRlZFBhcmVudCh0aWxlSUQsIG1pbkNvdmVyaW5nWm9vbSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVGlsZShwYXJlbnRUaWxlLnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudHNGb3JGYWRpbmdbcGFyZW50VGlsZS50aWxlSUQua2V5XSA9IHBhcmVudFRpbGUudGlsZUlEO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZhZGluZ1RpbGVzW2lkXSA9IHRpbGVJRDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZm9yIHRpbGVzIHRoYXQgYXJlIHN0aWxsIGZhZGluZyBpbiwgYWxzbyBmaW5kIGNoaWxkcmVuIHRvIGNyb3NzLWZhZGUgd2l0aFxuICAgICAgICAgICAgdGhpcy5fcmV0YWluTG9hZGVkQ2hpbGRyZW4oZmFkaW5nVGlsZXMsIHpvb20sIG1heENvdmVyaW5nWm9vbSwgcmV0YWluKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBwYXJlbnRzRm9yRmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXRhaW5baWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgdGlsZSBpcyBvbmx5IG5lZWRlZCBmb3IgZmFkaW5nLCBtYXJrIGl0IGFzIGNvdmVyZWQgc28gdGhhdCBpdCBpc24ndCByZW5kZXJlZCBvbiBpdCdzIG93bi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY292ZXJlZFRpbGVzW2lkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldGFpbltpZF0gPSBwYXJlbnRzRm9yRmFkaW5nW2lkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHJldGFpbmVkSWQgaW4gcmV0YWluKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgcmV0YWluZWQgdGlsZXMgYWx3YXlzIGNsZWFyIGFueSBleGlzdGluZyBmYWRlIGhvbGRzXG4gICAgICAgICAgICAvLyBzbyB0aGF0IGlmIHRoZXkncmUgcmVtb3ZlZCBhZ2FpbiB0aGVpciBmYWRlIHRpbWVyIHN0YXJ0cyBmcmVzaC5cbiAgICAgICAgICAgIHRoaXMuX3RpbGVzW3JldGFpbmVkSWRdLmNsZWFyRmFkZUhvbGQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdGlsZXMgd2UgZG9uJ3QgbmVlZCBhbnltb3JlLlxuICAgICAgICBjb25zdCByZW1vdmUgPSBrZXlzRGlmZmVyZW5jZSh0aGlzLl90aWxlcywgcmV0YWluKTtcbiAgICAgICAgZm9yIChjb25zdCB0aWxlSUQgb2YgcmVtb3ZlKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbdGlsZUlEXTtcbiAgICAgICAgICAgIGlmICh0aWxlLmhhc1N5bWJvbEJ1Y2tldHMgJiYgIXRpbGUuaG9sZGluZ0ZvckZhZGUoKSkge1xuICAgICAgICAgICAgICAgIHRpbGUuc2V0SG9sZER1cmF0aW9uKHRoaXMubWFwLl9mYWRlRHVyYXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGlsZS5oYXNTeW1ib2xCdWNrZXRzIHx8IHRpbGUuc3ltYm9sRmFkZUZpbmlzaGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlKHRpbGVJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGlsZXNbaWRdLmhvbGRpbmdGb3JGYWRlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVSZXRhaW5lZFRpbGVzKGlkZWFsVGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIHpvb206IG51bWJlcik6IHsgW3N0cmluZ106IE92ZXJzY2FsZWRUaWxlSUR9IHtcbiAgICAgICAgY29uc3QgcmV0YWluID0ge307XG4gICAgICAgIGNvbnN0IGNoZWNrZWQ6IHtbbnVtYmVyXTogYm9vbGVhbiB9ID0ge307XG4gICAgICAgIGNvbnN0IG1pbkNvdmVyaW5nWm9vbSA9IE1hdGgubWF4KHpvb20gLSBTb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZywgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuICAgICAgICBjb25zdCBtYXhDb3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tICsgU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nLCAgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdUaWxlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiBpZGVhbFRpbGVJRHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl9hZGRUaWxlKHRpbGVJRCk7XG5cbiAgICAgICAgICAgIC8vIHJldGFpbiB0aGUgdGlsZSBldmVuIGlmIGl0J3Mgbm90IGxvYWRlZCBiZWNhdXNlIGl0J3MgYW4gaWRlYWwgdGlsZS5cbiAgICAgICAgICAgIHJldGFpblt0aWxlSUQua2V5XSA9IHRpbGVJRDtcblxuICAgICAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKHpvb20gPCB0aGlzLl9zb3VyY2UubWF4em9vbSkge1xuICAgICAgICAgICAgICAgIC8vIHNhdmUgbWlzc2luZyB0aWxlcyB0aGF0IHBvdGVudGlhbGx5IGhhdmUgbG9hZGVkIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgbWlzc2luZ1RpbGVzW3RpbGVJRC5rZXldID0gdGlsZUlEO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0YWluIGFueSBsb2FkZWQgY2hpbGRyZW4gb2YgaWRlYWwgdGlsZXMgdXAgdG8gbWF4Q292ZXJpbmdab29tXG4gICAgICAgIHRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKG1pc3NpbmdUaWxlcywgem9vbSwgbWF4Q292ZXJpbmdab29tLCByZXRhaW4pO1xuXG4gICAgICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIGlkZWFsVGlsZUlEcykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl90aWxlc1t0aWxlSUQua2V5XTtcblxuICAgICAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gVGhlIHRpbGUgd2UgcmVxdWlyZSBpcyBub3QgeWV0IGxvYWRlZCBvciBkb2VzIG5vdCBleGlzdDtcbiAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZmluZCBjaGlsZHJlbiB0aGF0IGZ1bGx5IGNvdmVyIGl0LlxuXG4gICAgICAgICAgICBpZiAoem9vbSArIDEgPiB0aGlzLl9zb3VyY2UubWF4em9vbSkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIGxvb2tpbmcgZm9yIGFuIG92ZXJ6b29tZWQgY2hpbGQgdGlsZS5cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZENvb3JkID0gdGlsZUlELmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRpbGUgPSB0aGlzLmdldFRpbGUoY2hpbGRDb29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKCEhY2hpbGRUaWxlICYmIGNoaWxkVGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0YWluW2NoaWxkQ29vcmQua2V5XSA9IGNoaWxkQ29vcmQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyB0aWxlIGlzIGNvdmVyZWQgYnkgb3Zlcnpvb21lZCBjaGlsZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYWxsIDQgaW1tZWRpYXRlIGNoaWxkcmVuIGFyZSBsb2FkZWQgKGkuZS4gdGhlIG1pc3NpbmcgaWRlYWwgdGlsZSBpcyBjb3ZlcmVkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGlsZUlELmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXRhaW5bY2hpbGRyZW5bMF0ua2V5XSAmJlxuICAgICAgICAgICAgICAgICAgICByZXRhaW5bY2hpbGRyZW5bMV0ua2V5XSAmJlxuICAgICAgICAgICAgICAgICAgICByZXRhaW5bY2hpbGRyZW5bMl0ua2V5XSAmJlxuICAgICAgICAgICAgICAgICAgICByZXRhaW5bY2hpbGRyZW5bM10ua2V5XSkgY29udGludWU7IC8vIHRpbGUgaXMgY292ZXJlZCBieSBjaGlsZHJlblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXZSBjb3VsZG4ndCBmaW5kIGNoaWxkIHRpbGVzIHRoYXQgZW50aXJlbHkgY292ZXIgdGhlIGlkZWFsIHRpbGU7IGxvb2sgZm9yIHBhcmVudHMgbm93LlxuXG4gICAgICAgICAgICAvLyBBcyB3ZSBhc2NlbmQgdXAgdGhlIHRpbGUgcHlyYW1pZCBvZiB0aGUgaWRlYWwgdGlsZSwgd2UgY2hlY2sgd2hldGhlciB0aGUgcGFyZW50XG4gICAgICAgICAgICAvLyB0aWxlIGhhcyBiZWVuIHByZXZpb3VzbHkgcmVxdWVzdGVkIChhbmQgZXJyb3JlZCBiZWNhdXNlIHdlIG9ubHkgbG9vcCBvdmVyIHRpbGVzIHdpdGggbm8gZGF0YSlcbiAgICAgICAgICAgIC8vIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIHJlcXVlc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgIGxldCBwYXJlbnRXYXNSZXF1ZXN0ZWQgPSB0aWxlLndhc1JlcXVlc3RlZCgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBvdmVyc2NhbGVkWiA9IHRpbGVJRC5vdmVyc2NhbGVkWiAtIDE7IG92ZXJzY2FsZWRaID49IG1pbkNvdmVyaW5nWm9vbTsgLS1vdmVyc2NhbGVkWikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gdGlsZUlELnNjYWxlZFRvKG92ZXJzY2FsZWRaKTtcblxuICAgICAgICAgICAgICAgIC8vIEJyZWFrIHBhcmVudCB0aWxlIGFzY2VudCBpZiB0aGlzIHJvdXRlIGhhcyBiZWVuIHByZXZpb3VzbHkgY2hlY2tlZCBieSBhbm90aGVyIGNoaWxkLlxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkW3BhcmVudElkLmtleV0pIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNoZWNrZWRbcGFyZW50SWQua2V5XSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5nZXRUaWxlKHBhcmVudElkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbGUgJiYgcGFyZW50V2FzUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLl9hZGRUaWxlKHBhcmVudElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0YWluW3BhcmVudElkLmtleV0gPSBwYXJlbnRJZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCB2YWx1ZXMsIHNpbmNlIHRoZXkncmUgdGhlIHBhcmVudCBvZiB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhlIHBhcmVudCB0aWxlIGFzY2VudCBsb29wLlxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRXYXNSZXF1ZXN0ZWQgPSB0aWxlLndhc1JlcXVlc3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5oYXNEYXRhKCkpIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXRhaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgdGlsZSwgZ2l2ZW4gaXRzIGNvb3JkaW5hdGUsIHRvIHRoZSBweXJhbWlkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FkZFRpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogVGlsZSB7XG4gICAgICAgIGxldCB0aWxlID0gdGhpcy5fdGlsZXNbdGlsZUlELmtleV07XG4gICAgICAgIGlmICh0aWxlKVxuICAgICAgICAgICAgcmV0dXJuIHRpbGU7XG5cblxuICAgICAgICB0aWxlID0gdGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKHRpbGVJRCk7XG4gICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodGlsZUlELmtleSwgdGlsZSk7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIHRpbGVJRCBiZWNhdXNlIHRoZSBjYWNoZWQgdGlsZSBjb3VsZCBoYXZlIGhhZCBhIGRpZmZlcmVudCB3cmFwIHZhbHVlXG4gICAgICAgICAgICB0aWxlLnRpbGVJRCA9IHRpbGVJRDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodGlsZSwgdGhpcy5tYXAgPyB0aGlzLm1hcC5wYWludGVyIDogbnVsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVUaW1lcnNbdGlsZUlELmtleV0pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1t0aWxlSUQua2V5XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodGlsZUlELmtleSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWNoZWQgPSBCb29sZWFuKHRpbGUpO1xuICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgdGlsZSA9IG5ldyBUaWxlKHRpbGVJRCwgdGhpcy5fc291cmNlLnRpbGVTaXplICogdGlsZUlELm92ZXJzY2FsZUZhY3RvcigpKTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRUaWxlKHRpbGUsIHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLCB0aWxlLCB0aWxlSUQua2V5LCB0aWxlLnN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbXBvc3NpYmxlLCBidXQgc2lsZW5jZSBmbG93LlxuICAgICAgICBpZiAoIXRpbGUpIHJldHVybiAobnVsbDogYW55KTtcblxuICAgICAgICB0aWxlLnVzZXMrKztcbiAgICAgICAgdGhpcy5fdGlsZXNbdGlsZUlELmtleV0gPSB0aWxlO1xuICAgICAgICBpZiAoIWNhY2hlZCkgdGhpcy5fc291cmNlLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHt0aWxlOiB0aWxlLCBjb29yZDogdGlsZS50aWxlSUQsIGRhdGFUeXBlOiAnc291cmNlJ30pKTtcblxuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG5cbiAgICBfc2V0VGlsZVJlbG9hZFRpbWVyKGlkOiBzdHJpbmcgfCBudW1iZXIsIHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKGlkIGluIHRoaXMuX3RpbWVycykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tpZF0pO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tpZF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleHBpcnlUaW1lb3V0ID0gdGlsZS5nZXRFeHBpcnlUaW1lb3V0KCk7XG4gICAgICAgIGlmIChleHBpcnlUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lcnNbaWRdID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVsb2FkVGlsZShpZCwgJ2V4cGlyZWQnKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdGltZXJzW2lkXTtcbiAgICAgICAgICAgIH0sIGV4cGlyeVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdGlsZSwgZ2l2ZW4gaXRzIGlkLCBmcm9tIHRoZSBweXJhbWlkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlVGlsZShpZDogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgIGlmICghdGlsZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aWxlLnVzZXMtLTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVyc1tpZF0pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbaWRdKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lcnNbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbGUudXNlcyA+IDApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5hZGQodGlsZS50aWxlSUQsIHRpbGUsIHRpbGUuZ2V0RXhwaXJ5VGltZW91dCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydFRpbGUodGlsZSk7XG4gICAgICAgICAgICB0aGlzLl91bmxvYWRUaWxlKHRpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCB0aWxlcyBmcm9tIHRoaXMgcHlyYW1pZFxuICAgICAqL1xuICAgIGNsZWFyVGlsZXMoKSB7XG4gICAgICAgIHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlKGlkKTtcblxuICAgICAgICB0aGlzLl9jYWNoZS5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCB0aHJvdWdoIG91ciBjdXJyZW50IHRpbGVzIGFuZCBhdHRlbXB0IHRvIGZpbmQgdGhlIHRpbGVzIHRoYXRcbiAgICAgKiBjb3ZlciB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSBxdWVyeUdlb21ldHJ5IGNvb3JkaW5hdGVzIG9mIHRoZSBjb3JuZXJzIG9mIGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSByZXN1bHQgaXRlbXMgaGF2ZSB7dGlsZSwgbWluWCwgbWF4WCwgbWluWSwgbWF4WX0sIHdoZXJlIG1pbi9tYXggYm91bmRpbmcgdmFsdWVzIGFyZSB0aGUgZ2l2ZW4gYm91bmRzIHRyYW5zZm9ybWVkIGluIGludG8gdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2YgdGhpcyB0aWxlLlxuICAgICAqL1xuICAgIHRpbGVzSW4ocXVlcnlHZW9tZXRyeTogQXJyYXk8Q29vcmRpbmF0ZT4sIG1heFBpdGNoU2NhbGVGYWN0b3I6IG51bWJlcikge1xuICAgICAgICBjb25zdCB0aWxlUmVzdWx0cyA9IFtdO1xuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLmdldElkcygpO1xuXG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhYID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgY29uc3QgeiA9IHF1ZXJ5R2VvbWV0cnlbMF0uem9vbTtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHF1ZXJ5R2VvbWV0cnkubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBxdWVyeUdlb21ldHJ5W2tdO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHAuY29sdW1uKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBwLnJvdyk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgcC5jb2x1bW4pO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHAucm93KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZHNbaV1dO1xuICAgICAgICAgICAgaWYgKHRpbGUuaG9sZGluZ0ZvckZhZGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIFRpbGVzIGhlbGQgZm9yIGZhZGluZyBhcmUgY292ZXJlZCBieSB0aWxlcyB0aGF0IGFyZSBjbG9zZXIgdG8gaWRlYWxcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IHRpbGUudGlsZUlEO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYWRkaW5nID0gbWF4UGl0Y2hTY2FsZUZhY3RvciAqIHRpbGUucXVlcnlQYWRkaW5nICogRVhURU5UIC8gdGlsZS50aWxlU2l6ZSAvIHNjYWxlO1xuXG4gICAgICAgICAgICBjb25zdCB0aWxlU3BhY2VCb3VuZHMgPSBbXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRCwgbmV3IENvb3JkaW5hdGUobWluWCwgbWluWSwgeikpLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVUb1RpbGVQb2ludCh0aWxlSUQsIG5ldyBDb29yZGluYXRlKG1heFgsIG1heFksIHopKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgaWYgKHRpbGVTcGFjZUJvdW5kc1swXS54IC0gcXVlcnlQYWRkaW5nIDwgRVhURU5UICYmIHRpbGVTcGFjZUJvdW5kc1swXS55IC0gcXVlcnlQYWRkaW5nIDwgRVhURU5UICYmXG4gICAgICAgICAgICAgICAgdGlsZVNwYWNlQm91bmRzWzFdLnggKyBxdWVyeVBhZGRpbmcgPj0gMCAmJiB0aWxlU3BhY2VCb3VuZHNbMV0ueSArIHF1ZXJ5UGFkZGluZyA+PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlU3BhY2VRdWVyeUdlb21ldHJ5ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBxdWVyeUdlb21ldHJ5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVTcGFjZVF1ZXJ5R2VvbWV0cnkucHVzaChjb29yZGluYXRlVG9UaWxlUG9pbnQodGlsZUlELCBxdWVyeUdlb21ldHJ5W2pdKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGlsZVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbGU6IHRpbGUsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVJRDogdGlsZUlELFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5OiBbdGlsZVNwYWNlUXVlcnlHZW9tZXRyeV0sXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbGVSZXN1bHRzO1xuICAgIH1cblxuICAgIGdldFZpc2libGVDb29yZGluYXRlcyhzeW1ib2xMYXllcj86IGJvb2xlYW4pOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuZ2V0UmVuZGVyYWJsZUlkcyhzeW1ib2xMYXllcikubWFwKChpZCkgPT4gdGhpcy5fdGlsZXNbaWRdLnRpbGVJRCk7XG4gICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICBjb29yZC5wb3NNYXRyaXggPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoY29vcmQudG9VbndyYXBwZWQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSYXN0ZXJUeXBlKHRoaXMuX3NvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUuZmFkZUVuZFRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aWxlLmZhZGVFbmRUaW1lID49IGJyb3dzZXIubm93KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsdWUgb2YgYSBwYXJ0aWN1bGFyIHN0YXRlIGZvciBhIGZlYXR1cmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldEZlYXR1cmVTdGF0ZShzb3VyY2VMYXllcj86IHN0cmluZywgZmVhdHVyZTogbnVtYmVyLCBzdGF0ZTogT2JqZWN0KSB7XG4gICAgICAgIHNvdXJjZUxheWVyID0gc291cmNlTGF5ZXIgfHwgJ19nZW9qc29uVGlsZUxheWVyJztcbiAgICAgICAgdGhpcy5fc3RhdGUudXBkYXRlU3RhdGUoc291cmNlTGF5ZXIsIGZlYXR1cmUsIHN0YXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVudGlyZSBzdGF0ZSBvYmplY3QgZm9yIGEgZmVhdHVyZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0RmVhdHVyZVN0YXRlKHNvdXJjZUxheWVyPzogc3RyaW5nLCBmZWF0dXJlOiBudW1iZXIpIHtcbiAgICAgICAgc291cmNlTGF5ZXIgPSBzb3VyY2VMYXllciB8fCAnX2dlb2pzb25UaWxlTGF5ZXInO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0U3RhdGUoc291cmNlTGF5ZXIsIGZlYXR1cmUpO1xuICAgIH1cbn1cblxuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcgPSAxMDtcblNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZyA9IDM7XG5cbi8qKlxuICogQ29udmVydCBhIGNvb3JkaW5hdGUgdG8gYSBwb2ludCBpbiBhIHRpbGUncyBjb29yZGluYXRlIHNwYWNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgY29vcmQ6IENvb3JkaW5hdGUpOiBQb2ludCB7XG4gICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8odGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAoem9vbWVkQ29vcmQuY29sdW1uIC0gKHRpbGVJRC5jYW5vbmljYWwueCArIHRpbGVJRC53cmFwICogTWF0aC5wb3coMiwgdGlsZUlELmNhbm9uaWNhbC56KSkpICogRVhURU5ULFxuICAgICAgICAoem9vbWVkQ29vcmQucm93IC0gdGlsZUlELmNhbm9uaWNhbC55KSAqIEVYVEVOVFxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVLZXlab29tKGEsIGIpIHtcbiAgICByZXR1cm4gKChhICUgMzIpIC0gKGIgJSAzMikpIHx8IChiIC0gYSk7XG59XG5cbmZ1bmN0aW9uIGlzUmFzdGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdyYXN0ZXInIHx8IHR5cGUgPT09ICdpbWFnZScgfHwgdHlwZSA9PT0gJ3ZpZGVvJztcbn1cblxuZXhwb3J0IGRlZmF1bHQgU291cmNlQ2FjaGU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgV2ViV29ya2VyIGZyb20gJy4vd2ViX3dvcmtlcic7XG5pbXBvcnQgdHlwZSB7V29ya2VySW50ZXJmYWNlfSBmcm9tICcuL3dlYl93b3JrZXInO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi9icm93c2VyJztcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgd29ya2VyIHBvb2wuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBzdGF0aWMgd29ya2VyQ291bnQ6IG51bWJlcjtcblxuICAgIGFjdGl2ZToge1tudW1iZXJdOiBib29sZWFufTtcbiAgICB3b3JrZXJzOiBBcnJheTxXb3JrZXJJbnRlcmZhY2U+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0ge307XG4gICAgfVxuXG4gICAgYWNxdWlyZShtYXBJZDogbnVtYmVyKTogQXJyYXk8V29ya2VySW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJzKSB7XG4gICAgICAgICAgICAvLyBMYXppbHkgbG9vayB1cCB0aGUgdmFsdWUgb2YgbWFwYm94Z2wud29ya2VyQ291bnQgc28gdGhhdFxuICAgICAgICAgICAgLy8gY2xpZW50IGNvZGUgaGFzIGhhZCBhIGNoYW5jZSB0byBzZXQgaXQuXG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLndvcmtlcnMubGVuZ3RoIDwgV29ya2VyUG9vbC53b3JrZXJDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2Vycy5wdXNoKG5ldyBXZWJXb3JrZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVttYXBJZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy53b3JrZXJzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcmVsZWFzZShtYXBJZDogbnVtYmVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZVttYXBJZF07XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmtlcnMuZm9yRWFjaCgodykgPT4ge1xuICAgICAgICAgICAgICAgIHcudGVybWluYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud29ya2VycyA9IChudWxsOiBhbnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5Xb3JrZXJQb29sLndvcmtlckNvdW50ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihicm93c2VyLmhhcmR3YXJlQ29uY3VycmVuY3kgLyAyKSwgMSk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgV29ya2VyUG9vbCBmcm9tICcuL3dvcmtlcl9wb29sJztcblxubGV0IGdsb2JhbFdvcmtlclBvb2w7XG5cbi8qKlxuICogQ3JlYXRlcyAoaWYgbmVjZXNzYXJ5KSBhbmQgcmV0dXJucyB0aGUgc2luZ2xlLCBnbG9iYWwgV29ya2VyUG9vbCBpbnN0YW5jZVxuICogdG8gYmUgc2hhcmVkIGFjcm9zcyBlYWNoIE1hcFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0R2xvYmFsV29ya2VyUG9vbCAoKSB7XG4gICAgaWYgKCFnbG9iYWxXb3JrZXJQb29sKSB7XG4gICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsV29ya2VyUG9vbDtcbn1cbiIsIlxuaW1wb3J0IHJlZlByb3BlcnRpZXMgZnJvbSAnLi91dGlsL3JlZl9wcm9wZXJ0aWVzJztcblxuZnVuY3Rpb24gZGVyZWYobGF5ZXIsIHBhcmVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrIGluIGxheWVyKSB7XG4gICAgICAgIGlmIChrICE9PSAncmVmJykge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0gbGF5ZXJba107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZQcm9wZXJ0aWVzLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgaWYgKGsgaW4gcGFyZW50KSB7XG4gICAgICAgICAgICByZXN1bHRba10gPSBwYXJlbnRba107XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlcmVmTGF5ZXJzO1xuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGxheWVycywgc29tZSBvZiB3aGljaCBtYXkgY29udGFpbiBgcmVmYCBwcm9wZXJ0aWVzXG4gKiB3aG9zZSB2YWx1ZSBpcyB0aGUgYGlkYCBvZiBhbm90aGVyIHByb3BlcnR5LCByZXR1cm4gYSBuZXcgYXJyYXkgd2hlcmVcbiAqIHN1Y2ggbGF5ZXJzIGhhdmUgYmVlbiBhdWdtZW50ZWQgd2l0aCB0aGUgJ3R5cGUnLCAnc291cmNlJywgZXRjLiBwcm9wZXJ0aWVzXG4gKiBmcm9tIHRoZSBwYXJlbnQgbGF5ZXIsIGFuZCB0aGUgYHJlZmAgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBUaGUgaW5wdXQgaXMgbm90IG1vZGlmaWVkLiBUaGUgb3V0cHV0IG1heSBjb250YWluIHJlZmVyZW5jZXMgdG8gcG9ydGlvbnNcbiAqIG9mIHRoZSBpbnB1dC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxMYXllcj59IGxheWVyc1xuICogQHJldHVybnMge0FycmF5PExheWVyPn1cbiAqL1xuZnVuY3Rpb24gZGVyZWZMYXllcnMobGF5ZXJzKSB7XG4gICAgbGF5ZXJzID0gbGF5ZXJzLnNsaWNlKCk7XG5cbiAgICBjb25zdCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsYXllcnNbaV0uaWRdID0gbGF5ZXJzW2ldO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgncmVmJyBpbiBsYXllcnNbaV0pIHtcbiAgICAgICAgICAgIGxheWVyc1tpXSA9IGRlcmVmKGxheWVyc1tpXSwgbWFwW2xheWVyc1tpXS5yZWZdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXllcnM7XG59XG4iLCJcbmltcG9ydCBpc0VxdWFsIGZyb20gJy4vdXRpbC9kZWVwX2VxdWFsJztcblxuY29uc3Qgb3BlcmF0aW9ucyA9IHtcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3R5bGUnLCBhcmdzOiBbc3R5bGVzaGVldF0gfVxuICAgICAqL1xuICAgIHNldFN0eWxlOiAnc2V0U3R5bGUnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdhZGRMYXllcicsIGFyZ3M6IFtsYXllciwgJ2JlZm9yZUxheWVySWQnXSB9XG4gICAgICovXG4gICAgYWRkTGF5ZXI6ICdhZGRMYXllcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3JlbW92ZUxheWVyJywgYXJnczogWydsYXllcklkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyOiAncmVtb3ZlTGF5ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRQYWludFByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHk6ICdzZXRQYWludFByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5b3V0UHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0TGF5b3V0UHJvcGVydHk6ICdzZXRMYXlvdXRQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEZpbHRlcicsIGFyZ3M6IFsnbGF5ZXJJZCcsIGZpbHRlcl0gfVxuICAgICAqL1xuICAgIHNldEZpbHRlcjogJ3NldEZpbHRlcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ2FkZFNvdXJjZScsIGFyZ3M6IFsnc291cmNlSWQnLCBzb3VyY2VdIH1cbiAgICAgKi9cbiAgICBhZGRTb3VyY2U6ICdhZGRTb3VyY2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdyZW1vdmVTb3VyY2UnLCBhcmdzOiBbJ3NvdXJjZUlkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZTogJ3JlbW92ZVNvdXJjZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJywgYXJnczogWydzb3VyY2VJZCcsIGRhdGFdIH1cbiAgICAgKi9cbiAgICBzZXRHZW9KU09OU291cmNlRGF0YTogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5ZXJab29tUmFuZ2UnLCBhcmdzOiBbJ2xheWVySWQnLCAwLCAyMl0gfVxuICAgICAqL1xuICAgIHNldExheWVyWm9vbVJhbmdlOiAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXllclByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldExheWVyUHJvcGVydHk6ICdzZXRMYXllclByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0Q2VudGVyJywgYXJnczogW1tsb24sIGxhdF1dIH1cbiAgICAgKi9cbiAgICBzZXRDZW50ZXI6ICdzZXRDZW50ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRab29tJywgYXJnczogW3pvb21dIH1cbiAgICAgKi9cbiAgICBzZXRab29tOiAnc2V0Wm9vbScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEJlYXJpbmcnLCBhcmdzOiBbYmVhcmluZ10gfVxuICAgICAqL1xuICAgIHNldEJlYXJpbmc6ICdzZXRCZWFyaW5nJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0UGl0Y2gnLCBhcmdzOiBbcGl0Y2hdIH1cbiAgICAgKi9cbiAgICBzZXRQaXRjaDogJ3NldFBpdGNoJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3ByaXRlJywgYXJnczogWydzcHJpdGVVcmwnXSB9XG4gICAgICovXG4gICAgc2V0U3ByaXRlOiAnc2V0U3ByaXRlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0R2x5cGhzJywgYXJnczogWydnbHlwaHNVcmwnXSB9XG4gICAgICovXG4gICAgc2V0R2x5cGhzOiAnc2V0R2x5cGhzJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VHJhbnNpdGlvbicsIGFyZ3M6IFt0cmFuc2l0aW9uXSB9XG4gICAgICovXG4gICAgc2V0VHJhbnNpdGlvbjogJ3NldFRyYW5zaXRpb24nLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMaWdodGluZycsIGFyZ3M6IFtsaWdodFByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRMaWdodDogJ3NldExpZ2h0J1xuXG59O1xuXG5mdW5jdGlvbiBhZGRTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcykge1xuICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLmFkZFNvdXJjZSwgYXJnczogW3NvdXJjZUlkLCBhZnRlcltzb3VyY2VJZF1dIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZVNvdXJjZSwgYXJnczogW3NvdXJjZUlkXSB9KTtcbiAgICBzb3VyY2VzUmVtb3ZlZFtzb3VyY2VJZF0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpIHtcbiAgICByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgYWRkU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMpO1xufVxuXG5mdW5jdGlvbiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSB7XG4gICAgbGV0IHByb3A7XG4gICAgZm9yIChwcm9wIGluIGJlZm9yZVtzb3VyY2VJZF0pIHtcbiAgICAgICAgaWYgKCFiZWZvcmVbc291cmNlSWRdLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHByb3AgIT09ICdkYXRhJyAmJiAhaXNFcXVhbChiZWZvcmVbc291cmNlSWRdW3Byb3BdLCBhZnRlcltzb3VyY2VJZF1bcHJvcF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIGFmdGVyW3NvdXJjZUlkXSkge1xuICAgICAgICBpZiAoIWFmdGVyW3NvdXJjZUlkXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChwcm9wICE9PSAnZGF0YScgJiYgIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXVtwcm9wXSwgYWZ0ZXJbc291cmNlSWRdW3Byb3BdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkaWZmU291cmNlcyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwge307XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCB7fTtcblxuICAgIGxldCBzb3VyY2VJZDtcblxuICAgIC8vIGxvb2sgZm9yIHNvdXJjZXMgdG8gcmVtb3ZlXG4gICAgZm9yIChzb3VyY2VJZCBpbiBiZWZvcmUpIHtcbiAgICAgICAgaWYgKCFiZWZvcmUuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVNvdXJjZShzb3VyY2VJZCwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHNvdXJjZXMgdG8gYWRkL3VwZGF0ZVxuICAgIGZvciAoc291cmNlSWQgaW4gYWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVbc291cmNlSWRdLCBhZnRlcltzb3VyY2VJZF0pKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlW3NvdXJjZUlkXS50eXBlID09PSAnZ2VvanNvbicgJiYgYWZ0ZXJbc291cmNlSWRdLnR5cGUgPT09ICdnZW9qc29uJyAmJiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldEdlb0pTT05Tb3VyY2VEYXRhLCBhcmdzOiBbc291cmNlSWQsIGFmdGVyW3NvdXJjZUlkXS5kYXRhXSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gdXBkYXRlIGNvbW1hbmQsIG11c3QgcmVtb3ZlIHRoZW4gYWRkXG4gICAgICAgICAgICAgICAgdXBkYXRlU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzLCBsYXllcklkLCBrbGFzcywgY29tbWFuZCkge1xuICAgIGJlZm9yZSA9IGJlZm9yZSB8fCB7fTtcbiAgICBhZnRlciA9IGFmdGVyIHx8IHt9O1xuXG4gICAgbGV0IHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gYmVmb3JlKSB7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVtwcm9wXSwgYWZ0ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogY29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc10gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIGFmdGVyKSB7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgYmVmb3JlLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVtwcm9wXSwgYWZ0ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogY29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc10gfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsdWNrSWQobGF5ZXIpIHtcbiAgICByZXR1cm4gbGF5ZXIuaWQ7XG59XG5mdW5jdGlvbiBpbmRleEJ5SWQoZ3JvdXAsIGxheWVyKSB7XG4gICAgZ3JvdXBbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgcmV0dXJuIGdyb3VwO1xufVxuXG5mdW5jdGlvbiBkaWZmTGF5ZXJzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IFtdO1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwgW107XG5cbiAgICAvLyBvcmRlciBvZiBsYXllcnMgYnkgaWRcbiAgICBjb25zdCBiZWZvcmVPcmRlciA9IGJlZm9yZS5tYXAocGx1Y2tJZCk7XG4gICAgY29uc3QgYWZ0ZXJPcmRlciA9IGFmdGVyLm1hcChwbHVja0lkKTtcblxuICAgIC8vIGluZGV4IG9mIGxheWVyIGJ5IGlkXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBiZWZvcmUucmVkdWNlKGluZGV4QnlJZCwge30pO1xuICAgIGNvbnN0IGFmdGVySW5kZXggPSBhZnRlci5yZWR1Y2UoaW5kZXhCeUlkLCB7fSk7XG5cbiAgICAvLyB0cmFjayBvcmRlciBvZiBsYXllcnMgYXMgaWYgdGhleSBoYXZlIGJlZW4gbXV0YXRlZFxuICAgIGNvbnN0IHRyYWNrZXIgPSBiZWZvcmVPcmRlci5zbGljZSgpO1xuXG4gICAgLy8gbGF5ZXJzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGRvIG5vdCBuZWVkIHRvIGJlIGRpZmZlZFxuICAgIGNvbnN0IGNsZWFuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGxldCBpLCBkLCBsYXllcklkLCBiZWZvcmVMYXllciwgYWZ0ZXJMYXllciwgaW5zZXJ0QmVmb3JlTGF5ZXJJZCwgcHJvcDtcblxuICAgIC8vIHJlbW92ZSBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGJlZm9yZU9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxheWVySWQgPSBiZWZvcmVPcmRlcltpXTtcbiAgICAgICAgaWYgKCFhZnRlckluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVySWRdIH0pO1xuICAgICAgICAgICAgdHJhY2tlci5zcGxpY2UodHJhY2tlci5pbmRleE9mKGxheWVySWQsIGQpLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbWl0IHdoZXJlIGluIHRyYWNrZXIgd2UgbmVlZCB0byBsb29rIGZvciBhIG1hdGNoXG4gICAgICAgICAgICBkKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQvcmVvcmRlciBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gd29yayBiYWNrd2FyZHMgYXMgaW5zZXJ0IGlzIGJlZm9yZSBhbiBleGlzdGluZyBsYXllclxuICAgICAgICBsYXllcklkID0gYWZ0ZXJPcmRlclthZnRlck9yZGVyLmxlbmd0aCAtIDEgLSBpXTtcblxuICAgICAgICBpZiAodHJhY2tlclt0cmFja2VyLmxlbmd0aCAtIDEgLSBpXSA9PT0gbGF5ZXJJZCkgY29udGludWU7XG5cbiAgICAgICAgaWYgKGJlZm9yZUluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGxheWVyIGJlZm9yZSB3ZSBpbnNlcnQgYXQgdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF0gfSk7XG4gICAgICAgICAgICB0cmFja2VyLnNwbGljZSh0cmFja2VyLmxhc3RJbmRleE9mKGxheWVySWQsIHRyYWNrZXIubGVuZ3RoIC0gZCksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGltaXQgd2hlcmUgaW4gdHJhY2tlciB3ZSBuZWVkIHRvIGxvb2sgZm9yIGEgbWF0Y2hcbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBsYXllciBhdCBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICAgIGluc2VydEJlZm9yZUxheWVySWQgPSB0cmFja2VyW3RyYWNrZXIubGVuZ3RoIC0gaV07XG4gICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLmFkZExheWVyLCBhcmdzOiBbYWZ0ZXJJbmRleFtsYXllcklkXSwgaW5zZXJ0QmVmb3JlTGF5ZXJJZF0gfSk7XG4gICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGVuZ3RoIC0gaSwgMCwgbGF5ZXJJZCk7XG4gICAgICAgIGNsZWFuW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgbGF5ZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbaV07XG4gICAgICAgIGJlZm9yZUxheWVyID0gYmVmb3JlSW5kZXhbbGF5ZXJJZF07XG4gICAgICAgIGFmdGVyTGF5ZXIgPSBhZnRlckluZGV4W2xheWVySWRdO1xuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlIGlmIHByZXZpb3VzbHkgYWRkZWQgKG5ldyBvciBtb3ZlZClcbiAgICAgICAgaWYgKGNsZWFuW2xheWVySWRdIHx8IGlzRXF1YWwoYmVmb3JlTGF5ZXIsIGFmdGVyTGF5ZXIpKSBjb250aW51ZTtcblxuICAgICAgICAvLyBJZiBzb3VyY2UsIHNvdXJjZS1sYXllciwgb3IgdHlwZSBoYXZlIGNoYW5nZXMsIHRoZW4gcmVtb3ZlIHRoZSBsYXllclxuICAgICAgICAvLyBhbmQgYWRkIGl0IGJhY2sgJ2Zyb20gc2NyYXRjaCcuXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5zb3VyY2UsIGFmdGVyTGF5ZXIuc291cmNlKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllclsnc291cmNlLWxheWVyJ10sIGFmdGVyTGF5ZXJbJ3NvdXJjZS1sYXllciddKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllci50eXBlLCBhZnRlckxheWVyLnR5cGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVySWRdIH0pO1xuICAgICAgICAgICAgLy8gd2UgYWRkIHRoZSBsYXllciBiYWNrIGF0IHRoZSBzYW1lIHBvc2l0aW9uIGl0IHdhcyBhbHJlYWR5IGluLCBzb1xuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHVwZGF0ZSB0aGUgYHRyYWNrZXJgXG4gICAgICAgICAgICBpbnNlcnRCZWZvcmVMYXllcklkID0gdHJhY2tlclt0cmFja2VyLmxhc3RJbmRleE9mKGxheWVySWQpICsgMV07XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVyTGF5ZXIsIGluc2VydEJlZm9yZUxheWVySWRdIH0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsYXlvdXQsIHBhaW50LCBmaWx0ZXIsIG1pbnpvb20sIG1heHpvb21cbiAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyLmxheW91dCwgYWZ0ZXJMYXllci5sYXlvdXQsIGNvbW1hbmRzLCBsYXllcklkLCBudWxsLCBvcGVyYXRpb25zLnNldExheW91dFByb3BlcnR5KTtcbiAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyLnBhaW50LCBhZnRlckxheWVyLnBhaW50LCBjb21tYW5kcywgbGF5ZXJJZCwgbnVsbCwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLmZpbHRlciwgYWZ0ZXJMYXllci5maWx0ZXIpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRGaWx0ZXIsIGFyZ3M6IFtsYXllcklkLCBhZnRlckxheWVyLmZpbHRlcl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWluem9vbSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXIubWF4em9vbSwgYWZ0ZXJMYXllci5tYXh6b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGF5ZXJab29tUmFuZ2UsIGFyZ3M6IFtsYXllcklkLCBhZnRlckxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWF4em9vbV0gfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgYWxsIG90aGVyIGxheWVyIHByb3BzLCBpbmNsdWRpbmcgcGFpbnQuKlxuICAgICAgICBmb3IgKHByb3AgaW4gYmVmb3JlTGF5ZXIpIHtcbiAgICAgICAgICAgIGlmICghYmVmb3JlTGF5ZXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdsYXlvdXQnIHx8IHByb3AgPT09ICdwYWludCcgfHwgcHJvcCA9PT0gJ2ZpbHRlcicgfHxcbiAgICAgICAgICAgICAgICBwcm9wID09PSAnbWV0YWRhdGEnIHx8IHByb3AgPT09ICdtaW56b29tJyB8fCBwcm9wID09PSAnbWF4em9vbScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZigncGFpbnQuJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0sIGNvbW1hbmRzLCBsYXllcklkLCBwcm9wLnNsaWNlKDYpLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChwcm9wIGluIGFmdGVyTGF5ZXIpIHtcbiAgICAgICAgICAgIGlmICghYWZ0ZXJMYXllci5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCBiZWZvcmVMYXllci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2xheW91dCcgfHwgcHJvcCA9PT0gJ3BhaW50JyB8fCBwcm9wID09PSAnZmlsdGVyJyB8fFxuICAgICAgICAgICAgICAgIHByb3AgPT09ICdtZXRhZGF0YScgfHwgcHJvcCA9PT0gJ21pbnpvb20nIHx8IHByb3AgPT09ICdtYXh6b29tJykgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKCdwYWludC4nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSwgY29tbWFuZHMsIGxheWVySWQsIHByb3Auc2xpY2UoNiksIG9wZXJhdGlvbnMuc2V0UGFpbnRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldExheWVyUHJvcGVydHksIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlckxheWVyW3Byb3BdXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEaWZmIHR3byBzdHlsZXNoZWV0XG4gKlxuICogQ3JlYXRlcyBzZW1hbnRpY2x5IGF3YXJlIGRpZmZzIHRoYXQgY2FuIGVhc2lseSBiZSBhcHBsaWVkIGF0IHJ1bnRpbWUuXG4gKiBPcGVyYXRpb25zIHByb2R1Y2VkIGJ5IHRoZSBkaWZmIGNsb3NlbHkgcmVzZW1ibGUgdGhlIG1hcGJveC1nbC1qcyBBUEkuIEFueVxuICogZXJyb3IgY3JlYXRpbmcgdGhlIGRpZmYgd2lsbCBmYWxsIGJhY2sgdG8gdGhlICdzZXRTdHlsZScgb3BlcmF0aW9uLlxuICpcbiAqIEV4YW1wbGUgZGlmZjpcbiAqIFtcbiAqICAgICB7IGNvbW1hbmQ6ICdzZXRDb25zdGFudCcsIGFyZ3M6IFsnQHdhdGVyJywgJyMwMDAwRkYnXSB9LFxuICogICAgIHsgY29tbWFuZDogJ3NldFBhaW50UHJvcGVydHknLCBhcmdzOiBbJ2JhY2tncm91bmQnLCAnYmFja2dyb3VuZC1jb2xvcicsICdibGFjayddIH1cbiAqIF1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbYmVmb3JlXSBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgZnJvbVxuICogQHBhcmFtIHsqfSBhZnRlciBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgdG9cbiAqIEByZXR1cm5zIEFycmF5IGxpc3Qgb2YgY2hhbmdlc1xuICovXG5mdW5jdGlvbiBkaWZmU3R5bGVzKGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBpZiAoIWJlZm9yZSkgcmV0dXJuIFt7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl0gfV07XG5cbiAgICBsZXQgY29tbWFuZHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIHRvcC1sZXZlbCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUudmVyc2lvbiwgYWZ0ZXIudmVyc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBbeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdIH1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuY2VudGVyLCBhZnRlci5jZW50ZXIpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRDZW50ZXIsIGFyZ3M6IFthZnRlci5jZW50ZXJdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuem9vbSwgYWZ0ZXIuem9vbSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFpvb20sIGFyZ3M6IFthZnRlci56b29tXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmJlYXJpbmcsIGFmdGVyLmJlYXJpbmcpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRCZWFyaW5nLCBhcmdzOiBbYWZ0ZXIuYmVhcmluZ10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5waXRjaCwgYWZ0ZXIucGl0Y2gpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRQaXRjaCwgYXJnczogW2FmdGVyLnBpdGNoXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnNwcml0ZSwgYWZ0ZXIuc3ByaXRlKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3ByaXRlLCBhcmdzOiBbYWZ0ZXIuc3ByaXRlXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmdseXBocywgYWZ0ZXIuZ2x5cGhzKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0R2x5cGhzLCBhcmdzOiBbYWZ0ZXIuZ2x5cGhzXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnRyYW5zaXRpb24sIGFmdGVyLnRyYW5zaXRpb24pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRUcmFuc2l0aW9uLCBhcmdzOiBbYWZ0ZXIudHJhbnNpdGlvbl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5saWdodCwgYWZ0ZXIubGlnaHQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMaWdodCwgYXJnczogW2FmdGVyLmxpZ2h0XSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIGBzb3VyY2VzYFxuICAgICAgICAvLyBJZiBhIHNvdXJjZSBpcyB0byBiZSByZW1vdmVkLCB3ZSBhbHNvLS1iZWZvcmUgdGhlIHJlbW92ZVNvdXJjZVxuICAgICAgICAvLyBjb21tYW5kLS1uZWVkIHRvIHJlbW92ZSBhbGwgdGhlIHN0eWxlIGxheWVycyB0aGF0IGRlcGVuZCBvbiBpdC5cbiAgICAgICAgY29uc3Qgc291cmNlc1JlbW92ZWQgPSB7fTtcblxuICAgICAgICAvLyBGaXJzdCBjb2xsZWN0IHRoZSB7YWRkLHJlbW92ZX1Tb3VyY2UgY29tbWFuZHNcbiAgICAgICAgY29uc3QgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyA9IFtdO1xuICAgICAgICBkaWZmU291cmNlcyhiZWZvcmUuc291cmNlcywgYWZ0ZXIuc291cmNlcywgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuXG4gICAgICAgIC8vIFB1c2ggYSByZW1vdmVMYXllciBjb21tYW5kIGZvciBlYWNoIHN0eWxlIGxheWVyIHRoYXQgZGVwZW5kcyBvbiBhXG4gICAgICAgIC8vIHNvdXJjZSB0aGF0J3MgYmVpbmcgcmVtb3ZlZC5cbiAgICAgICAgLy8gQWxzbywgZXhjbHVkZSBhbnkgc3VjaCBsYXllcnMgdGhlbSBmcm9tIHRoZSBpbnB1dCB0byBgZGlmZkxheWVyc2BcbiAgICAgICAgLy8gYmVsb3csIHNvIHRoYXQgZGlmZkxheWVycyBwcm9kdWNlcyB0aGUgYXBwcm9wcmlhdGUgYGFkZExheWVyc2BcbiAgICAgICAgLy8gY29tbWFuZFxuICAgICAgICBjb25zdCBiZWZvcmVMYXllcnMgPSBbXTtcbiAgICAgICAgaWYgKGJlZm9yZS5sYXllcnMpIHtcbiAgICAgICAgICAgIGJlZm9yZS5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlc1JlbW92ZWRbbGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVyLmlkXSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVMYXllcnMucHVzaChsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tbWFuZHMgPSBjb21tYW5kcy5jb25jYXQocmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyk7XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gYGxheWVyc2BcbiAgICAgICAgZGlmZkxheWVycyhiZWZvcmVMYXllcnMsIGFmdGVyLmxheWVycywgY29tbWFuZHMpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gc2V0U3R5bGVcbiAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOicsIGUpO1xuICAgICAgICBjb21tYW5kcyA9IFt7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl0gfV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1hbmRzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkaWZmU3R5bGVzO1xuZXhwb3J0IHsgb3BlcmF0aW9ucyB9O1xuIiwiLy8gQGZsb3dcblxuLyoqXG4gKiBHcmlkSW5kZXggaXMgYSBkYXRhIHN0cnVjdHVyZSBmb3IgdGVzdGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mXG4gKiBjaXJjbGVzIGFuZCByZWN0YW5nbGVzIGluIGEgMmQgcGxhbmUuXG4gKiBJdCBpcyBvcHRpbWl6ZWQgZm9yIHJhcGlkIGluc2VydGlvbiBhbmQgcXVlcnlpbmcuXG4gKiBHcmlkSW5kZXggc3BsaXRzIHRoZSBwbGFuZSBpbnRvIGEgc2V0IG9mIFwiY2VsbHNcIiBhbmQga2VlcHMgdHJhY2tcbiAqIG9mIHdoaWNoIGdlb21ldHJpZXMgaW50ZXJzZWN0IHdpdGggZWFjaCBjZWxsLiBBdCBxdWVyeSB0aW1lLFxuICogZnVsbCBnZW9tZXRyeSBjb21wYXJpc29ucyBhcmUgb25seSBkb25lIGZvciBpdGVtcyB0aGF0IHNoYXJlXG4gKiBhdCBsZWFzdCBvbmUgY2VsbC4gQXMgbG9uZyBhcyB0aGUgZ2VvbWV0cmllcyBhcmUgcmVsYXRpdmVseVxuICogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGFjcm9zcyB0aGUgcGxhbmUsIHRoaXMgZ3JlYXRseSByZWR1Y2VzXG4gKiB0aGUgbnVtYmVyIG9mIGNvbXBhcmlzb25zIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBHcmlkSW5kZXgge1xuICAgIGNpcmNsZUtleXM6IEFycmF5PGFueT47XG4gICAgYm94S2V5czogQXJyYXk8YW55PjtcbiAgICBib3hDZWxsczogQXJyYXk8QXJyYXk8bnVtYmVyPj47XG4gICAgY2lyY2xlQ2VsbHM6IEFycmF5PEFycmF5PG51bWJlcj4+O1xuICAgIGJib3hlczogQXJyYXk8bnVtYmVyPjtcbiAgICBjaXJjbGVzOiBBcnJheTxudW1iZXI+O1xuICAgIHhDZWxsQ291bnQ6IG51bWJlcjtcbiAgICB5Q2VsbENvdW50OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB4U2NhbGU6IG51bWJlcjtcbiAgICB5U2NhbGU6IG51bWJlcjtcbiAgICBib3hVaWQ6IG51bWJlcjtcbiAgICBjaXJjbGVVaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VsbFNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBib3hDZWxscyA9IHRoaXMuYm94Q2VsbHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbHMgPSB0aGlzLmNpcmNsZUNlbGxzID0gW107XG5cbiAgICAgICAgLy8gTW9yZSBjZWxscyAtPiBmZXdlciBnZW9tZXRyaWVzIHRvIGNoZWNrIHBlciBjZWxsLCBidXQgaXRlbXMgdGVuZFxuICAgICAgICAvLyB0byBiZSBzcGxpdCBhY3Jvc3MgbW9yZSBjZWxscy5cbiAgICAgICAgLy8gU3dlZXQgc3BvdCBhbGxvd3MgbW9zdCBzbWFsbCBpdGVtcyB0byBmaXQgaW4gb25lIGNlbGxcbiAgICAgICAgdGhpcy54Q2VsbENvdW50ID0gTWF0aC5jZWlsKHdpZHRoIC8gY2VsbFNpemUpO1xuICAgICAgICB0aGlzLnlDZWxsQ291bnQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbFNpemUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy54Q2VsbENvdW50ICogdGhpcy55Q2VsbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGJveENlbGxzLnB1c2goW10pO1xuICAgICAgICAgICAgY2lyY2xlQ2VsbHMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaXJjbGVLZXlzID0gW107XG4gICAgICAgIHRoaXMuYm94S2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJib3hlcyA9IFtdO1xuICAgICAgICB0aGlzLmNpcmNsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMueENlbGxDb3VudCAvIHdpZHRoO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMueUNlbGxDb3VudCAvIGhlaWdodDtcbiAgICAgICAgdGhpcy5ib3hVaWQgPSAwO1xuICAgICAgICB0aGlzLmNpcmNsZVVpZCA9IDA7XG4gICAgfVxuXG4gICAga2V5c0xlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGggKyB0aGlzLmNpcmNsZUtleXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGluc2VydChrZXk6IGFueSwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5faW5zZXJ0Qm94Q2VsbCwgdGhpcy5ib3hVaWQrKyk7XG4gICAgICAgIHRoaXMuYm94S2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeDEpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHkxKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh4Mik7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeTIpO1xuICAgIH1cblxuICAgIGluc2VydENpcmNsZShrZXk6IGFueSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgICAgIC8vIEluc2VydCBjaXJjbGUgaW50byBncmlkIGZvciBhbGwgY2VsbHMgaW4gdGhlIGNpcmN1bXNjcmliaW5nIHNxdWFyZVxuICAgICAgICAvLyBJdCdzIG1vcmUgdGhhbiBuZWNlc3NhcnkgKGJ5IGEgZmFjdG9yIG9mIDQvUEkpLCBidXQgZmFzdCB0byBpbnNlcnRcbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeCAtIHJhZGl1cywgeSAtIHJhZGl1cywgeCArIHJhZGl1cywgeSArIHJhZGl1cywgdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCwgdGhpcy5jaXJjbGVVaWQrKyk7XG4gICAgICAgIHRoaXMuY2lyY2xlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHgpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaCh5KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2gocmFkaXVzKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Qm94Q2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdLnB1c2godWlkKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Q2lyY2xlQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpICB7XG4gICAgICAgIHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XS5wdXNoKHVpZCk7XG4gICAgfVxuXG4gICAgX3F1ZXJ5KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4sIHByZWRpY2F0ZT86IGFueSkge1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoeDEgPD0gMCAmJiB5MSA8PSAwICYmIHRoaXMud2lkdGggPD0geDIgJiYgdGhpcy5oZWlnaHQgPD0geTIpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBib3hVaWQgPSAwOyBib3hVaWQgPCB0aGlzLmJveEtleXMubGVuZ3RoOyBib3hVaWQrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmJveEtleXNbYm94VWlkXSxcbiAgICAgICAgICAgICAgICAgICAgeDE6IHRoaXMuYmJveGVzW2JveFVpZCAqIDRdLFxuICAgICAgICAgICAgICAgICAgICB5MTogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDFdLFxuICAgICAgICAgICAgICAgICAgICB4MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDJdLFxuICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDNdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjaXJjbGVVaWQgPSAwOyBjaXJjbGVVaWQgPCB0aGlzLmNpcmNsZUtleXMubGVuZ3RoOyBjaXJjbGVVaWQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmNpcmNsZXNbY2lyY2xlVWlkICogM107XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuY2lyY2xlc1tjaXJjbGVVaWQgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5jaXJjbGVzW2NpcmNsZVVpZCAqIDMgKyAyXTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0sXG4gICAgICAgICAgICAgICAgICAgIHgxOiB4IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICB5MTogeSAtIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgeDI6IHggKyByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIHkyOiB5ICsgcmFkaXVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlID8gcmVzdWx0LmZpbHRlcihwcmVkaWNhdGUpIDogcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlBcmdzID0ge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICAgICAgc2VlblVpZHM6IHsgYm94OiB7fSwgY2lyY2xlOiB7fSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX3F1ZXJ5Q2VsbCwgcmVzdWx0LCBxdWVyeUFyZ3MsIHByZWRpY2F0ZSk7XG4gICAgICAgICAgICByZXR1cm4gaGl0VGVzdCA/IHJlc3VsdC5sZW5ndGggPiAwIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3F1ZXJ5Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgaGl0VGVzdDogYm9vbGVhbiwgcHJlZGljYXRlPzogYW55KSB7XG4gICAgICAgIC8vIEluc2VydCBjaXJjbGUgaW50byBncmlkIGZvciBhbGwgY2VsbHMgaW4gdGhlIGNpcmN1bXNjcmliaW5nIHNxdWFyZVxuICAgICAgICAvLyBJdCdzIG1vcmUgdGhhbiBuZWNlc3NhcnkgKGJ5IGEgZmFjdG9yIG9mIDQvUEkpLCBidXQgZmFzdCB0byBpbnNlcnRcbiAgICAgICAgY29uc3QgeDEgPSB4IC0gcmFkaXVzO1xuICAgICAgICBjb25zdCB4MiA9IHggKyByYWRpdXM7XG4gICAgICAgIGNvbnN0IHkxID0geSAtIHJhZGl1cztcbiAgICAgICAgY29uc3QgeTIgPSB5ICsgcmFkaXVzO1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm94IHF1ZXJ5IGVhcmx5IGV4aXRzIGlmIHRoZSBib3VuZGluZyBib3ggaXMgbGFyZ2VyIHRoYW4gdGhlIGdyaWQsIGJ1dCB3ZSBkb24ndCBkb1xuICAgICAgICAvLyB0aGUgZXF1aXZhbGVudCBjYWxjdWxhdGlvbiBmb3IgY2lyY2xlIHF1ZXJpZXMgYmVjYXVzZSBlYXJseSBleGl0IGlzIGxlc3MgbGlrZWx5XG4gICAgICAgIC8vIGFuZCB0aGUgY2FsY3VsYXRpb24gaXMgbW9yZSBleHBlbnNpdmVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHtcbiAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICBjaXJjbGU6IHsgeDogeCwgeTogeSwgcmFkaXVzOiByYWRpdXMgfSxcbiAgICAgICAgICAgIHNlZW5VaWRzOiB7IGJveDoge30sIGNpcmNsZToge30gfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLCByZXN1bHQsIHF1ZXJ5QXJncywgcHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBxdWVyeSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwcmVkaWNhdGU/OiBhbnkpOiBBcnJheTxhbnk+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeSh4MSwgeTEsIHgyLCB5MiwgZmFsc2UsIHByZWRpY2F0ZSk6IGFueSk7XG4gICAgfVxuXG4gICAgaGl0VGVzdCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwcmVkaWNhdGU/OiBhbnkpOiBib29sZWFuICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnkoeDEsIHkxLCB4MiwgeTIsIHRydWUsIHByZWRpY2F0ZSk6IGFueSk7XG4gICAgfVxuXG4gICAgaGl0VGVzdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5Q2lyY2xlKHgsIHksIHJhZGl1cywgdHJ1ZSwgcHJlZGljYXRlKTogYW55KTtcbiAgICB9XG5cbiAgICBfcXVlcnlDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGNlbGxJbmRleDogbnVtYmVyLCByZXN1bHQ6IGFueSwgcXVlcnlBcmdzOiBhbnksIHByZWRpY2F0ZT86IGFueSkge1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHgxIDw9IGJib3hlc1tvZmZzZXQgKyAyXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh5MSA8PSBiYm94ZXNbb2Zmc2V0ICsgM10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeDIgPj0gYmJveGVzW29mZnNldCArIDBdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHkyID49IGJib3hlc1tvZmZzZXQgKyAxXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmJveEtleXNbYm94VWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuYm94S2V5c1tib3hVaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogYmJveGVzW29mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiBiYm94ZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiBiYm94ZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyOiBiYm94ZXNbb2Zmc2V0ICsgM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IGNpcmNsZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gY2lyY2xlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBjaXJjbGVzW29mZnNldCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDE6IHggLSByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiB5IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MjogeCArIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTI6IHkgKyByYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNlbGxDaXJjbGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSwgcHJlZGljYXRlPzogYW55KSB7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IHF1ZXJ5QXJncy5jaXJjbGU7XG4gICAgICAgIGNvbnN0IHNlZW5VaWRzID0gcXVlcnlBcmdzLnNlZW5VaWRzO1xuICAgICAgICBjb25zdCBib3hDZWxsID0gdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoYm94Q2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgYmJveGVzID0gdGhpcy5iYm94ZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJveFVpZCBvZiBib3hDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5ib3hbYm94VWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5ib3hbYm94VWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJveFVpZCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDNdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHRoaXMuYm94S2V5c1tib3hVaWRdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZXNDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZvckVhY2hDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGZuOiBhbnksIGFyZzE6IGFueSwgYXJnMj86IGFueSwgcHJlZGljYXRlPzogYW55KSB7XG4gICAgICAgIGNvbnN0IGN4MSA9IHRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDEpO1xuICAgICAgICBjb25zdCBjeTEgPSB0aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHkxKTtcbiAgICAgICAgY29uc3QgY3gyID0gdGhpcy5fY29udmVydFRvWENlbGxDb29yZCh4Mik7XG4gICAgICAgIGNvbnN0IGN5MiA9IHRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQoeTIpO1xuXG4gICAgICAgIGZvciAobGV0IHggPSBjeDE7IHggPD0gY3gyOyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSBjeTE7IHkgPD0gY3kyOyB5KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZWxsSW5kZXggPSB0aGlzLnhDZWxsQ291bnQgKiB5ICsgeDtcbiAgICAgICAgICAgICAgICBpZiAoZm4uY2FsbCh0aGlzLCB4MSwgeTEsIHgyLCB5MiwgY2VsbEluZGV4LCBhcmcxLCBhcmcyLCBwcmVkaWNhdGUpKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29udmVydFRvWENlbGxDb29yZCh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueENlbGxDb3VudCAtIDEsIE1hdGguZmxvb3IoeCAqIHRoaXMueFNjYWxlKSkpO1xuICAgIH1cblxuICAgIF9jb252ZXJ0VG9ZQ2VsbENvb3JkKHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy55Q2VsbENvdW50IC0gMSwgTWF0aC5mbG9vcih5ICogdGhpcy55U2NhbGUpKSk7XG4gICAgfVxuXG4gICAgX2NpcmNsZXNDb2xsaWRlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHIxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIHIyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZHggPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCBkeSA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IGJvdGhSYWRpaSA9IHIxICsgcjI7XG4gICAgICAgIHJldHVybiAoYm90aFJhZGlpICogYm90aFJhZGlpKSA+IChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGNpcmNsZVg6IG51bWJlciwgY2lyY2xlWTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBoYWxmUmVjdFdpZHRoID0gKHgyIC0geDEpIC8gMjtcbiAgICAgICAgY29uc3QgZGlzdFggPSBNYXRoLmFicyhjaXJjbGVYIC0gKHgxICsgaGFsZlJlY3RXaWR0aCkpO1xuICAgICAgICBpZiAoZGlzdFggPiAoaGFsZlJlY3RXaWR0aCArIHJhZGl1cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhbGZSZWN0SGVpZ2h0ID0gKHkyIC0geTEpIC8gMjtcbiAgICAgICAgY29uc3QgZGlzdFkgPSBNYXRoLmFicyhjaXJjbGVZIC0gKHkxICsgaGFsZlJlY3RIZWlnaHQpKTtcbiAgICAgICAgaWYgKGRpc3RZID4gKGhhbGZSZWN0SGVpZ2h0ICsgcmFkaXVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3RYIDw9IGhhbGZSZWN0V2lkdGggfHwgZGlzdFkgPD0gaGFsZlJlY3RIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHggPSBkaXN0WCAtIGhhbGZSZWN0V2lkdGg7XG4gICAgICAgIGNvbnN0IGR5ID0gZGlzdFkgLSBoYWxmUmVjdEhlaWdodDtcbiAgICAgICAgcmV0dXJuIChkeCAqIGR4ICsgZHkgKiBkeSA8PSAocmFkaXVzICogcmFkaXVzKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkSW5kZXg7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCB7IG1hdDQsIHZlYzQgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplJztcbmltcG9ydCB7IGFkZER5bmFtaWNBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgcHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5jb25zdCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5sYXlvdXQ7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge1xuICAgIEdseXBoT2Zmc2V0QXJyYXksXG4gICAgU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgIFN5bWJvbER5bmFtaWNMYXlvdXRBcnJheVxufSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCB7IFdyaXRpbmdNb2RlIH0gZnJvbSAnLi4vc3ltYm9sL3NoYXBpbmcnO1xuXG5leHBvcnQgeyB1cGRhdGVMaW5lTGFiZWxzLCBnZXRMYWJlbFBsYW5lTWF0cml4LCBnZXRHbENvb3JkTWF0cml4LCBwcm9qZWN0LCBwbGFjZUZpcnN0QW5kTGFzdEdseXBoLCB4eVRyYW5zZm9ybU1hdDQgfTtcblxuLypcbiAqICMgT3ZlcnZpZXcgb2YgY29vcmRpbmF0ZSBzcGFjZXNcbiAqXG4gKiAjIyBUaWxlIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBFYWNoIGxhYmVsIGhhcyBhbiBhbmNob3IuIFNvbWUgbGFiZWxzIGhhdmUgY29ycmVzcG9uZGluZyBsaW5lIGdlb21ldHJpZXMuXG4gKiBUaGUgcG9pbnRzIGZvciBib3RoIGFuY2hvcnMgYW5kIGxpbmVzIGFyZSBzdG9yZWQgaW4gdGlsZSB1bml0cy4gRWFjaCB0aWxlIGhhcyBpdCdzIG93blxuICogY29vcmRpbmF0ZSBzcGFjZSBnb2luZyBmcm9tICgwLCAwKSBhdCB0aGUgdG9wIGxlZnQgdG8gKEVYVEVOVCwgRVhURU5UKSBhdCB0aGUgYm90dG9tIHJpZ2h0LlxuICpcbiAqICMjIEdMIGNvb3JkaW5hdGUgc3BhY2VcbiAqIEF0IHRoZSBlbmQgb2YgZXZlcnl0aGluZywgdGhlIHZlcnRleCBzaGFkZXIgbmVlZHMgdG8gcHJvZHVjZSBhIHBvc2l0aW9uIGluIEdMIGNvb3JkaW5hdGUgc3BhY2UsXG4gKiB3aGljaCBpcyAoLTEsIDEpIGF0IHRoZSB0b3AgbGVmdCBhbmQgKDEsIC0xKSBpbiB0aGUgYm90dG9tIHJpZ2h0LlxuICpcbiAqICMjIE1hcCBwaXhlbCBjb29yZGluYXRlIHNwYWNlc1xuICogRWFjaCB0aWxlIGhhcyBhIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2UuIEl0J3MganVzdCB0aGUgdGlsZSB1bml0cyBzY2FsZWQgc28gdGhhdCBvbmUgdW5pdCBpc1xuICogd2hhdGV2ZXIgY291bnRzIGFzIDEgcGl4ZWwgYXQgdGhlIGN1cnJlbnQgem9vbS5cbiAqIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PW1hcCwgcm90YXRpb24tYWxpZ25tZW50PW1hcFxuICpcbiAqICMjIFJvdGF0ZWQgbWFwIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBMaWtlIHRoZSBhYm92ZSwgYnV0IHJvdGF0ZWQgc28gYXhpcyBvZiB0aGUgc3BhY2UgYXJlIGFsaWduZWQgd2l0aCB0aGUgdmlld3BvcnQgaW5zdGVhZCBvZiB0aGUgdGlsZS5cbiAqIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PW1hcCwgcm90YXRpb24tYWxpZ25tZW50PXZpZXdwb3J0XG4gKlxuICogIyMgVmlld3BvcnQgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZVxuICogKDAsIDApIGlzIGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgY2FudmFzIGFuZCAocGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpIGlzIGF0IHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gKiBvZiB0aGUgY2FudmFzLiBUaGlzIHNwYWNlIGlzIHVzZWQgZm9yIHBpdGNoLWFsaWdubWVudD12aWV3cG9ydFxuICpcbiAqXG4gKiAjIFZlcnRleCBwcm9qZWN0aW9uXG4gKiBJdCBnb2VzIHJvdWdobHkgbGlrZSB0aGlzOlxuICogMS4gcHJvamVjdCB0aGUgYW5jaG9yIGFuZCBsaW5lIGZyb20gdGlsZSB1bml0cyBpbnRvIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2VcbiAqICAgICAgLSBtYXAgcGl4ZWwgc3BhY2UgICAgICAgICAgIHBpdGNoLWFsaWdubWVudD1tYXAgICAgICAgICByb3RhdGlvbi1hbGlnbm1lbnQ9bWFwXG4gKiAgICAgIC0gcm90YXRlZCBtYXAgcGl4ZWwgc3BhY2UgICBwaXRjaC1hbGlnbm1lbnQ9bWFwICAgICAgICAgcm90YXRpb24tYWxpZ25tZW50PXZpZXdwb3J0XG4gKiAgICAgIC0gdmlld3BvcnQgcGl4ZWwgc3BhY2UgICAgICBwaXRjaC1hbGlnbm1lbnQ9dmlld3BvcnQgICAgcm90YXRpb24tYWxpZ25tZW50PSpcbiAqIDIuIGlmIHRoZSBsYWJlbCBmb2xsb3dzIGEgbGluZSwgZmluZCB0aGUgcG9pbnQgYWxvbmcgdGhlIGxpbmUgdGhhdCBpcyB0aGUgY29ycmVjdCBkaXN0YW5jZSBmcm9tIHRoZSBhbmNob3IuXG4gKiAzLiBhZGQgdGhlIGdseXBoJ3MgY29ybmVyIG9mZnNldCB0byB0aGUgcG9pbnQgZnJvbSBzdGVwIDNcbiAqIDQuIGNvbnZlcnQgZnJvbSB0aGUgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZSB0byBnbCBjb29yZGluYXRlc1xuICpcbiAqIEZvciBob3Jpem9udGFsIGxhYmVscyB3ZSB3YW50IHRvIGRvIHN0ZXAgMSBpbiB0aGUgc2hhZGVyIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChubyBjcHUgd29yaykuXG4gKiAgICAgIFRoaXMgaXMgd2hhdCBgdV9sYWJlbF9wbGFuZV9tYXRyaXhgIGlzIHVzZWQgZm9yLlxuICogRm9yIGxhYmVscyBhbGlnbmVkIHdpdGggbGluZXMgd2UgaGF2ZSB0byBzdGVwcyAxIGFuZCAyIG9uIHRoZSBjcHUgc2luY2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIGxpbmUgZ2VvbWV0cnkuXG4gKiAgICAgIFRoaXMgaXMgd2hhdCBgdXBkYXRlTGluZUxhYmVscyguLi4pYCBkb2VzLlxuICogICAgICBTaW5jZSB0aGUgY29udmVyc2lvbiBpcyBoYW5kbGVkIG9uIHRoZSBjcHUgd2UganVzdCBzZXQgYHVfbGFiZWxfcGxhbmVfbWF0cml4YCB0byBhbiBpZGVudGl0eSBtYXRyaXguXG4gKlxuICogU3RlcHMgMyBhbmQgNCBhcmUgZG9uZSBpbiB0aGUgc2hhZGVycyBmb3IgYWxsIGxhYmVscy5cbiAqL1xuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRpbGUgdW5pdHMgdG8gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFiZWxQbGFuZU1hdHJpeChwb3NNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBtID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7XG4gICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICBtYXQ0LmlkZW50aXR5KG0pO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsxIC8gcGl4ZWxzVG9UaWxlVW5pdHMsIDEgLyBwaXhlbHNUb1RpbGVVbml0cywgMV0pO1xuICAgICAgICBpZiAoIXJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgIG1hdDQucm90YXRlWihtLCBtLCB0cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbdHJhbnNmb3JtLndpZHRoIC8gMiwgLXRyYW5zZm9ybS5oZWlnaHQgLyAyLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFsxLCAtMSwgMF0pO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KG0sIG0sIHBvc01hdHJpeCk7XG4gICAgfVxuICAgIHJldHVybiBtO1xufVxuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UgdG8gZ2wgY29vcmRzLlxuICovXG5mdW5jdGlvbiBnZXRHbENvb3JkTWF0cml4KHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IG51bWJlcikge1xuICAgIGNvbnN0IG0gPSBtYXQ0LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtcbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobSwgbSwgcG9zTWF0cml4KTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbcGl4ZWxzVG9UaWxlVW5pdHMsIHBpeGVsc1RvVGlsZVVuaXRzLCAxXSk7XG4gICAgICAgIGlmICghcm90YXRlV2l0aE1hcCkge1xuICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG0sIG0sIC10cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSwgLTEsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWy0xLCAtMSwgMF0pO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsyIC8gdHJhbnNmb3JtLndpZHRoLCAyIC8gdHJhbnNmb3JtLmhlaWdodCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gcHJvamVjdChwb2ludDogUG9pbnQsIG1hdHJpeDogbWF0NCkge1xuICAgIGNvbnN0IHBvcyA9IFtwb2ludC54LCBwb2ludC55LCAwLCAxXTtcbiAgICB4eVRyYW5zZm9ybU1hdDQocG9zLCBwb3MsIG1hdHJpeCk7XG4gICAgY29uc3QgdyA9IHBvc1szXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogbmV3IFBvaW50KHBvc1swXSAvIHcsIHBvc1sxXSAvIHcpLFxuICAgICAgICBzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6IHdcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc1Zpc2libGUoYW5jaG9yUG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICBjbGlwcGluZ0J1ZmZlcjogW251bWJlciwgbnVtYmVyXSkge1xuICAgIGNvbnN0IHggPSBhbmNob3JQb3NbMF0gLyBhbmNob3JQb3NbM107XG4gICAgY29uc3QgeSA9IGFuY2hvclBvc1sxXSAvIGFuY2hvclBvc1szXTtcbiAgICBjb25zdCBpblBhZGRlZFZpZXdwb3J0ID0gKFxuICAgICAgICB4ID49IC1jbGlwcGluZ0J1ZmZlclswXSAmJlxuICAgICAgICB4IDw9IGNsaXBwaW5nQnVmZmVyWzBdICYmXG4gICAgICAgIHkgPj0gLWNsaXBwaW5nQnVmZmVyWzFdICYmXG4gICAgICAgIHkgPD0gY2xpcHBpbmdCdWZmZXJbMV0pO1xuICAgIHJldHVybiBpblBhZGRlZFZpZXdwb3J0O1xufVxuXG4vKlxuICogIFVwZGF0ZSB0aGUgYGR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXJgIGZvciB0aGUgYnVmZmVyIHdpdGggdGhlIGNvcnJlY3QgZ2x5cGggcG9zaXRpb25zIGZvciB0aGUgY3VycmVudCBtYXAgdmlldy5cbiAqICBUaGlzIGlzIG9ubHkgcnVuIG9uIGxhYmVscyB0aGF0IGFyZSBhbGlnbmVkIHdpdGggbGluZXMuIEhvcml6b250YWwgbGFiZWxzIGFyZSBoYW5kbGVkIGVudGlyZWx5IGluIHRoZSBzaGFkZXIuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVMYWJlbHMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUZXh0OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbENvb3JkTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBVcHJpZ2h0OiBib29sZWFuKSB7XG5cbiAgICBjb25zdCBzaXplRGF0YSA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0U2l6ZURhdGEgOiBidWNrZXQuaWNvblNpemVEYXRhO1xuICAgIGNvbnN0IHBhcnRpYWxseUV2YWx1YXRlZFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc2l6ZURhdGEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sXG4gICAgICAgIHN5bWJvbExheW91dFByb3BlcnRpZXMucHJvcGVydGllc1tpc1RleHQgPyAndGV4dC1zaXplJyA6ICdpY29uLXNpemUnXSk7XG5cbiAgICBjb25zdCBjbGlwcGluZ0J1ZmZlciA9IFsyNTYgLyBwYWludGVyLndpZHRoICogMiArIDEsIDI1NiAvIHBhaW50ZXIuaGVpZ2h0ICogMiArIDFdO1xuXG4gICAgY29uc3QgZHluYW1pY0xheW91dFZlcnRleEFycmF5ID0gaXNUZXh0ID9cbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5IDpcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O1xuICAgIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgY29uc3QgbGluZVZlcnRleEFycmF5ID0gYnVja2V0LmxpbmVWZXJ0ZXhBcnJheTtcbiAgICBjb25zdCBwbGFjZWRTeW1ib2xzID0gaXNUZXh0ID8gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkgOiBidWNrZXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtcblxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gcGFpbnRlci50cmFuc2Zvcm0ud2lkdGggLyBwYWludGVyLnRyYW5zZm9ybS5oZWlnaHQ7XG5cbiAgICBsZXQgdXNlVmVydGljYWwgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgcGxhY2VkU3ltYm9scy5sZW5ndGg7IHMrKykge1xuICAgICAgICBjb25zdCBzeW1ib2w6IGFueSA9IHBsYWNlZFN5bWJvbHMuZ2V0KHMpO1xuICAgICAgICAvLyBEb24ndCBkbyBjYWxjdWxhdGlvbnMgZm9yIHZlcnRpY2FsIGdseXBocyB1bmxlc3MgdGhlIHByZXZpb3VzIHN5bWJvbCB3YXMgaG9yaXpvbnRhbFxuICAgICAgICAvLyBhbmQgd2UgZGV0ZXJtaW5lZCB0aGF0IHZlcnRpY2FsIGdseXBocyB3ZXJlIG5lY2Vzc2FyeS5cbiAgICAgICAgLy8gQWxzbyBkb24ndCBkbyBjYWxjdWxhdGlvbnMgZm9yIHN5bWJvbHMgdGhhdCBhcmUgY29sbGlkZWQgYW5kIGZ1bGx5IGZhZGVkIG91dFxuICAgICAgICBpZiAoc3ltYm9sLmhpZGRlbiB8fCBzeW1ib2wud3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLnZlcnRpY2FsICYmICF1c2VWZXJ0aWNhbCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhzeW1ib2wubnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXdrd2FyZC4uLiBidXQgd2UncmUgY291bnRpbmcgb24gdGhlIHBhaXJlZCBcInZlcnRpY2FsXCIgc3ltYm9sIGNvbWluZyBpbW1lZGlhdGVseSBhZnRlciBpdHMgaG9yaXpvbnRhbCBjb3VudGVycGFydFxuICAgICAgICB1c2VWZXJ0aWNhbCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGFuY2hvclBvcyA9IFtzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclksIDAsIDFdO1xuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoYW5jaG9yUG9zLCBhbmNob3JQb3MsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGNhbGN1bGF0aW5nIHRoZSBjb3JyZWN0IHBvaW50IGZvciBpbnZpc2libGUgbGFiZWxzLlxuICAgICAgICBpZiAoIWlzVmlzaWJsZShhbmNob3JQb3MsIGNsaXBwaW5nQnVmZmVyKSkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhzeW1ib2wubnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW1lcmFUb0FuY2hvckRpc3RhbmNlID0gYW5jaG9yUG9zWzNdO1xuICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZVJhdGlvID0gMC41ICsgMC41ICogKGNhbWVyYVRvQW5jaG9yRGlzdGFuY2UgLyBwYWludGVyLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKTtcblxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShzaXplRGF0YSwgcGFydGlhbGx5RXZhbHVhdGVkU2l6ZSwgc3ltYm9sKTtcbiAgICAgICAgY29uc3QgcGl0Y2hTY2FsZWRGb250U2l6ZSA9IHBpdGNoV2l0aE1hcCA/XG4gICAgICAgICAgICBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW8gOlxuICAgICAgICAgICAgZm9udFNpemUgLyBwZXJzcGVjdGl2ZVJhdGlvO1xuXG4gICAgICAgIGNvbnN0IHRpbGVBbmNob3JQb2ludCA9IG5ldyBQb2ludChzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclkpO1xuICAgICAgICBjb25zdCBhbmNob3JQb2ludCA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LCBsYWJlbFBsYW5lTWF0cml4KS5wb2ludDtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkNhY2hlID0ge307XG5cbiAgICAgICAgY29uc3QgcGxhY2VVbmZsaXBwZWQ6IGFueSA9IHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgcGl0Y2hTY2FsZWRGb250U2l6ZSwgZmFsc2UgLyp1bmZsaXBwZWQqLywga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbyk7XG5cbiAgICAgICAgdXNlVmVydGljYWwgPSBwbGFjZVVuZmxpcHBlZC51c2VWZXJ0aWNhbDtcblxuICAgICAgICBpZiAocGxhY2VVbmZsaXBwZWQubm90RW5vdWdoUm9vbSB8fCB1c2VWZXJ0aWNhbCB8fFxuICAgICAgICAgICAgKHBsYWNlVW5mbGlwcGVkLm5lZWRzRmxpcHBpbmcgJiZcbiAgICAgICAgICAgICBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIHBpdGNoU2NhbGVkRm9udFNpemUsIHRydWUgLypmbGlwcGVkKi8sIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsXG4gICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbykubm90RW5vdWdoUm9vbSkpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMoc3ltYm9sLm51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKGZvbnRTY2FsZTogbnVtYmVyLCBnbHlwaE9mZnNldEFycmF5OiBHbHlwaE9mZnNldEFycmF5LCBsaW5lT2Zmc2V0WDogbnVtYmVyLCBsaW5lT2Zmc2V0WTogbnVtYmVyLCBmbGlwOiBib29sZWFuLCBhbmNob3JQb2ludDogUG9pbnQsIHRpbGVBbmNob3JQb2ludDogUG9pbnQsIHN5bWJvbDogYW55LCBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeDogbWF0NCwgcHJvamVjdGlvbkNhY2hlOiBhbnksIHJldHVyblRpbGVEaXN0YW5jZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGdseXBoRW5kSW5kZXggPSBzeW1ib2wuZ2x5cGhTdGFydEluZGV4ICsgc3ltYm9sLm51bUdseXBocztcbiAgICBjb25zdCBsaW5lU3RhcnRJbmRleCA9IHN5bWJvbC5saW5lU3RhcnRJbmRleDtcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wubGluZUxlbmd0aDtcblxuICAgIGNvbnN0IGZpcnN0R2x5cGhPZmZzZXQgPSBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoc3ltYm9sLmdseXBoU3RhcnRJbmRleCk7XG4gICAgY29uc3QgbGFzdEdseXBoT2Zmc2V0ID0gZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKGdseXBoRW5kSW5kZXggLSAxKTtcblxuICAgIGNvbnN0IGZpcnN0UGxhY2VkR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGZpcnN0R2x5cGhPZmZzZXQsIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCByZXR1cm5UaWxlRGlzdGFuY2UpO1xuICAgIGlmICghZmlyc3RQbGFjZWRHbHlwaClcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBsYXN0UGxhY2VkR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGxhc3RHbHlwaE9mZnNldCwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIHJldHVyblRpbGVEaXN0YW5jZSk7XG4gICAgaWYgKCFsYXN0UGxhY2VkR2x5cGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHsgZmlyc3Q6IGZpcnN0UGxhY2VkR2x5cGgsIGxhc3Q6IGxhc3RQbGFjZWRHbHlwaCB9O1xufVxuXG5mdW5jdGlvbiByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQsIGFzcGVjdFJhdGlvKSB7XG4gICAgaWYgKHdyaXRpbmdNb2RlID09PSBXcml0aW5nTW9kZS5ob3Jpem9udGFsKSB7XG4gICAgICAgIC8vIE9uIHRvcCBvZiBjaG9vc2luZyB3aGV0aGVyIHRvIGZsaXAsIGNob29zZSB3aGV0aGVyIHRvIHJlbmRlciB0aGlzIHZlcnNpb24gb2YgdGhlIGdseXBocyBvciB0aGUgYWx0ZXJuYXRlXG4gICAgICAgIC8vIHZlcnRpY2FsIGdseXBocy4gV2UgY2FuJ3QganVzdCBmaWx0ZXIgb3V0IHZlcnRpY2FsIGdseXBocyBpbiB0aGUgaG9yaXpvbnRhbCByYW5nZSBiZWNhdXNlIHRoZSBob3Jpem9udGFsXG4gICAgICAgIC8vIGFuZCB2ZXJ0aWNhbCB2ZXJzaW9ucyBjYW4gaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnQgcHJvamVjdGlvbnMgd2hpY2ggY291bGQgbGVhZCB0byBhbmdsZXMgd2hlcmUgYm90aCBvclxuICAgICAgICAvLyBuZWl0aGVyIHNob3dlZC5cbiAgICAgICAgY29uc3QgcmlzZSA9IE1hdGguYWJzKGxhc3RQb2ludC55IC0gZmlyc3RQb2ludC55KTtcbiAgICAgICAgY29uc3QgcnVuID0gTWF0aC5hYnMobGFzdFBvaW50LnggLSBmaXJzdFBvaW50LngpICogYXNwZWN0UmF0aW87XG4gICAgICAgIGlmIChyaXNlID4gcnVuKSB7XG4gICAgICAgICAgICByZXR1cm4geyB1c2VWZXJ0aWNhbDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdyaXRpbmdNb2RlID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbCA/IGZpcnN0UG9pbnQueSA8IGxhc3RQb2ludC55IDogZmlyc3RQb2ludC54ID4gbGFzdFBvaW50LngpIHtcbiAgICAgICAgLy8gSW5jbHVkZXMgXCJob3Jpem9udGFsT25seVwiIGNhc2UgZm9yIGxhYmVscyB3aXRob3V0IHZlcnRpY2FsIGdseXBoc1xuICAgICAgICByZXR1cm4geyBuZWVkc0ZsaXBwaW5nOiB0cnVlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgZm9udFNpemUsIGZsaXAsIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsIGdseXBoT2Zmc2V0QXJyYXksIGxpbmVWZXJ0ZXhBcnJheSwgZHluYW1pY0xheW91dFZlcnRleEFycmF5LCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBwcm9qZWN0aW9uQ2FjaGUsIGFzcGVjdFJhdGlvKSB7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WCA9IHN5bWJvbC5saW5lT2Zmc2V0WCAqIGZvbnRTaXplO1xuICAgIGNvbnN0IGxpbmVPZmZzZXRZID0gc3ltYm9sLmxpbmVPZmZzZXRZICogZm9udFNpemU7XG5cbiAgICBsZXQgcGxhY2VkR2x5cGhzO1xuICAgIGlmIChzeW1ib2wubnVtR2x5cGhzID4gMSkge1xuICAgICAgICBjb25zdCBnbHlwaEVuZEluZGV4ID0gc3ltYm9sLmdseXBoU3RhcnRJbmRleCArIHN5bWJvbC5udW1HbHlwaHM7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydEluZGV4ID0gc3ltYm9sLmxpbmVTdGFydEluZGV4O1xuICAgICAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wubGluZUxlbmd0aDtcblxuICAgICAgICAvLyBQbGFjZSB0aGUgZmlyc3QgYW5kIHRoZSBsYXN0IGdseXBoIGluIHRoZSBsYWJlbCBmaXJzdCwgc28gd2UgY2FuIGZpZ3VyZSBvdXRcbiAgICAgICAgLy8gdGhlIG92ZXJhbGwgb3JpZW50YXRpb24gb2YgdGhlIGxhYmVsIGFuZCBkZXRlcm1pbmUgd2hldGhlciBpdCBuZWVkcyB0byBiZSBmbGlwcGVkIGluIGtlZXBVcHJpZ2h0IG1vZGVcbiAgICAgICAgY29uc3QgZmlyc3RBbmRMYXN0R2x5cGggPSBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKGZvbnRTY2FsZSwgZ2x5cGhPZmZzZXRBcnJheSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBmYWxzZSk7XG4gICAgICAgIGlmICghZmlyc3RBbmRMYXN0R2x5cGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5vdEVub3VnaFJvb206IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gcHJvamVjdChmaXJzdEFuZExhc3RHbHlwaC5maXJzdC5wb2ludCwgZ2xDb29yZE1hdHJpeCkucG9pbnQ7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHByb2plY3QoZmlyc3RBbmRMYXN0R2x5cGgubGFzdC5wb2ludCwgZ2xDb29yZE1hdHJpeCkucG9pbnQ7XG5cbiAgICAgICAgaWYgKGtlZXBVcHJpZ2h0ICYmICFmbGlwKSB7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZSA9IHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uoc3ltYm9sLndyaXRpbmdNb2RlLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQsIGFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBsYWNlZEdseXBocyA9IFtmaXJzdEFuZExhc3RHbHlwaC5maXJzdF07XG4gICAgICAgIGZvciAobGV0IGdseXBoSW5kZXggPSBzeW1ib2wuZ2x5cGhTdGFydEluZGV4ICsgMTsgZ2x5cGhJbmRleCA8IGdseXBoRW5kSW5kZXggLSAxOyBnbHlwaEluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIGZpcnN0IGFuZCBsYXN0IGdseXBoIGZpdCBvbiB0aGUgbGluZSwgd2UncmUgc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBnbHlwaHMgY2FuIGJlIHBsYWNlZFxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgcGxhY2VkR2x5cGhzLnB1c2gocGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoZ2x5cGhJbmRleCksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGZhbHNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VkR2x5cGhzLnB1c2goZmlyc3RBbmRMYXN0R2x5cGgubGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBhIHNpbmdsZSBnbHlwaCB0byBwbGFjZVxuICAgICAgICAvLyBTbywgZGV0ZXJtaW5lIHdoZXRoZXIgdG8gZmxpcCBiYXNlZCBvbiBwcm9qZWN0ZWQgYW5nbGUgb2YgdGhlIGxpbmUgc2VnbWVudCBpdCdzIG9uXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LCBwb3NNYXRyaXgpLnBvaW50O1xuICAgICAgICAgICAgY29uc3QgdGlsZVZlcnRleEluZGV4ID0gKHN5bWJvbC5saW5lU3RhcnRJbmRleCArIHN5bWJvbC5zZWdtZW50ICsgMSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBjb25zdCB0aWxlU2VnbWVudEVuZCA9IG5ldyBQb2ludChsaW5lVmVydGV4QXJyYXkuZ2V0eCh0aWxlVmVydGV4SW5kZXgpLCBsaW5lVmVydGV4QXJyYXkuZ2V0eSh0aWxlVmVydGV4SW5kZXgpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFZlcnRleCA9IHByb2plY3QodGlsZVNlZ21lbnRFbmQsIHBvc01hdHJpeCk7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBhbmNob3Igd2lsbCBiZSBpbiB0aGUgdmlld3BvcnQsIGJ1dCB0aGUgZW5kIG9mIHRoZSBsaW5lIHNlZ21lbnQgbWF5IGJlXG4gICAgICAgICAgICAvLyBiZWhpbmQgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHVzZSBhIHBvaW50IGF0IGFueSBhcmJpdHJhcnkgKGNsb3NlcilcbiAgICAgICAgICAgIC8vIHBvaW50IG9uIHRoZSBzZWdtZW50LlxuICAgICAgICAgICAgY29uc3QgYiA9IChwcm9qZWN0ZWRWZXJ0ZXguc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhID4gMCkgP1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFZlcnRleC5wb2ludCA6XG4gICAgICAgICAgICAgICAgcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHRpbGVBbmNob3JQb2ludCwgdGlsZVNlZ21lbnRFbmQsIGEsIDEsIHBvc01hdHJpeCk7XG5cblxuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2UgPSByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHN5bWJvbC53cml0aW5nTW9kZSwgYSwgYiwgYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWVudGF0aW9uQ2hhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgY29uc3Qgc2luZ2xlR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChzeW1ib2wuZ2x5cGhTdGFydEluZGV4KSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgICAgIHN5bWJvbC5saW5lU3RhcnRJbmRleCwgc3ltYm9sLmxpbmVTdGFydEluZGV4ICsgc3ltYm9sLmxpbmVMZW5ndGgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBmYWxzZSk7XG4gICAgICAgIGlmICghc2luZ2xlR2x5cGgpXG4gICAgICAgICAgICByZXR1cm4geyBub3RFbm91Z2hSb29tOiB0cnVlIH07XG5cbiAgICAgICAgcGxhY2VkR2x5cGhzID0gW3NpbmdsZUdseXBoXTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGdseXBoOiBhbnkgb2YgcGxhY2VkR2x5cGhzKSB7XG4gICAgICAgIGFkZER5bmFtaWNBdHRyaWJ1dGVzKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2x5cGgucG9pbnQsIGdseXBoLmFuZ2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufVxuXG5mdW5jdGlvbiBwcm9qZWN0VHJ1bmNhdGVkTGluZVNlZ21lbnQocHJldmlvdXNUaWxlUG9pbnQ6IFBvaW50LCBjdXJyZW50VGlsZVBvaW50OiBQb2ludCwgcHJldmlvdXNQcm9qZWN0ZWRQb2ludDogUG9pbnQsIG1pbmltdW1MZW5ndGg6IG51bWJlciwgcHJvamVjdGlvbk1hdHJpeDogbWF0NCkge1xuICAgIC8vIFdlIGFyZSBhc3N1bWluZyBcInByZXZpb3VzVGlsZVBvaW50XCIgd29uJ3QgcHJvamVjdCB0byBhIHBvaW50IHdpdGhpbiBvbmUgdW5pdCBvZiB0aGUgY2FtZXJhIHBsYW5lXG4gICAgLy8gSWYgaXQgZGlkLCB0aGF0IHdvdWxkIG1lYW4gb3VyIGxhYmVsIGV4dGVuZGVkIGFsbCB0aGUgd2F5IG91dCBmcm9tIHdpdGhpbiB0aGUgdmlld3BvcnQgdG8gYSAodmVyeSBkaXN0YW50KVxuICAgIC8vIHBvaW50IG5lYXIgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEuIFdlIHdvdWxkbid0IGJlIGFibGUgdG8gcmVuZGVyIHRoZSBsYWJlbCBhbnl3YXkgb25jZSBpdCBjcm9zc2VkIHRoZVxuICAgIC8vIHBsYW5lIG9mIHRoZSBjYW1lcmEuXG4gICAgY29uc3QgcHJvamVjdGVkVW5pdFZlcnRleCA9IHByb2plY3QocHJldmlvdXNUaWxlUG9pbnQuYWRkKHByZXZpb3VzVGlsZVBvaW50LnN1YihjdXJyZW50VGlsZVBvaW50KS5fdW5pdCgpKSwgcHJvamVjdGlvbk1hdHJpeCkucG9pbnQ7XG4gICAgY29uc3QgcHJvamVjdGVkVW5pdFNlZ21lbnQgPSBwcmV2aW91c1Byb2plY3RlZFBvaW50LnN1Yihwcm9qZWN0ZWRVbml0VmVydGV4KTtcblxuICAgIHJldHVybiBwcmV2aW91c1Byb2plY3RlZFBvaW50LmFkZChwcm9qZWN0ZWRVbml0U2VnbWVudC5fbXVsdChtaW5pbXVtTGVuZ3RoIC8gcHJvamVjdGVkVW5pdFNlZ21lbnQubWFnKCkpKTtcbn1cblxuZnVuY3Rpb24gcGxhY2VHbHlwaEFsb25nTGluZShvZmZzZXRYOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRYOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRZOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclBvaW50OiBQb2ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUFuY2hvclBvaW50OiBQb2ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yU2VnbWVudDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnRJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lRW5kSW5kZXg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25DYWNoZToge1tudW1iZXJdOiBQb2ludH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblRpbGVEaXN0YW5jZTogYm9vbGVhbikge1xuXG4gICAgY29uc3QgY29tYmluZWRPZmZzZXRYID0gZmxpcCA/XG4gICAgICAgIG9mZnNldFggLSBsaW5lT2Zmc2V0WCA6XG4gICAgICAgIG9mZnNldFggKyBsaW5lT2Zmc2V0WDtcblxuICAgIGxldCBkaXIgPSBjb21iaW5lZE9mZnNldFggPiAwID8gMSA6IC0xO1xuXG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICBpZiAoZmxpcCkge1xuICAgICAgICAvLyBUaGUgbGFiZWwgbmVlZHMgdG8gYmUgZmxpcHBlZCB0byBrZWVwIHRleHQgdXByaWdodC5cbiAgICAgICAgLy8gSXRlcmF0ZSBpbiB0aGUgcmV2ZXJzZSBkaXJlY3Rpb24uXG4gICAgICAgIGRpciAqPSAtMTtcbiAgICAgICAgYW5nbGUgPSBNYXRoLlBJO1xuICAgIH1cblxuICAgIGlmIChkaXIgPCAwKSBhbmdsZSArPSBNYXRoLlBJO1xuXG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGRpciA+IDAgP1xuICAgICAgICBsaW5lU3RhcnRJbmRleCArIGFuY2hvclNlZ21lbnQgOlxuICAgICAgICBsaW5lU3RhcnRJbmRleCArIGFuY2hvclNlZ21lbnQgKyAxO1xuXG4gICAgY29uc3QgaW5pdGlhbEluZGV4ID0gY3VycmVudEluZGV4O1xuICAgIGxldCBjdXJyZW50ID0gYW5jaG9yUG9pbnQ7XG4gICAgbGV0IHByZXYgPSBhbmNob3JQb2ludDtcbiAgICBsZXQgZGlzdGFuY2VUb1ByZXYgPSAwO1xuICAgIGxldCBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gMDtcbiAgICBjb25zdCBhYnNPZmZzZXRYID0gTWF0aC5hYnMoY29tYmluZWRPZmZzZXRYKTtcblxuICAgIHdoaWxlIChkaXN0YW5jZVRvUHJldiArIGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPD0gYWJzT2Zmc2V0WCkge1xuICAgICAgICBjdXJyZW50SW5kZXggKz0gZGlyO1xuXG4gICAgICAgIC8vIG9mZnNldCBkb2VzIG5vdCBmaXQgb24gdGhlIHByb2plY3RlZCBsaW5lXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBsaW5lU3RhcnRJbmRleCB8fCBjdXJyZW50SW5kZXggPj0gbGluZUVuZEluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcHJldiA9IGN1cnJlbnQ7XG5cbiAgICAgICAgY3VycmVudCA9IHByb2plY3Rpb25DYWNoZVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVydGV4ID0gbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KGN1cnJlbnRJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KGN1cnJlbnRJbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHByb2plY3QoY3VycmVudFZlcnRleCwgbGFiZWxQbGFuZU1hdHJpeCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvbi5zaWduZWREaXN0YW5jZUZyb21DYW1lcmEgPiAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHByb2plY3Rpb25DYWNoZVtjdXJyZW50SW5kZXhdID0gcHJvamVjdGlvbi5wb2ludDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHZlcnRleCBpcyBiZWhpbmQgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEsIHNvIHdlIGNhbid0IHByb2plY3QgaXRcbiAgICAgICAgICAgICAgICAvLyBJbnN0ZWFkLCB3ZSdsbCBjcmVhdGUgYSB2ZXJ0ZXggYWxvbmcgdGhlIGxpbmUgdGhhdCdzIGZhciBlbm91Z2ggdG8gaW5jbHVkZSB0aGUgZ2x5cGhcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0xpbmVWZXJ0ZXhJbmRleCA9IGN1cnJlbnRJbmRleCAtIGRpcjtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1RpbGVQb2ludCA9IGRpc3RhbmNlVG9QcmV2ID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgdGlsZUFuY2hvclBvaW50IDpcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KHByZXZpb3VzTGluZVZlcnRleEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkocHJldmlvdXNMaW5lVmVydGV4SW5kZXgpKTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjYWNoZSBiZWNhdXNlIHRoZSBuZXcgdmVydGV4IG1pZ2h0IG5vdCBiZSBmYXIgZW5vdWdoIG91dCBmb3IgZnV0dXJlIGdseXBocyBvbiB0aGUgc2FtZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudChwcmV2aW91c1RpbGVQb2ludCwgY3VycmVudFZlcnRleCwgcHJldiwgYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2ICsgMSwgbGFiZWxQbGFuZU1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkaXN0YW5jZVRvUHJldiArPSBjdXJyZW50U2VnbWVudERpc3RhbmNlO1xuICAgICAgICBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gcHJldi5kaXN0KGN1cnJlbnQpO1xuICAgIH1cblxuICAgIC8vIFRoZSBwb2ludCBpcyBvbiB0aGUgY3VycmVudCBzZWdtZW50LiBJbnRlcnBvbGF0ZSB0byBmaW5kIGl0LlxuICAgIGNvbnN0IHNlZ21lbnRJbnRlcnBvbGF0aW9uVCA9IChhYnNPZmZzZXRYIC0gZGlzdGFuY2VUb1ByZXYpIC8gY3VycmVudFNlZ21lbnREaXN0YW5jZTtcbiAgICBjb25zdCBwcmV2VG9DdXJyZW50ID0gY3VycmVudC5zdWIocHJldik7XG4gICAgY29uc3QgcCA9IHByZXZUb0N1cnJlbnQubXVsdChzZWdtZW50SW50ZXJwb2xhdGlvblQpLl9hZGQocHJldik7XG5cbiAgICAvLyBvZmZzZXQgdGhlIHBvaW50IGZyb20gdGhlIGxpbmUgdG8gdGV4dC1vZmZzZXQgYW5kIGljb24tb2Zmc2V0XG4gICAgcC5fYWRkKHByZXZUb0N1cnJlbnQuX3VuaXQoKS5fcGVycCgpLl9tdWx0KGxpbmVPZmZzZXRZICogZGlyKSk7XG5cbiAgICBjb25zdCBzZWdtZW50QW5nbGUgPSBhbmdsZSArIE1hdGguYXRhbjIoY3VycmVudC55IC0gcHJldi55LCBjdXJyZW50LnggLSBwcmV2LngpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IHAsXG4gICAgICAgIGFuZ2xlOiBzZWdtZW50QW5nbGUsXG4gICAgICAgIHRpbGVEaXN0YW5jZTogcmV0dXJuVGlsZURpc3RhbmNlID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcmV2VGlsZURpc3RhbmNlOiAoY3VycmVudEluZGV4IC0gZGlyKSA9PT0gaW5pdGlhbEluZGV4ID8gMCA6IGxpbmVWZXJ0ZXhBcnJheS5nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcihjdXJyZW50SW5kZXggLSBkaXIpLFxuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50Vmlld3BvcnREaXN0YW5jZTogYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2XG4gICAgICAgICAgICB9IDogbnVsbFxuICAgIH07XG59XG5cbmNvbnN0IGhpZGRlbkdseXBoQXR0cmlidXRlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWy1JbmZpbml0eSwgLUluZmluaXR5LCAwLCAtSW5maW5pdHksIC1JbmZpbml0eSwgMCwgLUluZmluaXR5LCAtSW5maW5pdHksIDAsIC1JbmZpbml0eSwgLUluZmluaXR5LCAwXSk7XG5cbi8vIEhpZGUgdGhlbSBieSBtb3ZpbmcgdGhlbSBvZmZzY3JlZW4uIFdlIHN0aWxsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhlIGJ1ZmZlclxuLy8gYmVjYXVzZSB0aGUgZHluYW1pYyBidWZmZXIgaXMgcGFpcmVkIHdpdGggYSBzdGF0aWMgYnVmZmVyIHRoYXQgZG9lc24ndCBnZXQgdXBkYXRlZC5cbmZ1bmN0aW9uIGhpZGVHbHlwaHMobnVtOiBudW1iZXIsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTogU3ltYm9sRHluYW1pY0xheW91dEFycmF5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO1xuICAgICAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkucmVzaXplKG9mZnNldCArIDQpO1xuICAgICAgICAvLyBTaW5jZSBhbGwgaGlkZGVuIGdseXBocyBoYXZlIHRoZSBzYW1lIGF0dHJpYnV0ZXMsIHdlIGNhbiBidWlsZCB1cCB0aGUgYXJyYXkgZmFzdGVyIHdpdGggYSBzaW5nbGUgY2FsbCB0byBGbG9hdDMyQXJyYXkuc2V0XG4gICAgICAgIC8vIGZvciBlYWNoIHNldCBvZiBmb3VyIHZlcnRpY2VzLCBpbnN0ZWFkIG9mIGNhbGxpbmcgYWRkRHluYW1pY0F0dHJpYnV0ZXMgZm9yIGVhY2ggdmVydGV4LlxuICAgICAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkuZmxvYXQzMi5zZXQoaGlkZGVuR2x5cGhBdHRyaWJ1dGVzLCBvZmZzZXQgKiAzKTtcbiAgICB9XG59XG5cbi8vIEZvciBsaW5lIGxhYmVsIGxheW91dCwgd2UncmUgbm90IHVzaW5nIHogb3V0cHV0IGFuZCBvdXIgdyBpbnB1dCBpcyBhbHdheXMgMVxuLy8gVGhpcyBjdXN0b20gbWF0cml4IHRyYW5zZm9ybWF0aW9uIGlnbm9yZXMgdGhvc2UgY29tcG9uZW50cyB0byBtYWtlIHByb2plY3Rpb24gZmFzdGVyXG5mdW5jdGlvbiB4eVRyYW5zZm9ybU1hdDQob3V0OiB2ZWM0LCBhOiB2ZWM0LCBtOiBtYXQ0KSB7XG4gICAgY29uc3QgeCA9IGFbMF0sIHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsxM107XG4gICAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTVdO1xuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCAqIGFzIGludGVyc2VjdGlvblRlc3RzIGZyb20gJy4uL3V0aWwvaW50ZXJzZWN0aW9uX3Rlc3RzJztcbmltcG9ydCBHcmlkIGZyb20gJy4vZ3JpZF9pbmRleCc7XG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0ICogYXMgcHJvamVjdGlvbiBmcm9tICcuLi9zeW1ib2wvcHJvamVjdGlvbic7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtTaW5nbGVDb2xsaXNpb25Cb3h9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge1xuICAgIEdseXBoT2Zmc2V0QXJyYXksXG4gICAgU3ltYm9sTGluZVZlcnRleEFycmF5XG59IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuXG4vLyBXaGVuIGEgc3ltYm9sIGNyb3NzZXMgdGhlIGVkZ2UgdGhhdCBjYXVzZXMgaXQgdG8gYmUgaW5jbHVkZWQgaW5cbi8vIGNvbGxpc2lvbiBkZXRlY3Rpb24sIGl0IHdpbGwgY2F1c2UgY2hhbmdlcyBpbiB0aGUgc3ltYm9scyBhcm91bmRcbi8vIGl0LiBUaGlzIGNvbnN0YW50IHNwZWNpZmllcyBob3cgbWFueSBwaXhlbHMgdG8gcGFkIHRoZSBlZGdlIG9mXG4vLyB0aGUgdmlld3BvcnQgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24gc28gdGhhdCB0aGUgYnVsayBvZiB0aGUgY2hhbmdlc1xuLy8gb2NjdXIgb2Zmc2NyZWVuLiBNYWtpbmcgdGhpcyBjb25zdGFudCBncmVhdGVyIGluY3JlYXNlcyBsYWJlbFxuLy8gc3RhYmlsaXR5LCBidXQgaXQncyBleHBlbnNpdmUuXG5jb25zdCB2aWV3cG9ydFBhZGRpbmcgPSAxMDA7XG5cbi8qKlxuICogQSBjb2xsaXNpb24gaW5kZXggdXNlZCB0byBwcmV2ZW50IHN5bWJvbHMgZnJvbSBvdmVybGFwcGluZy4gSXQga2VlcCB0cmFja3Mgb2ZcbiAqIHdoZXJlIHByZXZpb3VzIHN5bWJvbHMgaGF2ZSBiZWVuIHBsYWNlZCBhbmQgaXMgdXNlZCB0byBjaGVjayBpZiBhIG5ld1xuICogc3ltYm9sIG92ZXJsYXBzIHdpdGggYW55IHByZXZpb3VzbHkgYWRkZWQgc3ltYm9scy5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHN0ZXBzIHRvIGluc2VydGlvbjogZmlyc3QgcGxhY2VDb2xsaXNpb25Cb3gvQ2lyY2xlcyBjaGVja3MgaWZcbiAqIHRoZXJlJ3Mgcm9vbSBmb3IgYSBzeW1ib2wsIHRoZW4gaW5zZXJ0Q29sbGlzaW9uQm94L0NpcmNsZXMgYWN0dWFsbHkgcHV0cyB0aGVcbiAqIHN5bWJvbCBpbiB0aGUgaW5kZXguIFRoZSB0d28gc3RlcCBwcm9jZXNzIGFsbG93cyBwYWlyZWQgc3ltYm9scyB0byBiZSBpbnNlcnRlZFxuICogdG9nZXRoZXIgZXZlbiBpZiB0aGV5IG92ZXJsYXAuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgQ29sbGlzaW9uSW5kZXgge1xuICAgIGdyaWQ6IEdyaWQ7XG4gICAgaWdub3JlZEdyaWQ6IEdyaWQ7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgcGl0Y2hmYWN0b3I6IG51bWJlcjtcbiAgICBzY3JlZW5SaWdodEJvdW5kYXJ5OiBudW1iZXI7XG4gICAgc2NyZWVuQm90dG9tQm91bmRhcnk6IG51bWJlcjtcbiAgICBncmlkUmlnaHRCb3VuZGFyeTogbnVtYmVyO1xuICAgIGdyaWRCb3R0b21Cb3VuZGFyeTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICBncmlkOiBHcmlkID0gbmV3IEdyaWQodHJhbnNmb3JtLndpZHRoICsgMiAqIHZpZXdwb3J0UGFkZGluZywgdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIDI1KSxcbiAgICAgICAgaWdub3JlZEdyaWQ6IEdyaWQgPSBuZXcgR3JpZCh0cmFuc2Zvcm0ud2lkdGggKyAyICogdmlld3BvcnRQYWRkaW5nLCB0cmFuc2Zvcm0uaGVpZ2h0ICsgMiAqIHZpZXdwb3J0UGFkZGluZywgMjUpXG4gICAgKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgICAgIHRoaXMuaWdub3JlZEdyaWQgPSBpZ25vcmVkR3JpZDtcbiAgICAgICAgdGhpcy5waXRjaGZhY3RvciA9IE1hdGguY29zKHRyYW5zZm9ybS5fcGl0Y2gpICogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG5cbiAgICAgICAgdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5ID0gdHJhbnNmb3JtLndpZHRoICsgdmlld3BvcnRQYWRkaW5nO1xuICAgICAgICB0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgdGhpcy5ncmlkUmlnaHRCb3VuZGFyeSA9IHRyYW5zZm9ybS53aWR0aCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgfVxuXG4gICAgcGxhY2VDb2xsaXNpb25Cb3goY29sbGlzaW9uQm94OiBTaW5nbGVDb2xsaXNpb25Cb3gsIGFsbG93T3ZlcmxhcDogYm9vbGVhbiwgdGV4dFBpeGVsUmF0aW86IG51bWJlciwgcG9zTWF0cml4OiBtYXQ0LCBjb2xsaXNpb25Hcm91cFByZWRpY2F0ZT86IGFueSk6IHsgYm94OiBBcnJheTxudW1iZXI+LCBvZmZzY3JlZW46IGJvb2xlYW4gfSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXgsIGNvbGxpc2lvbkJveC5hbmNob3JQb2ludFgsIGNvbGxpc2lvbkJveC5hbmNob3JQb2ludFkpO1xuICAgICAgICBjb25zdCB0aWxlVG9WaWV3cG9ydCA9IHRleHRQaXhlbFJhdGlvICogcHJvamVjdGVkUG9pbnQucGVyc3BlY3RpdmVSYXRpbztcbiAgICAgICAgY29uc3QgdGxYID0gY29sbGlzaW9uQm94LngxICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC54O1xuICAgICAgICBjb25zdCB0bFkgPSBjb2xsaXNpb25Cb3gueTEgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJyWCA9IGNvbGxpc2lvbkJveC54MiAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueDtcbiAgICAgICAgY29uc3QgYnJZID0gY29sbGlzaW9uQm94LnkyICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC55O1xuXG4gICAgICAgIGlmICghdGhpcy5pc0luc2lkZUdyaWQodGxYLCB0bFksIGJyWCwgYnJZKSB8fFxuICAgICAgICAgICAgKCFhbGxvd092ZXJsYXAgJiYgdGhpcy5ncmlkLmhpdFRlc3QodGxYLCB0bFksIGJyWCwgYnJZLCBjb2xsaXNpb25Hcm91cFByZWRpY2F0ZSkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJveDogW10sXG4gICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3g6IFt0bFgsIHRsWSwgYnJYLCBiclldLFxuICAgICAgICAgICAgb2Zmc2NyZWVuOiB0aGlzLmlzT2Zmc2NyZWVuKHRsWCwgdGxZLCBiclgsIGJyWSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhcHByb3hpbWF0ZVRpbGVEaXN0YW5jZSh0aWxlRGlzdGFuY2U6IGFueSwgbGFzdFNlZ21lbnRBbmdsZTogbnVtYmVyLCBwaXhlbHNUb1RpbGVVbml0czogbnVtYmVyLCBjYW1lcmFUb0FuY2hvckRpc3RhbmNlOiBudW1iZXIsIHBpdGNoV2l0aE1hcDogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBxdWljayBhbmQgZGlydHkgc29sdXRpb24gZm9yIGNob3Npbmcgd2hpY2ggY29sbGlzaW9uIGNpcmNsZXMgdG8gdXNlIChzaW5jZSBjb2xsaXNpb24gY2lyY2xlcyBhcmVcbiAgICAgICAgLy8gbGFpZCBvdXQgaW4gdGlsZSB1bml0cykuIElkZWFsbHksIEkgdGhpbmsgd2Ugc2hvdWxkIGdlbmVyYXRlIGNvbGxpc2lvbiBjaXJjbGVzIG9uIHRoZSBmbHkgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXNcbiAgICAgICAgLy8gYXQgdGhlIHRpbWUgd2UgZG8gY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy81NDc0XG5cbiAgICAgICAgLy8gaW5jaWRlbmNlU3RyZXRjaCBpcyB0aGUgcmF0aW8gb2YgaG93IG11Y2ggeSBzcGFjZSBhIGxhYmVsIHRha2VzIHVwIG9uIGEgdGlsZSB3aGlsZSBkcmF3biBwZXJwZW5kaWN1bGFyIHRvIHRoZSB2aWV3cG9ydCB2c1xuICAgICAgICAvLyAgaG93IG11Y2ggc3BhY2UgaXQgd291bGQgdGFrZSB1cCBpZiBpdCB3ZXJlIGRyYXduIGZsYXQgb24gdGhlIHRpbGVcbiAgICAgICAgLy8gVXNpbmcgbGF3IG9mIHNpbmVzLCBjYW1lcmFfdG9fYW5jaG9yL3Npbihncm91bmRfYW5nbGUpID0gY2FtZXJhX3RvX2NlbnRlci9zaW4oaW5jaWRlbmNlX2FuZ2xlKVxuICAgICAgICAvLyBJbmNpZGVuY2UgYW5nbGUgOTAgLT4gaGVhZCBvbiwgc2luKGluY2lkZW5jZV9hbmdsZSkgPSAxLCBubyBzdHJldGNoXG4gICAgICAgIC8vIEluY2lkZW5jZSBhbmdsZSAxIC0+IHZlcnkgb2JsaXF1ZSwgc2luKGluY2lkZW5jZV9hbmdsZSkgPX4gMCwgbG90cyBvZiBzdHJldGNoXG4gICAgICAgIC8vIGdyb3VuZF9hbmdsZSA9IHVfcGl0Y2ggKyBQSS8yIC0+IHNpbihncm91bmRfYW5nbGUpID0gY29zKHVfcGl0Y2gpXG4gICAgICAgIC8vIGluY2lkZW5jZVN0cmV0Y2ggPSAxIC8gc2luKGluY2lkZW5jZUFuZ2xlKVxuXG4gICAgICAgIGNvbnN0IGluY2lkZW5jZVN0cmV0Y2ggPSBwaXRjaFdpdGhNYXAgPyAxIDogY2FtZXJhVG9BbmNob3JEaXN0YW5jZSAvIHRoaXMucGl0Y2hmYWN0b3I7XG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50VGlsZSA9IHRpbGVEaXN0YW5jZS5sYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UgKiBwaXhlbHNUb1RpbGVVbml0cztcbiAgICAgICAgcmV0dXJuIHRpbGVEaXN0YW5jZS5wcmV2VGlsZURpc3RhbmNlICtcbiAgICAgICAgICAgIGxhc3RTZWdtZW50VGlsZSArXG4gICAgICAgICAgICAoaW5jaWRlbmNlU3RyZXRjaCAtIDEpICogbGFzdFNlZ21lbnRUaWxlICogTWF0aC5hYnMoTWF0aC5zaW4obGFzdFNlZ21lbnRBbmdsZSkpO1xuICAgIH1cblxuICAgIHBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhjb2xsaXNpb25DaXJjbGVzOiBBcnJheTxudW1iZXI+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd092ZXJsYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x5cGhPZmZzZXRBcnJheTogR2x5cGhPZmZzZXRBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQ2lyY2xlczogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25Hcm91cFByZWRpY2F0ZT86IGFueSk6IHsgY2lyY2xlczogQXJyYXk8bnVtYmVyPiwgb2Zmc2NyZWVuOiBib29sZWFuIH0ge1xuICAgICAgICBjb25zdCBwbGFjZWRDb2xsaXNpb25DaXJjbGVzID0gW107XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkQW5jaG9yID0gdGhpcy5wcm9qZWN0QW5jaG9yKHBvc01hdHJpeCwgc3ltYm9sLmFuY2hvclgsIHN5bWJvbC5hbmNob3JZKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uQ2FjaGUgPSB7fTtcbiAgICAgICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFggPSBzeW1ib2wubGluZU9mZnNldFggKiBmb250U2l6ZTtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFkgPSBzeW1ib2wubGluZU9mZnNldFkgKiBmb250U2l6ZTtcblxuICAgICAgICBjb25zdCB0aWxlVW5pdEFuY2hvclBvaW50ID0gbmV3IFBvaW50KHN5bWJvbC5hbmNob3JYLCBzeW1ib2wuYW5jaG9yWSk7XG4gICAgICAgIC8vIHByb2plY3Rpb24ucHJvamVjdCBnZW5lcmF0ZXMgTkRDIGNvb3JkaW5hdGVzLCBhcyBvcHBvc2VkIHRvIHRoZVxuICAgICAgICAvLyBwaXhlbC1iYXNlZCBncmlkIGNvb3JkaW5hdGVzIGdlbmVyYXRlZCBieSB0aGlzLnByb2plY3RQb2ludFxuICAgICAgICBjb25zdCBsYWJlbFBsYW5lQW5jaG9yUG9pbnQgPVxuICAgICAgICAgICAgcHJvamVjdGlvbi5wcm9qZWN0KHRpbGVVbml0QW5jaG9yUG9pbnQsIGxhYmVsUGxhbmVNYXRyaXgpLnBvaW50O1xuICAgICAgICBjb25zdCBmaXJzdEFuZExhc3RHbHlwaCA9IHByb2plY3Rpb24ucGxhY2VGaXJzdEFuZExhc3RHbHlwaChcbiAgICAgICAgICAgIGZvbnRTY2FsZSxcbiAgICAgICAgICAgIGdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICBsaW5lT2Zmc2V0WCxcbiAgICAgICAgICAgIGxpbmVPZmZzZXRZLFxuICAgICAgICAgICAgLypmbGlwKi8gZmFsc2UsXG4gICAgICAgICAgICBsYWJlbFBsYW5lQW5jaG9yUG9pbnQsXG4gICAgICAgICAgICB0aWxlVW5pdEFuY2hvclBvaW50LFxuICAgICAgICAgICAgc3ltYm9sLFxuICAgICAgICAgICAgbGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeCxcbiAgICAgICAgICAgIHByb2plY3Rpb25DYWNoZSxcbiAgICAgICAgICAgIC8qcmV0dXJuIHRpbGUgZGlzdGFuY2UqLyB0cnVlKTtcblxuICAgICAgICBsZXQgY29sbGlzaW9uRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluR3JpZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZW50aXJlbHlPZmZzY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHRpbGVUb1ZpZXdwb3J0ID0gcHJvamVjdGVkQW5jaG9yLnBlcnNwZWN0aXZlUmF0aW8gKiB0ZXh0UGl4ZWxSYXRpbztcbiAgICAgICAgLy8gcGl4ZWxzVG9UaWxlVW5pdHMgaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbGluZSBnZW9tZXRyeSB0byB0aWxlIHVuaXRzXG4gICAgICAgIC8vIC4uLiBzbyB3ZSBjYXJlIGFib3V0ICdzY2FsZScgYnV0IG5vdCAncGVyc3BlY3RpdmVSYXRpbydcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBwaXhlbF90b190aWxlX3VuaXRzXG4gICAgICAgIGNvbnN0IHBpeGVsc1RvVGlsZVVuaXRzID0gMSAvICh0ZXh0UGl4ZWxSYXRpbyAqIHNjYWxlKTtcblxuICAgICAgICBsZXQgZmlyc3RUaWxlRGlzdGFuY2UgPSAwLCBsYXN0VGlsZURpc3RhbmNlID0gMDtcbiAgICAgICAgaWYgKGZpcnN0QW5kTGFzdEdseXBoKSB7XG4gICAgICAgICAgICBmaXJzdFRpbGVEaXN0YW5jZSA9IHRoaXMuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UoZmlyc3RBbmRMYXN0R2x5cGguZmlyc3QudGlsZURpc3RhbmNlLCBmaXJzdEFuZExhc3RHbHlwaC5maXJzdC5hbmdsZSwgcGl4ZWxzVG9UaWxlVW5pdHMsIHByb2plY3RlZEFuY2hvci5jYW1lcmFEaXN0YW5jZSwgcGl0Y2hXaXRoTWFwKTtcbiAgICAgICAgICAgIGxhc3RUaWxlRGlzdGFuY2UgPSB0aGlzLmFwcHJveGltYXRlVGlsZURpc3RhbmNlKGZpcnN0QW5kTGFzdEdseXBoLmxhc3QudGlsZURpc3RhbmNlLCBmaXJzdEFuZExhc3RHbHlwaC5sYXN0LmFuZ2xlLCBwaXhlbHNUb1RpbGVVbml0cywgcHJvamVjdGVkQW5jaG9yLmNhbWVyYURpc3RhbmNlLCBwaXRjaFdpdGhNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjb2xsaXNpb25DaXJjbGVzLmxlbmd0aDsgayArPSA1KSB7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb2ludFggPSBjb2xsaXNpb25DaXJjbGVzW2tdO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yUG9pbnRZID0gY29sbGlzaW9uQ2lyY2xlc1trICsgMV07XG4gICAgICAgICAgICBjb25zdCB0aWxlVW5pdFJhZGl1cyA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDJdO1xuICAgICAgICAgICAgY29uc3QgYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yID0gY29sbGlzaW9uQ2lyY2xlc1trICsgM107XG4gICAgICAgICAgICBpZiAoIWZpcnN0QW5kTGFzdEdseXBoIHx8XG4gICAgICAgICAgICAgICAgKGJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciA8IC1maXJzdFRpbGVEaXN0YW5jZSkgfHxcbiAgICAgICAgICAgICAgICAoYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yID4gbGFzdFRpbGVEaXN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgbGFiZWwgZWl0aGVyIGRvZXNuJ3QgZml0IG9uIGl0cyBsaW5lIG9yIHdlXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1c2UgdGhpcyBjaXJjbGUgYmVjYXVzZSB0aGUgbGFiZWxcbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IGV4dGVuZCB0aGlzIGZhci4gRWl0aGVyIHdheSwgbWFyayB0aGUgY2lyY2xlIHVudXNlZC5cbiAgICAgICAgICAgICAgICBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzLCBrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0UG9pbnQocG9zTWF0cml4LCBhbmNob3JQb2ludFgsIGFuY2hvclBvaW50WSk7XG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSB0aWxlVW5pdFJhZGl1cyAqIHRpbGVUb1ZpZXdwb3J0O1xuXG4gICAgICAgICAgICBjb25zdCBhdExlYXN0T25lQ2lyY2xlUGxhY2VkID0gcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgaWYgKGF0TGVhc3RPbmVDaXJjbGVQbGFjZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkeCA9IHByb2plY3RlZFBvaW50LnggLSBwbGFjZWRDb2xsaXNpb25DaXJjbGVzW3BsYWNlZENvbGxpc2lvbkNpcmNsZXMubGVuZ3RoIC0gNF07XG4gICAgICAgICAgICAgICAgY29uc3QgZHkgPSBwcm9qZWN0ZWRQb2ludC55IC0gcGxhY2VkQ29sbGlzaW9uQ2lyY2xlc1twbGFjZWRDb2xsaXNpb25DaXJjbGVzLmxlbmd0aCAtIDNdO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBjaXJjbGUgZWRnZXMgdG91Y2ggd2hlbiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGVpciBjZW50ZXJzIGlzIDJ4IHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBkaXN0YW5jZSBpcyAxeCB0aGUgcmFkaXVzLCB0aGV5J3JlIGRvdWJsZWQgdXAsIGFuZCB3ZSBjb3VsZCByZW1vdmVcbiAgICAgICAgICAgICAgICAvLyBldmVyeSBvdGhlciBjaXJjbGUgd2hpbGUga2VlcGluZyB0aGVtIGFsbCBpbiB0b3VjaC5cbiAgICAgICAgICAgICAgICAvLyBXZSBhY3R1YWxseSBzdGFydCByZW1vdmluZyBjaXJjbGVzIHdoZW4gdGhlIGRpc3RhbmNlIGlzIOKImjJ4IHRoZSByYWRpdXM6XG4gICAgICAgICAgICAgICAgLy8gIHRoaW5uaW5nIHRoZSBudW1iZXIgb2YgY2lyY2xlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGlzIGEgbWFqb3IgcGVyZm9ybWFuY2Ugd2luLFxuICAgICAgICAgICAgICAgIC8vICBhbmQgdGhlIHNtYWxsIGdhcHMgaW50cm9kdWNlZCBkb24ndCBtYWtlIGEgdmVyeSBub3RpY2VhYmxlIGRpZmZlcmVuY2UuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkVG9vRGVuc2VseSA9IHJhZGl1cyAqIHJhZGl1cyAqIDIgPiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VkVG9vRGVuc2VseSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdExlYXN0T25lTW9yZUNpcmNsZSA9IChrICsgOCkgPCBjb2xsaXNpb25DaXJjbGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0TGVhc3RPbmVNb3JlQ2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA+IC1maXJzdFRpbGVEaXN0YW5jZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA8IGxhc3RUaWxlRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGlkZSBzaWduaWZpY2FudGx5IG92ZXJsYXBwaW5nIGNpcmNsZXMsIHVubGVzcyB0aGlzIGlzIHRoZSBsYXN0IG9uZSB3ZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBrZWVwIGl0IGluIHBsYWNlIGV2ZW4gaWYgaXQncyB0aWdodGx5IHBhY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0NvbGxpc2lvbkNpcmNsZVVzZWQoY29sbGlzaW9uQ2lyY2xlcywgaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uQm94QXJyYXlJbmRleCA9IGsgLyA1O1xuICAgICAgICAgICAgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5wdXNoKHByb2plY3RlZFBvaW50LngsIHByb2plY3RlZFBvaW50LnksIHJhZGl1cywgY29sbGlzaW9uQm94QXJyYXlJbmRleCk7XG4gICAgICAgICAgICBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzLCBrLCB0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgeDEgPSBwcm9qZWN0ZWRQb2ludC54IC0gcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgeTEgPSBwcm9qZWN0ZWRQb2ludC55IC0gcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgeDIgPSBwcm9qZWN0ZWRQb2ludC54ICsgcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgeTIgPSBwcm9qZWN0ZWRQb2ludC55ICsgcmFkaXVzO1xuICAgICAgICAgICAgZW50aXJlbHlPZmZzY3JlZW4gPSBlbnRpcmVseU9mZnNjcmVlbiAmJiB0aGlzLmlzT2Zmc2NyZWVuKHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgIGluR3JpZCA9IGluR3JpZCB8fCB0aGlzLmlzSW5zaWRlR3JpZCh4MSwgeTEsIHgyLCB5Mik7XG5cbiAgICAgICAgICAgIGlmICghYWxsb3dPdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKHByb2plY3RlZFBvaW50LngsIHByb2plY3RlZFBvaW50LnksIHJhZGl1cywgY29sbGlzaW9uR3JvdXBQcmVkaWNhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0NvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGVhcmx5IGV4aXQgaWYgd2UncmUgc2hvd2luZyB0aGUgZGVidWcgY2lyY2xlcyBiZWNhdXNlIHdlIHN0aWxsIHdhbnQgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjaXJjbGVzIGFyZSBpbiB1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaXJjbGVzOiAoY29sbGlzaW9uRGV0ZWN0ZWQgfHwgIWluR3JpZCkgPyBbXSA6IHBsYWNlZENvbGxpc2lvbkNpcmNsZXMsXG4gICAgICAgICAgICBvZmZzY3JlZW46IGVudGlyZWx5T2Zmc2NyZWVuXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSB0aGUgZ2VvbWV0cmllcyBpbiB0aGUgQ29sbGlzaW9uSW5kZXggYXJlIGFuIGFwcHJveGltYXRpb24gb2YgdGhlIHNoYXBlIG9mXG4gICAgICogc3ltYm9scyBvbiB0aGUgbWFwLCB3ZSB1c2UgdGhlIENvbGxpc2lvbkluZGV4IHRvIGxvb2sgdXAgdGhlIHN5bWJvbCBwYXJ0IG9mXG4gICAgICogYHF1ZXJ5UmVuZGVyZWRGZWF0dXJlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHZpZXdwb3J0UXVlcnlHZW9tZXRyeTogQXJyYXk8UG9pbnQ+KSB7XG4gICAgICAgIGlmICh2aWV3cG9ydFF1ZXJ5R2VvbWV0cnkubGVuZ3RoID09PSAwIHx8ICh0aGlzLmdyaWQua2V5c0xlbmd0aCgpID09PSAwICYmIHRoaXMuaWdub3JlZEdyaWQua2V5c0xlbmd0aCgpID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSBbXTtcbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhZID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHZpZXdwb3J0UXVlcnlHZW9tZXRyeSkge1xuICAgICAgICAgICAgY29uc3QgZ3JpZFBvaW50ID0gbmV3IFBvaW50KHBvaW50LnggKyB2aWV3cG9ydFBhZGRpbmcsIHBvaW50LnkgKyB2aWV3cG9ydFBhZGRpbmcpO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGdyaWRQb2ludC54KTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBncmlkUG9pbnQueSk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZ3JpZFBvaW50LngpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGdyaWRQb2ludC55KTtcbiAgICAgICAgICAgIHF1ZXJ5LnB1c2goZ3JpZFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5ncmlkLnF1ZXJ5KG1pblgsIG1pblksIG1heFgsIG1heFkpXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuaWdub3JlZEdyaWQucXVlcnkobWluWCwgbWluWSwgbWF4WCwgbWF4WSkpO1xuXG4gICAgICAgIGNvbnN0IHNlZW5GZWF0dXJlcyA9IHt9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVLZXkgPSBmZWF0dXJlLmtleTtcbiAgICAgICAgICAgIC8vIFNraXAgYWxyZWFkeSBzZWVuIGZlYXR1cmVzLlxuICAgICAgICAgICAgaWYgKHNlZW5GZWF0dXJlc1tmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWVuRmVhdHVyZXNbZmVhdHVyZUtleS5idWNrZXRJbnN0YW5jZUlkXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlZW5GZWF0dXJlc1tmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdW2ZlYXR1cmVLZXkuZmVhdHVyZUluZGV4XSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBxdWVyeSBpbnRlcnNlY3RzIHdpdGggdGhlIGZlYXR1cmUgYm94XG4gICAgICAgICAgICAvLyBcIkNvbGxpc2lvbiBDaXJjbGVzXCIgZm9yIGxpbmUgbGFiZWxzIGFyZSB0cmVhdGVkIGFzIGJveGVzIGhlcmVcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZXJlJ3Mgbm8gYWN0dWFsIGNvbGxpc2lvbiB0YWtpbmcgcGxhY2UsIHRoZSBjaXJjbGUgdnMuIHNxdWFyZVxuICAgICAgICAgICAgLy8gZGlzdGluY3Rpb24gZG9lc24ndCBtYXR0ZXIgYXMgbXVjaCwgYW5kIGJveCBnZW9tZXRyeSBpcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIHRvIHdvcmsgd2l0aC5cbiAgICAgICAgICAgIGNvbnN0IGJib3ggPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGZlYXR1cmUueDEsIGZlYXR1cmUueTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChmZWF0dXJlLngyLCBmZWF0dXJlLnkxKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoZmVhdHVyZS54MiwgZmVhdHVyZS55MiksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGZlYXR1cmUueDEsIGZlYXR1cmUueTIpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3Rpb25UZXN0cy5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24ocXVlcnksIGJib3gpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlZW5GZWF0dXJlc1tmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdW2ZlYXR1cmVLZXkuZmVhdHVyZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbZmVhdHVyZUtleS5idWNrZXRJbnN0YW5jZUlkXS5wdXNoKGZlYXR1cmVLZXkuZmVhdHVyZUluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q29sbGlzaW9uQm94KGNvbGxpc2lvbkJveDogQXJyYXk8bnVtYmVyPiwgaWdub3JlUGxhY2VtZW50OiBib29sZWFuLCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsIGZlYXR1cmVJbmRleDogbnVtYmVyLCBjb2xsaXNpb25Hcm91cElEOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IGlnbm9yZVBsYWNlbWVudCA/IHRoaXMuaWdub3JlZEdyaWQgOiB0aGlzLmdyaWQ7XG5cbiAgICAgICAgY29uc3Qga2V5ID0geyBidWNrZXRJbnN0YW5jZUlkOiBidWNrZXRJbnN0YW5jZUlkLCBmZWF0dXJlSW5kZXg6IGZlYXR1cmVJbmRleCwgY29sbGlzaW9uR3JvdXBJRDogY29sbGlzaW9uR3JvdXBJRCB9O1xuICAgICAgICBncmlkLmluc2VydChrZXksIGNvbGxpc2lvbkJveFswXSwgY29sbGlzaW9uQm94WzFdLCBjb2xsaXNpb25Cb3hbMl0sIGNvbGxpc2lvbkJveFszXSk7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhjb2xsaXNpb25DaXJjbGVzOiBBcnJheTxudW1iZXI+LCBpZ25vcmVQbGFjZW1lbnQ6IGJvb2xlYW4sIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlciwgZmVhdHVyZUluZGV4OiBudW1iZXIsIGNvbGxpc2lvbkdyb3VwSUQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBncmlkID0gaWdub3JlUGxhY2VtZW50ID8gdGhpcy5pZ25vcmVkR3JpZCA6IHRoaXMuZ3JpZDtcblxuICAgICAgICBjb25zdCBrZXkgPSB7IGJ1Y2tldEluc3RhbmNlSWQ6IGJ1Y2tldEluc3RhbmNlSWQsIGZlYXR1cmVJbmRleDogZmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cElEOiBjb2xsaXNpb25Hcm91cElEIH07XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7IGsgKz0gNCkge1xuICAgICAgICAgICAgZ3JpZC5pbnNlcnRDaXJjbGUoa2V5LCBjb2xsaXNpb25DaXJjbGVzW2tdLCBjb2xsaXNpb25DaXJjbGVzW2sgKyAxXSwgY29sbGlzaW9uQ2lyY2xlc1trICsgMl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvamVjdEFuY2hvcihwb3NNYXRyaXg6IG1hdDQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbeCwgeSwgMCwgMV07XG4gICAgICAgIHByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwZXJzcGVjdGl2ZVJhdGlvOiAwLjUgKyAwLjUgKiAodGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvIHBbM10pLFxuICAgICAgICAgICAgY2FtZXJhRGlzdGFuY2U6IHBbM11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm9qZWN0UG9pbnQocG9zTWF0cml4OiBtYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gW3gsIHksIDAsIDFdO1xuICAgICAgICBwcm9qZWN0aW9uLnh5VHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgKCgocFswXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0ud2lkdGgpICsgdmlld3BvcnRQYWRkaW5nLFxuICAgICAgICAgICAgKCgoLXBbMV0gLyBwWzNdICsgMSkgLyAyKSAqIHRoaXMudHJhbnNmb3JtLmhlaWdodCkgKyB2aWV3cG9ydFBhZGRpbmdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXg6IG1hdDQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbeCwgeSwgMCwgMV07XG4gICAgICAgIHByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAoKChwWzBdIC8gcFszXSArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS53aWR0aCkgKyB2aWV3cG9ydFBhZGRpbmcsXG4gICAgICAgICAgICAoKCgtcFsxXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSArIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGEsXG4gICAgICAgICAgICAvLyBTZWUgcGVyc3BlY3RpdmUgcmF0aW8gY29tbWVudCBpbiBzeW1ib2xfc2RmLnZlcnRleFxuICAgICAgICAgICAgLy8gV2UncmUgZG9pbmcgY29sbGlzaW9uIGRldGVjdGlvbiBpbiB2aWV3cG9ydCBzcGFjZSBzbyB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBzY2FsZSBkb3duIGJveGVzIGluIHRoZSBkaXN0YW5jZVxuICAgICAgICAgICAgcGVyc3BlY3RpdmVSYXRpbzogMC41ICsgMC41ICogKHRoaXMudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBwWzNdKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlzT2Zmc2NyZWVuKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHgyIDwgdmlld3BvcnRQYWRkaW5nIHx8IHgxID49IHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSB8fCB5MiA8IHZpZXdwb3J0UGFkZGluZyB8fCB5MSA+IHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk7XG4gICAgfVxuXG4gICAgaXNJbnNpZGVHcmlkKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHgyID49IDAgJiYgeDEgPCB0aGlzLmdyaWRSaWdodEJvdW5kYXJ5ICYmIHkyID49IDAgJiYgeTEgPCB0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtDb2xsaXNpb25DaXJjbGVVc2VkKGNvbGxpc2lvbkNpcmNsZXM6IEFycmF5PG51bWJlcj4sIGluZGV4OiBudW1iZXIsIHVzZWQ6IGJvb2xlYW4pIHtcbiAgICBjb2xsaXNpb25DaXJjbGVzW2luZGV4ICsgNF0gPSB1c2VkID8gMSA6IDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxpc2lvbkluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbGxpc2lvbkluZGV4IGZyb20gJy4vY29sbGlzaW9uX2luZGV4JztcblxuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgKiBhcyBzeW1ib2xTaXplIGZyb20gJy4vc3ltYm9sX3NpemUnO1xuaW1wb3J0ICogYXMgcHJvamVjdGlvbiBmcm9tICcuL3Byb2plY3Rpb24nO1xuaW1wb3J0IHN5bWJvbExheWVyUHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHR5cGUge0NvbGxpc2lvbkJveEFycmF5LCBDb2xsaXNpb25WZXJ0ZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgdHlwZSBGZWF0dXJlSW5kZXggZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmNsYXNzIE9wYWNpdHlTdGF0ZSB7XG4gICAgb3BhY2l0eTogbnVtYmVyO1xuICAgIHBsYWNlZDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihwcmV2U3RhdGU6ID9PcGFjaXR5U3RhdGUsIGluY3JlbWVudDogbnVtYmVyLCBwbGFjZWQ6IGJvb2xlYW4sIHNraXBGYWRlOiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBwcmV2U3RhdGUub3BhY2l0eSArIChwcmV2U3RhdGUucGxhY2VkID8gaW5jcmVtZW50IDogLWluY3JlbWVudCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IChza2lwRmFkZSAmJiBwbGFjZWQpID8gMSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGFjZWQgPSBwbGFjZWQ7XG4gICAgfVxuICAgIGlzSGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGFjaXR5ID09PSAwICYmICF0aGlzLnBsYWNlZDtcbiAgICB9XG59XG5cbmNsYXNzIEpvaW50T3BhY2l0eVN0YXRlIHtcbiAgICB0ZXh0OiBPcGFjaXR5U3RhdGU7XG4gICAgaWNvbjogT3BhY2l0eVN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKHByZXZTdGF0ZTogP0pvaW50T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkVGV4dDogYm9vbGVhbiwgcGxhY2VkSWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6ID9ib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IG5ldyBPcGFjaXR5U3RhdGUocHJldlN0YXRlID8gcHJldlN0YXRlLnRleHQgOiBudWxsLCBpbmNyZW1lbnQsIHBsYWNlZFRleHQsIHNraXBGYWRlKTtcbiAgICAgICAgdGhpcy5pY29uID0gbmV3IE9wYWNpdHlTdGF0ZShwcmV2U3RhdGUgPyBwcmV2U3RhdGUuaWNvbiA6IG51bGwsIGluY3JlbWVudCwgcGxhY2VkSWNvbiwgc2tpcEZhZGUpO1xuICAgIH1cbiAgICBpc0hpZGRlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpICYmIHRoaXMuaWNvbi5pc0hpZGRlbigpO1xuICAgIH1cbn1cblxuY2xhc3MgSm9pbnRQbGFjZW1lbnQge1xuICAgIHRleHQ6IGJvb2xlYW47XG4gICAgaWNvbjogYm9vbGVhbjtcbiAgICAvLyBza2lwRmFkZSA9IG91dHNpZGUgdmlld3BvcnQsIGJ1dCB3aXRoaW4gQ29sbGlzaW9uSW5kZXg6OnZpZXdwb3J0UGFkZGluZyBweCBvZiB0aGUgZWRnZVxuICAgIC8vIEJlY2F1c2UgdGhlc2Ugc3ltYm9scyBhcmVuJ3Qgb25zY3JlZW4geWV0LCB3ZSBjYW4gc2tpcCB0aGUgXCJmYWRlIGluXCIgYW5pbWF0aW9uLFxuICAgIC8vIGFuZCBpZiBhIHN1YnNlcXVlbnQgdmlld3BvcnQgY2hhbmdlIGJyaW5ncyB0aGVtIGludG8gdmlldywgdGhleSdsbCBiZSBmdWxseVxuICAgIC8vIHZpc2libGUgcmlnaHQgYXdheS5cbiAgICBza2lwRmFkZTogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBib29sZWFuLCBpY29uOiBib29sZWFuLCBza2lwRmFkZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xuICAgICAgICB0aGlzLnNraXBGYWRlID0gc2tpcEZhZGU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmV0YWluZWRRdWVyeURhdGEge1xuICAgIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcbiAgICBmZWF0dXJlSW5kZXg6IEZlYXR1cmVJbmRleDtcbiAgICBzb3VyY2VMYXllckluZGV4OiBudW1iZXI7XG4gICAgYnVja2V0SW5kZXg6IG51bWJlcjtcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQ7XG4gICAgZmVhdHVyZVNvcnRPcmRlcjogP0FycmF5PG51bWJlcj5cbiAgICBjb25zdHJ1Y3RvcihidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4OiBGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgc291cmNlTGF5ZXJJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGJ1Y2tldEluZGV4OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIHRoaXMuYnVja2V0SW5zdGFuY2VJZCA9IGJ1Y2tldEluc3RhbmNlSWQ7XG4gICAgICAgIHRoaXMuZmVhdHVyZUluZGV4ID0gZmVhdHVyZUluZGV4O1xuICAgICAgICB0aGlzLnNvdXJjZUxheWVySW5kZXggPSBzb3VyY2VMYXllckluZGV4O1xuICAgICAgICB0aGlzLmJ1Y2tldEluZGV4ID0gYnVja2V0SW5kZXg7XG4gICAgICAgIHRoaXMudGlsZUlEID0gdGlsZUlEO1xuICAgIH1cbn1cblxuY2xhc3MgQ29sbGlzaW9uR3JvdXBzIHtcbiAgICBjb2xsaXNpb25Hcm91cHM6IHsgW2dyb3VwTmFtZTogc3RyaW5nXTogeyBJRDogbnVtYmVyLCBwcmVkaWNhdGU/OiBhbnkgfX07XG4gICAgbWF4R3JvdXBJRDogbnVtYmVyO1xuICAgIGNyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucyA9IGNyb3NzU291cmNlQ29sbGlzaW9ucztcbiAgICAgICAgdGhpcy5tYXhHcm91cElEID0gMDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25Hcm91cHMgPSB7fTtcbiAgICB9XG5cbiAgICBnZXQoc291cmNlSUQ6IHN0cmluZykge1xuICAgICAgICAvLyBUaGUgcHJlZGljYXRlL2dyb3VwSUQgbWVjaGFuaXNtIGFsbG93cyBmb3IgYXJiaXRyYXJ5IGdyb3VwaW5nLFxuICAgICAgICAvLyBidXQgdGhlIGN1cnJlbnQgaW50ZXJmYWNlIGRlZmluZXMgb25lIHNvdXJjZSA9PSBvbmUgZ3JvdXAgd2hlblxuICAgICAgICAvLyBjcm9zc1NvdXJjZUNvbGxpc2lvbnMgPT0gdHJ1ZS5cbiAgICAgICAgaWYgKCF0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tzb3VyY2VJRF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0R3JvdXBJRCA9ICsrdGhpcy5tYXhHcm91cElEO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgSUQ6IG5leHRHcm91cElELFxuICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGU6IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuY29sbGlzaW9uR3JvdXBJRCA9PT0gbmV4dEdyb3VwSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IElEOiAwLCBwcmVkaWNhdGU6IG51bGwgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUGxhY2VtZW50IHtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBjb2xsaXNpb25JbmRleDogQ29sbGlzaW9uSW5kZXg7XG4gICAgcGxhY2VtZW50czogeyBbc3RyaW5nIHwgbnVtYmVyXTogSm9pbnRQbGFjZW1lbnQgfTtcbiAgICBvcGFjaXRpZXM6IHsgW3N0cmluZyB8IG51bWJlcl06IEpvaW50T3BhY2l0eVN0YXRlIH07XG4gICAgY29tbWl0VGltZTogbnVtYmVyO1xuICAgIGxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lOiBudW1iZXI7XG4gICAgc3RhbGU6IGJvb2xlYW47XG4gICAgZmFkZUR1cmF0aW9uOiBudW1iZXI7XG4gICAgcmV0YWluZWRRdWVyeURhdGE6IHtbbnVtYmVyXTogUmV0YWluZWRRdWVyeURhdGF9O1xuICAgIGNvbGxpc2lvbkdyb3VwczogQ29sbGlzaW9uR3JvdXBzO1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGZhZGVEdXJhdGlvbjogbnVtYmVyLCBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleCA9IG5ldyBDb2xsaXNpb25JbmRleCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMucGxhY2VtZW50cyA9IHt9O1xuICAgICAgICB0aGlzLm9wYWNpdGllcyA9IHt9O1xuICAgICAgICB0aGlzLnN0YWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFkZUR1cmF0aW9uID0gZmFkZUR1cmF0aW9uO1xuICAgICAgICB0aGlzLnJldGFpbmVkUXVlcnlEYXRhID0ge307XG4gICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXBzID0gbmV3IENvbGxpc2lvbkdyb3Vwcyhjcm9zc1NvdXJjZUNvbGxpc2lvbnMpO1xuICAgIH1cblxuICAgIHBsYWNlTGF5ZXJUaWxlKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGU6IFRpbGUsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9KSB7XG4gICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldEZlYXR1cmVJbmRleCA9IHRpbGUubGF0ZXN0RmVhdHVyZUluZGV4O1xuICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldCB8fCAhYnVja2V0RmVhdHVyZUluZGV4IHx8IHN0eWxlTGF5ZXIuaWQgIT09IHN5bWJvbEJ1Y2tldC5sYXllcklkc1swXSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBjb2xsaXNpb25Cb3hBcnJheSA9IHRpbGUuY29sbGlzaW9uQm94QXJyYXk7XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gc3ltYm9sQnVja2V0LmxheWVyc1swXS5sYXlvdXQ7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCB0ZXh0UGl4ZWxSYXRpbyA9IHRpbGUudGlsZVNpemUgLyBFWFRFTlQ7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHRleHRMYWJlbFBsYW5lTWF0cml4ID0gcHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4KHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0aGlzLnRyYW5zZm9ybS56b29tKSk7XG5cbiAgICAgICAgY29uc3QgaWNvbkxhYmVsUGxhbmVNYXRyaXggPSBwcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXgocG9zTWF0cml4LFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tcm90YXRpb24tYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHRoaXMudHJhbnNmb3JtLnpvb20pKTtcblxuICAgICAgICAvLyBBcyBsb25nIGFzIHRoaXMgcGxhY2VtZW50IGxpdmVzLCB3ZSBoYXZlIHRvIGhvbGQgb250byB0aGlzIGJ1Y2tldCdzXG4gICAgICAgIC8vIG1hdGNoaW5nIEZlYXR1cmVJbmRleC9kYXRhIGZvciBxdWVyeWluZyBwdXJwb3Nlc1xuICAgICAgICB0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3N5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkXSA9IG5ldyBSZXRhaW5lZFF1ZXJ5RGF0YShcbiAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLFxuICAgICAgICAgICAgYnVja2V0RmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgc3ltYm9sQnVja2V0LnNvdXJjZUxheWVySW5kZXgsXG4gICAgICAgICAgICBzeW1ib2xCdWNrZXQuaW5kZXgsXG4gICAgICAgICAgICB0aWxlLnRpbGVJRFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMucGxhY2VMYXllckJ1Y2tldChzeW1ib2xCdWNrZXQsIHBvc01hdHJpeCwgdGV4dExhYmVsUGxhbmVNYXRyaXgsIGljb25MYWJlbFBsYW5lTWF0cml4LCBzY2FsZSwgdGV4dFBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzLCB0aWxlLmhvbGRpbmdGb3JGYWRlKCksIHNlZW5Dcm9zc1RpbGVJRHMsIGNvbGxpc2lvbkJveEFycmF5KTtcbiAgICB9XG5cbiAgICBwbGFjZUxheWVyQnVja2V0KGJ1Y2tldDogU3ltYm9sQnVja2V0LCBwb3NNYXRyaXg6IG1hdDQsIHRleHRMYWJlbFBsYW5lTWF0cml4OiBtYXQ0LCBpY29uTGFiZWxQbGFuZU1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgIHNjYWxlOiBudW1iZXIsIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgaG9sZGluZ0ZvckZhZGU6IGJvb2xlYW4sIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkJveEFycmF5OiA/Q29sbGlzaW9uQm94QXJyYXkpIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gYnVja2V0LmxheWVyc1swXS5sYXlvdXQ7XG5cbiAgICAgICAgY29uc3QgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oYnVja2V0LnRleHRTaXplRGF0YSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgc3ltYm9sTGF5ZXJQcm9wZXJ0aWVzLmxheW91dC5wcm9wZXJ0aWVzWyd0ZXh0LXNpemUnXSk7XG5cbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbmFsID0gbGF5b3V0LmdldCgndGV4dC1vcHRpb25hbCcpO1xuICAgICAgICBjb25zdCBpY29uT3B0aW9uYWwgPSBsYXlvdXQuZ2V0KCdpY29uLW9wdGlvbmFsJyk7XG5cbiAgICAgICAgY29uc3QgdGV4dEFsbG93T3ZlcmxhcCA9IGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpO1xuICAgICAgICBjb25zdCBpY29uQWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgnaWNvbi1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIC8vIFRoaXMgbG9naWMgaXMgc2ltaWxhciB0byB0aGUgXCJkZWZhdWx0T3BhY2l0eVN0YXRlXCIgbG9naWMgYmVsb3cgaW4gdXBkYXRlQnVja2V0T3BhY2l0aWVzXG4gICAgICAgIC8vIElmIHdlIGtub3cgYSBzeW1ib2wgaXMgYWx3YXlzIHN1cHBvc2VkIHRvIHNob3csIGZvcmNlIGl0IHRvIGJlIG1hcmtlZCB2aXNpYmxlIGV2ZW4gaWZcbiAgICAgICAgLy8gaXQgd2Fzbid0IHBsYWNlZCBpbnRvIHRoZSBjb2xsaXNpb24gaW5kZXggKGJlY2F1c2Ugc29tZSBvciBhbGwgb2YgaXQgd2FzIG91dHNpZGUgdGhlIHJhbmdlXG4gICAgICAgIC8vIG9mIHRoZSBjb2xsaXNpb24gZ3JpZCkuXG4gICAgICAgIC8vIFRoZXJlIGlzIGEgc3VidGxlIGVkZ2UgY2FzZSBoZXJlIHdlJ3JlIGFjY2VwdGluZzpcbiAgICAgICAgLy8gIFN5bWJvbCBBIGhhcyB0ZXh0LWFsbG93LW92ZXJsYXA6IHRydWUsIGljb24tYWxsb3ctb3ZlcmxhcDogdHJ1ZSwgaWNvbi1vcHRpb25hbDogZmFsc2VcbiAgICAgICAgLy8gIEEncyBpY29uIGlzIG91dHNpZGUgdGhlIGdyaWQsIHNvIGRvZXNuJ3QgZ2V0IHBsYWNlZFxuICAgICAgICAvLyAgQSdzIHRleHQgd291bGQgYmUgaW5zaWRlIGdyaWQsIGJ1dCBkb2Vzbid0IGdldCBwbGFjZWQgYmVjYXVzZSBvZiBpY29uLW9wdGlvbmFsOiBmYWxzZVxuICAgICAgICAvLyAgV2Ugc3RpbGwgc2hvdyBBIGJlY2F1c2Ugb2YgdGhlIGFsbG93LW92ZXJsYXAgc2V0dGluZ3MuXG4gICAgICAgIC8vICBTeW1ib2wgQiBoYXMgYWxsb3ctb3ZlcmxhcDogZmFsc2UsIGFuZCBnZXRzIHBsYWNlZCB3aGVyZSBBJ3MgdGV4dCB3b3VsZCBiZVxuICAgICAgICAvLyAgT24gcGFubmluZyBpbiwgdGhlcmUgaXMgYSBzaG9ydCBwZXJpb2Qgd2hlbiBTeW1ib2wgQiBhbmQgU3ltYm9sIEEgd2lsbCBvdmVybGFwXG4gICAgICAgIC8vICBUaGlzIGlzIHRoZSByZXZlcnNlIG9mIG91ciBub3JtYWwgcG9saWN5IG9mIFwiZmFkZSBpbiBvbiBwYW5cIiwgYnV0IHNob3VsZCBsb29rIGxpa2UgYW55IG90aGVyXG4gICAgICAgIC8vICBjb2xsaXNpb24gYW5kIGhvcGVmdWxseSBub3QgYmUgdG9vIG5vdGljZWFibGUuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNzE3MlxuICAgICAgICBjb25zdCBhbHdheXNTaG93VGV4dCA9IHRleHRBbGxvd092ZXJsYXAgJiYgKGljb25BbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNJY29uRGF0YSgpIHx8IGljb25PcHRpb25hbCk7XG4gICAgICAgIGNvbnN0IGFsd2F5c1Nob3dJY29uID0gaWNvbkFsbG93T3ZlcmxhcCAmJiAodGV4dEFsbG93T3ZlcmxhcCB8fCAhYnVja2V0Lmhhc1RleHREYXRhKCkgfHwgdGV4dE9wdGlvbmFsKTtcblxuICAgICAgICBjb25zdCBjb2xsaXNpb25Hcm91cCA9IHRoaXMuY29sbGlzaW9uR3JvdXBzLmdldChidWNrZXQuc291cmNlSUQpO1xuXG4gICAgICAgIGlmICghYnVja2V0LmNvbGxpc2lvbkFycmF5cyAmJiBjb2xsaXNpb25Cb3hBcnJheSkge1xuICAgICAgICAgICAgYnVja2V0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoY29sbGlzaW9uQm94QXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKCFzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChob2xkaW5nRm9yRmFkZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIGFsbCBzeW1ib2xzIGZyb20gdGhpcyB0aWxlIGFzIFwibm90IHBsYWNlZFwiLCBidXQgZG9uJ3QgYWRkIHRvIHNlZW5Dcm9zc1RpbGVJRHMsIGJlY2F1c2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAgICAgLy8ga25vdyB5ZXQgaWYgd2UgaGF2ZSBhIGR1cGxpY2F0ZSBpbiBhIHBhcmVudCB0aWxlIHRoYXQgX3Nob3VsZF8gYmUgcGxhY2VkLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VUZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlSWNvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZEdseXBoQm94ZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWRHbHlwaENpcmNsZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWRJY29uQm94ZXMgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgbGV0IHRleHRGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBpY29uRmVhdHVyZUluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnRleHRGZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEZlYXR1cmVJbmRleCA9IGNvbGxpc2lvbkFycmF5cy50ZXh0RmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkR2x5cGhCb3hlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goY29sbGlzaW9uQXJyYXlzLnRleHRCb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyksIHRleHRQaXhlbFJhdGlvLCBwb3NNYXRyaXgsIGNvbGxpc2lvbkdyb3VwLnByZWRpY2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IHBsYWNlZEdseXBoQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRHbHlwaEJveGVzLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENpcmNsZXMgPSBjb2xsaXNpb25BcnJheXMudGV4dENpcmNsZXM7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRDaXJjbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlZFN5bWJvbCA9IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChzeW1ib2xJbnN0YW5jZS5ob3Jpem9udGFsUGxhY2VkVGV4dFN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoYnVja2V0LnRleHRTaXplRGF0YSwgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHBsYWNlZFN5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEdseXBoQ2lyY2xlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKHRleHRDaXJjbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlZFN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQubGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWxQbGFuZU1hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uR3JvdXAucHJlZGljYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGV4dC1hbGxvdy1vdmVybGFwIGlzIHNldCwgZm9yY2UgXCJwbGFjZWRDaXJjbGVzXCIgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGVvcnkgdGhlcmUgc2hvdWxkIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgY2lyY2xlIHBsYWNlZFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNhc2UsIGJ1dCBmb3Igbm93IHF1aXJrcyBpbiB0ZXh0LWFuY2hvclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGV4dC1vZmZzZXQgbWF5IHByZXZlbnQgdGhhdCBmcm9tIGJlaW5nIHRydWUuXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpIHx8IHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRHbHlwaENpcmNsZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpY29uRmVhdHVyZUluZGV4ID0gY29sbGlzaW9uQXJyYXlzLmljb25GZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWRJY29uQm94ZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGNvbGxpc2lvbkFycmF5cy5pY29uQm94LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tYWxsb3ctb3ZlcmxhcCcpLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4LCBjb2xsaXNpb25Hcm91cC5wcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZWRJY29uQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRJY29uQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGljb25XaXRob3V0VGV4dCA9IHRleHRPcHRpb25hbCB8fCAoc3ltYm9sSW5zdGFuY2UubnVtR2x5cGhWZXJ0aWNlcyA9PT0gMCAmJiBzeW1ib2xJbnN0YW5jZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMgPT09IDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRXaXRob3V0SWNvbiA9IGljb25PcHRpb25hbCB8fCBzeW1ib2xJbnN0YW5jZS5udW1JY29uVmVydGljZXMgPT09IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBDb21iaW5lIHRoZSBzY2FsZXMgZm9yIGljb25zIGFuZCB0ZXh0LlxuICAgICAgICAgICAgICAgIGlmICghaWNvbldpdGhvdXRUZXh0ICYmICF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VUZXh0ID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpY29uV2l0aG91dFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VUZXh0ICYmIHBsYWNlZEdseXBoQm94ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkR2x5cGhCb3hlcy5ib3gsIGxheW91dC5nZXQoJ3RleHQtaWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCB0ZXh0RmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwbGFjZUljb24gJiYgcGxhY2VkSWNvbkJveGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KHBsYWNlZEljb25Cb3hlcy5ib3gsIGxheW91dC5nZXQoJ2ljb24taWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCBpY29uRmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwbGFjZVRleHQgJiYgcGxhY2VkR2x5cGhDaXJjbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhwbGFjZWRHbHlwaENpcmNsZXMuY2lyY2xlcywgbGF5b3V0LmdldCgndGV4dC1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHRleHRGZWF0dXJlSW5kZXgsIGNvbGxpc2lvbkdyb3VwLklEKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgIT09IDApO1xuICAgICAgICAgICAgICAgIGFzc2VydChidWNrZXQuYnVja2V0SW5zdGFuY2VJZCAhPT0gMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KHBsYWNlVGV4dCB8fCBhbHdheXNTaG93VGV4dCwgcGxhY2VJY29uIHx8IGFsd2F5c1Nob3dJY29uLCBvZmZzY3JlZW4gfHwgYnVja2V0Lmp1c3RSZWxvYWRlZCk7XG4gICAgICAgICAgICAgICAgc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0Lmp1c3RSZWxvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbW1pdChwcmV2UGxhY2VtZW50OiA/UGxhY2VtZW50LCBub3c6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbW1pdFRpbWUgPSBub3c7XG5cbiAgICAgICAgbGV0IHBsYWNlbWVudENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSAocHJldlBsYWNlbWVudCAmJiB0aGlzLmZhZGVEdXJhdGlvbiAhPT0gMCkgP1xuICAgICAgICAgICAgKHRoaXMuY29tbWl0VGltZSAtIHByZXZQbGFjZW1lbnQuY29tbWl0VGltZSkgLyB0aGlzLmZhZGVEdXJhdGlvbiA6XG4gICAgICAgICAgICAxO1xuXG4gICAgICAgIGNvbnN0IHByZXZPcGFjaXRpZXMgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5vcGFjaXRpZXMgOiB7fTtcblxuICAgICAgICAvLyBhZGQgdGhlIG9wYWNpdGllcyBmcm9tIHRoZSBjdXJyZW50IHBsYWNlbWVudCwgYW5kIGNvcHkgdGhlaXIgY3VycmVudCB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcGxhY2VtZW50XG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gdGhpcy5wbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBqb2ludFBsYWNlbWVudCA9IHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBjb25zdCBwcmV2T3BhY2l0eSA9IHByZXZPcGFjaXRpZXNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKHByZXZPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKHByZXZPcGFjaXR5LCBpbmNyZW1lbnQsIGpvaW50UGxhY2VtZW50LnRleHQsIGpvaW50UGxhY2VtZW50Lmljb24pO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50LnRleHQgIT09IHByZXZPcGFjaXR5LnRleHQucGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50Lmljb24gIT09IHByZXZPcGFjaXR5Lmljb24ucGxhY2VkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgaW5jcmVtZW50LCBqb2ludFBsYWNlbWVudC50ZXh0LCBqb2ludFBsYWNlbWVudC5pY29uLCBqb2ludFBsYWNlbWVudC5za2lwRmFkZSk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHwgam9pbnRQbGFjZW1lbnQudGV4dCB8fCBqb2ludFBsYWNlbWVudC5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSBhbmQgdXBkYXRlIHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgdGhhdCBhcmVuJ3QgaW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50IGJ1dCBoYXZlbid0IGZpbmlzaGVkIGZhZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IGNyb3NzVGlsZUlEIGluIHByZXZPcGFjaXRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZPcGFjaXR5ID0gcHJldk9wYWNpdGllc1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoIXRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50T3BhY2l0eSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShwcmV2T3BhY2l0eSwgaW5jcmVtZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICgham9pbnRPcGFjaXR5LmlzSGlkZGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gam9pbnRPcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fCBwcmV2T3BhY2l0eS50ZXh0LnBsYWNlZCB8fCBwcmV2T3BhY2l0eS5pY29uLnBsYWNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lIGlzIHRoZSB0aW1lIG9mIHRoZSBsYXN0IGNvbW1pdCgpIHRoYXRcbiAgICAgICAgLy8gcmVzdWx0ZWQgaW4gYSBwbGFjZW1lbnQgY2hhbmdlIC0tIGluIG90aGVyIHdvcmRzLCB0aGUgc3RhcnQgdGltZSBvZlxuICAgICAgICAvLyB0aGUgbGFzdCBzeW1ib2wgZmFkZSBhbmltYXRpb25cbiAgICAgICAgYXNzZXJ0KCFwcmV2UGxhY2VtZW50IHx8IHByZXZQbGFjZW1lbnQubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChwbGFjZW1lbnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lID0gbm93O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA9IHByZXZQbGFjZW1lbnQgPyBwcmV2UGxhY2VtZW50Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lIDogbm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTGF5ZXJPcGFjaXRpZXMoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+KSB7XG4gICAgICAgIGNvbnN0IHNlZW5Dcm9zc1RpbGVJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgICAgICBpZiAoc3ltYm9sQnVja2V0ICYmIHRpbGUubGF0ZXN0RmVhdHVyZUluZGV4ICYmIHN0eWxlTGF5ZXIuaWQgPT09IHN5bWJvbEJ1Y2tldC5sYXllcklkc1swXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQnVja2V0T3BhY2l0aWVzKHN5bWJvbEJ1Y2tldCwgc2VlbkNyb3NzVGlsZUlEcywgdGlsZS5jb2xsaXNpb25Cb3hBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVCdWNrZXRPcGFjaXRpZXMoYnVja2V0OiBTeW1ib2xCdWNrZXQsIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSwgY29sbGlzaW9uQm94QXJyYXk6ID9Db2xsaXNpb25Cb3hBcnJheSkge1xuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHREYXRhKCkpIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0ljb25EYXRhKCkpIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkJveERhdGEoKSkgYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkgYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IGJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuICAgICAgICBjb25zdCBkdXBsaWNhdGVPcGFjaXR5U3RhdGUgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgMCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgY29uc3QgdGV4dEFsbG93T3ZlcmxhcCA9IGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpO1xuICAgICAgICBjb25zdCBpY29uQWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgnaWNvbi1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIC8vIElmIGFsbG93LW92ZXJsYXAgaXMgdHJ1ZSwgd2UgY2FuIHNob3cgc3ltYm9scyBiZWZvcmUgcGxhY2VtZW50IHJ1bnMgb24gdGhlbVxuICAgICAgICAvLyBCdXQgd2UgaGF2ZSB0byB3YWl0IGZvciBwbGFjZW1lbnQgaWYgd2UgcG90ZW50aWFsbHkgZGVwZW5kIG9uIGEgcGFpcmVkIGljb24vdGV4dFxuICAgICAgICAvLyB3aXRoIGFsbG93LW92ZXJsYXA6IGZhbHNlLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzcwMzJcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wYWNpdHlTdGF0ZSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCAwLFxuICAgICAgICAgICAgICAgIHRleHRBbGxvd092ZXJsYXAgJiYgKGljb25BbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNJY29uRGF0YSgpIHx8IGxheW91dC5nZXQoJ2ljb24tb3B0aW9uYWwnKSksXG4gICAgICAgICAgICAgICAgaWNvbkFsbG93T3ZlcmxhcCAmJiAodGV4dEFsbG93T3ZlcmxhcCB8fCAhYnVja2V0Lmhhc1RleHREYXRhKCkgfHwgbGF5b3V0LmdldCgndGV4dC1vcHRpb25hbCcpKSxcbiAgICAgICAgICAgICAgICB0cnVlKTtcblxuICAgICAgICBpZiAoIWJ1Y2tldC5jb2xsaXNpb25BcnJheXMgJiYgY29sbGlzaW9uQm94QXJyYXkgJiYgKGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkgfHwgYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKGNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgYnVja2V0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sSW5zdGFuY2UgPSBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmdldChzKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF07XG5cbiAgICAgICAgICAgIGxldCBvcGFjaXR5U3RhdGUgPSB0aGlzLm9wYWNpdGllc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5U3RhdGUgPSBkdXBsaWNhdGVPcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFvcGFjaXR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5U3RhdGUgPSBkZWZhdWx0T3BhY2l0eVN0YXRlO1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBzdGF0ZSBzbyB0aGF0IGZ1dHVyZSBwbGFjZW1lbnRzIHVzZSBpdCBhcyBhIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gb3BhY2l0eVN0YXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IHRydWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc1RleHQgPSBzeW1ib2xJbnN0YW5jZS5udW1HbHlwaFZlcnRpY2VzID4gMCB8fCBzeW1ib2xJbnN0YW5jZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMgPiAwO1xuICAgICAgICAgICAgY29uc3QgaGFzSWNvbiA9IHN5bWJvbEluc3RhbmNlLm51bUljb25WZXJ0aWNlcyA+IDA7XG5cbiAgICAgICAgICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2VkT3BhY2l0eSA9IHBhY2tPcGFjaXR5KG9wYWNpdHlTdGF0ZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCB0ZXh0IGZhZGVzIGluL291dCBvbiBjb2xsaXNpb24gdGhlIHNhbWUgd2F5IGFzIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgICAgICAgICAvLyBob3Jpem9udGFsIHRleHQuIFN3aXRjaCBiZXR3ZWVuIHZlcnRpY2FsL2hvcml6b250YWwgc2hvdWxkIGJlIGluc3RhbnRhbmVvdXNcbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5RW50cnlDb3VudCA9IChzeW1ib2xJbnN0YW5jZS5udW1HbHlwaFZlcnRpY2VzICsgc3ltYm9sSW5zdGFuY2UubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzKSAvIDQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGFjaXR5RW50cnlDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwYWNrZWRPcGFjaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBsYWJlbCBpcyBjb21wbGV0ZWx5IGZhZGVkLCBtYXJrIGl0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAgICAvLyBpdHMgcG9zaXRpb24gYXQgcmVuZGVyIHRpbWVcbiAgICAgICAgICAgICAgICBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoc3ltYm9sSW5zdGFuY2UuaG9yaXpvbnRhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkuaGlkZGVuID1cbiAgICAgICAgICAgICAgICAgICAgKG9wYWNpdHlTdGF0ZS50ZXh0LmlzSGlkZGVuKCk6IGFueSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoc3ltYm9sSW5zdGFuY2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLmhpZGRlbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAob3BhY2l0eVN0YXRlLnRleHQuaXNIaWRkZW4oKTogYW55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNJY29uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2VkT3BhY2l0eSA9IHBhY2tPcGFjaXR5KG9wYWNpdHlTdGF0ZS5pY29uKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbEluc3RhbmNlLm51bUljb25WZXJ0aWNlcyAvIDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGFja2VkT3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1Y2tldC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChzKS5oaWRkZW4gPVxuICAgICAgICAgICAgICAgICAgICAob3BhY2l0eVN0YXRlLmljb24uaXNIaWRkZW4oKTogYW55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkgfHwgYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbc107XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS50ZXh0LnBsYWNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy5pY29uQm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUuaWNvbi5wbGFjZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDaXJjbGVzID0gY29sbGlzaW9uQXJyYXlzLnRleHRDaXJjbGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dENpcmNsZXMgJiYgYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0ZXh0Q2lyY2xlcy5sZW5ndGg7IGsgKz0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdFVzZWQgPSBpc0R1cGxpY2F0ZSB8fCB0ZXh0Q2lyY2xlc1trICsgNF0gPT09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSwgb3BhY2l0eVN0YXRlLnRleHQucGxhY2VkLCBub3RVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJ1Y2tldC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICBpZiAodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0pIHtcbiAgICAgICAgICAgIHRoaXMucmV0YWluZWRRdWVyeURhdGFbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdLmZlYXR1cmVTb3J0T3JkZXIgPSBidWNrZXQuZmVhdHVyZVNvcnRPcmRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidWNrZXQuaGFzVGV4dERhdGEoKSAmJiBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc0ljb25EYXRhKCkgJiYgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkgJiYgYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25DaXJjbGVEYXRhKCkgJiYgYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCA9PT0gYnVja2V0LnRleHQubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoIC8gNCk7XG4gICAgICAgIGFzc2VydChidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoID09PSBidWNrZXQuaWNvbi5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGggLyA0KTtcbiAgICB9XG5cbiAgICBzeW1ib2xGYWRlQ2hhbmdlKG5vdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhZGVEdXJhdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAxIDpcbiAgICAgICAgICAgIChub3cgLSB0aGlzLmNvbW1pdFRpbWUpIC8gdGhpcy5mYWRlRHVyYXRpb247XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbnMobm93OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbGUgfHxcbiAgICAgICAgICAgIG5vdyAtIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPCB0aGlzLmZhZGVEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBzdGlsbFJlY2VudChub3c6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21taXRUaW1lICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgdGhpcy5jb21taXRUaW1lICsgdGhpcy5mYWRlRHVyYXRpb24gPiBub3c7XG4gICAgfVxuXG4gICAgc2V0U3RhbGUoKSB7XG4gICAgICAgIHRoaXMuc3RhbGUgPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoY29sbGlzaW9uVmVydGV4QXJyYXk6IENvbGxpc2lvblZlcnRleEFycmF5LCBwbGFjZWQ6IGJvb2xlYW4sIG5vdFVzZWQ6IGJvb2xlYW4pIHtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbn1cblxuLy8gQWxsIGZvdXIgdmVydGljZXMgZm9yIGEgZ2x5cGggd2lsbCBoYXZlIHRoZSBzYW1lIG9wYWNpdHkgc3RhdGVcbi8vIFNvIHdlIHBhY2sgdGhlIG9wYWNpdHkgaW50byBhIHVpbnQ4LCBhbmQgdGhlbiByZXBlYXQgaXQgZm91ciB0aW1lc1xuLy8gdG8gbWFrZSBhIHNpbmdsZSB1aW50MzIgdGhhdCB3ZSBjYW4gdXBsb2FkIGZvciBlYWNoIGdseXBoIGluIHRoZVxuLy8gbGFiZWwuXG5jb25zdCBzaGlmdDI1ID0gTWF0aC5wb3coMiwgMjUpO1xuY29uc3Qgc2hpZnQyNCA9IE1hdGgucG93KDIsIDI0KTtcbmNvbnN0IHNoaWZ0MTcgPSBNYXRoLnBvdygyLCAxNyk7XG5jb25zdCBzaGlmdDE2ID0gTWF0aC5wb3coMiwgMTYpO1xuY29uc3Qgc2hpZnQ5ID0gTWF0aC5wb3coMiwgOSk7XG5jb25zdCBzaGlmdDggPSBNYXRoLnBvdygyLCA4KTtcbmNvbnN0IHNoaWZ0MSA9IE1hdGgucG93KDIsIDEpO1xuZnVuY3Rpb24gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlOiBPcGFjaXR5U3RhdGUpOiBudW1iZXIge1xuICAgIGlmIChvcGFjaXR5U3RhdGUub3BhY2l0eSA9PT0gMCAmJiAhb3BhY2l0eVN0YXRlLnBsYWNlZCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ID09PSAxICYmIG9wYWNpdHlTdGF0ZS5wbGFjZWQpIHtcbiAgICAgICAgcmV0dXJuIDQyOTQ5NjcyOTU7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldEJpdCA9IG9wYWNpdHlTdGF0ZS5wbGFjZWQgPyAxIDogMDtcbiAgICBjb25zdCBvcGFjaXR5Qml0cyA9IE1hdGguZmxvb3Iob3BhY2l0eVN0YXRlLm9wYWNpdHkgKiAxMjcpO1xuICAgIHJldHVybiBvcGFjaXR5Qml0cyAqIHNoaWZ0MjUgKyB0YXJnZXRCaXQgKiBzaGlmdDI0ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDE3ICsgdGFyZ2V0Qml0ICogc2hpZnQxNiArXG4gICAgICAgIG9wYWNpdHlCaXRzICogc2hpZnQ5ICsgdGFyZ2V0Qml0ICogc2hpZnQ4ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDEgKyB0YXJnZXRCaXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgeyBQbGFjZW1lbnQgfSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50JztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuXG5jbGFzcyBMYXllclBsYWNlbWVudCB7XG4gICAgX2N1cnJlbnRUaWxlSW5kZXg6IG51bWJlcjtcbiAgICBfdGlsZXM6IEFycmF5PFRpbGU+O1xuICAgIF9zZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMgPSB7fTtcbiAgICB9XG5cbiAgICBjb250aW51ZVBsYWNlbWVudCh0aWxlczogQXJyYXk8VGlsZT4sIHBsYWNlbWVudDogUGxhY2VtZW50LCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHNob3VsZFBhdXNlUGxhY2VtZW50KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50VGlsZUluZGV4IDwgdGlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbdGhpcy5fY3VycmVudFRpbGVJbmRleF07XG4gICAgICAgICAgICBwbGFjZW1lbnQucGxhY2VMYXllclRpbGUoc3R5bGVMYXllciwgdGlsZSwgc2hvd0NvbGxpc2lvbkJveGVzLCB0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbGVJbmRleCsrO1xuICAgICAgICAgICAgaWYgKHNob3VsZFBhdXNlUGxhY2VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgUGF1c2VhYmxlUGxhY2VtZW50IHtcbiAgICBwbGFjZW1lbnQ6IFBsYWNlbWVudDtcbiAgICBfZG9uZTogYm9vbGVhbjtcbiAgICBfY3VycmVudFBsYWNlbWVudEluZGV4OiBudW1iZXI7XG4gICAgX2ZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbjtcbiAgICBfc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuO1xuICAgIF9pblByb2dyZXNzTGF5ZXI6ID9MYXllclBsYWNlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBvcmRlcjogQXJyYXk8c3RyaW5nPixcbiAgICAgICAgICAgICAgICBmb3JjZUZ1bGxQbGFjZW1lbnQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLFxuICAgICAgICAgICAgICAgIGZhZGVEdXJhdGlvbjogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGNyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbikge1xuXG4gICAgICAgIHRoaXMucGxhY2VtZW50ID0gbmV3IFBsYWNlbWVudCh0cmFuc2Zvcm0sIGZhZGVEdXJhdGlvbiwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zKTtcbiAgICAgICAgdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4ID0gb3JkZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50ID0gZm9yY2VGdWxsUGxhY2VtZW50O1xuICAgICAgICB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPSBzaG93Q29sbGlzaW9uQm94ZXM7XG4gICAgICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb25lO1xuICAgIH1cblxuICAgIGNvbnRpbnVlUGxhY2VtZW50KG9yZGVyOiBBcnJheTxzdHJpbmc+LCBsYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn0sIGxheWVyVGlsZXM6IHtbc3RyaW5nXTogQXJyYXk8VGlsZT59KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGJyb3dzZXIubm93KCk7XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkUGF1c2VQbGFjZW1lbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50ID8gZmFsc2UgOiBlbGFwc2VkVGltZSA+IDI7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcklkID0gb3JkZXJbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50Wm9vbSA9IHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO1xuICAgICAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnICYmXG4gICAgICAgICAgICAgICAgKCFsYXllci5taW56b29tIHx8IGxheWVyLm1pbnpvb20gPD0gcGxhY2VtZW50Wm9vbSkgJiZcbiAgICAgICAgICAgICAgICAoIWxheWVyLm1heHpvb20gfHwgbGF5ZXIubWF4em9vbSA+IHBsYWNlbWVudFpvb20pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luUHJvZ3Jlc3NMYXllcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pblByb2dyZXNzTGF5ZXIgPSBuZXcgTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXVzZVBsYWNlbWVudCA9IHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChsYXllclRpbGVzW2xheWVyLnNvdXJjZV0sIHRoaXMucGxhY2VtZW50LCB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsIGxheWVyLCBzaG91bGRQYXVzZVBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGF1c2VQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGZpbmlzaCBwbGFjaW5nIGFsbCBsYXllcnMgd2l0aGluIDJtcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBrZWVwIHJlbmRlcmluZyB3aXRoIGEgcGFydGlhbCBwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UnbGwgcmVzdW1lIGhlcmUgb24gdGhlIG5leHQgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pblByb2dyZXNzTGF5ZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgfVxuXG4gICAgY29tbWl0KHByZXZpb3VzUGxhY2VtZW50OiA/UGxhY2VtZW50LCBub3c6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBsYWNlbWVudC5jb21taXQocHJldmlvdXNQbGFjZW1lbnQsIG5vdyk7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlbWVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhdXNlYWJsZVBsYWNlbWVudDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuXG5pbXBvcnQgeyBTeW1ib2xJbnN0YW5jZUFycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5cbmltcG9ydCB0eXBlIHsgU3ltYm9sSW5zdGFuY2UgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuXG4vKlxuICAgIFRoZSBDcm9zc1RpbGVTeW1ib2xJbmRleCBnZW5lcmFsbHkgd29ya3Mgb24gdGhlIGFzc3VtcHRpb24gdGhhdFxuICAgIGEgY29uY2VwdHVhbCBcInVuaXF1ZSBzeW1ib2xcIiBjYW4gYmUgaWRlbnRpZmllZCBieSB0aGUgdGV4dCBvZlxuICAgIHRoZSBsYWJlbCBjb21iaW5lZCB3aXRoIHRoZSBhbmNob3IgcG9pbnQuIFRoZSBnb2FsIGlzIHRvIGFzc2lnblxuICAgIHRoZXNlIGNvbmNlcHR1YWwgXCJ1bmlxdWUgc3ltYm9sc1wiIGEgc2hhcmVkIGNyb3NzVGlsZUlEIHRoYXQgY2FuIGJlXG4gICAgdXNlZCBieSBQbGFjZW1lbnQgdG8ga2VlcCBmYWRpbmcgb3BhY2l0eSBzdGF0ZXMgY29uc2lzdGVudCBhbmQgdG9cbiAgICBkZWR1cGxpY2F0ZSBsYWJlbHMuXG5cbiAgICBUaGUgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggaW5kZXhlcyBhbGwgdGhlIGN1cnJlbnQgc3ltYm9sIGluc3RhbmNlcyBhbmRcbiAgICB0aGVpciBjcm9zc1RpbGVJRHMuIFdoZW4gYSBzeW1ib2wgYnVja2V0IGdldHMgYWRkZWQgb3IgdXBkYXRlZCwgdGhlXG4gICAgaW5kZXggYXNzaWducyBhIGNyb3NzVGlsZUlEIHRvIGVhY2ggb2YgaXQncyBzeW1ib2wgaW5zdGFuY2VzIGJ5IGVpdGhlclxuICAgIG1hdGNoaW5nIGl0IHdpdGggYW4gZXhpc3RpbmcgaWQgb3IgYXNzaWduaW5nIGEgbmV3IG9uZS5cbiovXG5cbi8vIFJvdW5kIGFuY2hvciBwb3NpdGlvbnMgdG8gcm91Z2hseSA0IHBpeGVsIGdyaWRcbmNvbnN0IHJvdW5kaW5nRmFjdG9yID0gNTEyIC8gRVhURU5UIC8gMjtcblxuY2xhc3MgVGlsZUxheWVySW5kZXgge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICBpbmRleGVkU3ltYm9sSW5zdGFuY2VzOiB7W251bWJlcl06IEFycmF5PHtcbiAgICAgICAgY3Jvc3NUaWxlSUQ6IG51bWJlcixcbiAgICAgICAgY29vcmQ6IHtcbiAgICAgICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgICAgIHk6IG51bWJlclxuICAgICAgICB9XG4gICAgfT59O1xuICAgIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgc3ltYm9sSW5zdGFuY2VzOiBTeW1ib2xJbnN0YW5jZUFycmF5LCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSB0aWxlSUQ7XG4gICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IHN5bWJvbEluc3RhbmNlcy5nZXQoaSk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBzeW1ib2xJbnN0YW5jZS5rZXk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgdGlsZSBtYXkgaGF2ZSBtdWx0aXBsZSBzeW1ib2wgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAvLyBTdG9yZSBlYWNoIG9uZSBhbG9uZyB3aXRoIGl0cyBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgY3Jvc3NUaWxlSUQ6IHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlELFxuICAgICAgICAgICAgICAgIGNvb3JkOiB0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlLCB0aWxlSUQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaW5wdXQgc3ltYm9sIGluc3RhbmNlIGludG8gY29vcmRpbmF0ZXMgdGhhdCBiZSBjYW4gY29tcGFyZWRcbiAgICAvLyBhZ2FpbnN0IG90aGVyIHN5bWJvbHMgaW4gdGhpcyBpbmRleC4gQ29vcmRpbmF0ZXMgYXJlOlxuICAgIC8vICgxKSB3b3JsZC1iYXNlZCAoc28gYWZ0ZXIgY29udmVyc2lvbiB0aGUgc291cmNlIHRpbGUgaXMgaXJyZWxldmFudClcbiAgICAvLyAoMikgY29udmVydGVkIHRvIHRoZSB6LXNjYWxlIG9mIHRoaXMgVGlsZUxheWVySW5kZXhcbiAgICAvLyAoMykgZG93bi1zYW1wbGVkIGJ5IFwicm91bmRpbmdGYWN0b3JcIiBmcm9tIHRpbGUgY29vcmRpbmF0ZSBwcmVjaXNpb24gaW4gb3JkZXIgdG8gYmVcbiAgICAvLyAgICAgbW9yZSB0b2xlcmFudCBvZiBzbWFsbCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRpbGVzLlxuICAgIGdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgY2hpbGRUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgekRpZmZlcmVuY2UgPSBjaGlsZFRpbGVJRC5jYW5vbmljYWwueiAtIHRoaXMudGlsZUlELmNhbm9uaWNhbC56O1xuICAgICAgICBjb25zdCBzY2FsZSA9IHJvdW5kaW5nRmFjdG9yIC8gTWF0aC5wb3coMiwgekRpZmZlcmVuY2UpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5mbG9vcigoY2hpbGRUaWxlSUQuY2Fub25pY2FsLnggKiBFWFRFTlQgKyBzeW1ib2xJbnN0YW5jZS5hbmNob3JYKSAqIHNjYWxlKSxcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKGNoaWxkVGlsZUlELmNhbm9uaWNhbC55ICogRVhURU5UICsgc3ltYm9sSW5zdGFuY2UuYW5jaG9yWSkgKiBzY2FsZSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmaW5kTWF0Y2hlcyhzeW1ib2xJbnN0YW5jZXM6IFN5bWJvbEluc3RhbmNlQXJyYXksIG5ld1RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgem9vbUNyb3NzVGlsZUlEczoge1tjcm9zc1RpbGVJRDogbnVtYmVyXTogYm9vbGVhbn0pIHtcbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gdGhpcy50aWxlSUQuY2Fub25pY2FsLnogPCBuZXdUaWxlSUQuY2Fub25pY2FsLnogPyAxIDogTWF0aC5wb3coMiwgdGhpcy50aWxlSUQuY2Fub25pY2FsLnogLSBuZXdUaWxlSUQuY2Fub25pY2FsLnopO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IHN5bWJvbEluc3RhbmNlcy5nZXQoaSk7XG4gICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGhhcyBhIG1hdGNoLCBza2lwXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ZWRJbnN0YW5jZXMgPSB0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbc3ltYm9sSW5zdGFuY2Uua2V5XTtcbiAgICAgICAgICAgIGlmICghaW5kZXhlZEluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgIC8vIE5vIHN5bWJvbCB3aXRoIHRoaXMga2V5IGluIHRoaXMgYnVja2V0XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFN5bWJvbENvb3JkID0gdGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhzeW1ib2xJbnN0YW5jZSwgbmV3VGlsZUlEKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB0aGlzVGlsZVN5bWJvbCBvZiBpbmRleGVkSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGFueSBzeW1ib2wgd2l0aCB0aGUgc2FtZSBrZXlzIHdob3NlIGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gMVxuICAgICAgICAgICAgICAgIC8vIGdyaWQgdW5pdC4gKHdpdGggYSA0cHggZ3JpZCwgdGhpcyBjb3ZlcnMgYSAxMnB4IGJ5IDEycHggYXJlYSlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpc1RpbGVTeW1ib2wuY29vcmQueCAtIHNjYWxlZFN5bWJvbENvb3JkLngpIDw9IHRvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzVGlsZVN5bWJvbC5jb29yZC55IC0gc2NhbGVkU3ltYm9sQ29vcmQueSkgPD0gdG9sZXJhbmNlICYmXG4gICAgICAgICAgICAgICAgICAgICF6b29tQ3Jvc3NUaWxlSURzW3RoaXNUaWxlU3ltYm9sLmNyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHdlJ3ZlIG1hcmtlZCBvdXJzZWx2ZXMgZHVwbGljYXRlIGFnYWluc3QgdGhpcyBwYXJlbnQgc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBsZXQgYW55IG90aGVyIHN5bWJvbHMgYXQgdGhlIHNhbWUgem9vbSBsZXZlbCBkdXBsaWNhdGUgYWdhaW5zdFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2FtZSBwYXJlbnQgKHNlZSBpc3N1ZSAjNTk5MylcbiAgICAgICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1t0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCA9IHRoaXNUaWxlU3ltYm9sLmNyb3NzVGlsZUlEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENyb3NzVGlsZUlEcyB7XG4gICAgbWF4Q3Jvc3NUaWxlSUQ6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXhDcm9zc1RpbGVJRCA9IDA7XG4gICAgfVxuICAgIGdlbmVyYXRlKCkge1xuICAgICAgICByZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCB7XG4gICAgaW5kZXhlczoge1t6b29tOiBzdHJpbmcgfCBudW1iZXJdOiB7W3RpbGVJZDogc3RyaW5nIHwgbnVtYmVyXTogVGlsZUxheWVySW5kZXh9fTtcbiAgICB1c2VkQ3Jvc3NUaWxlSURzOiB7W3pvb206IHN0cmluZyB8IG51bWJlcl06IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59fTtcbiAgICBsbmc6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGV4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzID0ge307XG4gICAgICAgIHRoaXMubG5nID0gMDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNvbWV0aW1lcyB3aGVuIGEgdXNlciBwYW5zIGFjcm9zcyB0aGUgYW50aW1lcmlkaWFuIHRoZSBsb25naXR1ZGUgdmFsdWUgZ2V0cyB3cmFwcGVkLlxuICAgICAqIFRvIHByZXZlbnQgbGFiZWxzIGZyb20gZmxhc2hpbmcgb3V0IGFuZCBpbiB3ZSBhZGp1c3QgdGhlIHRpbGVJRCB2YWx1ZXMgaW4gdGhlIGluZGV4ZXNcbiAgICAgKiBzbyB0aGF0IHRoZXkgbWF0Y2ggdGhlIG5ldyB3cmFwcGVkIHZlcnNpb24gb2YgdGhlIG1hcC5cbiAgICAgKi9cbiAgICBoYW5kbGVXcmFwSnVtcChsbmc6IG51bWJlcikge1xuICAgICAgICBjb25zdCB3cmFwRGVsdGEgPSBNYXRoLnJvdW5kKChsbmcgLSB0aGlzLmxuZykgLyAzNjApO1xuICAgICAgICBpZiAod3JhcERlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHpvb20gaW4gdGhpcy5pbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Wm9vbUluZGV4ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gem9vbUluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSB0aWxlSUQncyB3cmFwIGFuZCBhZGQgaXQgdG8gYSBuZXcgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB6b29tSW5kZXhlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpbmRleC50aWxlSUQgPSBpbmRleC50aWxlSUQudW53cmFwVG8oaW5kZXgudGlsZUlELndyYXAgKyB3cmFwRGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdab29tSW5kZXhbaW5kZXgudGlsZUlELmtleV0gPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3pvb21dID0gbmV3Wm9vbUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG5nID0gbG5nO1xuICAgIH1cblxuICAgIGFkZEJ1Y2tldCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldDogU3ltYm9sQnVja2V0LCBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcykge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gJiZcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0uYnVja2V0SW5zdGFuY2VJZCA9PT1cbiAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgcmVwbGFjaW5nIHRoaXMgYnVja2V0IHdpdGggYW4gdXBkYXRlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgYnVja2V0J3MgXCJ1c2VkIGNyb3NzVGlsZUlEc1wiIG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIG5ldyBidWNrZXQgY2FuIGNsYWltIHRoZW0uXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBpbmRleCBlbnRyaWVzIHRoZW1zZWx2ZXMgc3RpY2sgYXJvdW5kIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gJ3JlbW92ZVN0YWxlQnVja2V0cycgaXMgY2FsbGVkLlxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXSkge1xuICAgICAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6b29tQ3Jvc3NUaWxlSURzID0gdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl07XG5cbiAgICAgICAgZm9yIChjb25zdCB6b29tIGluIHRoaXMuaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHpvb20pID4gdGlsZUlELm92ZXJzY2FsZWRaKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB6b29tSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gem9vbUluZGV4ZXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJbmRleC50aWxlSUQuaXNDaGlsZE9mKHRpbGVJRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSW5kZXguZmluZE1hdGNoZXMoYnVja2V0LnN5bWJvbEluc3RhbmNlcywgdGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Q29vcmQgPSB0aWxlSUQuc2NhbGVkVG8oTnVtYmVyKHpvb20pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IHpvb21JbmRleGVzW3BhcmVudENvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4LmZpbmRNYXRjaGVzKGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIHRpbGVJRCwgem9vbUNyb3NzVGlsZUlEcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBkaWQgbm90IG1hdGNoIGFueSBrbm93biBzeW1ib2wsIGFzc2lnbiBhIG5ldyBpZFxuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gY3Jvc3NUaWxlSURzLmdlbmVyYXRlKCk7XG4gICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0gPSBuZXcgVGlsZUxheWVySW5kZXgodGlsZUlELCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHpvb206IHN0cmluZyB8IG51bWJlciwgcmVtb3ZlZEJ1Y2tldDogVGlsZUxheWVySW5kZXgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVtb3ZlZEJ1Y2tldC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHJlbW92ZWRCdWNrZXQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1soa2V5OiBhbnkpXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbem9vbV1bc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSkge1xuICAgICAgICBsZXQgdGlsZXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgeiBpbiB0aGlzLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21JbmRleGVzID0gdGhpcy5pbmRleGVzW3pdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlS2V5IGluIHpvb21JbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50SURzW3pvb21JbmRleGVzW3RpbGVLZXldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHosIHpvb21JbmRleGVzW3RpbGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHpvb21JbmRleGVzW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXNDaGFuZ2VkO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgge1xuICAgIGxheWVySW5kZXhlczoge1tsYXllcklkOiBzdHJpbmddOiBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4fTtcbiAgICBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcztcbiAgICBtYXhCdWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG4gICAgYnVja2V0c0luQ3VycmVudFBsYWNlbWVudDoge1tudW1iZXJdOiBib29sZWFufTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVySW5kZXhlcyA9IHt9O1xuICAgICAgICB0aGlzLmNyb3NzVGlsZUlEcyA9IG5ldyBDcm9zc1RpbGVJRHMoKTtcbiAgICAgICAgdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkID0gMDtcbiAgICAgICAgdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50ID0ge307XG4gICAgfVxuXG4gICAgYWRkTGF5ZXIoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+LCBsbmc6IG51bWJlcikge1xuICAgICAgICBsZXQgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW3N0eWxlTGF5ZXIuaWRdO1xuICAgICAgICBpZiAobGF5ZXJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllckluZGV4ID0gdGhpcy5sYXllckluZGV4ZXNbc3R5bGVMYXllci5pZF0gPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWNrZXRJRHMgPSB7fTtcblxuICAgICAgICBsYXllckluZGV4LmhhbmRsZVdyYXBKdW1wKGxuZyk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xCdWNrZXQgPSAoKHRpbGUuZ2V0QnVja2V0KHN0eWxlTGF5ZXIpOiBhbnkpOiBTeW1ib2xCdWNrZXQpO1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xCdWNrZXQgfHwgc3R5bGVMYXllci5pZCAhPT0gc3ltYm9sQnVja2V0LmxheWVySWRzWzBdKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgPSArK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxheWVySW5kZXguYWRkQnVja2V0KHRpbGUudGlsZUlELCBzeW1ib2xCdWNrZXQsIHRoaXMuY3Jvc3NUaWxlSURzKSkge1xuICAgICAgICAgICAgICAgIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRCdWNrZXRJRHNbc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXllckluZGV4LnJlbW92ZVN0YWxlQnVja2V0cyhjdXJyZW50QnVja2V0SURzKSkge1xuICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkO1xuICAgIH1cblxuICAgIHBydW5lVW51c2VkTGF5ZXJzKHVzZWRMYXllcnM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgY29uc3QgdXNlZExheWVyTWFwID0ge307XG4gICAgICAgIHVzZWRMYXllcnMuZm9yRWFjaCgodXNlZExheWVyKSA9PiB7XG4gICAgICAgICAgICB1c2VkTGF5ZXJNYXBbdXNlZExheWVyXSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5sYXllckluZGV4ZXMpIHtcbiAgICAgICAgICAgIGlmICghdXNlZExheWVyTWFwW2xheWVySWRdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2xheWVySWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllcic7XG5pbXBvcnQgY3JlYXRlU3R5bGVMYXllciBmcm9tICcuL2NyZWF0ZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgbG9hZFNwcml0ZSBmcm9tICcuL2xvYWRfc3ByaXRlJztcbmltcG9ydCBJbWFnZU1hbmFnZXIgZnJvbSAnLi4vcmVuZGVyL2ltYWdlX21hbmFnZXInO1xuaW1wb3J0IEdseXBoTWFuYWdlciBmcm9tICcuLi9yZW5kZXIvZ2x5cGhfbWFuYWdlcic7XG5pbXBvcnQgTGlnaHQgZnJvbSAnLi9saWdodCc7XG5pbXBvcnQgTGluZUF0bGFzIGZyb20gJy4uL3JlbmRlci9saW5lX2F0bGFzJztcbmltcG9ydCB7IHBpY2ssIGNsb25lLCBleHRlbmQsIGRlZXBFcXVhbCwgZmlsdGVyT2JqZWN0LCBtYXBPYmplY3QgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZ2V0SlNPTiwgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB7IGlzTWFwYm94VVJMLCBub3JtYWxpemVTdHlsZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgdmFsaWRhdGVTdHlsZSwgZW1pdFZhbGlkYXRpb25FcnJvcnMgYXMgX2VtaXRWYWxpZGF0aW9uRXJyb3JzIH0gZnJvbSAnLi92YWxpZGF0ZV9zdHlsZSc7XG5pbXBvcnQge1xuICAgIGdldFR5cGUgYXMgZ2V0U291cmNlVHlwZSxcbiAgICBzZXRUeXBlIGFzIHNldFNvdXJjZVR5cGUsXG4gICAgdHlwZSBTb3VyY2VDbGFzc1xufSBmcm9tICcuLi9zb3VyY2Uvc291cmNlJztcbmltcG9ydCB7IHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcywgcXVlcnlSZW5kZXJlZFN5bWJvbHMsIHF1ZXJ5U291cmNlRmVhdHVyZXMgfSBmcm9tICcuLi9zb3VyY2UvcXVlcnlfZmVhdHVyZXMnO1xuaW1wb3J0IFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IEdlb0pTT05Tb3VyY2UgZnJvbSAnLi4vc291cmNlL2dlb2pzb25fc291cmNlJztcbmltcG9ydCBzdHlsZVNwZWMgZnJvbSAnLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0JztcbmltcG9ydCBnZXRXb3JrZXJQb29sIGZyb20gJy4uL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sJztcbmltcG9ydCBkZXJlZiBmcm9tICcuLi9zdHlsZS1zcGVjL2RlcmVmJztcbmltcG9ydCBkaWZmU3R5bGVzLCB7b3BlcmF0aW9ucyBhcyBkaWZmT3BlcmF0aW9uc30gZnJvbSAnLi4vc3R5bGUtc3BlYy9kaWZmJztcbmltcG9ydCB7XG4gICAgcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHksXG4gICAgZXZlbnRlZCBhcyBydGxUZXh0UGx1Z2luRXZlbnRlZFxufSBmcm9tICcuLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luJztcbmltcG9ydCBQYXVzZWFibGVQbGFjZW1lbnQgZnJvbSAnLi9wYXVzZWFibGVfcGxhY2VtZW50JztcbmltcG9ydCBab29tSGlzdG9yeSBmcm9tICcuL3pvb21faGlzdG9yeSc7XG5pbXBvcnQgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggZnJvbSAnLi4vc3ltYm9sL2Nyb3NzX3RpbGVfc3ltYm9sX2luZGV4JztcbmltcG9ydCB7dmFsaWRhdGVDdXN0b21TdHlsZUxheWVyfSBmcm9tICcuL3N0eWxlX2xheWVyL2N1c3RvbV9zdHlsZV9sYXllcic7XG5cbi8vIFdlJ3JlIHNraXBwaW5nIHZhbGlkYXRpb24gZXJyb3JzIHdpdGggdGhlIGBzb3VyY2UuY2FudmFzYCBpZGVudGlmaWVyIGluIG9yZGVyXG4vLyB0byBjb250aW51ZSB0byBhbGxvdyBjYW52YXMgc291cmNlcyB0byBiZSBhZGRlZCBhdCBydW50aW1lL3VwZGF0ZWQgaW5cbi8vIHNtYXJ0IHNldFN0eWxlIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC82NDI0KTpcbmNvbnN0IGVtaXRWYWxpZGF0aW9uRXJyb3JzID0gKGV2ZW50ZWQ6IEV2ZW50ZWQsIGVycm9yczogPyRSZWFkT25seUFycmF5PHttZXNzYWdlOiBzdHJpbmcsIGlkZW50aWZpZXI/OiBzdHJpbmd9PikgPT5cbiAgICBfZW1pdFZhbGlkYXRpb25FcnJvcnMoZXZlbnRlZCwgZXJyb3JzICYmIGVycm9ycy5maWx0ZXIoZXJyb3IgPT4gZXJyb3IuaWRlbnRpZmllciAhPT0gJ3NvdXJjZS5jYW52YXMnKSk7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUge1N0eWxlSW1hZ2V9IGZyb20gJy4vc3R5bGVfaW1hZ2UnO1xuaW1wb3J0IHR5cGUge1N0eWxlR2x5cGh9IGZyb20gJy4vc3R5bGVfZ2x5cGgnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5pbXBvcnQgdHlwZSB7UGxhY2VtZW50fSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50JztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlJztcbmltcG9ydCB0eXBlIHtHZW9KU09OfSBmcm9tICdAbWFwYm94L2dlb2pzb24tdHlwZXMnO1xuaW1wb3J0IHR5cGUge1xuICAgIExheWVyU3BlY2lmaWNhdGlvbixcbiAgICBGaWx0ZXJTcGVjaWZpY2F0aW9uLFxuICAgIFN0eWxlU3BlY2lmaWNhdGlvbixcbiAgICBMaWdodFNwZWNpZmljYXRpb24sXG4gICAgU291cmNlU3BlY2lmaWNhdGlvblxufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzJztcbmltcG9ydCB0eXBlIHtDdXN0b21MYXllckludGVyZmFjZX0gZnJvbSAnLi9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXInO1xuXG5jb25zdCBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucyA9IHBpY2soZGlmZk9wZXJhdGlvbnMsIFtcbiAgICAnYWRkTGF5ZXInLFxuICAgICdyZW1vdmVMYXllcicsXG4gICAgJ3NldFBhaW50UHJvcGVydHknLFxuICAgICdzZXRMYXlvdXRQcm9wZXJ0eScsXG4gICAgJ3NldEZpbHRlcicsXG4gICAgJ2FkZFNvdXJjZScsXG4gICAgJ3JlbW92ZVNvdXJjZScsXG4gICAgJ3NldExheWVyWm9vbVJhbmdlJyxcbiAgICAnc2V0TGlnaHQnLFxuICAgICdzZXRUcmFuc2l0aW9uJyxcbiAgICAnc2V0R2VvSlNPTlNvdXJjZURhdGEnXG4gICAgLy8gJ3NldEdseXBocycsXG4gICAgLy8gJ3NldFNwcml0ZScsXG5dKTtcblxuY29uc3QgaWdub3JlZERpZmZPcGVyYXRpb25zID0gcGljayhkaWZmT3BlcmF0aW9ucywgW1xuICAgICdzZXRDZW50ZXInLFxuICAgICdzZXRab29tJyxcbiAgICAnc2V0QmVhcmluZycsXG4gICAgJ3NldFBpdGNoJ1xuXSk7XG5cbmV4cG9ydCB0eXBlIFN0eWxlT3B0aW9ucyA9IHtcbiAgICB2YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Pzogc3RyaW5nXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFN0eWxlIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgbWFwOiBNYXA7XG4gICAgc3R5bGVzaGVldDogU3R5bGVTcGVjaWZpY2F0aW9uO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgaW1hZ2VNYW5hZ2VyOiBJbWFnZU1hbmFnZXI7XG4gICAgZ2x5cGhNYW5hZ2VyOiBHbHlwaE1hbmFnZXI7XG4gICAgbGluZUF0bGFzOiBMaW5lQXRsYXM7XG4gICAgbGlnaHQ6IExpZ2h0O1xuXG4gICAgX3JlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuICAgIF9zcHJpdGVSZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcbiAgICBfbGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9vcmRlcjogQXJyYXk8c3RyaW5nPjtcbiAgICBzb3VyY2VDYWNoZXM6IHtbc3RyaW5nXTogU291cmNlQ2FjaGV9O1xuICAgIHpvb21IaXN0b3J5OiBab29tSGlzdG9yeTtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIF9jaGFuZ2VkOiBib29sZWFuO1xuICAgIF91cGRhdGVkU291cmNlczoge1tzdHJpbmddOiAnY2xlYXInIHwgJ3JlbG9hZCd9O1xuICAgIF91cGRhdGVkTGF5ZXJzOiB7W3N0cmluZ106IHRydWV9O1xuICAgIF9yZW1vdmVkTGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF91cGRhdGVkUGFpbnRQcm9wczoge1tsYXllcjogc3RyaW5nXTogdHJ1ZX07XG4gICAgX2xheWVyT3JkZXJDaGFuZ2VkOiBib29sZWFuO1xuXG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHBhdXNlYWJsZVBsYWNlbWVudDogUGF1c2VhYmxlUGxhY2VtZW50O1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIHo6IG51bWJlcjtcblxuICAgIC8vIGV4cG9zZWQgdG8gYWxsb3cgc3R1YmJpbmcgYnkgdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBnZXRTb3VyY2VUeXBlOiB0eXBlb2YgZ2V0U291cmNlVHlwZTtcbiAgICBzdGF0aWMgc2V0U291cmNlVHlwZTogdHlwZW9mIHNldFNvdXJjZVR5cGU7XG4gICAgc3RhdGljIHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5OiB0eXBlb2YgcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHk7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogU3R5bGVPcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoZ2V0V29ya2VyUG9vbCgpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIgPSBuZXcgSW1hZ2VNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyID0gbmV3IEdseXBoTWFuYWdlcihtYXAuX3RyYW5zZm9ybVJlcXVlc3QsIG9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KTtcbiAgICAgICAgdGhpcy5saW5lQXRsYXMgPSBuZXcgTGluZUF0bGFzKDI1NiwgNTEyKTtcbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9vcmRlciAgPSBbXTtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXMgPSB7fTtcbiAgICAgICAgdGhpcy56b29tSGlzdG9yeSA9IG5ldyBab29tSGlzdG9yeSgpO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9yZXNldFVwZGF0ZXMoKTtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrID0gU3R5bGUucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHkoKGFyZ3MpID0+IHtcbiAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ2xvYWRSVExUZXh0UGx1Z2luJywgYXJncy5wbHVnaW5VUkwsIGFyZ3MuY29tcGxldGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gc2VsZi5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNvdXJjZUNhY2hlc1tpZF0ucmVsb2FkKCk7IC8vIFNob3VsZCBiZSBhIG5vLW9wIGlmIHRoZSBwbHVnaW4gbG9hZHMgYmVmb3JlIGFueSB0aWxlcyBsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHlwZSAhPT0gJ3NvdXJjZScgfHwgZXZlbnQuc291cmNlRGF0YVR5cGUgIT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbZXZlbnQuc291cmNlSWRdO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSB8fCAhc291cmNlLnZlY3RvckxheWVySWRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnNvdXJjZSA9PT0gc291cmNlLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZFVSTCh1cmw6IHN0cmluZywgb3B0aW9uczoge1xuICAgICAgICB2YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nXG4gICAgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlID0gdHlwZW9mIG9wdGlvbnMudmFsaWRhdGUgPT09ICdib29sZWFuJyA/XG4gICAgICAgICAgICBvcHRpb25zLnZhbGlkYXRlIDogIWlzTWFwYm94VVJMKHVybCk7XG5cbiAgICAgICAgdXJsID0gbm9ybWFsaXplU3R5bGVVUkwodXJsLCBvcHRpb25zLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlN0eWxlKTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gZ2V0SlNPTihyZXF1ZXN0LCAoZXJyb3IsIGpzb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycm9yKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkKChqc29uOiBhbnkpLCB2YWxpZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRKU09OKGpzb246IFN0eWxlU3BlY2lmaWNhdGlvbiwgb3B0aW9uczoge1xuICAgICAgICB2YWxpZGF0ZT86IGJvb2xlYW5cbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG5cbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IGJyb3dzZXIuZnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sb2FkKGpzb24sIG9wdGlvbnMudmFsaWRhdGUgIT09IGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWQoanNvbjogU3R5bGVTcGVjaWZpY2F0aW9uLCB2YWxpZGF0ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodmFsaWRhdGUgJiYgZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVTdHlsZShqc29uKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IGpzb247XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBqc29uLnNvdXJjZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU291cmNlKGlkLCBqc29uLnNvdXJjZXNbaWRdLCB7dmFsaWRhdGU6IGZhbHNlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanNvbi5zcHJpdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlcXVlc3QgPSBsb2FkU3ByaXRlKGpzb24uc3ByaXRlLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgaW1hZ2VzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZXNbaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdseXBoTWFuYWdlci5zZXRVUkwoanNvbi5nbHlwaHMpO1xuXG4gICAgICAgIGNvbnN0IGxheWVycyA9IGRlcmVmKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO1xuXG4gICAgICAgIHRoaXMuX29yZGVyID0gbGF5ZXJzLm1hcCgobGF5ZXIpID0+IGxheWVyLmlkKTtcblxuICAgICAgICB0aGlzLl9sYXllcnMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgbGF5ZXIgb2YgbGF5ZXJzKSB7XG4gICAgICAgICAgICBsYXllciA9IGNyZWF0ZVN0eWxlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCB7bGF5ZXI6IHtpZDogbGF5ZXIuaWR9fSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzZXRMYXllcnMnLCB0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKTtcblxuICAgICAgICB0aGlzLmxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuc3R5bGVzaGVldC5saWdodCk7XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnc3R5bGUubG9hZCcpKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVMYXllcihsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV07XG4gICAgICAgIGlmICghc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUxheWVyID0gbGF5ZXIuc291cmNlTGF5ZXI7XG4gICAgICAgIGlmICghc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyB8fCAoc291cmNlLnZlY3RvckxheWVySWRzICYmIHNvdXJjZS52ZWN0b3JMYXllcklkcy5pbmRleE9mKHNvdXJjZUxheWVyKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBTb3VyY2UgbGF5ZXIgXCIke3NvdXJjZUxheWVyfVwiIGAgK1xuICAgICAgICAgICAgICAgIGBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3NvdXJjZS5pZH1cIiBgICtcbiAgICAgICAgICAgICAgICBgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtsYXllci5pZH1cImBcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcylcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmxvYWRlZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VNYW5hZ2VyLmlzTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX3NlcmlhbGl6ZUxheWVycyhpZHM6IEFycmF5PHN0cmluZz4pOiBBcnJheTxPYmplY3Q+IHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZExheWVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICAgICAgaWYgKGxheWVyLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZExheWVycy5wdXNoKGxheWVyLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VyaWFsaXplZExheWVycztcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMubGlnaHQgJiYgdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2hlY2tMb2FkZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0eWxlIGlzIG5vdCBkb25lIGxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHF1ZXVlZCBzdHlsZSB1cGRhdGVzIGluIGEgYmF0Y2ggYW5kIHJlY2FsY3VsYXRlIHpvb20tZGVwZW5kZW50IHBhaW50IHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgdXBkYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY2hhbmdlZCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZElkcyA9IE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRMYXllcnMpO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZElkcyA9IE9iamVjdC5rZXlzKHRoaXMuX3JlbW92ZWRMYXllcnMpO1xuXG4gICAgICAgICAgICBpZiAodXBkYXRlZElkcy5sZW5ndGggfHwgcmVtb3ZlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJMYXllcnModXBkYXRlZElkcywgcmVtb3ZlZElkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5fdXBkYXRlZFNvdXJjZXNbaWRdO1xuICAgICAgICAgICAgICAgIGFzc2VydChhY3Rpb24gPT09ICdyZWxvYWQnIHx8IGFjdGlvbiA9PT0gJ2NsZWFyJyk7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JlbG9hZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVsb2FkU291cmNlKGlkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2NsZWFyJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhclNvdXJjZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXS51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRVcGRhdGVzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tzb3VyY2VJZF0udXNlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcblxuICAgICAgICAgICAgbGF5ZXIucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgICAgICBpZiAoIWxheWVyLmlzSGlkZGVuKHBhcmFtZXRlcnMuem9vbSkgJiYgbGF5ZXIuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXS51c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGlnaHQucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgIHRoaXMueiA9IHBhcmFtZXRlcnMuem9vbTtcbiAgICB9XG5cbiAgICBfdXBkYXRlV29ya2VyTGF5ZXJzKHVwZGF0ZWRJZHM6IEFycmF5PHN0cmluZz4sIHJlbW92ZWRJZHM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgndXBkYXRlTGF5ZXJzJywge1xuICAgICAgICAgICAgbGF5ZXJzOiB0aGlzLl9zZXJpYWxpemVMYXllcnModXBkYXRlZElkcyksXG4gICAgICAgICAgICByZW1vdmVkSWRzOiByZW1vdmVkSWRzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9yZXNldFVwZGF0ZXMoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91cGRhdGVkTGF5ZXJzID0ge307XG4gICAgICAgIHRoaXMuX3JlbW92ZWRMYXllcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlcyA9IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIHN0eWxlJ3Mgc3RhdGUgdG8gbWF0Y2ggdGhlIGdpdmVuIHN0eWxlIEpTT04sIHBlcmZvcm1pbmcgb25seVxuICAgICAqIHRoZSBuZWNlc3NhcnkgbXV0YXRpb25zLlxuICAgICAqXG4gICAgICogTWF5IHRocm93IGFuIEVycm9yICgnVW5pbXBsZW1lbnRlZDogTUVUSE9EJykgaWYgdGhlIG1hcGJveC1nbC1zdHlsZS1zcGVjXG4gICAgICogZGlmZiBhbGdvcml0aG0gcHJvZHVjZXMgYW4gb3BlcmF0aW9uIHRoYXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGFueSBjaGFuZ2VzIHdlcmUgbWFkZTsgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXh0U3RhdGU6IFN0eWxlU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmIChlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKG5leHRTdGF0ZSkpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbmV4dFN0YXRlID0gY2xvbmUobmV4dFN0YXRlKTtcbiAgICAgICAgbmV4dFN0YXRlLmxheWVycyA9IGRlcmVmKG5leHRTdGF0ZS5sYXllcnMpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBkaWZmU3R5bGVzKHRoaXMuc2VyaWFsaXplKCksIG5leHRTdGF0ZSlcbiAgICAgICAgICAgIC5maWx0ZXIob3AgPT4gIShvcC5jb21tYW5kIGluIGlnbm9yZWREaWZmT3BlcmF0aW9ucykpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZE9wcyA9IGNoYW5nZXMuZmlsdGVyKG9wID0+ICEob3AuY29tbWFuZCBpbiBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucykpO1xuICAgICAgICBpZiAodW5pbXBsZW1lbnRlZE9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaW1wbGVtZW50ZWQ6ICR7dW5pbXBsZW1lbnRlZE9wcy5tYXAob3AgPT4gb3AuY29tbWFuZCkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKG9wKSA9PiB7XG4gICAgICAgICAgICBpZiAob3AuY29tbWFuZCA9PT0gJ3NldFRyYW5zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gYHRyYW5zaXRpb25gIGlzIGFsd2F5cyByZWFkIGRpcmVjdGx5IG9mZiBvZlxuICAgICAgICAgICAgICAgIC8vIGB0aGlzLnN0eWxlc2hlZXRgLCB3aGljaCB3ZSB1cGRhdGUgYmVsb3dcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAodGhpczogYW55KVtvcC5jb21tYW5kXS5hcHBseSh0aGlzLCBvcC5hcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gbmV4dFN0YXRlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFkZEltYWdlKGlkOiBzdHJpbmcsIGltYWdlOiBTdHlsZUltYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0FuIGltYWdlIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLicpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoaWQsIGltYWdlKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZShpZDogc3RyaW5nKTogP1N0eWxlSW1hZ2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ05vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGlkKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICB9XG5cbiAgICBsaXN0SW1hZ2VzKCkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgYWRkU291cmNlKGlkOiBzdHJpbmcsIHNvdXJjZTogU291cmNlU3BlY2lmaWNhdGlvbiwgb3B0aW9ucz86IHt2YWxpZGF0ZT86IGJvb2xlYW59KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGVzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IHRoZSBvbmx5IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyB3ZXJlIGdpdmVuOiAke09iamVjdC5rZXlzKHNvdXJjZSkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidWlsdElucyA9IFsndmVjdG9yJywgJ3Jhc3RlcicsICdnZW9qc29uJywgJ3ZpZGVvJywgJ2ltYWdlJ107XG4gICAgICAgIGNvbnN0IHNob3VsZFZhbGlkYXRlID0gYnVpbHRJbnMuaW5kZXhPZihzb3VyY2UudHlwZSkgPj0gMDtcbiAgICAgICAgaWYgKHNob3VsZFZhbGlkYXRlICYmIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuc291cmNlLCBgc291cmNlcy4ke2lkfWAsIHNvdXJjZSwgbnVsbCwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tYXAgJiYgdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZykgKHNvdXJjZTogYW55KS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2lkXSA9IG5ldyBTb3VyY2VDYWNoZShpZCwgc291cmNlLCB0aGlzLmRpc3BhdGNoZXIpO1xuICAgICAgICBzb3VyY2VDYWNoZS5zdHlsZSA9IHRoaXM7XG4gICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQodGhpcywgKCkgPT4gKHtcbiAgICAgICAgICAgIGlzU291cmNlTG9hZGVkOiB0aGlzLmxvYWRlZCgpLFxuICAgICAgICAgICAgc291cmNlOiBzb3VyY2VDYWNoZS5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIHNvdXJjZUlkOiBpZFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgc291cmNlQ2FjaGUub25BZGQodGhpcy5tYXApO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzb3VyY2UgZnJvbSB0aGlzIHN0eWxlc2hlZXQsIGdpdmVuIGl0cyBpZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIHNvdXJjZSB0byByZW1vdmVcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gc291cmNlIGlzIGZvdW5kIHdpdGggdGhlIGdpdmVuIElEXG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBpZiAodGhpcy5zb3VyY2VDYWNoZXNbaWRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYXllcnNbbGF5ZXJJZF0uc291cmNlID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke2lkfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIGxheWVyIFwiJHtsYXllcklkfVwiIGlzIHVzaW5nIGl0LmApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2lkXTtcbiAgICAgICAgc291cmNlQ2FjaGUuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7c291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YScsIGRhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VJZDogaWR9KSk7XG4gICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIHNvdXJjZUNhY2hlLmNsZWFyVGlsZXMoKTtcblxuICAgICAgICBpZiAoc291cmNlQ2FjaGUub25SZW1vdmUpIHNvdXJjZUNhY2hlLm9uUmVtb3ZlKHRoaXMubWFwKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBTZXQgdGhlIGRhdGEgb2YgYSBHZW9KU09OIHNvdXJjZSwgZ2l2ZW4gaXRzIGlkLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBzb3VyY2VcbiAgICAqIEBwYXJhbSB7R2VvSlNPTnxzdHJpbmd9IGRhdGEgR2VvSlNPTiBzb3VyY2VcbiAgICAqL1xuICAgIHNldEdlb0pTT05Tb3VyY2VEYXRhKGlkOiBzdHJpbmcsIGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBhc3NlcnQodGhpcy5zb3VyY2VDYWNoZXNbaWRdICE9PSB1bmRlZmluZWQsICdUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIGNvbnN0IGdlb2pzb25Tb3VyY2U6IEdlb0pTT05Tb3VyY2UgPSAodGhpcy5zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpOiBhbnkpO1xuICAgICAgICBhc3NlcnQoZ2VvanNvblNvdXJjZS50eXBlID09PSAnZ2VvanNvbicpO1xuXG4gICAgICAgIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc291cmNlIGJ5IGlkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgZGVzaXJlZCBzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzb3VyY2VcbiAgICAgKi9cbiAgICBnZXRTb3VyY2UoaWQ6IHN0cmluZyk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZUNhY2hlc1tpZF0gJiYgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxheWVyIHRvIHRoZSBtYXAgc3R5bGUuIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlXSBJRCBvZiBhbiBleGlzdGluZyBsYXllciB0byBpbnNlcnQgYmVmb3JlXG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXJPYmplY3Q6IExheWVyU3BlY2lmaWNhdGlvbiB8IEN1c3RvbUxheWVySW50ZXJmYWNlLCBiZWZvcmU/OiBzdHJpbmcsIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGlkID0gbGF5ZXJPYmplY3QuaWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpZH1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF5ZXI7XG4gICAgICAgIGlmIChsYXllck9iamVjdC50eXBlID09PSAnY3VzdG9tJykge1xuXG4gICAgICAgICAgICBpZiAoZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKGxheWVyT2JqZWN0KSkpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXllck9iamVjdC5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGxheWVyT2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSBjbG9uZShsYXllck9iamVjdCk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSAoZXh0ZW5kKGxheWVyT2JqZWN0LCB7c291cmNlOiBpZH0pOiBhbnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5LCBzbyB3ZSBwYXNzIGFuIGltcG9zc2libGUgYXJyYXkgaW5kZXhcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxheWVyLFxuICAgICAgICAgICAgICAgIGBsYXllcnMuJHtpZH1gLCBsYXllck9iamVjdCwge2FycmF5SW5kZXg6IC0xfSwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuXG4gICAgICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtsYXllcjoge2lkOiBpZH19KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYmVmb3JlID8gdGhpcy5fb3JkZXIuaW5kZXhPZihiZWZvcmUpIDogdGhpcy5fb3JkZXIubGVuZ3RoO1xuICAgICAgICBpZiAoYmVmb3JlICYmIGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7YmVmb3JlfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UoaW5kZXgsIDAsIGlkKTtcbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX2xheWVyc1tpZF0gPSBsYXllcjtcblxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gJiYgbGF5ZXIuc291cmNlICYmIGxheWVyLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICAvLyBJZiwgaW4gdGhlIGN1cnJlbnQgYmF0Y2gsIHdlIGhhdmUgYWxyZWFkeSByZW1vdmVkIHRoaXMgbGF5ZXJcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBhcmUgbm93IHJlLWFkZGluZyBpdCB3aXRoIGEgZGlmZmVyZW50IGB0eXBlYCwgdGhlbiB3ZVxuICAgICAgICAgICAgLy8gbmVlZCB0byBjbGVhciAocmF0aGVyIHRoYW4ganVzdCByZWxvYWQpIHRoZSB1bmRlcnlsaW5nIHNvdXJjZSdzXG4gICAgICAgICAgICAvLyB0aWxlcy4gIE90aGVyd2lzZSwgdGlsZXMgbWFya2VkICdyZWxvYWRpbmcnIHdpbGwgaGF2ZSBidWNrZXRzIC9cbiAgICAgICAgICAgIC8vIGJ1ZmZlcnMgdGhhdCBhcmUgc2V0IHVwIGZvciB0aGUgX3ByZXZpb3VzXyB2ZXJzaW9uIG9mIHRoaXNcbiAgICAgICAgICAgIC8vIGxheWVyLCBjYXVzaW5nLCBlLmcuOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzM2MzNcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkLnR5cGUgIT09IGxheWVyLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ2NsZWFyJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9ICdyZWxvYWQnO1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV0ucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG5cbiAgICAgICAgaWYgKGxheWVyLm9uQWRkKSB7XG4gICAgICAgICAgICBsYXllci5vbkFkZCh0aGlzLm1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGxheWVyIHRvIGEgZGlmZmVyZW50IHotcG9zaXRpb24uIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IGJlZm9yZVxuICAgICAqL1xuICAgIG1vdmVMYXllcihpZDogc3RyaW5nLCBiZWZvcmU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7aWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkID09PSBiZWZvcmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBiZWZvcmUgPyB0aGlzLl9vcmRlci5pbmRleE9mKGJlZm9yZSkgOiB0aGlzLl9vcmRlci5sZW5ndGg7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgbmV3SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtiZWZvcmV9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UobmV3SW5kZXgsIDAsIGlkKTtcblxuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIElmIG5vIHN1Y2ggbGF5ZXIgZXhpc3RzLCBhbiBgZXJyb3JgIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBsYXllciB0byByZW1vdmVcbiAgICAgKiBAZmlyZXMgZXJyb3JcbiAgICAgKi9cbiAgICByZW1vdmVMYXllcihpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7aWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gPSBsYXllcjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkTGF5ZXJzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2lkXTtcblxuICAgICAgICBpZiAobGF5ZXIub25SZW1vdmUpIHtcbiAgICAgICAgICAgIGxheWVyLm9uUmVtb3ZlKHRoaXMubWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3R5bGUgbGF5ZXIgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGBpZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpZCBvZiB0aGUgZGVzaXJlZCBsYXllclxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBhIGxheWVyLCBpZiBvbmUgd2l0aCB0aGUgZ2l2ZW4gYGlkYCBleGlzdHNcbiAgICAgKi9cbiAgICBnZXRMYXllcihpZDogc3RyaW5nKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheWVyc1tpZF07XG4gICAgfVxuXG4gICAgc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZDogc3RyaW5nLCBtaW56b29tOiA/bnVtYmVyLCBtYXh6b29tOiA/bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXllci5taW56b29tID09PSBtaW56b29tICYmIGxheWVyLm1heHpvb20gPT09IG1heHpvb20pIHJldHVybjtcblxuICAgICAgICBpZiAobWluem9vbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXllci5taW56b29tID0gbWluem9vbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4em9vbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXllci5tYXh6b29tID0gbWF4em9vbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgc2V0RmlsdGVyKGxheWVySWQ6IHN0cmluZywgZmlsdGVyOiA/RmlsdGVyU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5maWx0ZXIsIGZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxheWVyLmZpbHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlciwgYGxheWVycy4ke2xheWVyLmlkfS5maWx0ZXJgLCBmaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXllci5maWx0ZXIgPSBjbG9uZShmaWx0ZXIpO1xuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGF5ZXIncyBmaWx0ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIHRoZSBsYXllciB0byBpbnNwZWN0XG4gICAgICogQHJldHVybnMgeyp9IHRoZSBsYXllcidzIGZpbHRlciwgaWYgYW55XG4gICAgICovXG4gICAgZ2V0RmlsdGVyKGxheWVyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lKHRoaXMuZ2V0TGF5ZXIobGF5ZXIpLmZpbHRlcik7XG4gICAgfVxuXG4gICAgc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcEVxdWFsKGxheWVyLmdldExheW91dFByb3BlcnR5KG5hbWUpLCB2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICBsYXllci5zZXRMYXlvdXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYXlvdXQgcHJvcGVydHkncyB2YWx1ZSBmcm9tIGEgZ2l2ZW4gbGF5ZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgdGhlIGxheWVyIHRvIGluc3BlY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5XG4gICAgICogQHJldHVybnMgeyp9IHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqL1xuICAgIGdldExheW91dFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcihsYXllcikuZ2V0TGF5b3V0UHJvcGVydHkobmFtZSk7XG4gICAgfVxuXG4gICAgc2V0UGFpbnRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eShuYW1lKSwgdmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcmVxdWlyZXNSZWxheW91dCA9IGxheWVyLnNldFBhaW50UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAocmVxdWlyZXNSZWxheW91dCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRQYWludFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcihsYXllcikuZ2V0UGFpbnRQcm9wZXJ0eShuYW1lKTtcbiAgICB9XG5cbiAgICBzZXRGZWF0dXJlU3RhdGUoZmVhdHVyZTogeyBzb3VyY2U6IHN0cmluZzsgc291cmNlTGF5ZXI/OiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXI7IH0sIHN0YXRlOiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgY29uc3Qgc291cmNlSWQgPSBmZWF0dXJlLnNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBmZWF0dXJlLnNvdXJjZUxheWVyO1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW3NvdXJjZUlkXTtcbiAgICAgICAgY29uc3QgZmVhdHVyZUlkID0gcGFyc2VJbnQoZmVhdHVyZS5pZCwgMTApO1xuXG4gICAgICAgIGlmIChzb3VyY2VDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke3NvdXJjZUlkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlVHlwZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnR5cGU7XG4gICAgICAgIGlmIChzb3VyY2VUeXBlID09PSAndmVjdG9yJyAmJiAhc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hTihmZWF0dXJlSWQpIHx8IGZlYXR1cmVJZCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGFuZCBub24tbmVnYXRpdmUuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZUNhY2hlLnNldEZlYXR1cmVTdGF0ZShzb3VyY2VMYXllciwgZmVhdHVyZUlkLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0RmVhdHVyZVN0YXRlKGZlYXR1cmU6IHsgc291cmNlOiBzdHJpbmc7IHNvdXJjZUxheWVyPzogc3RyaW5nOyBpZDogc3RyaW5nIHwgbnVtYmVyOyB9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUlkID0gZmVhdHVyZS5zb3VyY2U7XG4gICAgICAgIGNvbnN0IHNvdXJjZUxheWVyID0gZmVhdHVyZS5zb3VyY2VMYXllcjtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tzb3VyY2VJZF07XG4gICAgICAgIGNvbnN0IGZlYXR1cmVJZCA9IHBhcnNlSW50KGZlYXR1cmUuaWQsIDEwKTtcblxuICAgICAgICBpZiAoc291cmNlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50eXBlO1xuICAgICAgICBpZiAoc291cmNlVHlwZSA9PT0gJ3ZlY3RvcicgJiYgIXNvdXJjZUxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oZmVhdHVyZUlkKSB8fCBmZWF0dXJlSWQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBhbmQgbm9uLW5lZ2F0aXZlLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291cmNlQ2FjaGUuZ2V0RmVhdHVyZVN0YXRlKHNvdXJjZUxheWVyLCBmZWF0dXJlSWQpO1xuICAgIH1cblxuICAgIGdldFRyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoeyBkdXJhdGlvbjogMzAwLCBkZWxheTogMCB9LCB0aGlzLnN0eWxlc2hlZXQgJiYgdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlck9iamVjdCh7XG4gICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc3R5bGVzaGVldC5uYW1lLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxcbiAgICAgICAgICAgIGxpZ2h0OiB0aGlzLnN0eWxlc2hlZXQubGlnaHQsXG4gICAgICAgICAgICBjZW50ZXI6IHRoaXMuc3R5bGVzaGVldC5jZW50ZXIsXG4gICAgICAgICAgICB6b29tOiB0aGlzLnN0eWxlc2hlZXQuem9vbSxcbiAgICAgICAgICAgIGJlYXJpbmc6IHRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLFxuICAgICAgICAgICAgcGl0Y2g6IHRoaXMuc3R5bGVzaGVldC5waXRjaCxcbiAgICAgICAgICAgIHNwcml0ZTogdGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxcbiAgICAgICAgICAgIGdseXBoczogdGhpcy5zdHlsZXNoZWV0LmdseXBocyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLFxuICAgICAgICAgICAgc291cmNlczogbWFwT2JqZWN0KHRoaXMuc291cmNlQ2FjaGVzLCAoc291cmNlKSA9PiBzb3VyY2Uuc2VyaWFsaXplKCkpLFxuICAgICAgICAgICAgbGF5ZXJzOiB0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpXG4gICAgICAgIH0sICh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDsgfSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxheWVyKGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRMYXllcnNbbGF5ZXIuaWRdID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxheWVyLnNvdXJjZSAmJiAhdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9ICdyZWxvYWQnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VSZXN1bHRzOiBBcnJheTxhbnk+KSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzb3VyY2VSZXN1bHQgb2Ygc291cmNlUmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyRmVhdHVyZXMgPSBzb3VyY2VSZXN1bHRbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhxdWVyeUdlb21ldHJ5OiBhbnksIHBhcmFtczogYW55LCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuZmlsdGVyLCAncXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5jbHVkZWRTb3VyY2VzID0ge307XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxheWVycykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcy5sYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcigncGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS4nKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiBwYXJhbXMubGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNsdWRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VSZXN1bHRzID0gW107XG4gICAgICAgIGNvbnN0IHF1ZXJ5Q29vcmRpbmF0ZXMgPSBxdWVyeUdlb21ldHJ5Lm1hcCgocCkgPT4gdHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZShwKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5sYXllcnMgJiYgIWluY2x1ZGVkU291cmNlc1tpZF0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgc291cmNlUmVzdWx0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnMsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgLy8gSWYgYSBwbGFjZW1lbnQgaGFzIHJ1biwgcXVlcnkgYWdhaW5zdCBpdHMgQ29sbGlzaW9uSW5kZXhcbiAgICAgICAgICAgIC8vIGZvciBzeW1ib2wgcmVzdWx0cywgYW5kIHRyZWF0IGl0IGFzIGFuIGV4dHJhIHNvdXJjZSB0byBtZXJnZVxuICAgICAgICAgICAgc291cmNlUmVzdWx0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHF1ZXJ5UmVuZGVyZWRTeW1ib2xzKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYXR0ZW5SZW5kZXJlZEZlYXR1cmVzKHNvdXJjZVJlc3VsdHMpO1xuICAgIH1cblxuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1zOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+fSkge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuZmlsdGVyLCAncXVlcnlTb3VyY2VGZWF0dXJlcy5maWx0ZXInLCBwYXJhbXMuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW3NvdXJjZUlEXTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlID8gcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VDYWNoZSwgcGFyYW1zKSA6IFtdO1xuICAgIH1cblxuICAgIGFkZFNvdXJjZVR5cGUobmFtZTogc3RyaW5nLCBTb3VyY2VUeXBlOiBTb3VyY2VDbGFzcywgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGlmIChTdHlsZS5nZXRTb3VyY2VUeXBlKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKGBBIHNvdXJjZSB0eXBlIGNhbGxlZCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKSk7XG4gICAgICAgIH1cblxuICAgICAgICBTdHlsZS5zZXRTb3VyY2VUeXBlKG5hbWUsIFNvdXJjZVR5cGUpO1xuXG4gICAgICAgIGlmICghU291cmNlVHlwZS53b3JrZXJTb3VyY2VVUkwpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ2xvYWRXb3JrZXJTb3VyY2UnLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiBTb3VyY2VUeXBlLndvcmtlclNvdXJjZVVSTFxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZ2V0TGlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgc2V0TGlnaHQobGlnaHRPcHRpb25zOiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsaWdodCA9IHRoaXMubGlnaHQuZ2V0TGlnaHQoKTtcbiAgICAgICAgbGV0IF91cGRhdGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbGlnaHRPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChsaWdodE9wdGlvbnNba2V5XSwgbGlnaHRba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBfdXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIV91cGRhdGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgICAgbm93OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgIGRlbGF5OiAwXG4gICAgICAgICAgICB9LCB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbilcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxpZ2h0LnNldExpZ2h0KGxpZ2h0T3B0aW9ucyk7XG4gICAgICAgIHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiAoe30pID0+IHZvaWQsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBwcm9wczogYW55LCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGUuY2FsbCh2YWxpZGF0ZVN0eWxlLCBleHRlbmQoe1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHN0eWxlU3BlYzogc3R5bGVTcGVjXG4gICAgICAgIH0sIHByb3BzKSkpO1xuICAgIH1cblxuICAgIF9yZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Nwcml0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBydGxUZXh0UGx1Z2luRXZlbnRlZC5vZmYoJ3BsdWdpbkF2YWlsYWJsZScsIHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9jbGVhclNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgfVxuXG4gICAgX3JlbG9hZFNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5yZXN1bWUoKTtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIF91cGRhdGVTb3VyY2VzKHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS51cGRhdGUodHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRTb3VyY2UoaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBsYWNlbWVudCh0cmFuc2Zvcm06IFRyYW5zZm9ybSwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBmYWRlRHVyYXRpb246IG51bWJlciwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGxhY2VtZW50Q29tbWl0dGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJUaWxlcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKCFsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbc3R5bGVMYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgICAgIGxheWVyVGlsZXNbc3R5bGVMYXllci5zb3VyY2VdID0gc291cmNlQ2FjaGUuZ2V0UmVuZGVyYWJsZUlkcyh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoaWQpKVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGIudGlsZUlELm92ZXJzY2FsZWRaIC0gYS50aWxlSUQub3ZlcnNjYWxlZFopIHx8IChhLnRpbGVJRC5pc0xlc3NUaGFuKGIudGlsZUlEKSA/IC0xIDogMSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsYXllckJ1Y2tldHNDaGFuZ2VkID0gdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihzdHlsZUxheWVyLCBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSwgdHJhbnNmb3JtLmNlbnRlci5sbmcpO1xuICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSBzeW1ib2xCdWNrZXRzQ2hhbmdlZCB8fCBsYXllckJ1Y2tldHNDaGFuZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXgucHJ1bmVVbnVzZWRMYXllcnModGhpcy5fb3JkZXIpO1xuXG4gICAgICAgIC8vIEFueXRoaW5nIHRoYXQgY2hhbmdlcyBvdXIgXCJpbiBwcm9ncmVzc1wiIGxheWVyIGFuZCB0aWxlIGluZGljZXMgcmVxdWlyZXMgdXNcbiAgICAgICAgLy8gdG8gc3RhcnQgb3Zlci4gV2hlbiB3ZSBzdGFydCBvdmVyLCB3ZSBkbyBhIGZ1bGwgcGxhY2VtZW50IGluc3RlYWQgb2YgaW5jcmVtZW50YWxcbiAgICAgICAgLy8gdG8gcHJldmVudCBzdGFydmF0aW9uLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIHJlc3RhcnQgcGxhY2VtZW50IHRvIGtlZXAgbGF5ZXIgaW5kaWNlcyBpbiBzeW5jLlxuICAgICAgICBjb25zdCBmb3JjZUZ1bGxQbGFjZW1lbnQgPSB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZDtcblxuICAgICAgICBpZiAoZm9yY2VGdWxsUGxhY2VtZW50IHx8ICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudCB8fCAodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkgJiYgIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGJyb3dzZXIubm93KCkpKSkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQgPSBuZXcgUGF1c2VhYmxlUGxhY2VtZW50KHRyYW5zZm9ybSwgdGhpcy5fb3JkZXIsIGZvcmNlRnVsbFBsYWNlbWVudCwgc2hvd0NvbGxpc2lvbkJveGVzLCBmYWRlRHVyYXRpb24sIGNyb3NzU291cmNlQ29sbGlzaW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBwbGFjZW1lbnQgZmluaXNoZWQgcnVubmluZywgYnV0IHRoZSBuZXh0IG9uZSBoYXNu4oCZdFxuICAgICAgICAgICAgLy8gc3RhcnRlZCB5ZXQgYmVjYXVzZSBvZiB0aGUgYHN0aWxsUmVjZW50YCBjaGVjayBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gYWJvdmUsIHNvIG1hcmsgaXQgc3RhbGUgdG8gZW5zdXJlIHRoYXQgd2UgcmVxdWVzdCBhbm90aGVyXG4gICAgICAgICAgICAvLyByZW5kZXIgZnJhbWVcbiAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlciwgdGhpcy5fbGF5ZXJzLCBsYXllclRpbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodGhpcy5wbGFjZW1lbnQsIGJyb3dzZXIubm93KCkpO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENvbW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzeW1ib2xCdWNrZXRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBwbGFjZW1lbnQgZ2V0cyBzcGxpdCBvdmVyIG11bHRpcGxlIGZyYW1lcyBpdCBpcyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIC8vIHRoZXNlIGJ1Y2tldHMgd2VyZSBwcm9jZXNzZWQgYmVmb3JlIHRoZXkgd2VyZSBjaGFuZ2VkIGFuZCBzbyB0aGVcbiAgICAgICAgICAgICAgICAvLyBwbGFjZW1lbnQgaXMgYWxyZWFkeSBzdGFsZSB3aGlsZSBpdCBpcyBpbiBwcm9ncmVzc1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LnBsYWNlbWVudC5zZXRTdGFsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYWNlbWVudENvbW1pdHRlZCB8fCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklEIG9mIHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVMYXllci50eXBlICE9PSAnc3ltYm9sJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXMoc3R5bGVMYXllciwgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmVlZHNSZW5kZXIgaXMgZmFsc2Ugd2hlbiB3ZSBoYXZlIGp1c3QgZmluaXNoZWQgYSBwbGFjZW1lbnQgdGhhdCBkaWRuJ3QgY2hhbmdlIHRoZSB2aXNpYmlsaXR5IG9mIGFueSBzeW1ib2xzXG4gICAgICAgIGNvbnN0IG5lZWRzUmVyZW5kZXIgPSAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkgfHwgdGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnMoYnJvd3Nlci5ub3coKSk7XG4gICAgICAgIHJldHVybiBuZWVkc1JlcmVuZGVyO1xuICAgIH1cblxuICAgIF9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbGJhY2tzIGZyb20gd2ViIHdvcmtlcnNcblxuICAgIGdldEltYWdlcyhtYXBJZDogc3RyaW5nLCBwYXJhbXM6IHtpY29uczogQXJyYXk8c3RyaW5nPn0sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMocGFyYW1zLmljb25zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZ2V0R2x5cGhzKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge3N0YWNrczoge1tzdHJpbmddOiBBcnJheTxudW1iZXI+fX0sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IHtbbnVtYmVyXTogP1N0eWxlR2x5cGh9fT4pIHtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKHBhcmFtcy5zdGFja3MsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5cblN0eWxlLmdldFNvdXJjZVR5cGUgPSBnZXRTb3VyY2VUeXBlO1xuU3R5bGUuc2V0U291cmNlVHlwZSA9IHNldFNvdXJjZVR5cGU7XG5TdHlsZS5yZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSA9IHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5O1xuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBjcmVhdGVMYXlvdXQgfSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUxheW91dChbXG4gICAgeyBuYW1lOiAnYV9wb3MnLCB0eXBlOiAnSW50MTYnLCBjb21wb25lbnRzOiAyIH1cbl0pO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuY2xhc3MgVmVydGV4QXJyYXlPYmplY3Qge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYm91bmRQcm9ncmFtOiA/UHJvZ3JhbTwqPjtcbiAgICBib3VuZExheW91dFZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcjtcbiAgICBib3VuZFBhaW50VmVydGV4QnVmZmVyczogQXJyYXk8VmVydGV4QnVmZmVyPjtcbiAgICBib3VuZEluZGV4QnVmZmVyOiA/SW5kZXhCdWZmZXI7XG4gICAgYm91bmRWZXJ0ZXhPZmZzZXQ6ID9udW1iZXI7XG4gICAgYm91bmREeW5hbWljVmVydGV4QnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgdmFvOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgcHJvZ3JhbTogUHJvZ3JhbTwqPixcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgaW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcixcbiAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyMjogP1ZlcnRleEJ1ZmZlcikge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgbGV0IHBhaW50QnVmZmVyc0RpZmZlciA9IHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgIXBhaW50QnVmZmVyc0RpZmZlciAmJiBpIDwgcGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tpXSAhPT0gcGFpbnRWZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzRnJlc2hCaW5kUmVxdWlyZWQgPSAoXG4gICAgICAgICAgICAhdGhpcy52YW8gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtICE9PSBwcm9ncmFtIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyICE9PSBsYXlvdXRWZXJ0ZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHBhaW50QnVmZmVyc0RpZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyICE9PSBpbmRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCAhPT0gdmVydGV4T2Zmc2V0IHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciAhPT0gZHluYW1pY1ZlcnRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIyICE9PSBkeW5hbWljVmVydGV4QnVmZmVyMlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCB8fCBpc0ZyZXNoQmluZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXNoQmluZChwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIHBhaW50VmVydGV4QnVmZmVycywgaW5kZXhCdWZmZXIsIHZlcnRleE9mZnNldCwgZHluYW1pY1ZlcnRleEJ1ZmZlciwgZHluYW1pY1ZlcnRleEJ1ZmZlcjIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnVmZmVyIG1heSBoYXZlIGJlZW4gdXBkYXRlZC4gUmViaW5kIHRvIHVwbG9hZCBkYXRhLlxuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXhCdWZmZXIgJiYgaW5kZXhCdWZmZXIuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZyZXNoQmluZChwcm9ncmFtOiBQcm9ncmFtPCo+LFxuICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyOiA/VmVydGV4QnVmZmVyKSB7XG4gICAgICAgIGxldCBudW1QcmV2QXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgbnVtTmV4dEF0dHJpYnV0ZXMgPSBwcm9ncmFtLm51bUF0dHJpYnV0ZXM7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmIChjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52YW8pIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSAwO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSB0aGUgYXJndW1lbnRzIHNvIHRoYXQgd2UgY2FuIHZlcmlmeSB0aGVtIHdoZW4gdGhlIHZhbyBpcyBib3VuZCBhZ2FpblxuICAgICAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciA9IGxheW91dFZlcnRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMgPSBwYWludFZlcnRleEJ1ZmZlcnM7XG4gICAgICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBpbmRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgPSB2ZXJ0ZXhPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciA9IGR5bmFtaWNWZXJ0ZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIgPSBkeW5hbWljVmVydGV4QnVmZmVyMjtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzIHx8IDA7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgYWxsIGF0dHJpYnV0ZXMgZnJvbSB0aGUgcHJldmlvdXMgcHJvZ3JhbSB0aGF0IGFyZW4ndCB1c2VkIGluXG4gICAgICAgICAgICAvLyB0aGUgbmV3IHByb2dyYW0uIE5vdGU6IGF0dHJpYnV0ZSBpbmRpY2VzIGFyZSAqbm90KiBwcm9ncmFtIHNwZWNpZmljIVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG51bU5leHRBdHRyaWJ1dGVzOyBpIDwgbnVtUHJldkF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIFdlYkdMIGJyZWFrcyBpZiB5b3UgZGlzYWJsZSBhdHRyaWJ1dGUgMC5cbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwMzA1MjMxXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGkgIT09IDApO1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgZm9yIChjb25zdCB2ZXJ0ZXhCdWZmZXIgb2YgcGFpbnRWZXJ0ZXhCdWZmZXJzKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcjIpIHtcbiAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmVuYWJsZUF0dHJpYnV0ZXMoZ2wsIHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuYmluZCgpO1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzID0gbnVtTmV4dEF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhBcnJheU9iamVjdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCBzaGFkZXJzIGZyb20gJy4uL3NoYWRlcnMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbmltcG9ydCB0eXBlIFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgdHlwZSBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IHR5cGUgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUnO1xuaW1wb3J0IHR5cGUgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtQmluZGluZ3MsIFVuaWZvcm1WYWx1ZXMsIFVuaWZvcm1Mb2NhdGlvbnN9IGZyb20gJy4vdW5pZm9ybV9iaW5kaW5nJztcblxuZXhwb3J0IHR5cGUgRHJhd01vZGUgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdMSU5FUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ1RSSUFOR0xFUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0xJTkVfU1RSSVAnPjtcblxuY2xhc3MgUHJvZ3JhbTxVczogVW5pZm9ybUJpbmRpbmdzPiB7XG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtO1xuICAgIGF0dHJpYnV0ZXM6IHtbc3RyaW5nXTogbnVtYmVyfTtcbiAgICBudW1BdHRyaWJ1dGVzOiBudW1iZXI7XG4gICAgZml4ZWRVbmlmb3JtczogVXM7XG4gICAgYmluZGVyVW5pZm9ybXM6IFVuaWZvcm1CaW5kaW5ncztcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsXG4gICAgICAgICAgICAgICAgc291cmNlOiB7ZnJhZ21lbnRTb3VyY2U6IHN0cmluZywgdmVydGV4U291cmNlOiBzdHJpbmd9LFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IFByb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpeGVkVW5pZm9ybXM6IChDb250ZXh0LCBVbmlmb3JtTG9jYXRpb25zKSA9PiBVcyxcbiAgICAgICAgICAgICAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICAgICAgY29uc3QgZGVmaW5lcyA9IGNvbmZpZ3VyYXRpb24uZGVmaW5lcygpLmNvbmNhdChcbiAgICAgICAgICAgIGAjZGVmaW5lIERFVklDRV9QSVhFTF9SQVRJTyAke2Jyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpby50b0ZpeGVkKDEpfWApO1xuICAgICAgICBpZiAoc2hvd092ZXJkcmF3SW5zcGVjdG9yKSB7XG4gICAgICAgICAgICBkZWZpbmVzLnB1c2goJyNkZWZpbmUgT1ZFUkRSQVdfSU5TUEVDVE9SOycpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTb3VyY2UgPSBkZWZpbmVzLmNvbmNhdChzaGFkZXJzLnByZWx1ZGUuZnJhZ21lbnRTb3VyY2UsIHNvdXJjZS5mcmFnbWVudFNvdXJjZSkuam9pbignXFxuJyk7XG4gICAgICAgIGNvbnN0IHZlcnRleFNvdXJjZSA9IGRlZmluZXMuY29uY2F0KHNoYWRlcnMucHJlbHVkZS52ZXJ0ZXhTb3VyY2UsIHNvdXJjZS52ZXJ0ZXhTb3VyY2UpLmpvaW4oJ1xcbicpO1xuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGFzc2VydChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnJhZ21lbnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSwgKGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpOiBhbnkpKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuXG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHZlcnRleFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpLCAoZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0ZXhTaGFkZXIpOiBhbnkpKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcblxuICAgICAgICAvLyBNYW51YWxseSBiaW5kIGxheW91dCBhdHRyaWJ1dGVzIGluIHRoZSBvcmRlciBkZWZpbmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIFByb2dyYW1JbnRlcmZhY2Ugc28gdGhhdCB3ZSBkb24ndCBkeW5hbWljYWxseSBsaW5rIGFuIHVudXNlZFxuICAgICAgICAvLyBhdHRyaWJ1dGUgYXQgcG9zaXRpb24gMCwgd2hpY2ggY2FuIGNhdXNlIHJlbmRlcmluZyB0byBmYWlsIGZvciBhblxuICAgICAgICAvLyBlbnRpcmUgbGF5ZXIgKHNlZSAjNDYwNywgIzQ3MjgpXG4gICAgICAgIGNvbnN0IGxheW91dEF0dHJpYnV0ZXMgPSBjb25maWd1cmF0aW9uLmxheW91dEF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0QXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgaSwgbGF5b3V0QXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGFzc2VydChnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpLCAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2codGhpcy5wcm9ncmFtKTogYW55KSk7XG5cbiAgICAgICAgdGhpcy5udW1BdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgdW5pZm9ybUxvY2F0aW9ucyA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1BdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLnByb2dyYW0sIGkpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG51bVVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVW5pZm9ybXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5wcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtKSB7XG4gICAgICAgICAgICAgICAgdW5pZm9ybUxvY2F0aW9uc1t1bmlmb3JtLm5hbWVdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgdW5pZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZml4ZWRVbmlmb3JtcyA9IGZpeGVkVW5pZm9ybXMoY29udGV4dCwgdW5pZm9ybUxvY2F0aW9ucyk7XG4gICAgICAgIHRoaXMuYmluZGVyVW5pZm9ybXMgPSBjb25maWd1cmF0aW9uLmdldFVuaWZvcm1zKGNvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbnMpO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgIGRyYXdNb2RlOiBEcmF3TW9kZSxcbiAgICAgICAgIGRlcHRoTW9kZTogJFJlYWRPbmx5PERlcHRoTW9kZT4sXG4gICAgICAgICBzdGVuY2lsTW9kZTogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPixcbiAgICAgICAgIGNvbG9yTW9kZTogJFJlYWRPbmx5PENvbG9yTW9kZT4sXG4gICAgICAgICBjdWxsRmFjZU1vZGU6ICRSZWFkT25seTxDdWxsRmFjZU1vZGU+LFxuICAgICAgICAgdW5pZm9ybVZhbHVlczogVW5pZm9ybVZhbHVlczxVcz4sXG4gICAgICAgICBsYXllcklEOiBzdHJpbmcsXG4gICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgIGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcixcbiAgICAgICAgIHNlZ21lbnRzOiBTZWdtZW50VmVjdG9yLFxuICAgICAgICAgY3VycmVudFByb3BlcnRpZXM6IGFueSxcbiAgICAgICAgIHpvb206ID9udW1iZXIsXG4gICAgICAgICBjb25maWd1cmF0aW9uOiA/UHJvZ3JhbUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyOiA/VmVydGV4QnVmZmVyLFxuICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXIpIHtcblxuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgY29udGV4dC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO1xuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShkZXB0aE1vZGUpO1xuICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKHN0ZW5jaWxNb2RlKTtcbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUoY29sb3JNb2RlKTtcbiAgICAgICAgY29udGV4dC5zZXRDdWxsRmFjZShjdWxsRmFjZU1vZGUpO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmZpeGVkVW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWRVbmlmb3Jtc1tuYW1lXS5zZXQodW5pZm9ybVZhbHVlc1tuYW1lXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5zZXRVbmlmb3Jtcyhjb250ZXh0LCB0aGlzLmJpbmRlclVuaWZvcm1zLCBjdXJyZW50UHJvcGVydGllcywge3pvb206ICh6b29tOiBhbnkpfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmltaXRpdmVTaXplID0ge1xuICAgICAgICAgICAgW2dsLkxJTkVTXTogMixcbiAgICAgICAgICAgIFtnbC5UUklBTkdMRVNdOiAzLFxuICAgICAgICAgICAgW2dsLkxJTkVfU1RSSVBdOiAxXG4gICAgICAgIH1bZHJhd01vZGVdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cy5nZXQoKSkge1xuICAgICAgICAgICAgY29uc3QgdmFvcyA9IHNlZ21lbnQudmFvcyB8fCAoc2VnbWVudC52YW9zID0ge30pO1xuICAgICAgICAgICAgY29uc3QgdmFvOiBWZXJ0ZXhBcnJheU9iamVjdCA9IHZhb3NbbGF5ZXJJRF0gfHwgKHZhb3NbbGF5ZXJJRF0gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKSk7XG5cbiAgICAgICAgICAgIHZhby5iaW5kKFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbiA/IGNvbmZpZ3VyYXRpb24uZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCkgOiBbXSxcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBzZWdtZW50LnZlcnRleE9mZnNldCxcbiAgICAgICAgICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXIyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoXG4gICAgICAgICAgICAgICAgZHJhd01vZGUsXG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVMZW5ndGggKiBwcmltaXRpdmVTaXplLFxuICAgICAgICAgICAgICAgIGdsLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlT2Zmc2V0ICogcHJpbWl0aXZlU2l6ZSAqIDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtNGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi8uLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NGYWRlZH0gZnJvbSAnLi4vLi4vc3R5bGUvcHJvcGVydGllcyc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NmYWRlUGFyYW1ldGVyc30gZnJvbSAnLi4vLi4vc3R5bGUvZXZhbHVhdGlvbl9wYXJhbWV0ZXJzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5cbnR5cGUgQmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3BhdHRlcm5fdGxfYSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX2JyX2EnOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGF0dGVybl90bF9iJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnJfYic6IFVuaWZvcm0yZixcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X21peCc6IFVuaWZvcm0xZixcbiAgICAndV9wYXR0ZXJuX3NpemVfYSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3NpemVfYic6IFVuaWZvcm0yZixcbiAgICAndV9zY2FsZV9hJzogVW5pZm9ybTFmLFxuICAgICd1X3NjYWxlX2InOiBVbmlmb3JtMWYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3Vfc2NhbGUnOiBVbmlmb3JtNGYsXG4gICAgJ3VfZmFkZSc6IFVuaWZvcm0xZixcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFVuaWZvcm0yZixcbiAgICAndV9waXhlbF9jb29yZF9sb3dlcic6IFVuaWZvcm0yZlxufH07XG5cbmZ1bmN0aW9uIHBhdHRlcm5Vbmlmb3JtVmFsdWVzKGNyb3NzZmFkZTogQ3Jvc3NmYWRlUGFyYW1ldGVycywgcGFpbnRlcjogUGFpbnRlcixcbiAgICAgICAgdGlsZTogVGlsZVxuKTogVW5pZm9ybVZhbHVlczxQYXR0ZXJuVW5pZm9ybXNUeXBlPiB7XG5cbiAgICBjb25zdCB0aWxlUmF0aW8gPSAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pO1xuXG4gICAgY29uc3QgbnVtVGlsZXMgPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgY29uc3QgdGlsZVNpemVBdE5lYXJlc3Rab29tID0gdGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKSAvIG51bVRpbGVzO1xuXG4gICAgY29uc3QgcGl4ZWxYID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54ICsgdGlsZS50aWxlSUQud3JhcCAqIG51bVRpbGVzKTtcbiAgICBjb25zdCBwaXhlbFkgPSB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gKiB0aWxlLnRpbGVJRC5jYW5vbmljYWwueTtcblxuICAgIHJldHVybiB7XG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSxcbiAgICAgICAgLy8gdGhpcyBhc3N1bWVzIGFsbCBpbWFnZXMgaW4gdGhlIGljb24gYXRsYXMgdGV4dHVyZSBoYXZlIHRoZSBzYW1lIHBpeGVsIHJhdGlvXG4gICAgICAgICd1X3NjYWxlJzogW2Jyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbywgdGlsZVJhdGlvLCBjcm9zc2ZhZGUuZnJvbVNjYWxlLCBjcm9zc2ZhZGUudG9TY2FsZV0sXG4gICAgICAgICd1X2ZhZGUnOiBjcm9zc2ZhZGUudCxcbiAgICAgICAgLy8gc3BsaXQgdGhlIHBpeGVsIGNvb3JkIGludG8gdHdvIHBhaXJzIG9mIDE2IGJpdCBudW1iZXJzLiBUaGUgZ2xzbCBzcGVjIG9ubHkgZ3VhcmFudGVlcyAxNiBiaXRzIG9mIHByZWNpc2lvbi5cbiAgICAgICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBbcGl4ZWxYID4+IDE2LCBwaXhlbFkgPj4gMTZdLFxuICAgICAgICAndV9waXhlbF9jb29yZF9sb3dlcic6IFtwaXhlbFggJiAweEZGRkYsIHBpeGVsWSAmIDB4RkZGRl1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBiZ1BhdHRlcm5Vbmlmb3JtVmFsdWVzKGltYWdlOiBDcm9zc0ZhZGVkPHN0cmluZz4sIGNyb3NzZmFkZTogQ3Jvc3NmYWRlUGFyYW1ldGVycywgcGFpbnRlcjogUGFpbnRlcixcbiAgICAgICAgdGlsZToge3RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgdGlsZVNpemU6IG51bWJlcn1cbik6IFVuaWZvcm1WYWx1ZXM8QmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc1R5cGU+IHtcbiAgICBjb25zdCBpbWFnZVBvc0EgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLmZyb20pO1xuICAgIGNvbnN0IGltYWdlUG9zQiA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG8pO1xuICAgIGFzc2VydChpbWFnZVBvc0EgJiYgaW1hZ2VQb3NCKTtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKTtcblxuICAgIGNvbnN0IG51bVRpbGVzID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgIGNvbnN0IHRpbGVTaXplQXROZWFyZXN0Wm9vbSA9IHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSkgLyBudW1UaWxlcztcblxuICAgIGNvbnN0IHBpeGVsWCA9IHRpbGVTaXplQXROZWFyZXN0Wm9vbSAqICh0aWxlLnRpbGVJRC5jYW5vbmljYWwueCArIHRpbGUudGlsZUlELndyYXAgKiBudW1UaWxlcyk7XG4gICAgY29uc3QgcGl4ZWxZID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogdGlsZS50aWxlSUQuY2Fub25pY2FsLnk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9pbWFnZSc6IDAsXG4gICAgICAgICd1X3BhdHRlcm5fdGxfYSc6IChpbWFnZVBvc0E6IGFueSkudGwsXG4gICAgICAgICd1X3BhdHRlcm5fYnJfYSc6IChpbWFnZVBvc0E6IGFueSkuYnIsXG4gICAgICAgICd1X3BhdHRlcm5fdGxfYic6IChpbWFnZVBvc0I6IGFueSkudGwsXG4gICAgICAgICd1X3BhdHRlcm5fYnJfYic6IChpbWFnZVBvc0I6IGFueSkuYnIsXG4gICAgICAgICd1X3RleHNpemUnOiBbd2lkdGgsIGhlaWdodF0sXG4gICAgICAgICd1X21peCc6IGNyb3NzZmFkZS50LFxuICAgICAgICAndV9wYXR0ZXJuX3NpemVfYSc6IChpbWFnZVBvc0E6IGFueSkuZGlzcGxheVNpemUsXG4gICAgICAgICd1X3BhdHRlcm5fc2l6ZV9iJzogKGltYWdlUG9zQjogYW55KS5kaXNwbGF5U2l6ZSxcbiAgICAgICAgJ3Vfc2NhbGVfYSc6IGNyb3NzZmFkZS5mcm9tU2NhbGUsXG4gICAgICAgICd1X3NjYWxlX2InOiBjcm9zc2ZhZGUudG9TY2FsZSxcbiAgICAgICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pLFxuICAgICAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgICAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFtwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNl0sXG4gICAgICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogW3BpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGXVxuICAgIH07XG59XG5leHBvcnQgeyBiZ1BhdHRlcm5Vbmlmb3JtVmFsdWVzLCBwYXR0ZXJuVW5pZm9ybVZhbHVlcyB9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgcGF0dGVyblVuaWZvcm1WYWx1ZXMgfSBmcm9tICcuL3BhdHRlcm4nO1xuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybTRmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuXG5pbXBvcnQge21hdDMsIHZlYzMsIG1hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlcywgVW5pZm9ybUxvY2F0aW9uc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcbmltcG9ydCB0eXBlIHtDcm9zc2ZhZGVQYXJhbWV0ZXJzfSBmcm9tICcuLi8uLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5cbmV4cG9ydCB0eXBlIEZpbGxFeHRydXNpb25Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9saWdodHBvcyc6IFVuaWZvcm0zZixcbiAgICAndV9saWdodGludGVuc2l0eSc6IFVuaWZvcm0xZixcbiAgICAndV9saWdodGNvbG9yJzogVW5pZm9ybTNmLFxuICAgICd1X3ZlcnRpY2FsX2dyYWRpZW50JzogVW5pZm9ybTFmXG58fTtcblxuZXhwb3J0IHR5cGUgRmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9saWdodHBvcyc6IFVuaWZvcm0zZixcbiAgICAndV9saWdodGludGVuc2l0eSc6IFVuaWZvcm0xZixcbiAgICAndV9saWdodGNvbG9yJzogVW5pZm9ybTNmLFxuICAgICd1X2hlaWdodF9mYWN0b3InOiBVbmlmb3JtMWYsXG4gICAgJ3VfdmVydGljYWxfZ3JhZGllbnQnOiBVbmlmb3JtMWYsXG4gICAgLy8gcGF0dGVybiB1bmlmb3JtczpcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3BpeGVsX2Nvb3JkX3VwcGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogVW5pZm9ybTJmLFxuICAgICd1X3NjYWxlJzogVW5pZm9ybTRmLFxuICAgICd1X2ZhZGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBFeHRydXNpb25UZXh0dXJlVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3Vfd29ybGQnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IGZpbGxFeHRydXNpb25Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBGaWxsRXh0cnVzaW9uVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X2xpZ2h0cG9zJzogbmV3IFVuaWZvcm0zZihjb250ZXh0LCBsb2NhdGlvbnMudV9saWdodHBvcyksXG4gICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2xpZ2h0aW50ZW5zaXR5KSxcbiAgICAndV9saWdodGNvbG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0LCBsb2NhdGlvbnMudV9saWdodGNvbG9yKSxcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfdmVydGljYWxfZ3JhZGllbnQpXG59KTtcblxuY29uc3QgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBGaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV9saWdodHBvcyc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCwgbG9jYXRpb25zLnVfbGlnaHRwb3MpLFxuICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9saWdodGludGVuc2l0eSksXG4gICAgJ3VfbGlnaHRjb2xvcic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCwgbG9jYXRpb25zLnVfbGlnaHRjb2xvciksXG4gICAgJ3VfdmVydGljYWxfZ3JhZGllbnQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X3ZlcnRpY2FsX2dyYWRpZW50KSxcbiAgICAndV9oZWlnaHRfZmFjdG9yJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9oZWlnaHRfZmFjdG9yKSxcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV90ZXhzaXplKSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl4ZWxfY29vcmRfdXBwZXIpLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9waXhlbF9jb29yZF9sb3dlciksXG4gICAgJ3Vfc2NhbGUnOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQsIGxvY2F0aW9ucy51X3NjYWxlKSxcbiAgICAndV9mYWRlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9mYWRlKVxufSk7XG5cbmNvbnN0IGV4dHJ1c2lvblRleHR1cmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBFeHRydXNpb25UZXh0dXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV93b3JsZCksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9vcGFjaXR5KVxufSk7XG5cbmNvbnN0IGZpbGxFeHRydXNpb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgc2hvdWxkVXNlVmVydGljYWxHcmFkaWVudDogYm9vbGVhblxuKTogVW5pZm9ybVZhbHVlczxGaWxsRXh0cnVzaW9uVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgbGlnaHQgPSBwYWludGVyLnN0eWxlLmxpZ2h0O1xuICAgIGNvbnN0IF9scCA9IGxpZ2h0LnByb3BlcnRpZXMuZ2V0KCdwb3NpdGlvbicpO1xuICAgIGNvbnN0IGxpZ2h0UG9zID0gW19scC54LCBfbHAueSwgX2xwLnpdO1xuICAgIGNvbnN0IGxpZ2h0TWF0ID0gbWF0My5jcmVhdGUoKTtcbiAgICBpZiAobGlnaHQucHJvcGVydGllcy5nZXQoJ2FuY2hvcicpID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIG1hdDMuZnJvbVJvdGF0aW9uKGxpZ2h0TWF0LCAtcGFpbnRlci50cmFuc2Zvcm0uYW5nbGUpO1xuICAgIH1cbiAgICB2ZWMzLnRyYW5zZm9ybU1hdDMobGlnaHRQb3MsIGxpZ2h0UG9zLCBsaWdodE1hdCk7XG5cbiAgICBjb25zdCBsaWdodENvbG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2NvbG9yJyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgICAgICd1X2xpZ2h0cG9zJzogbGlnaHRQb3MsXG4gICAgICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbGlnaHQucHJvcGVydGllcy5nZXQoJ2ludGVuc2l0eScpLFxuICAgICAgICAndV9saWdodGNvbG9yJzogW2xpZ2h0Q29sb3IuciwgbGlnaHRDb2xvci5nLCBsaWdodENvbG9yLmJdLFxuICAgICAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6ICtzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50XG4gICAgfTtcbn07XG5cbmNvbnN0IGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHNob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQ6IGJvb2xlYW4sXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgY3Jvc3NmYWRlOiBDcm9zc2ZhZGVQYXJhbWV0ZXJzLFxuICAgIHRpbGU6IFRpbGVcbik6IFVuaWZvcm1WYWx1ZXM8RmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4gZXh0ZW5kKGZpbGxFeHRydXNpb25Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgc2hvdWxkVXNlVmVydGljYWxHcmFkaWVudCksXG4gICAgICAgIHBhdHRlcm5Vbmlmb3JtVmFsdWVzKGNyb3NzZmFkZSwgcGFpbnRlciwgdGlsZSksXG4gICAgICAgIHtcbiAgICAgICAgICAgICd1X2hlaWdodF9mYWN0b3InOiAtTWF0aC5wb3coMiwgY29vcmQub3ZlcnNjYWxlZFopIC8gdGlsZS50aWxlU2l6ZSAvIDhcbiAgICAgICAgfSk7XG59O1xuXG5jb25zdCBleHRydXNpb25UZXh0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICB0ZXh0dXJlVW5pdDogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPEV4dHJ1c2lvblRleHR1cmVVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodCwgMCwgMCwgMSk7XG5cbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcblxuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3Vfd29ybGQnOiBbZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0XSxcbiAgICAgICAgJ3VfaW1hZ2UnOiB0ZXh0dXJlVW5pdCxcbiAgICAgICAgJ3Vfb3BhY2l0eSc6IG9wYWNpdHlcbiAgICB9O1xufTtcblxuZXhwb3J0IHtcbiAgICBmaWxsRXh0cnVzaW9uVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtcyxcbiAgICBleHRydXNpb25UZXh0dXJlVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxuICAgIGV4dHJ1c2lvblRleHR1cmVVbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtwYXR0ZXJuVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wYXR0ZXJuJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybTRmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtDcm9zc2ZhZGVQYXJhbWV0ZXJzfSBmcm9tICcuLi8uLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5cbmV4cG9ydCB0eXBlIEZpbGxVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZlxufH07XG5cbmV4cG9ydCB0eXBlIEZpbGxPdXRsaW5lVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3Vfd29ybGQnOiBVbmlmb3JtMmZcbnx9O1xuXG5leHBvcnQgdHlwZSBGaWxsUGF0dGVyblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgIC8vIHBhdHRlcm4gdW5pZm9ybXM6XG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFVuaWZvcm0yZixcbiAgICAndV9waXhlbF9jb29yZF9sb3dlcic6IFVuaWZvcm0yZixcbiAgICAndV9zY2FsZSc6IFVuaWZvcm00ZixcbiAgICAndV9mYWRlJzogVW5pZm9ybTFmXG58fTtcblxuZXhwb3J0IHR5cGUgRmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3Vfd29ybGQnOiBVbmlmb3JtMmYsXG4gICAgLy8gcGF0dGVybiB1bmlmb3JtczpcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3BpeGVsX2Nvb3JkX3VwcGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogVW5pZm9ybTJmLFxuICAgICd1X3NjYWxlJzogVW5pZm9ybTRmLFxuICAgICd1X2ZhZGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBmaWxsVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogRmlsbFVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KVxufSk7XG5cbmNvbnN0IGZpbGxQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogRmlsbFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV90ZXhzaXplKSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl4ZWxfY29vcmRfdXBwZXIpLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9waXhlbF9jb29yZF9sb3dlciksXG4gICAgJ3Vfc2NhbGUnOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQsIGxvY2F0aW9ucy51X3NjYWxlKSxcbiAgICAndV9mYWRlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9mYWRlKVxuXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBGaWxsT3V0bGluZVVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV93b3JsZCc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfd29ybGQpXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogRmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV93b3JsZCksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV90ZXhzaXplKSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl4ZWxfY29vcmRfdXBwZXIpLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9waXhlbF9jb29yZF9sb3dlciksXG4gICAgJ3Vfc2NhbGUnOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQsIGxvY2F0aW9ucy51X3NjYWxlKSxcbiAgICAndV9mYWRlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9mYWRlKVxufSk7XG5cbmNvbnN0IGZpbGxVbmlmb3JtVmFsdWVzID0gKG1hdHJpeDogRmxvYXQzMkFycmF5KTogVW5pZm9ybVZhbHVlczxGaWxsVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeFxufSk7XG5cbmNvbnN0IGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGNyb3NzZmFkZTogQ3Jvc3NmYWRlUGFyYW1ldGVycyxcbiAgICB0aWxlOiBUaWxlXG4pOiBVbmlmb3JtVmFsdWVzPEZpbGxQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMobWF0cml4KSxcbiAgICBwYXR0ZXJuVW5pZm9ybVZhbHVlcyhjcm9zc2ZhZGUsIHBhaW50ZXIsIHRpbGUpXG4pO1xuXG5jb25zdCBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgZHJhd2luZ0J1ZmZlclNpemU6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8RmlsbE91dGxpbmVVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X3dvcmxkJzogZHJhd2luZ0J1ZmZlclNpemVcbn0pO1xuXG5jb25zdCBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgY3Jvc3NmYWRlOiBDcm9zc2ZhZGVQYXJhbWV0ZXJzLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgZHJhd2luZ0J1ZmZlclNpemU6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8RmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgY3Jvc3NmYWRlLCB0aWxlKSxcbiAgICB7XG4gICAgICAgICd1X3dvcmxkJzogZHJhd2luZ0J1ZmZlclNpemVcbiAgICB9XG4pO1xuXG5leHBvcnQge1xuICAgIGZpbGxVbmlmb3JtcyxcbiAgICBmaWxsUGF0dGVyblVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lVW5pZm9ybXMsXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxPdXRsaW5lVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi8uLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXMsIFVuaWZvcm1Mb2NhdGlvbnN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSBDaXJjbGVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXInO1xuXG5leHBvcnQgdHlwZSBDaXJjbGVVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfc2NhbGVfd2l0aF9tYXAnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl0Y2hfd2l0aF9tYXAnOiBVbmlmb3JtMWksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0yZixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5jb25zdCBjaXJjbGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBDaXJjbGVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSxcbiAgICAndV9zY2FsZV93aXRoX21hcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfc2NhbGVfd2l0aF9tYXApLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9waXRjaF93aXRoX21hcCksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfZXh0cnVkZV9zY2FsZSksXG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpXG59KTtcblxuY29uc3QgY2lyY2xlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXJcbik6IFVuaWZvcm1WYWx1ZXM8Q2lyY2xlVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBsZXQgcGl0Y2hXaXRoTWFwOiBib29sZWFuLCBleHRydWRlU2NhbGU6IFtudW1iZXIsIG51bWJlcl07XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJykge1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdHJhbnNmb3JtLnpvb20pO1xuICAgICAgICBwaXRjaFdpdGhNYXAgPSB0cnVlO1xuICAgICAgICBleHRydWRlU2NhbGUgPSBbcGl4ZWxSYXRpbywgcGl4ZWxSYXRpb107XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGl0Y2hXaXRoTWFwID0gZmFsc2U7XG4gICAgICAgIGV4dHJ1ZGVTY2FsZSA9IHRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLFxuICAgICAgICAndV9zY2FsZV93aXRoX21hcCc6ICsobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtc2NhbGUnKSA9PT0gJ21hcCcpLFxuICAgICAgICAndV9tYXRyaXgnOiBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnBvc01hdHJpeCxcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2NpcmNsZS10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3InKSksXG4gICAgICAgICd1X3BpdGNoX3dpdGhfbWFwJzogKyhwaXRjaFdpdGhNYXApLFxuICAgICAgICAndV9leHRydWRlX3NjYWxlJzogZXh0cnVkZVNjYWxlXG4gICAgfTtcbn07XG5cbmV4cG9ydCB7IGNpcmNsZVVuaWZvcm1zLCBjaXJjbGVVbmlmb3JtVmFsdWVzIH07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uLy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5cbmV4cG9ydCB0eXBlIENvbGxpc2lvblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfcGl4ZWxzX3RvX3RpbGVfdW5pdHMnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0yZixcbiAgICAndV9vdmVyc2NhbGVfZmFjdG9yJzogVW5pZm9ybTFmXG58fTtcblxuY29uc3QgY29sbGlzaW9uVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogQ29sbGlzaW9uVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLFxuICAgICd1X3BpeGVsc190b190aWxlX3VuaXRzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9waXhlbHNfdG9fdGlsZV91bml0cyksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfZXh0cnVkZV9zY2FsZSksXG4gICAgJ3Vfb3ZlcnNjYWxlX2ZhY3Rvcic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfb3ZlcnNjYWxlX2ZhY3Rvcilcbn0pO1xuXG5jb25zdCBjb2xsaXNpb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgIHRpbGU6IFRpbGVcbik6IFVuaWZvcm1WYWx1ZXM8Q29sbGlzaW9uVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHRyYW5zZm9ybS56b29tKTtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIHRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgIGNvbnN0IG92ZXJzY2FsZUZhY3RvciA9IHRpbGUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpO1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLFxuICAgICAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IHBpeGVsUmF0aW8sXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBbdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSAvIChwaXhlbFJhdGlvICogc2NhbGUpLFxuICAgICAgICAgICAgdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXSAvIChwaXhlbFJhdGlvICogc2NhbGUpXSxcbiAgICAgICAgJ3Vfb3ZlcnNjYWxlX2ZhY3Rvcic6IG92ZXJzY2FsZUZhY3RvclxuICAgIH07XG59O1xuXG5leHBvcnQgeyBjb2xsaXNpb25Vbmlmb3JtcywgY29sbGlzaW9uVW5pZm9ybVZhbHVlcyB9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlcywgVW5pZm9ybUxvY2F0aW9uc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcbmltcG9ydCB0eXBlIENvbG9yIGZyb20gJy4uLy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbmV4cG9ydCB0eXBlIERlYnVnVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9jb2xvcic6IFVuaWZvcm1Db2xvcixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IERlYnVnVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfY29sb3InOiBuZXcgVW5pZm9ybUNvbG9yKGNvbnRleHQsIGxvY2F0aW9ucy51X2NvbG9yKSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeClcbn0pO1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1WYWx1ZXMgPSAobWF0cml4OiBGbG9hdDMyQXJyYXksIGNvbG9yOiBDb2xvcik6IFVuaWZvcm1WYWx1ZXM8RGVidWdVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X2NvbG9yJzogY29sb3Jcbn0pO1xuXG5leHBvcnQgeyBkZWJ1Z1VuaWZvcm1zLCBkZWJ1Z1VuaWZvcm1WYWx1ZXMgfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IFVuaWZvcm1NYXRyaXg0ZiB9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlcywgVW5pZm9ybUxvY2F0aW9uc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcblxuZXhwb3J0IHR5cGUgQ2xpcHBpbmdNYXNrVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5jb25zdCBjbGlwcGluZ01hc2tVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeClcbn0pO1xuXG5jb25zdCBjbGlwcGluZ01hc2tVbmlmb3JtVmFsdWVzID0gKG1hdHJpeDogRmxvYXQzMkFycmF5KTogVW5pZm9ybVZhbHVlczxDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4XG59KTtcblxuZXhwb3J0IHsgY2xpcHBpbmdNYXNrVW5pZm9ybXMsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXMgfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uLy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIEhlYXRtYXBTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2hlYXRtYXBfc3R5bGVfbGF5ZXInO1xuXG5leHBvcnQgdHlwZSBIZWF0bWFwVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9leHRydWRlX3NjYWxlJzogVW5pZm9ybTFmLFxuICAgICd1X2ludGVuc2l0eSc6IFVuaWZvcm0xZixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5leHBvcnQgdHlwZSBIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3dvcmxkJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2NvbG9yX3JhbXAnOiBVbmlmb3JtMWksXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IGhlYXRtYXBVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBIZWF0bWFwVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfZXh0cnVkZV9zY2FsZSksXG4gICAgJ3VfaW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9pbnRlbnNpdHkpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KVxufSk7XG5cbmNvbnN0IGhlYXRtYXBUZXh0dXJlVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogSGVhdG1hcFRleHR1cmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3Vfd29ybGQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3dvcmxkKSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfaW1hZ2UpLFxuICAgICd1X2NvbG9yX3JhbXAnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2NvbG9yX3JhbXApLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X29wYWNpdHkpXG59KTtcblxuY29uc3QgaGVhdG1hcFVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgdGlsZTogVGlsZSxcbiAgICB6b29tOiBudW1iZXIsXG4gICAgaW50ZW5zaXR5OiBudW1iZXJcbik6IFVuaWZvcm1WYWx1ZXM8SGVhdG1hcFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHpvb20pLFxuICAgICd1X2ludGVuc2l0eSc6IGludGVuc2l0eVxufSk7XG5cbmNvbnN0IGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllcixcbiAgICB0ZXh0dXJlVW5pdDogbnVtYmVyLFxuICAgIGNvbG9yUmFtcFVuaXQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0LCAwLCAwLCAxKTtcblxuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV93b3JsZCc6IFtnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHRdLFxuICAgICAgICAndV9pbWFnZSc6IHRleHR1cmVVbml0LFxuICAgICAgICAndV9jb2xvcl9yYW1wJzogY29sb3JSYW1wVW5pdCxcbiAgICAgICAgJ3Vfb3BhY2l0eSc6IGxheWVyLnBhaW50LmdldCgnaGVhdG1hcC1vcGFjaXR5JylcbiAgICB9O1xufTtcblxuZXhwb3J0IHtcbiAgICBoZWF0bWFwVW5pZm9ybXMsXG4gICAgaGVhdG1hcFRleHR1cmVVbmlmb3JtcyxcbiAgICBoZWF0bWFwVW5pZm9ybVZhbHVlcyxcbiAgICBoZWF0bWFwVGV4dHVyZVVuaWZvcm1WYWx1ZXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uLy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBDb29yZGluYXRlIGZyb20gJy4uLy4uL2dlby9jb29yZGluYXRlJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgSGlsbHNoYWRlU3R5bGVMYXllciBmcm9tICcuLi8uLi9zdHlsZS9zdHlsZV9sYXllci9oaWxsc2hhZGVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgREVNRGF0YSBmcm9tICcuLi8uLi9kYXRhL2RlbV9kYXRhJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCB0eXBlIEhpbGxzaGFkZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2xhdHJhbmdlJzogVW5pZm9ybTJmLFxuICAgICd1X2xpZ2h0JzogVW5pZm9ybTJmLFxuICAgICd1X3NoYWRvdyc6IFVuaWZvcm1Db2xvcixcbiAgICAndV9oaWdobGlnaHQnOiBVbmlmb3JtQ29sb3IsXG4gICAgJ3VfYWNjZW50JzogVW5pZm9ybUNvbG9yXG58fTtcblxuZXhwb3J0IHR5cGUgSGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2RpbWVuc2lvbic6IFVuaWZvcm0yZixcbiAgICAndV96b29tJzogVW5pZm9ybTFmLFxuICAgICd1X21heHpvb20nOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBoaWxsc2hhZGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBIaWxsc2hhZGVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV9sYXRyYW5nZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfbGF0cmFuZ2UpLFxuICAgICd1X2xpZ2h0JzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9saWdodCksXG4gICAgJ3Vfc2hhZG93JzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0LCBsb2NhdGlvbnMudV9zaGFkb3cpLFxuICAgICd1X2hpZ2hsaWdodCc6IG5ldyBVbmlmb3JtQ29sb3IoY29udGV4dCwgbG9jYXRpb25zLnVfaGlnaGxpZ2h0KSxcbiAgICAndV9hY2NlbnQnOiBuZXcgVW5pZm9ybUNvbG9yKGNvbnRleHQsIGxvY2F0aW9ucy51X2FjY2VudClcbn0pO1xuXG5jb25zdCBoaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogSGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfaW1hZ2UpLFxuICAgICd1X2RpbWVuc2lvbic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfZGltZW5zaW9uKSxcbiAgICAndV96b29tJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV96b29tKSxcbiAgICAndV9tYXh6b29tJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXh6b29tKVxufSk7XG5cbmNvbnN0IGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBIaWxsc2hhZGVTdHlsZUxheWVyXG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHNoYWRvdyA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIik7XG4gICAgY29uc3QgaGlnaGxpZ2h0ID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKTtcbiAgICBjb25zdCBhY2NlbnQgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpO1xuXG4gICAgbGV0IGF6aW11dGhhbCA9IGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24nKSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAvLyBtb2RpZnkgYXppbXV0aGFsIGFuZ2xlIGJ5IG1hcCByb3RhdGlvbiBpZiBsaWdodCBpcyBhbmNob3JlZCBhdCB0aGUgdmlld3BvcnRcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvcicpID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIGF6aW11dGhhbCAtPSBwYWludGVyLnRyYW5zZm9ybS5hbmdsZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZS50aWxlSUQudG9VbndyYXBwZWQoKSwgdHJ1ZSksXG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgJ3VfbGF0cmFuZ2UnOiBnZXRUaWxlTGF0UmFuZ2UocGFpbnRlciwgdGlsZS50aWxlSUQpLFxuICAgICAgICAndV9saWdodCc6IFtsYXllci5wYWludC5nZXQoJ2hpbGxzaGFkZS1leGFnZ2VyYXRpb24nKSwgYXppbXV0aGFsXSxcbiAgICAgICAgJ3Vfc2hhZG93Jzogc2hhZG93LFxuICAgICAgICAndV9oaWdobGlnaHQnOiBoaWdobGlnaHQsXG4gICAgICAgICd1X2FjY2VudCc6IGFjY2VudFxuICAgIH07XG59O1xuXG5jb25zdCBoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlcyA9IChcbiAgICB0aWxlOiB7ZGVtOiA/REVNRGF0YSwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEfSwgbWF4em9vbTogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVByZXBhcmVVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICBhc3NlcnQodGlsZS5kZW0pO1xuICAgIGNvbnN0IHRpbGVTaXplID0gKCh0aWxlLmRlbTogYW55KTogREVNRGF0YSkuZGltO1xuICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgLy8gRmxpcCByZW5kZXJpbmcgYXQgeSBheGlzLlxuICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCBFWFRFTlQsIC1FWFRFTlQsIDAsIDAsIDEpO1xuICAgIG1hdDQudHJhbnNsYXRlKG1hdHJpeCwgbWF0cml4LCBbMCwgLUVYVEVOVCwgMF0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9pbWFnZSc6IDEsXG4gICAgICAgICd1X2RpbWVuc2lvbic6IFt0aWxlU2l6ZSAqIDIsIHRpbGVTaXplICogMl0sXG4gICAgICAgICd1X3pvb20nOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgJ3VfbWF4em9vbSc6IG1heHpvb21cbiAgICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0VGlsZUxhdFJhbmdlKHBhaW50ZXI6IFBhaW50ZXIsIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgIC8vIGZvciBzY2FsaW5nIHRoZSBtYWduaXR1ZGUgb2YgYSBwb2ludHMgc2xvcGUgYnkgaXRzIGxhdGl0dWRlXG4gICAgY29uc3QgY29vcmRpbmF0ZTAgPSB0aWxlSUQudG9Db29yZGluYXRlKCk7XG4gICAgY29uc3QgY29vcmRpbmF0ZTEgPSBuZXcgQ29vcmRpbmF0ZShcbiAgICAgICAgY29vcmRpbmF0ZTAuY29sdW1uLCBjb29yZGluYXRlMC5yb3cgKyAxLCBjb29yZGluYXRlMC56b29tKTtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYWludGVyLnRyYW5zZm9ybS5jb29yZGluYXRlTG9jYXRpb24oY29vcmRpbmF0ZTApLmxhdCxcbiAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0uY29vcmRpbmF0ZUxvY2F0aW9uKGNvb3JkaW5hdGUxKS5sYXRcbiAgICBdO1xufVxuXG5leHBvcnQge1xuICAgIGhpbGxzaGFkZVVuaWZvcm1zLFxuICAgIGhpbGxzaGFkZVByZXBhcmVVbmlmb3JtcyxcbiAgICBoaWxsc2hhZGVVbmlmb3JtVmFsdWVzLFxuICAgIGhpbGxzaGFkZVVuaWZvcm1QcmVwYXJlVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtNGYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXMsIFVuaWZvcm1Mb2NhdGlvbnN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIHtDcm9zc0ZhZGVkfSBmcm9tICcuLi8uLi9zdHlsZS9wcm9wZXJ0aWVzJztcbmltcG9ydCB0eXBlIExpbmVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtDcm9zc2ZhZGVQYXJhbWV0ZXJzfSBmcm9tICcuLi8uLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuXG5leHBvcnQgdHlwZSBMaW5lVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZ2xfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTJmXG58fTtcblxuZXhwb3J0IHR5cGUgTGluZUdyYWRpZW50VW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZ2xfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgTGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X2dsX3VuaXRzX3RvX3BpeGVscyc6IFVuaWZvcm0yZixcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9zY2FsZSc6IFVuaWZvcm00ZixcbiAgICAndV9mYWRlJzogVW5pZm9ybTFmXG58fTtcblxuZXhwb3J0IHR5cGUgTGluZVNERlVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X2dsX3VuaXRzX3RvX3BpeGVscyc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuc2NhbGVfYSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuc2NhbGVfYic6IFVuaWZvcm0yZixcbiAgICAndV9zZGZnYW1tYSc6IFVuaWZvcm0xZixcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhfeV9hJzogVW5pZm9ybTFmLFxuICAgICd1X3RleF95X2InOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWl4JzogVW5pZm9ybTFmXG58fTtcblxuY29uc3QgbGluZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IExpbmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X3JhdGlvKSxcbiAgICAndV9nbF91bml0c190b19waXhlbHMnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X2dsX3VuaXRzX3RvX3BpeGVscylcbn0pO1xuXG5jb25zdCBsaW5lR3JhZGllbnRVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBMaW5lR3JhZGllbnRVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X3JhdGlvKSxcbiAgICAndV9nbF91bml0c190b19waXhlbHMnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X2dsX3VuaXRzX3RvX3BpeGVscyksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKVxufSk7XG5cbmNvbnN0IGxpbmVQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCwgbG9jYXRpb25zOiBVbmlmb3JtTG9jYXRpb25zKTogTGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfdGV4c2l6ZSksXG4gICAgJ3VfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X3JhdGlvKSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfaW1hZ2UpLFxuICAgICd1X2dsX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfZ2xfdW5pdHNfdG9fcGl4ZWxzKSxcbiAgICAndV9zY2FsZSc6IG5ldyBVbmlmb3JtNGYoY29udGV4dCwgbG9jYXRpb25zLnVfc2NhbGUpLFxuICAgICd1X2ZhZGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2ZhZGUpXG59KTtcblxuY29uc3QgbGluZVNERlVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IExpbmVTREZVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X21hdHJpeCksXG4gICAgJ3VfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X3JhdGlvKSxcbiAgICAndV9nbF91bml0c190b19waXhlbHMnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X2dsX3VuaXRzX3RvX3BpeGVscyksXG4gICAgJ3VfcGF0dGVybnNjYWxlX2EnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3BhdHRlcm5zY2FsZV9hKSxcbiAgICAndV9wYXR0ZXJuc2NhbGVfYic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGF0dGVybnNjYWxlX2IpLFxuICAgICd1X3NkZmdhbW1hJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9zZGZnYW1tYSksXG4gICAgJ3VfaW1hZ2UnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2ltYWdlKSxcbiAgICAndV90ZXhfeV9hJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV90ZXhfeV9hKSxcbiAgICAndV90ZXhfeV9iJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV90ZXhfeV9iKSxcbiAgICAndV9taXgnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X21peClcbn0pO1xuXG5jb25zdCBsaW5lVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IExpbmVTdHlsZUxheWVyXG4pOiBVbmlmb3JtVmFsdWVzPExpbmVVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IGNhbGN1bGF0ZU1hdHJpeChwYWludGVyLCB0aWxlLCBsYXllciksXG4gICAgICAgICd1X3JhdGlvJzogMSAvIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgJ3VfZ2xfdW5pdHNfdG9fcGl4ZWxzJzogW1xuICAgICAgICAgICAgMSAvIHRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMF0sXG4gICAgICAgICAgICAxIC8gdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXVxuICAgICAgICBdXG4gICAgfTtcbn07XG5cbmNvbnN0IGxpbmVHcmFkaWVudFVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBMaW5lU3R5bGVMYXllclxuKTogVW5pZm9ybVZhbHVlczxMaW5lR3JhZGllbnRVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4gZXh0ZW5kKGxpbmVVbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyKSwge1xuICAgICAgICAndV9pbWFnZSc6IDBcbiAgICB9KTtcbn07XG5cbmNvbnN0IGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IExpbmVTdHlsZUxheWVyLFxuICAgIGNyb3NzZmFkZTogQ3Jvc3NmYWRlUGFyYW1ldGVyc1xuKTogVW5pZm9ybVZhbHVlczxMaW5lUGF0dGVyblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHRpbGVab29tUmF0aW8gPSBjYWxjdWxhdGVUaWxlUmF0aW8odGlsZSwgdHJhbnNmb3JtKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBjYWxjdWxhdGVNYXRyaXgocGFpbnRlciwgdGlsZSwgbGF5ZXIpLFxuICAgICAgICAndV90ZXhzaXplJzogdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLFxuICAgICAgICAvLyBjYW1lcmEgem9vbSByYXRpb1xuICAgICAgICAndV9yYXRpbyc6IDEgLyBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgLy8gdGhpcyBhc3N1bWVzIGFsbCBpbWFnZXMgaW4gdGhlIGljb24gYXRsYXMgdGV4dHVyZSBoYXZlIHRoZSBzYW1lIHBpeGVsIHJhdGlvXG4gICAgICAgICd1X3NjYWxlJzogW2Jyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbywgdGlsZVpvb21SYXRpbywgY3Jvc3NmYWRlLmZyb21TY2FsZSwgY3Jvc3NmYWRlLnRvU2NhbGVdLFxuICAgICAgICAndV9mYWRlJzogY3Jvc3NmYWRlLnQsXG4gICAgICAgICd1X2dsX3VuaXRzX3RvX3BpeGVscyc6IFtcbiAgICAgICAgICAgIDEgLyB0cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzBdLFxuICAgICAgICAgICAgMSAvIHRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMV1cbiAgICAgICAgXVxuICAgIH07XG59O1xuXG5jb25zdCBsaW5lU0RGVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IExpbmVTdHlsZUxheWVyLFxuICAgIGRhc2hhcnJheTogQ3Jvc3NGYWRlZDxBcnJheTxudW1iZXI+PixcbiAgICBjcm9zc2ZhZGU6IENyb3NzZmFkZVBhcmFtZXRlcnNcbik6IFVuaWZvcm1WYWx1ZXM8TGluZVNERlVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGxpbmVBdGxhcyA9IHBhaW50ZXIubGluZUF0bGFzO1xuICAgIGNvbnN0IHRpbGVSYXRpbyA9IGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlLCB0cmFuc2Zvcm0pO1xuXG4gICAgY29uc3Qgcm91bmQgPSBsYXllci5sYXlvdXQuZ2V0KCdsaW5lLWNhcCcpID09PSAncm91bmQnO1xuXG4gICAgY29uc3QgcG9zQSA9IGxpbmVBdGxhcy5nZXREYXNoKGRhc2hhcnJheS5mcm9tLCByb3VuZCk7XG4gICAgY29uc3QgcG9zQiA9IGxpbmVBdGxhcy5nZXREYXNoKGRhc2hhcnJheS50bywgcm91bmQpO1xuXG4gICAgY29uc3Qgd2lkdGhBID0gcG9zQS53aWR0aCAqIGNyb3NzZmFkZS5mcm9tU2NhbGU7XG4gICAgY29uc3Qgd2lkdGhCID0gcG9zQi53aWR0aCAqIGNyb3NzZmFkZS50b1NjYWxlO1xuXG4gICAgcmV0dXJuIGV4dGVuZChsaW5lVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlLCBsYXllciksIHtcbiAgICAgICAgJ3VfcGF0dGVybnNjYWxlX2EnOiBbdGlsZVJhdGlvIC8gd2lkdGhBLCAtcG9zQS5oZWlnaHQgLyAyXSxcbiAgICAgICAgJ3VfcGF0dGVybnNjYWxlX2InOiBbdGlsZVJhdGlvIC8gd2lkdGhCLCAtcG9zQi5oZWlnaHQgLyAyXSxcbiAgICAgICAgJ3Vfc2RmZ2FtbWEnOiBsaW5lQXRsYXMud2lkdGggLyAoTWF0aC5taW4od2lkdGhBLCB3aWR0aEIpICogMjU2ICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKSAvIDIsXG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgJ3VfdGV4X3lfYSc6IHBvc0EueSxcbiAgICAgICAgJ3VfdGV4X3lfYic6IHBvc0IueSxcbiAgICAgICAgJ3VfbWl4JzogY3Jvc3NmYWRlLnRcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlOiBUaWxlLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgIHJldHVybiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdHJhbnNmb3JtLnRpbGVab29tKTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTWF0cml4KHBhaW50ZXIsIHRpbGUsIGxheWVyKSB7XG4gICAgcmV0dXJuIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KFxuICAgICAgICB0aWxlLnRpbGVJRC5wb3NNYXRyaXgsXG4gICAgICAgIHRpbGUsXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnbGluZS10cmFuc2xhdGUnKSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICk7XG59XG5cbmV4cG9ydCB7XG4gICAgbGluZVVuaWZvcm1zLFxuICAgIGxpbmVHcmFkaWVudFVuaWZvcm1zLFxuICAgIGxpbmVQYXR0ZXJuVW5pZm9ybXMsXG4gICAgbGluZVNERlVuaWZvcm1zLFxuICAgIGxpbmVVbmlmb3JtVmFsdWVzLFxuICAgIGxpbmVHcmFkaWVudFVuaWZvcm1WYWx1ZXMsXG4gICAgbGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxuICAgIGxpbmVTREZVbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlcywgVW5pZm9ybUxvY2F0aW9uc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nJztcbmltcG9ydCB0eXBlIFJhc3RlclN0eWxlTGF5ZXIgZnJvbSAnLi4vLi4vc3R5bGUvc3R5bGVfbGF5ZXIvcmFzdGVyX3N0eWxlX2xheWVyJztcblxuZXhwb3J0IHR5cGUgUmFzdGVyVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfdGxfcGFyZW50JzogVW5pZm9ybTJmLFxuICAgICd1X3NjYWxlX3BhcmVudCc6IFVuaWZvcm0xZixcbiAgICAndV9idWZmZXJfc2NhbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV90JzogVW5pZm9ybTFmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfaW1hZ2UwJzogVW5pZm9ybTFpLFxuICAgICd1X2ltYWdlMSc6IFVuaWZvcm0xaSxcbiAgICAndV9icmlnaHRuZXNzX2xvdyc6IFVuaWZvcm0xZixcbiAgICAndV9icmlnaHRuZXNzX2hpZ2gnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfc2F0dXJhdGlvbl9mYWN0b3InOiBVbmlmb3JtMWYsXG4gICAgJ3VfY29udHJhc3RfZmFjdG9yJzogVW5pZm9ybTFmLFxuICAgICd1X3NwaW5fd2VpZ2h0cyc6IFVuaWZvcm0zZlxufH07XG5cbmNvbnN0IHJhc3RlclVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IFJhc3RlclVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV90bF9wYXJlbnQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3RsX3BhcmVudCksXG4gICAgJ3Vfc2NhbGVfcGFyZW50JzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9zY2FsZV9wYXJlbnQpLFxuICAgICd1X2J1ZmZlcl9zY2FsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfYnVmZmVyX3NjYWxlKSxcbiAgICAndV9mYWRlX3QnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2ZhZGVfdCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfb3BhY2l0eSksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9pbWFnZTApLFxuICAgICd1X2ltYWdlMSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfaW1hZ2UxKSxcbiAgICAndV9icmlnaHRuZXNzX2xvdyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfYnJpZ2h0bmVzc19sb3cpLFxuICAgICd1X2JyaWdodG5lc3NfaGlnaCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfYnJpZ2h0bmVzc19oaWdoKSxcbiAgICAndV9zYXR1cmF0aW9uX2ZhY3Rvcic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfc2F0dXJhdGlvbl9mYWN0b3IpLFxuICAgICd1X2NvbnRyYXN0X2ZhY3Rvcic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfY29udHJhc3RfZmFjdG9yKSxcbiAgICAndV9zcGluX3dlaWdodHMnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQsIGxvY2F0aW9ucy51X3NwaW5fd2VpZ2h0cylcbn0pO1xuXG5jb25zdCByYXN0ZXJVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHBhcmVudFRMOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIHBhcmVudFNjYWxlQnk6IG51bWJlcixcbiAgICBmYWRlOiB7bWl4OiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcn0sXG4gICAgbGF5ZXI6IFJhc3RlclN0eWxlTGF5ZXJcbik6IFVuaWZvcm1WYWx1ZXM8UmFzdGVyVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAndV90bF9wYXJlbnQnOiBwYXJlbnRUTCxcbiAgICAndV9zY2FsZV9wYXJlbnQnOiBwYXJlbnRTY2FsZUJ5LFxuICAgICd1X2J1ZmZlcl9zY2FsZSc6IDEsXG4gICAgJ3VfZmFkZV90JzogZmFkZS5taXgsXG4gICAgJ3Vfb3BhY2l0eSc6IGZhZGUub3BhY2l0eSAqIGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSxcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X2ltYWdlMSc6IDEsXG4gICAgJ3VfYnJpZ2h0bmVzc19sb3cnOiBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1icmlnaHRuZXNzLW1pbicpLFxuICAgICd1X2JyaWdodG5lc3NfaGlnaCc6IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWJyaWdodG5lc3MtbWF4JyksXG4gICAgJ3Vfc2F0dXJhdGlvbl9mYWN0b3InOiBzYXR1cmF0aW9uRmFjdG9yKGxheWVyLnBhaW50LmdldCgncmFzdGVyLXNhdHVyYXRpb24nKSksXG4gICAgJ3VfY29udHJhc3RfZmFjdG9yJzogY29udHJhc3RGYWN0b3IobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItY29udHJhc3QnKSksXG4gICAgJ3Vfc3Bpbl93ZWlnaHRzJzogc3BpbldlaWdodHMobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItaHVlLXJvdGF0ZScpKVxufSk7XG5cbmZ1bmN0aW9uIHNwaW5XZWlnaHRzKGFuZ2xlKSB7XG4gICAgYW5nbGUgKj0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgKDIgKiBjICsgMSkgLyAzLFxuICAgICAgICAoLU1hdGguc3FydCgzKSAqIHMgLSBjICsgMSkgLyAzLFxuICAgICAgICAoTWF0aC5zcXJ0KDMpICogcyAtIGMgKyAxKSAvIDNcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBjb250cmFzdEZhY3Rvcihjb250cmFzdCkge1xuICAgIHJldHVybiBjb250cmFzdCA+IDAgP1xuICAgICAgICAxIC8gKDEgLSBjb250cmFzdCkgOlxuICAgICAgICAxICsgY29udHJhc3Q7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRpb25GYWN0b3Ioc2F0dXJhdGlvbikge1xuICAgIHJldHVybiBzYXR1cmF0aW9uID4gMCA/XG4gICAgICAgIDEgLSAxIC8gKDEuMDAxIC0gc2F0dXJhdGlvbikgOlxuICAgICAgICAtc2F0dXJhdGlvbjtcbn1cblxuZXhwb3J0IHsgcmFzdGVyVW5pZm9ybXMsIHJhc3RlclVuaWZvcm1WYWx1ZXMgfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuXG5leHBvcnQgdHlwZSBTeW1ib2xJY29uVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogVW5pZm9ybTFpLFxuICAgICd1X3NpemVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9zaXplJzogVW5pZm9ybTFmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfcGl0Y2gnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRlX3N5bWJvbCc6IFVuaWZvcm0xaSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9nbF9jb29yZF9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaXNfdGV4dCc6IFVuaWZvcm0xZixcbiAgICAndV9waXRjaF93aXRoX21hcCc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHR1cmUnOiBVbmlmb3JtMWlcbnx9O1xuXG5leHBvcnQgdHlwZSBTeW1ib2xTREZVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IFVuaWZvcm0xaSxcbiAgICAndV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3Vfc2l6ZV90JzogVW5pZm9ybTFmLFxuICAgICd1X3NpemUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IFVuaWZvcm0xZixcbiAgICAndV9waXRjaCc6IFVuaWZvcm0xZixcbiAgICAndV9yb3RhdGVfc3ltYm9sJzogVW5pZm9ybTFpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV9mYWRlX2NoYW5nZSc6IFVuaWZvcm0xZixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2dsX2Nvb3JkX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9pc190ZXh0JzogVW5pZm9ybTFmLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogVW5pZm9ybTFpLFxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4dHVyZSc6IFVuaWZvcm0xaSxcbiAgICAndV9nYW1tYV9zY2FsZSc6IFVuaWZvcm0xZixcbiAgICAndV9pc19oYWxvJzogVW5pZm9ybTFmXG58fTtcblxuY29uc3Qgc3ltYm9sSWNvblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IFN5bWJvbEljb25Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2lzX3NpemVfem9vbV9jb25zdGFudCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpLFxuICAgICd1X3NpemVfdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfc2l6ZV90KSxcbiAgICAndV9zaXplJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9zaXplKSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSxcbiAgICAndV9waXRjaCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl0Y2gpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X3JvdGF0ZV9zeW1ib2wpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfYXNwZWN0X3JhdGlvKSxcbiAgICAndV9mYWRlX2NoYW5nZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfZmFkZV9jaGFuZ2UpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X2xhYmVsX3BsYW5lX21hdHJpeCksXG4gICAgJ3VfZ2xfY29vcmRfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9nbF9jb29yZF9tYXRyaXgpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2lzX3RleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9waXRjaF93aXRoX21hcCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfdGV4c2l6ZSksXG4gICAgJ3VfdGV4dHVyZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfdGV4dHVyZSlcbn0pO1xuXG5jb25zdCBzeW1ib2xTREZVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBTeW1ib2xTREZVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X2lzX3NpemVfem9vbV9jb25zdGFudCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpLFxuICAgICd1X3NpemVfdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfc2l6ZV90KSxcbiAgICAndV9zaXplJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9zaXplKSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSxcbiAgICAndV9waXRjaCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl0Y2gpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQsIGxvY2F0aW9ucy51X3JvdGF0ZV9zeW1ib2wpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfYXNwZWN0X3JhdGlvKSxcbiAgICAndV9mYWRlX2NoYW5nZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfZmFkZV9jaGFuZ2UpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCwgbG9jYXRpb25zLnVfbWF0cml4KSxcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQsIGxvY2F0aW9ucy51X2xhYmVsX3BsYW5lX21hdHJpeCksXG4gICAgJ3VfZ2xfY29vcmRfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9nbF9jb29yZF9tYXRyaXgpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2lzX3RleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9waXRjaF93aXRoX21hcCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfdGV4c2l6ZSksXG4gICAgJ3VfdGV4dHVyZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCwgbG9jYXRpb25zLnVfdGV4dHVyZSksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X2dhbW1hX3NjYWxlKSxcbiAgICAndV9pc19oYWxvJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV9pc19oYWxvKVxufSk7XG5cbmNvbnN0IHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIGZ1bmN0aW9uVHlwZTogc3RyaW5nLFxuICAgIHNpemU6ID97dVNpemVUOiBudW1iZXIsIHVTaXplOiBudW1iZXJ9LFxuICAgIHJvdGF0ZUluU2hhZGVyOiBib29sZWFuLFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBnbENvb3JkTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgaXNUZXh0OiBib29sZWFuLFxuICAgIHRleFNpemU6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8U3ltYm9sSWNvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfaXNfc2l6ZV96b29tX2NvbnN0YW50JzogKyhmdW5jdGlvblR5cGUgPT09ICdjb25zdGFudCcgfHwgZnVuY3Rpb25UeXBlID09PSAnc291cmNlJyksXG4gICAgICAgICd1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCc6ICsoZnVuY3Rpb25UeXBlID09PSAnY29uc3RhbnQnIHx8IGZ1bmN0aW9uVHlwZSA9PT0gJ2NhbWVyYScpLFxuICAgICAgICAndV9zaXplX3QnOiBzaXplID8gc2l6ZS51U2l6ZVQgOiAwLFxuICAgICAgICAndV9zaXplJzogc2l6ZSA/IHNpemUudVNpemUgOiAwLFxuICAgICAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsXG4gICAgICAgICd1X3BpdGNoJzogdHJhbnNmb3JtLnBpdGNoIC8gMzYwICogMiAqIE1hdGguUEksXG4gICAgICAgICd1X3JvdGF0ZV9zeW1ib2wnOiArcm90YXRlSW5TaGFkZXIsXG4gICAgICAgICd1X2FzcGVjdF9yYXRpbyc6IHRyYW5zZm9ybS53aWR0aCAvIHRyYW5zZm9ybS5oZWlnaHQsXG4gICAgICAgICd1X2ZhZGVfY2hhbmdlJzogcGFpbnRlci5vcHRpb25zLmZhZGVEdXJhdGlvbiA/IHBhaW50ZXIuc3ltYm9sRmFkZUNoYW5nZSA6IDEsXG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogbGFiZWxQbGFuZU1hdHJpeCxcbiAgICAgICAgJ3VfZ2xfY29vcmRfbWF0cml4JzogZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgJ3VfaXNfdGV4dCc6ICtpc1RleHQsXG4gICAgICAgICd1X3BpdGNoX3dpdGhfbWFwJzogK3BpdGNoV2l0aE1hcCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IHRleFNpemUsXG4gICAgICAgICd1X3RleHR1cmUnOiAwXG4gICAgfTtcbn07XG5cbmNvbnN0IHN5bWJvbFNERlVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgZnVuY3Rpb25UeXBlOiBzdHJpbmcsXG4gICAgc2l6ZTogP3t1U2l6ZVQ6IG51bWJlciwgdVNpemU6IG51bWJlcn0sXG4gICAgcm90YXRlSW5TaGFkZXI6IGJvb2xlYW4sXG4gICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgbGFiZWxQbGFuZU1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGdsQ29vcmRNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBpc1RleHQ6IGJvb2xlYW4sXG4gICAgdGV4U2l6ZTogW251bWJlciwgbnVtYmVyXSxcbiAgICBpc0hhbG86IGJvb2xlYW5cbik6IFVuaWZvcm1WYWx1ZXM8U3ltYm9sU0RGVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICByZXR1cm4gZXh0ZW5kKHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzKGZ1bmN0aW9uVHlwZSwgc2l6ZSxcbiAgICAgICAgcm90YXRlSW5TaGFkZXIsIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICBnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUpLCB7XG4gICAgICAgICd1X2dhbW1hX3NjYWxlJzogKHBpdGNoV2l0aE1hcCA/IE1hdGguY29zKHRyYW5zZm9ybS5fcGl0Y2gpICogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgOiAxKSxcbiAgICAgICAgJ3VfaXNfaGFsbyc6ICtpc0hhbG9cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHN5bWJvbEljb25Vbmlmb3Jtcywgc3ltYm9sU0RGVW5pZm9ybXMsIHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzLCBzeW1ib2xTREZVbmlmb3JtVmFsdWVzIH07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiZ1BhdHRlcm5Vbmlmb3JtVmFsdWVzIH0gZnJvbSAnLi9wYXR0ZXJuJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybUNvbG9yLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzLCBVbmlmb3JtTG9jYXRpb25zfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIENvbG9yIGZyb20gJy4uLy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NGYWRlZH0gZnJvbSAnLi4vLi4vc3R5bGUvcHJvcGVydGllcyc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NmYWRlUGFyYW1ldGVyc30gZnJvbSAnLi4vLi4vc3R5bGUvZXZhbHVhdGlvbl9wYXJhbWV0ZXJzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCB0eXBlIEJhY2tncm91bmRVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgICd1X2NvbG9yJzogVW5pZm9ybUNvbG9yXG58fTtcblxuZXhwb3J0IHR5cGUgQmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgIC8vIHBhdHRlcm4gdW5pZm9ybXM6XG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGF0dGVybl90bF9hJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnJfYSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3RsX2InOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGF0dGVybl9icl9iJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfbWl4JzogVW5pZm9ybTFmLFxuICAgICd1X3BhdHRlcm5fc2l6ZV9hJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fc2l6ZV9iJzogVW5pZm9ybTJmLFxuICAgICd1X3NjYWxlX2EnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfc2NhbGVfYic6IFVuaWZvcm0xZixcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFVuaWZvcm0yZixcbiAgICAndV9waXhlbF9jb29yZF9sb3dlcic6IFVuaWZvcm0yZixcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IGJhY2tncm91bmRVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0LCBsb2NhdGlvbnM6IFVuaWZvcm1Mb2NhdGlvbnMpOiBCYWNrZ3JvdW5kVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X29wYWNpdHkpLFxuICAgICd1X2NvbG9yJzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0LCBsb2NhdGlvbnMudV9jb2xvcilcbn0pO1xuXG5jb25zdCBiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQsIGxvY2F0aW9uczogVW5pZm9ybUxvY2F0aW9ucyk6IEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0LCBsb2NhdGlvbnMudV9tYXRyaXgpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQsIGxvY2F0aW9ucy51X29wYWNpdHkpLFxuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0LCBsb2NhdGlvbnMudV9pbWFnZSksXG4gICAgJ3VfcGF0dGVybl90bF9hJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9wYXR0ZXJuX3RsX2EpLFxuICAgICd1X3BhdHRlcm5fYnJfYSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGF0dGVybl9icl9hKSxcbiAgICAndV9wYXR0ZXJuX3RsX2InOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3BhdHRlcm5fdGxfYiksXG4gICAgJ3VfcGF0dGVybl9icl9iJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9wYXR0ZXJuX2JyX2IpLFxuICAgICd1X3RleHNpemUnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3RleHNpemUpLFxuICAgICd1X21peCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfbWl4KSxcbiAgICAndV9wYXR0ZXJuX3NpemVfYSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGF0dGVybl9zaXplX2EpLFxuICAgICd1X3BhdHRlcm5fc2l6ZV9iJzogbmV3IFVuaWZvcm0yZihjb250ZXh0LCBsb2NhdGlvbnMudV9wYXR0ZXJuX3NpemVfYiksXG4gICAgJ3Vfc2NhbGVfYSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfc2NhbGVfYSksXG4gICAgJ3Vfc2NhbGVfYic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCwgbG9jYXRpb25zLnVfc2NhbGVfYiksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQsIGxvY2F0aW9ucy51X3BpeGVsX2Nvb3JkX3VwcGVyKSxcbiAgICAndV9waXhlbF9jb29yZF9sb3dlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCwgbG9jYXRpb25zLnVfcGl4ZWxfY29vcmRfbG93ZXIpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0LCBsb2NhdGlvbnMudV90aWxlX3VuaXRzX3RvX3BpeGVscylcbn0pO1xuXG5jb25zdCBiYWNrZ3JvdW5kVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBvcGFjaXR5OiBudW1iZXIsXG4gICAgY29sb3I6IENvbG9yXG4pOiBVbmlmb3JtVmFsdWVzPEJhY2tncm91bmRVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X29wYWNpdHknOiBvcGFjaXR5LFxuICAgICd1X2NvbG9yJzogY29sb3Jcbn0pO1xuXG5jb25zdCBiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgb3BhY2l0eTogbnVtYmVyLFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgaW1hZ2U6IENyb3NzRmFkZWQ8c3RyaW5nPixcbiAgICB0aWxlOiB7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlU2l6ZTogbnVtYmVyfSxcbiAgICBjcm9zc2ZhZGU6IENyb3NzZmFkZVBhcmFtZXRlcnNcbik6IFVuaWZvcm1WYWx1ZXM8QmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc1R5cGU+ID0+IGV4dGVuZChcbiAgICBiZ1BhdHRlcm5Vbmlmb3JtVmFsdWVzKGltYWdlLCBjcm9zc2ZhZGUsIHBhaW50ZXIsIHRpbGUpLFxuICAgIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9vcGFjaXR5Jzogb3BhY2l0eVxuICAgIH1cbik7XG5cbmV4cG9ydCB7XG4gICAgYmFja2dyb3VuZFVuaWZvcm1zLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZmlsbEV4dHJ1c2lvblVuaWZvcm1zLCBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zLCBleHRydXNpb25UZXh0dXJlVW5pZm9ybXMgfSBmcm9tICcuL2ZpbGxfZXh0cnVzaW9uX3Byb2dyYW0nO1xuaW1wb3J0IHsgZmlsbFVuaWZvcm1zLCBmaWxsUGF0dGVyblVuaWZvcm1zLCBmaWxsT3V0bGluZVVuaWZvcm1zLCBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtcyB9IGZyb20gJy4vZmlsbF9wcm9ncmFtJztcbmltcG9ydCB7IGNpcmNsZVVuaWZvcm1zIH0gZnJvbSAnLi9jaXJjbGVfcHJvZ3JhbSc7XG5pbXBvcnQgeyBjb2xsaXNpb25Vbmlmb3JtcyB9IGZyb20gJy4vY29sbGlzaW9uX3Byb2dyYW0nO1xuaW1wb3J0IHsgZGVidWdVbmlmb3JtcyB9IGZyb20gJy4vZGVidWdfcHJvZ3JhbSc7XG5pbXBvcnQgeyBjbGlwcGluZ01hc2tVbmlmb3JtcyB9IGZyb20gJy4vY2xpcHBpbmdfbWFza19wcm9ncmFtJztcbmltcG9ydCB7IGhlYXRtYXBVbmlmb3JtcywgaGVhdG1hcFRleHR1cmVVbmlmb3JtcyB9IGZyb20gJy4vaGVhdG1hcF9wcm9ncmFtJztcbmltcG9ydCB7IGhpbGxzaGFkZVVuaWZvcm1zLCBoaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXMgfSBmcm9tICcuL2hpbGxzaGFkZV9wcm9ncmFtJztcbmltcG9ydCB7IGxpbmVVbmlmb3JtcywgbGluZUdyYWRpZW50VW5pZm9ybXMsIGxpbmVQYXR0ZXJuVW5pZm9ybXMsIGxpbmVTREZVbmlmb3JtcyB9IGZyb20gJy4vbGluZV9wcm9ncmFtJztcbmltcG9ydCB7IHJhc3RlclVuaWZvcm1zIH0gZnJvbSAnLi9yYXN0ZXJfcHJvZ3JhbSc7XG5pbXBvcnQgeyBzeW1ib2xJY29uVW5pZm9ybXMsIHN5bWJvbFNERlVuaWZvcm1zIH0gZnJvbSAnLi9zeW1ib2xfcHJvZ3JhbSc7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kVW5pZm9ybXMsIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMgfSBmcm9tICcuL2JhY2tncm91bmRfcHJvZ3JhbSc7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmFtVW5pZm9ybXMgPSB7XG4gICAgZmlsbEV4dHJ1c2lvbjogZmlsbEV4dHJ1c2lvblVuaWZvcm1zLFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuOiBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zLFxuICAgIGV4dHJ1c2lvblRleHR1cmU6IGV4dHJ1c2lvblRleHR1cmVVbmlmb3JtcyxcbiAgICBmaWxsOiBmaWxsVW5pZm9ybXMsXG4gICAgZmlsbFBhdHRlcm46IGZpbGxQYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbE91dGxpbmU6IGZpbGxPdXRsaW5lVW5pZm9ybXMsXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuOiBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtcyxcbiAgICBjaXJjbGU6IGNpcmNsZVVuaWZvcm1zLFxuICAgIGNvbGxpc2lvbkJveDogY29sbGlzaW9uVW5pZm9ybXMsXG4gICAgY29sbGlzaW9uQ2lyY2xlOiBjb2xsaXNpb25Vbmlmb3JtcyxcbiAgICBkZWJ1ZzogZGVidWdVbmlmb3JtcyxcbiAgICBjbGlwcGluZ01hc2s6IGNsaXBwaW5nTWFza1VuaWZvcm1zLFxuICAgIGhlYXRtYXA6IGhlYXRtYXBVbmlmb3JtcyxcbiAgICBoZWF0bWFwVGV4dHVyZTogaGVhdG1hcFRleHR1cmVVbmlmb3JtcyxcbiAgICBoaWxsc2hhZGU6IGhpbGxzaGFkZVVuaWZvcm1zLFxuICAgIGhpbGxzaGFkZVByZXBhcmU6IGhpbGxzaGFkZVByZXBhcmVVbmlmb3JtcyxcbiAgICBsaW5lOiBsaW5lVW5pZm9ybXMsXG4gICAgbGluZUdyYWRpZW50OiBsaW5lR3JhZGllbnRVbmlmb3JtcyxcbiAgICBsaW5lUGF0dGVybjogbGluZVBhdHRlcm5Vbmlmb3JtcyxcbiAgICBsaW5lU0RGOiBsaW5lU0RGVW5pZm9ybXMsXG4gICAgcmFzdGVyOiByYXN0ZXJVbmlmb3JtcyxcbiAgICBzeW1ib2xJY29uOiBzeW1ib2xJY29uVW5pZm9ybXMsXG4gICAgc3ltYm9sU0RGOiBzeW1ib2xTREZVbmlmb3JtcyxcbiAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm46IGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlELCBDYW5vbmljYWxUaWxlSUQgfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi8uLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG50eXBlIE1hc2sgPSB7XG4gICAgW251bWJlcl06IENhbm9uaWNhbFRpbGVJRFxufTtcblxuLy8gVXBkYXRlcyB0aGUgVGlsZU1hc2tzIGZvciBhbGwgcmVuZGVyYWJsZSB0aWxlcy4gQSBUaWxlTWFzayBkZXNjcmliZXMgYWxsIHJlZ2lvbnNcbi8vIHdpdGhpbiB0aGF0IHRpbGUgdGhhdCBhcmUgKm5vdCogY292ZXJlZCBieSBvdGhlciByZW5kZXJhYmxlIHRpbGVzLlxuLy8gRXhhbXBsZTogcmVuZGVyYWJsZVRpbGVzIGluIG91ciBsaXN0IGFyZSAyLzEvMywgMy8zLzYsIGFuZCA0LzUvMTMuIFRoZSBzY2hlbWF0aWMgZm9yIGNyZWF0aW5nIHRoZVxuLy8gVGlsZU1hc2sgZm9yIDIvMS8zIGxvb2tzIGxpa2UgdGhpczpcbi8vXG4vLyAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDQvNC8xMiDilIIgNC81LzEyIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgDMvMi824pSA4pSA4pSA4pSA4pSA4pSA4pSkIyMjIyMzLzMvNiMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDQvNC8xMyDilIIjNC81LzEzI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgDIvMS8z4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAzLzIvNyAgICAgIOKUgiAgICAgIDMvMy83ICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbi8vXG4vLyBUaGUgVGlsZU1hc2sgZm9yIDIvMS8zIHRodXMgY29uc2lzdHMgb2YgdGhlIHRpbGVzIDQvNC8xMiwgNC81LzEyLCA0LzQvMTMsIDMvMi83LCBhbmQgMy8zLzcsXG4vLyBidXQgaXQgZG9lcyAqbm90KiBpbmNsdWRlIDQvNS8xMywgYW5kIDMvMy82LCBzaW5jZSB0aGVzZSBhcmUgb3RoZXIgcmVuZGVyYWJsZVRpbGVzLlxuLy8gQSBUaWxlTWFzayBhbHdheXMgY29udGFpbnMgVGlsZUlEcyAqcmVsYXRpdmUqIHRvIHRoZSB0aWxlIGl0IGlzIGdlbmVyYXRlZCBmb3IsIHNvIDIvMS8zIGlzXG4vLyBcInN1YnRyYWN0ZWRcIiBmcm9tIHRoZXNlIFRpbGVJRHMuIFRoZSBmaW5hbCBUaWxlTWFzayBmb3IgMi8xLzMgd2lsbCB0aHVzIGJlOlxuLy9cbi8vICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuLy8gICAg4pSCICAgICAgICDilIIgICAgICAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgMi8wLzAgIOKUgiAyLzEvMCAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDIvMC8xICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgMS8wLzEgICAgICDilIIgICAgICAxLzEvMSAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4vL1xuLy8gT25seSBvdGhlciByZW5kZXJhYmxlIHRpbGVzIHRoYXQgYXJlICpjaGlsZHJlbiogb2YgdGhlIHRpbGUgd2UgYXJlIGdlbmVyYXRpbmcgdGhlIG1hc2sgZm9yIHdpbGxcbi8vIGJlIGNvbnNpZGVyZWQuIEZvciBleGFtcGxlLCBhZGRpbmcgVGlsZUlEIDQvOC8xMyB0byByZW5kZXJhYmxlVGlsZXMgd29uJ3QgYWZmZWN0IHRoZSBUaWxlTWFzayBmb3Jcbi8vIDIvMS8zLCBzaW5jZSBpdCBpcyBub3QgYSBkZXNjZW5kYW50IG9mIGl0LlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHJlbmRlcmFibGVUaWxlczogQXJyYXk8VGlsZT4sIGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICBjb25zdCBzb3J0ZWRSZW5kZXJhYmxlcyA9IHJlbmRlcmFibGVUaWxlcy5zb3J0KChhLCBiKSA9PiB7IHJldHVybiBhLnRpbGVJRC5pc0xlc3NUaGFuKGIudGlsZUlEKSA/IC0xIDogYi50aWxlSUQuaXNMZXNzVGhhbihhLnRpbGVJRCkgPyAxIDogMDsgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlbmRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG1hc2sgPSB7fTtcbiAgICAgICAgY29uc3QgdGlsZSA9ICBzb3J0ZWRSZW5kZXJhYmxlc1tpXTtcbiAgICAgICAgY29uc3QgY2hpbGRBcnJheSA9IHNvcnRlZFJlbmRlcmFibGVzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgLy8gVHJ5IHRvIGFkZCBhbGwgcmVtYWluaW5nIGlkcyBhcyBjaGlsZHJlbi4gV2Ugc29ydGVkIHRoZSB0aWxlIGxpc3RcbiAgICAgICAgLy8gYnkgeiBlYXJsaWVyLCBzbyBhbGwgcHJlY2VkaW5nIGl0ZW1zIGNhbm5vdCBiZSBjaGlsZHJlbiBvZiB0aGUgY3VycmVudFxuICAgICAgICAvLyB0aWxlLiBXZSBhbHNvIGNvbXB1dGUgdGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBuZXh0IHdyYXAsIGJlY2F1c2UgaXRlbXMgb2YgdGhlIG5leHQgd3JhcFxuICAgICAgICAvLyBjYW4gbmV2ZXIgYmUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgd3JhcC5cblxuICAgICAgICBjb21wdXRlVGlsZU1hc2tzKHRpbGUudGlsZUlELndyYXBwZWQoKSwgdGlsZS50aWxlSUQsIGNoaWxkQXJyYXksIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDAsIHRpbGUudGlsZUlELndyYXAgKyAxLCAwLCAwLCAwKSwgbWFzayk7XG4gICAgICAgIHRpbGUuc2V0TWFzayhtYXNrLCBjb250ZXh0KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVUaWxlTWFza3Mocm9vdFRpbGU6IE92ZXJzY2FsZWRUaWxlSUQsIHJlZjogT3ZlcnNjYWxlZFRpbGVJRCwgY2hpbGRBcnJheTogQXJyYXk8VGlsZT4sIGxvd2VyQm91bmQ6IE92ZXJzY2FsZWRUaWxlSUQsIG1hc2s6IE1hc2spIHtcbiAgICAvLyBJZiB0aGUgcmVmZXJlbmNlIG9yIGFueSBvZiBpdHMgY2hpbGRyZW4gaXMgZm91bmQgaW4gdGhlIGxpc3QsIHdlIG5lZWQgdG8gcmVjdXJzZS5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGRUaWxlID0gY2hpbGRBcnJheVtpXTtcbiAgICAgICAgLy8gY2hpbGRUaWxlIGlzIGZyb20gYSBsYXJnZXIgd3JhcCB0aGFuIHRoZSByb290VGlsZSBzbyBpdCBjYW5ub3QgYmUgYSBjaGlsZCB0aWxlXG4gICAgICAgIGlmIChsb3dlckJvdW5kLmlzTGVzc1RoYW4oY2hpbGRUaWxlLnRpbGVJRCkpIGJyZWFrO1xuICAgICAgICAvLyBUaGUgY3VycmVudCB0aWxlIGlzIG1hc2tlZCBvdXQsIHNvIHdlIGRvbid0IG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhlIG1hc2sgc2V0LlxuICAgICAgICBpZiAocmVmLmtleSA9PT0gY2hpbGRUaWxlLnRpbGVJRC5rZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZFRpbGUudGlsZUlELmlzQ2hpbGRPZihyZWYpKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIGF0IGxlYXN0IG9uZSBjaGlsZCB0aWxlIHRoYXQgaXMgbWFza2VkIG91dCwgc28gcmVjdXJzaXZlbHkgZGVzY2VuZFxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByZWYuY2hpbGRyZW4oSW5maW5pdHkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgY29tcHV0ZVRpbGVNYXNrcyhyb290VGlsZSwgY2hpbGQsIGNoaWxkQXJyYXkuc2xpY2UoaSksIGxvd2VyQm91bmQsIG1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlIGNvdWxkbid0IGZpbmQgYSBjaGlsZCwgc28gaXQncyBkZWZpbml0ZWx5IGEgbWFza2VkIHBhcnQuXG4gICAgLy8gQ29tcHV0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSByb290IHRpbGUgSUQgYW5kIHRoZSByZWZlcmVuY2UgdGlsZSBJRCwgc2luY2UgVGlsZU1hc2tcbiAgICAvLyBlbGVtZW50cyBhcmUgYWx3YXlzIHJlbGF0aXZlIChzZWUgYmVsb3cgZm9yIGV4cGxhbmF0aW9uKS5cbiAgICBjb25zdCBkaWZmWiA9IHJlZi5vdmVyc2NhbGVkWiAtIHJvb3RUaWxlLm92ZXJzY2FsZWRaO1xuICAgIGNvbnN0IG1hc2tUaWxlSWQgPSBuZXcgQ2Fub25pY2FsVGlsZUlEKGRpZmZaLCByZWYuY2Fub25pY2FsLnggLSAocm9vdFRpbGUuY2Fub25pY2FsLnggPDwgZGlmZlopLCByZWYuY2Fub25pY2FsLnkgLSAocm9vdFRpbGUuY2Fub25pY2FsLnkgPDwgZGlmZlopKTtcbiAgICBtYXNrW21hc2tUaWxlSWQua2V5XSA9IG1hc2tbbWFza1RpbGVJZC5rZXldIHx8IG1hc2tUaWxlSWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUnO1xuaW1wb3J0IHsgY29sbGlzaW9uVW5pZm9ybVZhbHVlcyB9IGZyb20gJy4vcHJvZ3JhbS9jb2xsaXNpb25fcHJvZ3JhbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDb2xsaXNpb25EZWJ1ZztcblxuZnVuY3Rpb24gZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiwgZHJhd0NpcmNsZXM6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBwcm9ncmFtID0gZHJhd0NpcmNsZXMgPyBwYWludGVyLnVzZVByb2dyYW0oJ2NvbGxpc2lvbkNpcmNsZScpIDogcGFpbnRlci51c2VQcm9ncmFtKCdjb2xsaXNpb25Cb3gnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP1N5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGRyYXdDaXJjbGVzID8gYnVja2V0LmNvbGxpc2lvbkNpcmNsZSA6IGJ1Y2tldC5jb2xsaXNpb25Cb3g7XG4gICAgICAgIGlmICghYnVmZmVycykgY29udGludWU7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGRyYXdDaXJjbGVzID8gZ2wuVFJJQU5HTEVTIDogZ2wuTElORVMsXG4gICAgICAgICAgICBEZXB0aE1vZGUuZGlzYWJsZWQsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgICAgICBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICBjb2xsaXNpb25Vbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIGNvb3JkLnBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICBwYWludGVyLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICB0aWxlKSxcbiAgICAgICAgICAgIGxheWVyLmlkLCBidWZmZXJzLmxheW91dFZlcnRleEJ1ZmZlciwgYnVmZmVycy5pbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1ZmZlcnMuc2VnbWVudHMsIG51bGwsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sIG51bGwsIG51bGwsXG4gICAgICAgICAgICBidWZmZXJzLmNvbGxpc2lvblZlcnRleEJ1ZmZlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3Q29sbGlzaW9uRGVidWcocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGRyYXdDb2xsaXNpb25EZWJ1Z0dlb21ldHJ5KHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBmYWxzZSk7XG4gICAgZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIHRydWUpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGRyYXdDb2xsaXNpb25EZWJ1ZyBmcm9tICcuL2RyYXdfY29sbGlzaW9uX2RlYnVnJztcblxuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgKiBhcyBzeW1ib2xQcm9qZWN0aW9uIGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uJztcbmltcG9ydCAqIGFzIHN5bWJvbFNpemUgZnJvbSAnLi4vc3ltYm9sL3N5bWJvbF9zaXplJztcbmltcG9ydCB7IG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuY29uc3QgaWRlbnRpdHlNYXQ0ID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7XG5pbXBvcnQgcHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5jb25zdCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5sYXlvdXQ7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB7XG4gICAgc3ltYm9sSWNvblVuaWZvcm1WYWx1ZXMsXG4gICAgc3ltYm9sU0RGVW5pZm9ybVZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vc3ltYm9sX3Byb2dyYW0nO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFN5bWJvbFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdTeW1ib2xzO1xuXG5mdW5jdGlvbiBkcmF3U3ltYm9scyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTeW1ib2xTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgLy8gRGlzYWJsZSB0aGUgc3RlbmNpbCB0ZXN0IHNvIHRoYXQgbGFiZWxzIGFyZW4ndCBjbGlwcGVkIHRvIHRpbGUgYm91bmRhcmllcy5cbiAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuXG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnaWNvbi1vcGFjaXR5JykuY29uc3RhbnRPcigxKSAhPT0gMCkge1xuICAgICAgICBkcmF3TGF5ZXJTeW1ib2xzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBmYWxzZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnaWNvbi10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnaWNvbi10cmFuc2xhdGUtYW5jaG9yJyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXJvdGF0aW9uLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1waXRjaC1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24ta2VlcC11cHJpZ2h0JyksXG4gICAgICAgICAgICBzdGVuY2lsTW9kZSwgY29sb3JNb2RlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgndGV4dC1vcGFjaXR5JykuY29uc3RhbnRPcigxKSAhPT0gMCkge1xuICAgICAgICBkcmF3TGF5ZXJTeW1ib2xzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCB0cnVlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZS1hbmNob3InKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcm90YXRpb24tYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1rZWVwLXVwcmlnaHQnKSxcbiAgICAgICAgICAgIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlQ2FjaGUubWFwLnNob3dDb2xsaXNpb25Cb3hlcykge1xuICAgICAgICBkcmF3Q29sbGlzaW9uRGVidWcocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgaXNUZXh0LCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcixcbiAgICByb3RhdGlvbkFsaWdubWVudCwgcGl0Y2hBbGlnbm1lbnQsIGtlZXBVcHJpZ2h0LCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlKSB7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IHJvdGF0aW9uQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBwaXRjaEFsaWdubWVudCA9PT0gJ21hcCc7XG4gICAgY29uc3QgYWxvbmdMaW5lID0gcm90YXRlV2l0aE1hcCAmJiBsYXllci5sYXlvdXQuZ2V0KCdzeW1ib2wtcGxhY2VtZW50JykgIT09ICdwb2ludCc7XG4gICAgLy8gTGluZSBsYWJlbCByb3RhdGlvbiBoYXBwZW5zIGluIGB1cGRhdGVMaW5lTGFiZWxzYFxuICAgIC8vIFBpdGNoZWQgcG9pbnQgbGFiZWxzIGFyZSBhdXRvbWF0aWNhbGx5IHJvdGF0ZWQgYnkgdGhlIGxhYmVsUGxhbmVNYXRyaXggcHJvamVjdGlvblxuICAgIC8vIFVucGl0Y2hlZCBwb2ludCBsYWJlbHMgbmVlZCB0byBoYXZlIHRoZWlyIHJvdGF0aW9uIGFwcGxpZWQgYWZ0ZXIgcHJvamVjdGlvblxuICAgIGNvbnN0IHJvdGF0ZUluU2hhZGVyID0gcm90YXRlV2l0aE1hcCAmJiAhcGl0Y2hXaXRoTWFwICYmICFhbG9uZ0xpbmU7XG5cbiAgICBjb25zdCBkZXB0aE9uID0gcGl0Y2hXaXRoTWFwO1xuXG4gICAgY29uc3QgZGVwdGhNb2RlID0gZGVwdGhPbiA/IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSA6IERlcHRoTW9kZS5kaXNhYmxlZDtcblxuICAgIGxldCBwcm9ncmFtO1xuICAgIGxldCBzaXplO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6IFN5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0IDogYnVja2V0Lmljb247XG4gICAgICAgIGlmICghYnVmZmVycyB8fCAhYnVmZmVycy5zZWdtZW50cy5nZXQoKS5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1ZmZlcnMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG5cbiAgICAgICAgY29uc3QgaXNTREYgPSBpc1RleHQgfHwgYnVja2V0LnNkZkljb25zO1xuXG4gICAgICAgIGNvbnN0IHNpemVEYXRhID0gaXNUZXh0ID8gYnVja2V0LnRleHRTaXplRGF0YSA6IGJ1Y2tldC5pY29uU2l6ZURhdGE7XG5cbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGlzU0RGID8gJ3N5bWJvbFNERicgOiAnc3ltYm9sSWNvbicsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc2l6ZURhdGEsIHRyLnpvb20sIHN5bWJvbExheW91dFByb3BlcnRpZXMucHJvcGVydGllc1tpc1RleHQgPyAndGV4dC1zaXplJyA6ICdpY29uLXNpemUnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcblxuICAgICAgICBsZXQgdGV4U2l6ZTogW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgaWYgKGlzVGV4dCkge1xuICAgICAgICAgICAgdGlsZS5nbHlwaEF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICB0ZXhTaXplID0gdGlsZS5nbHlwaEF0bGFzVGV4dHVyZS5zaXplO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlZCA9IGxheWVyLmxheW91dC5nZXQoJ2ljb24tc2l6ZScpLmNvbnN0YW50T3IoMCkgIT09IDEgfHwgYnVja2V0Lmljb25zTmVlZExpbmVhcjtcbiAgICAgICAgICAgIGNvbnN0IGljb25UcmFuc2Zvcm1lZCA9IHBpdGNoV2l0aE1hcCB8fCB0ci5waXRjaCAhPT0gMDtcblxuICAgICAgICAgICAgdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGlzU0RGIHx8IHBhaW50ZXIub3B0aW9ucy5yb3RhdGluZyB8fCBwYWludGVyLm9wdGlvbnMuem9vbWluZyB8fCBpY29uU2NhbGVkIHx8IGljb25UcmFuc2Zvcm1lZCA/XG4gICAgICAgICAgICAgICAgZ2wuTElORUFSIDogZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgICAgIHRleFNpemUgPSB0aWxlLmltYWdlQXRsYXNUZXh0dXJlLnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzID0gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IGxhYmVsUGxhbmVNYXRyaXggPSBzeW1ib2xQcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXgoY29vcmQucG9zTWF0cml4LCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHBhaW50ZXIudHJhbnNmb3JtLCBzKTtcbiAgICAgICAgY29uc3QgZ2xDb29yZE1hdHJpeCA9IHN5bWJvbFByb2plY3Rpb24uZ2V0R2xDb29yZE1hdHJpeChjb29yZC5wb3NNYXRyaXgsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgcGFpbnRlci50cmFuc2Zvcm0sIHMpO1xuXG4gICAgICAgIGlmIChhbG9uZ0xpbmUpIHtcbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24udXBkYXRlTGluZUxhYmVscyhidWNrZXQsIGNvb3JkLnBvc01hdHJpeCwgcGFpbnRlciwgaXNUZXh0LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBwaXRjaFdpdGhNYXAsIGtlZXBVcHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgdGlsZSwgdHJhbnNsYXRlLCB0cmFuc2xhdGVBbmNob3IpLFxuICAgICAgICAgICAgdUxhYmVsUGxhbmVNYXRyaXggPSBhbG9uZ0xpbmUgPyBpZGVudGl0eU1hdDQgOiBsYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgdWdsQ29vcmRNYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChnbENvb3JkTWF0cml4LCB0aWxlLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvciwgdHJ1ZSk7XG5cbiAgICAgICAgbGV0IHVuaWZvcm1WYWx1ZXM7XG4gICAgICAgIGlmIChpc1NERikge1xuICAgICAgICAgICAgY29uc3QgaGFzSGFsbyA9IGxheWVyLnBhaW50LmdldChpc1RleHQgPyAndGV4dC1oYWxvLXdpZHRoJyA6ICdpY29uLWhhbG8td2lkdGgnKS5jb25zdGFudE9yKDEpICE9PSAwO1xuXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gc3ltYm9sU0RGVW5pZm9ybVZhbHVlcyhzaXplRGF0YS5mdW5jdGlvblR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZSwgcm90YXRlSW5TaGFkZXIsIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LFxuICAgICAgICAgICAgICAgIHVMYWJlbFBsYW5lTWF0cml4LCB1Z2xDb29yZE1hdHJpeCwgaXNUZXh0LCB0ZXhTaXplLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKGhhc0hhbG8pIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgbGF5ZXIsIHBhaW50ZXIsIHByb2dyYW0sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgdW5pZm9ybVZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfaXNfaGFsbyddID0gMDtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcyA9IHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzKHNpemVEYXRhLmZ1bmN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICBzaXplLCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBwYWludGVyLCBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdUxhYmVsUGxhbmVNYXRyaXgsIHVnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKGJ1ZmZlcnMsIGxheWVyLCBwYWludGVyLCBwcm9ncmFtLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIHVuaWZvcm1WYWx1ZXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd1N5bWJvbEVsZW1lbnRzKGJ1ZmZlcnMsIGxheWVyLCBwYWludGVyLCBwcm9ncmFtLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIHVuaWZvcm1WYWx1ZXMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIGJ1ZmZlcnMubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWZmZXJzLmluZGV4QnVmZmVyLCBidWZmZXJzLnNlZ21lbnRzLCBsYXllci5wYWludCxcbiAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0uem9vbSwgYnVmZmVycy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKSxcbiAgICAgICAgYnVmZmVycy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLCBidWZmZXJzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZSc7XG5pbXBvcnQge1xuICAgIGZpbGxVbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vZmlsbF9wcm9ncmFtJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBGaWxsU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9maWxsX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEZpbGxCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvZmlsbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0ZpbGw7XG5cbmZ1bmN0aW9uIGRyYXdGaWxsKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEZpbGxTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgY29uc3QgY29sb3IgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtY29sb3InKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuXG4gICAgY29uc3QgcGF0dGVybiA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJyk7XG4gICAgY29uc3QgcGFzcyA9ICghcGF0dGVybi5jb25zdGFudE9yKCgxOiBhbnkpKSAmJlxuICAgICAgICBjb2xvci5jb25zdGFudE9yKENvbG9yLnRyYW5zcGFyZW50KS5hID09PSAxICYmXG4gICAgICAgIG9wYWNpdHkuY29uc3RhbnRPcigwKSA9PT0gMSkgPyAnb3BhcXVlJyA6ICd0cmFuc2x1Y2VudCc7XG5cbiAgICAvLyBEcmF3IGZpbGxcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSBwYXNzKSB7XG4gICAgICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoXG4gICAgICAgICAgICAxLCBwYWludGVyLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgICAgIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRlcHRoTW9kZSwgY29sb3JNb2RlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBzdHJva2VcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnICYmIGxheWVyLnBhaW50LmdldCgnZmlsbC1hbnRpYWxpYXMnKSkge1xuXG4gICAgICAgIC8vIElmIHdlIGRlZmluZWQgYSBkaWZmZXJlbnQgY29sb3IgZm9yIHRoZSBmaWxsIG91dGxpbmUsIHdlIGFyZVxuICAgICAgICAvLyBnb2luZyB0byBpZ25vcmUgdGhlIGJpdHMgaW4gMHgwNyBhbmQganVzdCBjYXJlIGFib3V0IHRoZSBnbG9iYWxcbiAgICAgICAgLy8gY2xpcHBpbmcgbWFzay5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBvbmx5IHdhbnQgdG8gZHJhd0ZpbGwgdGhlIGFudGlhbGlhc2VkIHBhcnRzIHRoYXQgYXJlXG4gICAgICAgIC8vICpvdXRzaWRlKiB0aGUgY3VycmVudCBzaGFwZS4gVGhpcyBpcyBpbXBvcnRhbnQgaW4gY2FzZSB0aGUgZmlsbFxuICAgICAgICAvLyBvciBzdHJva2UgY29sb3IgaXMgdHJhbnNsdWNlbnQuIElmIHdlIHdvdWxkbid0IGNsaXAgdG8gb3V0c2lkZVxuICAgICAgICAvLyB0aGUgY3VycmVudCBzaGFwZSwgc29tZSBwaXhlbHMgZnJvbSB0aGUgb3V0bGluZSBzdHJva2Ugb3ZlcmxhcHBlZFxuICAgICAgICAvLyB0aGUgKG5vbi1hbnRpYWxpYXNlZCkgZmlsbC5cbiAgICAgICAgY29uc3QgZGVwdGhNb2RlID0gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihcbiAgICAgICAgICAgIGxheWVyLmdldFBhaW50UHJvcGVydHkoJ2ZpbGwtb3V0bGluZS1jb2xvcicpID8gMiA6IDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgICAgIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRlcHRoTW9kZSwgY29sb3JNb2RlLCB0cnVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRlcHRoTW9kZSwgY29sb3JNb2RlLCBpc091dGxpbmUpIHtcbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcblxuICAgIGNvbnN0IHBhdHRlcm5Qcm9wZXJ0eSA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJyk7XG4gICAgY29uc3QgaW1hZ2UgPSBwYXR0ZXJuUHJvcGVydHkgJiYgcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IoKDE6IGFueSkpO1xuICAgIGNvbnN0IGNyb3NzZmFkZSA9IGxheWVyLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtcbiAgICBsZXQgZHJhd01vZGUsIHByb2dyYW1OYW1lLCB1bmlmb3JtVmFsdWVzLCBpbmRleEJ1ZmZlciwgc2VnbWVudHM7XG5cbiAgICBpZiAoIWlzT3V0bGluZSkge1xuICAgICAgICBwcm9ncmFtTmFtZSA9IGltYWdlID8gJ2ZpbGxQYXR0ZXJuJyA6ICdmaWxsJztcbiAgICAgICAgZHJhd01vZGUgPSBnbC5UUklBTkdMRVM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3JhbU5hbWUgPSBpbWFnZSAmJiAhbGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eSgnZmlsbC1vdXRsaW5lLWNvbG9yJykgPyAnZmlsbE91dGxpbmVQYXR0ZXJuJyA6ICdmaWxsT3V0bGluZSc7XG4gICAgICAgIGRyYXdNb2RlID0gZ2wuTElORVM7XG4gICAgfVxuXG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGlmIChpbWFnZSAmJiAhdGlsZS5wYXR0ZXJuc0xvYWRlZCgpKSBjb250aW51ZTtcblxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0ZpbGxCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbU5hbWUsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnVwZGF0ZVBhdHRlcm5QYWludEJ1ZmZlcnMoY3Jvc3NmYWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnN0YW50UGF0dGVybiA9IHBhdHRlcm5Qcm9wZXJ0eS5jb25zdGFudE9yKG51bGwpO1xuICAgICAgICBpZiAoY29uc3RhbnRQYXR0ZXJuICYmIHRpbGUuaW1hZ2VBdGxhcykge1xuICAgICAgICAgICAgY29uc3QgcG9zVG8gPSB0aWxlLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4udG9dO1xuICAgICAgICAgICAgY29uc3QgcG9zRnJvbSA9IHRpbGUuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW2NvbnN0YW50UGF0dGVybi5mcm9tXTtcbiAgICAgICAgICAgIGlmIChwb3NUbyAmJiBwb3NGcm9tKSBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMocG9zVG8sIHBvc0Zyb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGlsZU1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgdGlsZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC10cmFuc2xhdGUnKSwgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXRyYW5zbGF0ZS1hbmNob3InKSk7XG5cbiAgICAgICAgaWYgKCFpc091dGxpbmUpIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyID0gYnVja2V0LmluZGV4QnVmZmVyO1xuICAgICAgICAgICAgc2VnbWVudHMgPSBidWNrZXQuc2VnbWVudHM7XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyh0aWxlTWF0cml4LCBwYWludGVyLCBjcm9zc2ZhZGUsIHRpbGUpIDpcbiAgICAgICAgICAgICAgICBmaWxsVW5pZm9ybVZhbHVlcyh0aWxlTWF0cml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyID0gYnVja2V0LmluZGV4QnVmZmVyMjtcbiAgICAgICAgICAgIHNlZ21lbnRzID0gYnVja2V0LnNlZ21lbnRzMjtcbiAgICAgICAgICAgIGNvbnN0IGRyYXdpbmdCdWZmZXJTaXplID0gW2dsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodF07XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gKHByb2dyYW1OYW1lID09PSAnZmlsbE91dGxpbmVQYXR0ZXJuJyAmJiBpbWFnZSkgP1xuICAgICAgICAgICAgICAgIGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCwgcGFpbnRlciwgY3Jvc3NmYWRlLCB0aWxlLCBkcmF3aW5nQnVmZmVyU2l6ZSkgOlxuICAgICAgICAgICAgICAgIGZpbGxPdXRsaW5lVW5pZm9ybVZhbHVlcyh0aWxlTWF0cml4LCBkcmF3aW5nQnVmZmVyU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9ncmFtLmRyYXcocGFpbnRlci5jb250ZXh0LCBkcmF3TW9kZSwgZGVwdGhNb2RlLFxuICAgICAgICAgICAgcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB7ZXh0cnVzaW9uVGV4dHVyZVVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9maWxsX2V4dHJ1c2lvbl9wcm9ncmFtJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgQ3VzdG9tU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZU9mZnNjcmVlbkZyYW1lYnVmZmVyKHBhaW50ZXI6IFBhaW50ZXIsIGxheWVyOiBDdXN0b21TdHlsZUxheWVyIHwgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGxldCByZW5kZXJUYXJnZXQgPSBsYXllci52aWV3cG9ydEZyYW1lO1xuXG4gICAgaWYgKHBhaW50ZXIuZGVwdGhSYm9OZWVkc0NsZWFyKSB7XG4gICAgICAgIHBhaW50ZXIuc2V0dXBPZmZzY3JlZW5EZXB0aFJlbmRlcmJ1ZmZlcigpO1xuICAgIH1cblxuICAgIGlmICghcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB7d2lkdGg6IHBhaW50ZXIud2lkdGgsIGhlaWdodDogcGFpbnRlci5oZWlnaHQsIGRhdGE6IG51bGx9LCBnbC5SR0JBKTtcbiAgICAgICAgdGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0ID0gbGF5ZXIudmlld3BvcnRGcmFtZSA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIocGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHQpO1xuICAgICAgICByZW5kZXJUYXJnZXQuY29sb3JBdHRhY2htZW50LnNldCh0ZXh0dXJlLnRleHR1cmUpO1xuICAgIH1cblxuICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChyZW5kZXJUYXJnZXQuZnJhbWVidWZmZXIpO1xuICAgIHJlbmRlclRhcmdldC5kZXB0aEF0dGFjaG1lbnQuc2V0KHBhaW50ZXIuZGVwdGhSYm8pO1xuXG4gICAgaWYgKHBhaW50ZXIuZGVwdGhSYm9OZWVkc0NsZWFyKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXIoeyBkZXB0aDogMSB9KTtcbiAgICAgICAgcGFpbnRlci5kZXB0aFJib05lZWRzQ2xlYXIgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmNsZWFyKHsgY29sb3I6IENvbG9yLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUobmV3IERlcHRoTW9kZShnbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIFswLCAxXSkpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdPZmZzY3JlZW5UZXh0dXJlKHBhaW50ZXI6IFBhaW50ZXIsIGxheWVyOiBDdXN0b21TdHlsZUxheWVyIHwgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIsIG9wYWNpdHk6IG51bWJlcikge1xuICAgIGNvbnN0IHJlbmRlcmVkVGV4dHVyZSA9IGxheWVyLnZpZXdwb3J0RnJhbWU7XG4gICAgaWYgKCFyZW5kZXJlZFRleHR1cmUpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcmVuZGVyZWRUZXh0dXJlLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBwYWludGVyLnVzZVByb2dyYW0oJ2V4dHJ1c2lvblRleHR1cmUnKS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgRGVwdGhNb2RlLmRpc2FibGVkLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgZXh0cnVzaW9uVGV4dHVyZVVuaWZvcm1WYWx1ZXMocGFpbnRlciwgb3BhY2l0eSwgMCksXG4gICAgICAgIGxheWVyLmlkLCBwYWludGVyLnZpZXdwb3J0QnVmZmVyLCBwYWludGVyLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLFxuICAgICAgICBwYWludGVyLnZpZXdwb3J0U2VnbWVudHMsIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB7XG4gICAgaGlsbHNoYWRlVW5pZm9ybVZhbHVlcyxcbiAgICBoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vaGlsbHNoYWRlX3Byb2dyYW0nO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEhpbGxzaGFkZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGlsbHNoYWRlX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdIaWxsc2hhZGU7XG5cbmZ1bmN0aW9uIGRyYXdIaWxsc2hhZGUocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogSGlsbHNoYWRlU3R5bGVMYXllciwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAnb2Zmc2NyZWVuJyAmJiBwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3Qgc291cmNlTWF4Wm9vbSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1heHpvb207XG5cbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgY29uc3Qgc3RlbmNpbE1vZGUgPSBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcblxuICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUodGlsZUlEKTtcbiAgICAgICAgaWYgKHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlICYmIHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcbiAgICAgICAgICAgIHByZXBhcmVIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgbGF5ZXIsIHNvdXJjZU1heFpvb20sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgICAgIHJlbmRlckhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBsYXllciwgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgbGF5ZXIsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IGZibyA9IHRpbGUuZmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG5cbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGUnKTtcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMocGFpbnRlciwgdGlsZSwgbGF5ZXIpO1xuXG4gICAgaWYgKHRpbGUubWFza2VkQm91bmRzQnVmZmVyICYmIHRpbGUubWFza2VkSW5kZXhCdWZmZXIgJiYgdGlsZS5zZWdtZW50cykge1xuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCB0aWxlLm1hc2tlZEJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgIHRpbGUubWFza2VkSW5kZXhCdWZmZXIsIHRpbGUuc2VnbWVudHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgcGFpbnRlci5yYXN0ZXJCb3VuZHNTZWdtZW50cyk7XG4gICAgfVxufVxuXG4vLyBoaWxsc2hhZGUgcmVuZGVyaW5nIGlzIGRvbmUgaW4gdHdvIHN0ZXBzLiB0aGUgcHJlcGFyZSBzdGVwIGZpcnN0IGNhbGN1bGF0ZXMgdGhlIHNsb3BlIG9mIHRoZSB0ZXJyYWluIGluIHRoZSB4IGFuZCB5XG4vLyBkaXJlY3Rpb25zIGZvciBlYWNoIHBpeGVsLCBhbmQgc2F2ZXMgdGhvc2UgdmFsdWVzIHRvIGEgZnJhbWVidWZmZXIgdGV4dHVyZSBpbiB0aGUgciBhbmQgZyBjaGFubmVscy5cbmZ1bmN0aW9uIHByZXBhcmVIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgbGF5ZXIsIHNvdXJjZU1heFpvb20sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIC8vIGRlY29kZSByZ2JhIGxldmVscyBieSB1c2luZyBpbnRlZ2VyIG92ZXJmbG93IHRvIGNvbnZlcnQgZWFjaCBVaW50MzJBcnJheSBlbGVtZW50IC0+IDQgVWludDhBcnJheSBlbGVtZW50cy5cbiAgICAvLyBleC5cbiAgICAvLyBVaW50MzI6XG4gICAgLy8gYmFzZSAxMCAtIDY3MzA4XG4gICAgLy8gYmFzZSAyIC0gMDAwMCAwMDAwIDAwMDAgMDAwMSAwMDAwIDAxMTAgMTExMCAxMTAwXG4gICAgLy9cbiAgICAvLyBVaW50ODpcbiAgICAvLyBiYXNlIDEwIC0gMCwgMSwgNiwgMjM2ICh0aGlzIG9yZGVyIGlzIHJldmVyc2VkIGluIHRoZSByZXN1bHRpbmcgYXJyYXkgdmlhIHRoZSBvdmVyZmxvdy5cbiAgICAvLyBmaXJzdCA4IGJpdHMgcmVwcmVzZW50IDIzNiwgc28gdGhlIHIgY29tcG9uZW50IG9mIHRoZSB0ZXh0dXJlIHBpeGVsIHdpbGwgYmUgMjM2IGV0Yy4pXG4gICAgLy8gYmFzZSAyIC0gMDAwMCAwMDAwLCAwMDAwIDAwMDEsIDAwMDAgMDExMCwgMTExMCAxMTAwXG4gICAgaWYgKHRpbGUuZGVtICYmIHRpbGUuZGVtLmRhdGEpIHtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0aWxlLmRlbS5kaW07XG5cbiAgICAgICAgY29uc3QgcGl4ZWxEYXRhID0gdGlsZS5kZW0uZ2V0UGl4ZWxzKCk7XG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIC8vIGlmIFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCBpcyBzZXQgdG8gdHJ1ZSBwcmlvciB0byBkcmF3SGlsbHNoYWRlIGJlaW5nIGNhbGxlZFxuICAgICAgICAvLyB0aWxlcyB3aWxsIGFwcGVhciBibGFuaywgYmVjYXVzZSBhcyB5b3UgY2FuIHNlZSBhYm92ZSB0aGUgYWxwaGEgdmFsdWUgZm9yIHRoZXNlIHRleHR1cmVzXG4gICAgICAgIC8vIGlzIGFsd2F5cyAwXG4gICAgICAgIGNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KGZhbHNlKTtcbiAgICAgICAgdGlsZS5kZW1UZXh0dXJlID0gdGlsZS5kZW1UZXh0dXJlIHx8IHBhaW50ZXIuZ2V0VGlsZVRleHR1cmUodGlsZS50aWxlU2l6ZSk7XG4gICAgICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRleHR1cmUgPSB0aWxlLmRlbVRleHR1cmU7XG4gICAgICAgICAgICBkZW1UZXh0dXJlLnVwZGF0ZShwaXhlbERhdGEsIHsgcHJlbXVsdGlwbHk6IGZhbHNlIH0pO1xuICAgICAgICAgICAgZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5kZW1UZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgcGl4ZWxEYXRhLCBnbC5SR0JBLCB7IHByZW11bHRpcGx5OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRpbGUuZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgbGV0IGZibyA9IHRpbGUuZmJvO1xuXG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwge3dpZHRoOiB0aWxlU2l6ZSwgaGVpZ2h0OiB0aWxlU2l6ZSwgZGF0YTogbnVsbH0sIGdsLlJHQkEpO1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgICAgIGZibyA9IHRpbGUuZmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih0aWxlU2l6ZSwgdGlsZVNpemUpO1xuICAgICAgICAgICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQocmVuZGVyVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGlsZVNpemUsIHRpbGVTaXplXSk7XG5cbiAgICAgICAgcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGVQcmVwYXJlJykuZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsXG4gICAgICAgICAgICBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgIGhpbGxzaGFkZVVuaWZvcm1QcmVwYXJlVmFsdWVzKHRpbGUsIHNvdXJjZU1heFpvb20pLFxuICAgICAgICAgICAgbGF5ZXIuaWQsIHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgcGFpbnRlci5yYXN0ZXJCb3VuZHNTZWdtZW50cyk7XG5cbiAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSBmYWxzZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCBJbWFnZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvaW1hZ2Vfc291cmNlJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB7IHJhc3RlclVuaWZvcm1WYWx1ZXMgfSBmcm9tICcuL3Byb2dyYW0vcmFzdGVyX3Byb2dyYW0nO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFJhc3RlclN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvcmFzdGVyX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdSYXN0ZXI7XG5cbmZ1bmN0aW9uIGRyYXdSYXN0ZXIocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogUmFzdGVyU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdyYXN0ZXInKTtcblxuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgbWluVGlsZVogPSBjb29yZHMubGVuZ3RoICYmIGNvb3Jkc1swXS5vdmVyc2NhbGVkWjtcblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIC8vIFNldCB0aGUgbG93ZXIgem9vbSBsZXZlbCB0byBzdWJsYXllciAwLCBhbmQgaGlnaGVyIHpvb20gbGV2ZWxzIHRvIGhpZ2hlciBzdWJsYXllcnNcbiAgICAgICAgLy8gVXNlIGdsLkxFU1MgdG8gcHJldmVudCBkb3VibGUgZHJhd2luZyBpbiBhcmVhcyB3aGVyZSB0aWxlcyBvdmVybGFwLlxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKGNvb3JkLm92ZXJzY2FsZWRaIC0gbWluVGlsZVosXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1vcGFjaXR5JykgPT09IDEgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5LCBnbC5MRVNTKTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IHBvc01hdHJpeCA9IHBhaW50ZXIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChjb29yZC50b1Vud3JhcHBlZCgpLCB0cnVlKTtcblxuICAgICAgICB0aWxlLnJlZ2lzdGVyRmFkZUR1cmF0aW9uKGxheWVyLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKSk7XG5cbiAgICAgICAgY29uc3QgcGFyZW50VGlsZSA9IHNvdXJjZUNhY2hlLmZpbmRMb2FkZWRQYXJlbnQoY29vcmQsIDApLFxuICAgICAgICAgICAgZmFkZSA9IGdldEZhZGVWYWx1ZXModGlsZSwgcGFyZW50VGlsZSwgc291cmNlQ2FjaGUsIGxheWVyLCBwYWludGVyLnRyYW5zZm9ybSk7XG5cbiAgICAgICAgbGV0IHBhcmVudFNjYWxlQnksIHBhcmVudFRMO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmVGaWx0ZXIgPSBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1yZXNhbXBsaW5nJykgPT09ICduZWFyZXN0JyA/ICBnbC5ORUFSRVNUIDogZ2wuTElORUFSO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICB0aWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICBwYXJlbnRUaWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgcGFyZW50U2NhbGVCeSA9IE1hdGgucG93KDIsIHBhcmVudFRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICAgICAgcGFyZW50VEwgPSBbdGlsZS50aWxlSUQuY2Fub25pY2FsLnggKiBwYXJlbnRTY2FsZUJ5ICUgMSwgdGlsZS50aWxlSUQuY2Fub25pY2FsLnkgKiBwYXJlbnRTY2FsZUJ5ICUgMV07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKHRleHR1cmVGaWx0ZXIsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gcmFzdGVyVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIHBhcmVudFRMIHx8IFswLCAwXSwgcGFyZW50U2NhbGVCeSB8fCAxLCBmYWRlLCBsYXllcik7XG5cbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlKSB7XG4gICAgICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgc291cmNlLmJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICBwYWludGVyLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLCBzb3VyY2UuYm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbGUubWFza2VkQm91bmRzQnVmZmVyICYmIHRpbGUubWFza2VkSW5kZXhCdWZmZXIgJiYgdGlsZS5zZWdtZW50cykge1xuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIHRpbGUubWFza2VkQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgICAgIHRpbGUubWFza2VkSW5kZXhCdWZmZXIsIHRpbGUuc2VnbWVudHMsIGxheWVyLnBhaW50LFxuICAgICAgICAgICAgICAgIHBhaW50ZXIudHJhbnNmb3JtLnpvb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBhaW50ZXIucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsIHBhaW50ZXIucmFzdGVyQm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRGYWRlVmFsdWVzKHRpbGUsIHBhcmVudFRpbGUsIHNvdXJjZUNhY2hlLCBsYXllciwgdHJhbnNmb3JtKSB7XG4gICAgY29uc3QgZmFkZUR1cmF0aW9uID0gbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItZmFkZS1kdXJhdGlvbicpO1xuXG4gICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgY29uc3Qgc2luY2VUaWxlID0gKG5vdyAtIHRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc2luY2VQYXJlbnQgPSBwYXJlbnRUaWxlID8gKG5vdyAtIHBhcmVudFRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbiA6IC0xO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBjb25zdCBpZGVhbFogPSB0cmFuc2Zvcm0uY292ZXJpbmdab29tTGV2ZWwoe1xuICAgICAgICAgICAgdGlsZVNpemU6IHNvdXJjZS50aWxlU2l6ZSxcbiAgICAgICAgICAgIHJvdW5kWm9vbTogc291cmNlLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBubyBwYXJlbnQgb3IgcGFyZW50IGlzIG9sZGVyLCBmYWRlIGluOyBpZiBwYXJlbnQgaXMgeW91bmdlciwgZmFkZSBvdXRcbiAgICAgICAgY29uc3QgZmFkZUluID0gIXBhcmVudFRpbGUgfHwgTWF0aC5hYnMocGFyZW50VGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopID4gTWF0aC5hYnModGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkT3BhY2l0eSA9IChmYWRlSW4gJiYgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbikgPyAxIDogY2xhbXAoZmFkZUluID8gc2luY2VUaWxlIDogMSAtIHNpbmNlUGFyZW50LCAwLCAxKTtcblxuICAgICAgICAvLyB3ZSBkb24ndCBjcm9zc2ZhZGUgdGlsZXMgdGhhdCB3ZXJlIGp1c3QgcmVmcmVzaGVkIHVwb24gZXhwaXJpbmc6XG4gICAgICAgIC8vIG9uY2UgdGhleSdyZSBvbGQgZW5vdWdoIHRvIHBhc3MgdGhlIGNyb3NzZmFkaW5nIHRocmVzaG9sZFxuICAgICAgICAvLyAoZmFkZUR1cmF0aW9uKSwgdW5zZXQgdGhlIGByZWZyZXNoZWRVcG9uRXhwaXJhdGlvbmAgZmxhZyBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNvcnJlY3RseSBmYWlsIHRvIGNyb3NzZmFkZSB0aGVtIHdoZW4gem9vbWluZ1xuICAgICAgICBpZiAodGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiAmJiBzaW5jZVRpbGUgPj0gMSkgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgbWl4OiAxIC0gY2hpbGRPcGFjaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBjaGlsZE9wYWNpdHksXG4gICAgICAgICAgICAgICAgbWl4OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBtaXg6IDBcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgUG9zQXJyYXkgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCB7IExpbmVJbmRleEFycmF5IH0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlJztcbmltcG9ydCBwb3NBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcG9zX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUnO1xuaW1wb3J0IHsgZGVidWdVbmlmb3JtVmFsdWVzIH0gZnJvbSAnLi9wcm9ncmFtL2RlYnVnX3Byb2dyYW0nO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0RlYnVnO1xuXG5mdW5jdGlvbiBkcmF3RGVidWcocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZHJhd0RlYnVnVGlsZShwYWludGVyLCBzb3VyY2VDYWNoZSwgY29vcmRzW2ldKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdEZWJ1Z1RpbGUocGFpbnRlciwgc291cmNlQ2FjaGUsIGNvb3JkKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBwb3NNYXRyaXggPSBjb29yZC5wb3NNYXRyaXg7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZGVidWcnKTtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IERlcHRoTW9kZS5kaXNhYmxlZDtcbiAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgIGNvbnN0IGlkID0gJyRkZWJ1Zyc7XG5cbiAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuTElORV9TVFJJUCwgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIGRlYnVnVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIENvbG9yLnJlZCksIGlkLFxuICAgICAgICBwYWludGVyLmRlYnVnQnVmZmVyLCBwYWludGVyLnRpbGVCb3JkZXJJbmRleEJ1ZmZlciwgcGFpbnRlci5kZWJ1Z1NlZ21lbnRzKTtcblxuICAgIGNvbnN0IHZlcnRpY2VzID0gY3JlYXRlVGV4dFZlcnRpY2VzKGNvb3JkLnRvU3RyaW5nKCksIDUwLCAyMDAsIDUpO1xuICAgIGNvbnN0IGRlYnVnVGV4dEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgY29uc3QgZGVidWdUZXh0SW5kaWNlcyA9IG5ldyBMaW5lSW5kZXhBcnJheSgpO1xuICAgIGZvciAobGV0IHYgPSAwOyB2IDwgdmVydGljZXMubGVuZ3RoOyB2ICs9IDIpIHtcbiAgICAgICAgZGVidWdUZXh0QXJyYXkuZW1wbGFjZUJhY2sodmVydGljZXNbdl0sIHZlcnRpY2VzW3YgKyAxXSk7XG4gICAgICAgIGRlYnVnVGV4dEluZGljZXMuZW1wbGFjZUJhY2sodiwgdiArIDEpO1xuICAgIH1cbiAgICBjb25zdCBkZWJ1Z1RleHRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihkZWJ1Z1RleHRBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICBjb25zdCBkZWJ1Z1RleHRJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIoZGVidWdUZXh0SW5kaWNlcyk7XG4gICAgY29uc3QgZGVidWdUZXh0U2VnbWVudCA9IFNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLCAwLCBkZWJ1Z1RleHRBcnJheS5sZW5ndGggLyAyLCBkZWJ1Z1RleHRBcnJheS5sZW5ndGggLyAyKTtcblxuICAgIC8vIERyYXcgdGhlIGhhbG8gd2l0aCBtdWx0aXBsZSAxcHggbGluZXMgaW5zdGVhZCBvZiBvbmUgd2lkZXIgbGluZSBiZWNhdXNlXG4gICAgLy8gdGhlIGdsIHNwZWMgZG9lc24ndCBndWFyYW50ZWUgc3VwcG9ydCBmb3IgbGluZXMgd2l0aCB3aWR0aCA+IDEuXG4gICAgY29uc3QgdGlsZVNpemUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKS50aWxlU2l6ZTtcbiAgICBjb25zdCBvbmVQaXhlbCA9IEVYVEVOVCAvIChNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS56b29tIC0gY29vcmQub3ZlcnNjYWxlZFopICogdGlsZVNpemUpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IFtbLTEsIC0xXSwgWy0xLCAxXSwgWzEsIC0xXSwgWzEsIDFdXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zbGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uc1tpXTtcblxuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuTElORVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgZGVidWdVbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKFtdLCBwb3NNYXRyaXgsIFtcbiAgICAgICAgICAgICAgICAgICAgb25lUGl4ZWwgKiB0cmFuc2xhdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgb25lUGl4ZWwgKiB0cmFuc2xhdGlvblsxXSwgMF0pLFxuICAgICAgICAgICAgICAgIENvbG9yLndoaXRlKSxcbiAgICAgICAgICAgIGlkLCBkZWJ1Z1RleHRCdWZmZXIsIGRlYnVnVGV4dEluZGV4QnVmZmVyLCBkZWJ1Z1RleHRTZWdtZW50KTtcbiAgICB9XG5cbiAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuTElORVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBkZWJ1Z1VuaWZvcm1WYWx1ZXMocG9zTWF0cml4LCBDb2xvci5ibGFjayksIGlkLFxuICAgICAgICBkZWJ1Z1RleHRCdWZmZXIsIGRlYnVnVGV4dEluZGV4QnVmZmVyLCBkZWJ1Z1RleHRTZWdtZW50KTtcbn1cblxuLy8gRm9udCBkYXRhIEZyb20gSGVyc2hleSBTaW1wbGV4IEZvbnRcbi8vIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9kYXRhZm9ybWF0cy9oZXJzaGV5L1xuY29uc3Qgc2ltcGxleEZvbnQgPSB7XG4gICAgXCIgXCI6IFsxNiwgW11dLFxuICAgIFwiIVwiOiBbMTAsIFs1LCAyMSwgNSwgNywgLTEsIC0xLCA1LCAyLCA0LCAxLCA1LCAwLCA2LCAxLCA1LCAyXV0sXG4gICAgXCJcXFwiXCI6IFsxNiwgWzQsIDIxLCA0LCAxNCwgLTEsIC0xLCAxMiwgMjEsIDEyLCAxNF1dLFxuICAgIFwiI1wiOiBbMjEsIFsxMSwgMjUsIDQsIC03LCAtMSwgLTEsIDE3LCAyNSwgMTAsIC03LCAtMSwgLTEsIDQsIDEyLCAxOCwgMTIsIC0xLCAtMSwgMywgNiwgMTcsIDZdXSxcbiAgICBcIiRcIjogWzIwLCBbOCwgMjUsIDgsIC00LCAtMSwgLTEsIDEyLCAyNSwgMTIsIC00LCAtMSwgLTEsIDE3LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDgsIDIxLCA1LCAyMCwgMywgMTgsIDMsIDE2LCA0LCAxNCwgNSwgMTMsIDcsIDEyLCAxMywgMTAsIDE1LCA5LCAxNiwgOCwgMTcsIDYsIDE3LCAzLCAxNSwgMSwgMTIsIDAsIDgsIDAsIDUsIDEsIDMsIDNdXSxcbiAgICBcIiVcIjogWzI0LCBbMjEsIDIxLCAzLCAwLCAtMSwgLTEsIDgsIDIxLCAxMCwgMTksIDEwLCAxNywgOSwgMTUsIDcsIDE0LCA1LCAxNCwgMywgMTYsIDMsIDE4LCA0LCAyMCwgNiwgMjEsIDgsIDIxLCAxMCwgMjAsIDEzLCAxOSwgMTYsIDE5LCAxOSwgMjAsIDIxLCAyMSwgLTEsIC0xLCAxNywgNywgMTUsIDYsIDE0LCA0LCAxNCwgMiwgMTYsIDAsIDE4LCAwLCAyMCwgMSwgMjEsIDMsIDIxLCA1LCAxOSwgNywgMTcsIDddXSxcbiAgICBcIiZcIjogWzI2LCBbMjMsIDEyLCAyMywgMTMsIDIyLCAxNCwgMjEsIDE0LCAyMCwgMTMsIDE5LCAxMSwgMTcsIDYsIDE1LCAzLCAxMywgMSwgMTEsIDAsIDcsIDAsIDUsIDEsIDQsIDIsIDMsIDQsIDMsIDYsIDQsIDgsIDUsIDksIDEyLCAxMywgMTMsIDE0LCAxNCwgMTYsIDE0LCAxOCwgMTMsIDIwLCAxMSwgMjEsIDksIDIwLCA4LCAxOCwgOCwgMTYsIDksIDEzLCAxMSwgMTAsIDE2LCAzLCAxOCwgMSwgMjAsIDAsIDIyLCAwLCAyMywgMSwgMjMsIDJdXSxcbiAgICBcIidcIjogWzEwLCBbNSwgMTksIDQsIDIwLCA1LCAyMSwgNiwgMjAsIDYsIDE4LCA1LCAxNiwgNCwgMTVdXSxcbiAgICBcIihcIjogWzE0LCBbMTEsIDI1LCA5LCAyMywgNywgMjAsIDUsIDE2LCA0LCAxMSwgNCwgNywgNSwgMiwgNywgLTIsIDksIC01LCAxMSwgLTddXSxcbiAgICBcIilcIjogWzE0LCBbMywgMjUsIDUsIDIzLCA3LCAyMCwgOSwgMTYsIDEwLCAxMSwgMTAsIDcsIDksIDIsIDcsIC0yLCA1LCAtNSwgMywgLTddXSxcbiAgICBcIipcIjogWzE2LCBbOCwgMjEsIDgsIDksIC0xLCAtMSwgMywgMTgsIDEzLCAxMiwgLTEsIC0xLCAxMywgMTgsIDMsIDEyXV0sXG4gICAgXCIrXCI6IFsyNiwgWzEzLCAxOCwgMTMsIDAsIC0xLCAtMSwgNCwgOSwgMjIsIDldXSxcbiAgICBcIixcIjogWzEwLCBbNiwgMSwgNSwgMCwgNCwgMSwgNSwgMiwgNiwgMSwgNiwgLTEsIDUsIC0zLCA0LCAtNF1dLFxuICAgIFwiLVwiOiBbMjYsIFs0LCA5LCAyMiwgOV1dLFxuICAgIFwiLlwiOiBbMTAsIFs1LCAyLCA0LCAxLCA1LCAwLCA2LCAxLCA1LCAyXV0sXG4gICAgXCIvXCI6IFsyMiwgWzIwLCAyNSwgMiwgLTddXSxcbiAgICBcIjBcIjogWzIwLCBbOSwgMjEsIDYsIDIwLCA0LCAxNywgMywgMTIsIDMsIDksIDQsIDQsIDYsIDEsIDksIDAsIDExLCAwLCAxNCwgMSwgMTYsIDQsIDE3LCA5LCAxNywgMTIsIDE2LCAxNywgMTQsIDIwLCAxMSwgMjEsIDksIDIxXV0sXG4gICAgXCIxXCI6IFsyMCwgWzYsIDE3LCA4LCAxOCwgMTEsIDIxLCAxMSwgMF1dLFxuICAgIFwiMlwiOiBbMjAsIFs0LCAxNiwgNCwgMTcsIDUsIDE5LCA2LCAyMCwgOCwgMjEsIDEyLCAyMSwgMTQsIDIwLCAxNSwgMTksIDE2LCAxNywgMTYsIDE1LCAxNSwgMTMsIDEzLCAxMCwgMywgMCwgMTcsIDBdXSxcbiAgICBcIjNcIjogWzIwLCBbNSwgMjEsIDE2LCAyMSwgMTAsIDEzLCAxMywgMTMsIDE1LCAxMiwgMTYsIDExLCAxNywgOCwgMTcsIDYsIDE2LCAzLCAxNCwgMSwgMTEsIDAsIDgsIDAsIDUsIDEsIDQsIDIsIDMsIDRdXSxcbiAgICBcIjRcIjogWzIwLCBbMTMsIDIxLCAzLCA3LCAxOCwgNywgLTEsIC0xLCAxMywgMjEsIDEzLCAwXV0sXG4gICAgXCI1XCI6IFsyMCwgWzE1LCAyMSwgNSwgMjEsIDQsIDEyLCA1LCAxMywgOCwgMTQsIDExLCAxNCwgMTQsIDEzLCAxNiwgMTEsIDE3LCA4LCAxNywgNiwgMTYsIDMsIDE0LCAxLCAxMSwgMCwgOCwgMCwgNSwgMSwgNCwgMiwgMywgNF1dLFxuICAgIFwiNlwiOiBbMjAsIFsxNiwgMTgsIDE1LCAyMCwgMTIsIDIxLCAxMCwgMjEsIDcsIDIwLCA1LCAxNywgNCwgMTIsIDQsIDcsIDUsIDMsIDcsIDEsIDEwLCAwLCAxMSwgMCwgMTQsIDEsIDE2LCAzLCAxNywgNiwgMTcsIDcsIDE2LCAxMCwgMTQsIDEyLCAxMSwgMTMsIDEwLCAxMywgNywgMTIsIDUsIDEwLCA0LCA3XV0sXG4gICAgXCI3XCI6IFsyMCwgWzE3LCAyMSwgNywgMCwgLTEsIC0xLCAzLCAyMSwgMTcsIDIxXV0sXG4gICAgXCI4XCI6IFsyMCwgWzgsIDIxLCA1LCAyMCwgNCwgMTgsIDQsIDE2LCA1LCAxNCwgNywgMTMsIDExLCAxMiwgMTQsIDExLCAxNiwgOSwgMTcsIDcsIDE3LCA0LCAxNiwgMiwgMTUsIDEsIDEyLCAwLCA4LCAwLCA1LCAxLCA0LCAyLCAzLCA0LCAzLCA3LCA0LCA5LCA2LCAxMSwgOSwgMTIsIDEzLCAxMywgMTUsIDE0LCAxNiwgMTYsIDE2LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDgsIDIxXV0sXG4gICAgXCI5XCI6IFsyMCwgWzE2LCAxNCwgMTUsIDExLCAxMywgOSwgMTAsIDgsIDksIDgsIDYsIDksIDQsIDExLCAzLCAxNCwgMywgMTUsIDQsIDE4LCA2LCAyMCwgOSwgMjEsIDEwLCAyMSwgMTMsIDIwLCAxNSwgMTgsIDE2LCAxNCwgMTYsIDksIDE1LCA0LCAxMywgMSwgMTAsIDAsIDgsIDAsIDUsIDEsIDQsIDNdXSxcbiAgICBcIjpcIjogWzEwLCBbNSwgMTQsIDQsIDEzLCA1LCAxMiwgNiwgMTMsIDUsIDE0LCAtMSwgLTEsIDUsIDIsIDQsIDEsIDUsIDAsIDYsIDEsIDUsIDJdXSxcbiAgICBcIjtcIjogWzEwLCBbNSwgMTQsIDQsIDEzLCA1LCAxMiwgNiwgMTMsIDUsIDE0LCAtMSwgLTEsIDYsIDEsIDUsIDAsIDQsIDEsIDUsIDIsIDYsIDEsIDYsIC0xLCA1LCAtMywgNCwgLTRdXSxcbiAgICBcIjxcIjogWzI0LCBbMjAsIDE4LCA0LCA5LCAyMCwgMF1dLFxuICAgIFwiPVwiOiBbMjYsIFs0LCAxMiwgMjIsIDEyLCAtMSwgLTEsIDQsIDYsIDIyLCA2XV0sXG4gICAgXCI+XCI6IFsyNCwgWzQsIDE4LCAyMCwgOSwgNCwgMF1dLFxuICAgIFwiP1wiOiBbMTgsIFszLCAxNiwgMywgMTcsIDQsIDE5LCA1LCAyMCwgNywgMjEsIDExLCAyMSwgMTMsIDIwLCAxNCwgMTksIDE1LCAxNywgMTUsIDE1LCAxNCwgMTMsIDEzLCAxMiwgOSwgMTAsIDksIDcsIC0xLCAtMSwgOSwgMiwgOCwgMSwgOSwgMCwgMTAsIDEsIDksIDJdXSxcbiAgICBcIkBcIjogWzI3LCBbMTgsIDEzLCAxNywgMTUsIDE1LCAxNiwgMTIsIDE2LCAxMCwgMTUsIDksIDE0LCA4LCAxMSwgOCwgOCwgOSwgNiwgMTEsIDUsIDE0LCA1LCAxNiwgNiwgMTcsIDgsIC0xLCAtMSwgMTIsIDE2LCAxMCwgMTQsIDksIDExLCA5LCA4LCAxMCwgNiwgMTEsIDUsIC0xLCAtMSwgMTgsIDE2LCAxNywgOCwgMTcsIDYsIDE5LCA1LCAyMSwgNSwgMjMsIDcsIDI0LCAxMCwgMjQsIDEyLCAyMywgMTUsIDIyLCAxNywgMjAsIDE5LCAxOCwgMjAsIDE1LCAyMSwgMTIsIDIxLCA5LCAyMCwgNywgMTksIDUsIDE3LCA0LCAxNSwgMywgMTIsIDMsIDksIDQsIDYsIDUsIDQsIDcsIDIsIDksIDEsIDEyLCAwLCAxNSwgMCwgMTgsIDEsIDIwLCAyLCAyMSwgMywgLTEsIC0xLCAxOSwgMTYsIDE4LCA4LCAxOCwgNiwgMTksIDVdXSxcbiAgICBcIkFcIjogWzE4LCBbOSwgMjEsIDEsIDAsIC0xLCAtMSwgOSwgMjEsIDE3LCAwLCAtMSwgLTEsIDQsIDcsIDE0LCA3XV0sXG4gICAgXCJCXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNSwgMTcsIDEzLCAxNiwgMTIsIDEzLCAxMSwgLTEsIC0xLCA0LCAxMSwgMTMsIDExLCAxNiwgMTAsIDE3LCA5LCAxOCwgNywgMTgsIDQsIDE3LCAyLCAxNiwgMSwgMTMsIDAsIDQsIDBdXSxcbiAgICBcIkNcIjogWzIxLCBbMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1XV0sXG4gICAgXCJEXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMSwgMjEsIDE0LCAyMCwgMTYsIDE4LCAxNywgMTYsIDE4LCAxMywgMTgsIDgsIDE3LCA1LCAxNiwgMywgMTQsIDEsIDExLCAwLCA0LCAwXV0sXG4gICAgXCJFXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxNywgMjEsIC0xLCAtMSwgNCwgMTEsIDEyLCAxMSwgLTEsIC0xLCA0LCAwLCAxNywgMF1dLFxuICAgIFwiRlwiOiBbMTgsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTcsIDIxLCAtMSwgLTEsIDQsIDExLCAxMiwgMTFdXSxcbiAgICBcIkdcIjogWzIxLCBbMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1LCAxOCwgOCwgLTEsIC0xLCAxMywgOCwgMTgsIDhdXSxcbiAgICBcIkhcIjogWzIyLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgMTgsIDIxLCAxOCwgMCwgLTEsIC0xLCA0LCAxMSwgMTgsIDExXV0sXG4gICAgXCJJXCI6IFs4LCBbNCwgMjEsIDQsIDBdXSxcbiAgICBcIkpcIjogWzE2LCBbMTIsIDIxLCAxMiwgNSwgMTEsIDIsIDEwLCAxLCA4LCAwLCA2LCAwLCA0LCAxLCAzLCAyLCAyLCA1LCAyLCA3XV0sXG4gICAgXCJLXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDE4LCAyMSwgNCwgNywgLTEsIC0xLCA5LCAxMiwgMTgsIDBdXSxcbiAgICBcIkxcIjogWzE3LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMCwgMTYsIDBdXSxcbiAgICBcIk1cIjogWzI0LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDEyLCAwLCAtMSwgLTEsIDIwLCAyMSwgMTIsIDAsIC0xLCAtMSwgMjAsIDIxLCAyMCwgMF1dLFxuICAgIFwiTlwiOiBbMjIsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTgsIDAsIC0xLCAtMSwgMTgsIDIxLCAxOCwgMF1dLFxuICAgIFwiT1wiOiBbMjIsIFs5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1LCAxOSwgOCwgMTksIDEzLCAxOCwgMTYsIDE3LCAxOCwgMTUsIDIwLCAxMywgMjEsIDksIDIxXV0sXG4gICAgXCJQXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNCwgMTcsIDEyLCAxNiwgMTEsIDEzLCAxMCwgNCwgMTBdXSxcbiAgICBcIlFcIjogWzIyLCBbOSwgMjEsIDcsIDIwLCA1LCAxOCwgNCwgMTYsIDMsIDEzLCAzLCA4LCA0LCA1LCA1LCAzLCA3LCAxLCA5LCAwLCAxMywgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNSwgMTksIDgsIDE5LCAxMywgMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgLTEsIC0xLCAxMiwgNCwgMTgsIC0yXV0sXG4gICAgXCJSXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNSwgMTcsIDEzLCAxNiwgMTIsIDEzLCAxMSwgNCwgMTEsIC0xLCAtMSwgMTEsIDExLCAxOCwgMF1dLFxuICAgIFwiU1wiOiBbMjAsIFsxNywgMTgsIDE1LCAyMCwgMTIsIDIxLCA4LCAyMSwgNSwgMjAsIDMsIDE4LCAzLCAxNiwgNCwgMTQsIDUsIDEzLCA3LCAxMiwgMTMsIDEwLCAxNSwgOSwgMTYsIDgsIDE3LCA2LCAxNywgMywgMTUsIDEsIDEyLCAwLCA4LCAwLCA1LCAxLCAzLCAzXV0sXG4gICAgXCJUXCI6IFsxNiwgWzgsIDIxLCA4LCAwLCAtMSwgLTEsIDEsIDIxLCAxNSwgMjFdXSxcbiAgICBcIlVcIjogWzIyLCBbNCwgMjEsIDQsIDYsIDUsIDMsIDcsIDEsIDEwLCAwLCAxMiwgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNiwgMTgsIDIxXV0sXG4gICAgXCJWXCI6IFsxOCwgWzEsIDIxLCA5LCAwLCAtMSwgLTEsIDE3LCAyMSwgOSwgMF1dLFxuICAgIFwiV1wiOiBbMjQsIFsyLCAyMSwgNywgMCwgLTEsIC0xLCAxMiwgMjEsIDcsIDAsIC0xLCAtMSwgMTIsIDIxLCAxNywgMCwgLTEsIC0xLCAyMiwgMjEsIDE3LCAwXV0sXG4gICAgXCJYXCI6IFsyMCwgWzMsIDIxLCAxNywgMCwgLTEsIC0xLCAxNywgMjEsIDMsIDBdXSxcbiAgICBcIllcIjogWzE4LCBbMSwgMjEsIDksIDExLCA5LCAwLCAtMSwgLTEsIDE3LCAyMSwgOSwgMTFdXSxcbiAgICBcIlpcIjogWzIwLCBbMTcsIDIxLCAzLCAwLCAtMSwgLTEsIDMsIDIxLCAxNywgMjEsIC0xLCAtMSwgMywgMCwgMTcsIDBdXSxcbiAgICBcIltcIjogWzE0LCBbNCwgMjUsIDQsIC03LCAtMSwgLTEsIDUsIDI1LCA1LCAtNywgLTEsIC0xLCA0LCAyNSwgMTEsIDI1LCAtMSwgLTEsIDQsIC03LCAxMSwgLTddXSxcbiAgICBcIlxcXFxcIjogWzE0LCBbMCwgMjEsIDE0LCAtM11dLFxuICAgIFwiXVwiOiBbMTQsIFs5LCAyNSwgOSwgLTcsIC0xLCAtMSwgMTAsIDI1LCAxMCwgLTcsIC0xLCAtMSwgMywgMjUsIDEwLCAyNSwgLTEsIC0xLCAzLCAtNywgMTAsIC03XV0sXG4gICAgXCJeXCI6IFsxNiwgWzYsIDE1LCA4LCAxOCwgMTAsIDE1LCAtMSwgLTEsIDMsIDEyLCA4LCAxNywgMTMsIDEyLCAtMSwgLTEsIDgsIDE3LCA4LCAwXV0sXG4gICAgXCJfXCI6IFsxNiwgWzAsIC0yLCAxNiwgLTJdXSxcbiAgICBcImBcIjogWzEwLCBbNiwgMjEsIDUsIDIwLCA0LCAxOCwgNCwgMTYsIDUsIDE1LCA2LCAxNiwgNSwgMTddXSxcbiAgICBcImFcIjogWzE5LCBbMTUsIDE0LCAxNSwgMCwgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJiXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDExLCA2LCAxMywgOCwgMTQsIDExLCAxNCwgMTMsIDEzLCAxNSwgMTEsIDE2LCA4LCAxNiwgNiwgMTUsIDMsIDEzLCAxLCAxMSwgMCwgOCwgMCwgNiwgMSwgNCwgM11dLFxuICAgIFwiY1wiOiBbMTgsIFsxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJkXCI6IFsxOSwgWzE1LCAyMSwgMTUsIDAsIC0xLCAtMSwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiZVwiOiBbMTgsIFszLCA4LCAxNSwgOCwgMTUsIDEwLCAxNCwgMTIsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJmXCI6IFsxMiwgWzEwLCAyMSwgOCwgMjEsIDYsIDIwLCA1LCAxNywgNSwgMCwgLTEsIC0xLCAyLCAxNCwgOSwgMTRdXSxcbiAgICBcImdcIjogWzE5LCBbMTUsIDE0LCAxNSwgLTIsIDE0LCAtNSwgMTMsIC02LCAxMSwgLTcsIDgsIC03LCA2LCAtNiwgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJoXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDEwLCA3LCAxMywgOSwgMTQsIDEyLCAxNCwgMTQsIDEzLCAxNSwgMTAsIDE1LCAwXV0sXG4gICAgXCJpXCI6IFs4LCBbMywgMjEsIDQsIDIwLCA1LCAyMSwgNCwgMjIsIDMsIDIxLCAtMSwgLTEsIDQsIDE0LCA0LCAwXV0sXG4gICAgXCJqXCI6IFsxMCwgWzUsIDIxLCA2LCAyMCwgNywgMjEsIDYsIDIyLCA1LCAyMSwgLTEsIC0xLCA2LCAxNCwgNiwgLTMsIDUsIC02LCAzLCAtNywgMSwgLTddXSxcbiAgICBcImtcIjogWzE3LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgMTQsIDE0LCA0LCA0LCAtMSwgLTEsIDgsIDgsIDE1LCAwXV0sXG4gICAgXCJsXCI6IFs4LCBbNCwgMjEsIDQsIDBdXSxcbiAgICBcIm1cIjogWzMwLCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgMTAsIDcsIDEzLCA5LCAxNCwgMTIsIDE0LCAxNCwgMTMsIDE1LCAxMCwgMTUsIDAsIC0xLCAtMSwgMTUsIDEwLCAxOCwgMTMsIDIwLCAxNCwgMjMsIDE0LCAyNSwgMTMsIDI2LCAxMCwgMjYsIDBdXSxcbiAgICBcIm5cIjogWzE5LCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgMTAsIDcsIDEzLCA5LCAxNCwgMTIsIDE0LCAxNCwgMTMsIDE1LCAxMCwgMTUsIDBdXSxcbiAgICBcIm9cIjogWzE5LCBbOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgMywgMTYsIDYsIDE2LCA4LCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNF1dLFxuICAgIFwicFwiOiBbMTksIFs0LCAxNCwgNCwgLTcsIC0xLCAtMSwgNCwgMTEsIDYsIDEzLCA4LCAxNCwgMTEsIDE0LCAxMywgMTMsIDE1LCAxMSwgMTYsIDgsIDE2LCA2LCAxNSwgMywgMTMsIDEsIDExLCAwLCA4LCAwLCA2LCAxLCA0LCAzXV0sXG4gICAgXCJxXCI6IFsxOSwgWzE1LCAxNCwgMTUsIC03LCAtMSwgLTEsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcInJcIjogWzEzLCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgOCwgNSwgMTEsIDcsIDEzLCA5LCAxNCwgMTIsIDE0XV0sXG4gICAgXCJzXCI6IFsxNywgWzE0LCAxMSwgMTMsIDEzLCAxMCwgMTQsIDcsIDE0LCA0LCAxMywgMywgMTEsIDQsIDksIDYsIDgsIDExLCA3LCAxMywgNiwgMTQsIDQsIDE0LCAzLCAxMywgMSwgMTAsIDAsIDcsIDAsIDQsIDEsIDMsIDNdXSxcbiAgICBcInRcIjogWzEyLCBbNSwgMjEsIDUsIDQsIDYsIDEsIDgsIDAsIDEwLCAwLCAtMSwgLTEsIDIsIDE0LCA5LCAxNF1dLFxuICAgIFwidVwiOiBbMTksIFs0LCAxNCwgNCwgNCwgNSwgMSwgNywgMCwgMTAsIDAsIDEyLCAxLCAxNSwgNCwgLTEsIC0xLCAxNSwgMTQsIDE1LCAwXV0sXG4gICAgXCJ2XCI6IFsxNiwgWzIsIDE0LCA4LCAwLCAtMSwgLTEsIDE0LCAxNCwgOCwgMF1dLFxuICAgIFwid1wiOiBbMjIsIFszLCAxNCwgNywgMCwgLTEsIC0xLCAxMSwgMTQsIDcsIDAsIC0xLCAtMSwgMTEsIDE0LCAxNSwgMCwgLTEsIC0xLCAxOSwgMTQsIDE1LCAwXV0sXG4gICAgXCJ4XCI6IFsxNywgWzMsIDE0LCAxNCwgMCwgLTEsIC0xLCAxNCwgMTQsIDMsIDBdXSxcbiAgICBcInlcIjogWzE2LCBbMiwgMTQsIDgsIDAsIC0xLCAtMSwgMTQsIDE0LCA4LCAwLCA2LCAtNCwgNCwgLTYsIDIsIC03LCAxLCAtN11dLFxuICAgIFwielwiOiBbMTcsIFsxNCwgMTQsIDMsIDAsIC0xLCAtMSwgMywgMTQsIDE0LCAxNCwgLTEsIC0xLCAzLCAwLCAxNCwgMF1dLFxuICAgIFwie1wiOiBbMTQsIFs5LCAyNSwgNywgMjQsIDYsIDIzLCA1LCAyMSwgNSwgMTksIDYsIDE3LCA3LCAxNiwgOCwgMTQsIDgsIDEyLCA2LCAxMCwgLTEsIC0xLCA3LCAyNCwgNiwgMjIsIDYsIDIwLCA3LCAxOCwgOCwgMTcsIDksIDE1LCA5LCAxMywgOCwgMTEsIDQsIDksIDgsIDcsIDksIDUsIDksIDMsIDgsIDEsIDcsIDAsIDYsIC0yLCA2LCAtNCwgNywgLTYsIC0xLCAtMSwgNiwgOCwgOCwgNiwgOCwgNCwgNywgMiwgNiwgMSwgNSwgLTEsIDUsIC0zLCA2LCAtNSwgNywgLTYsIDksIC03XV0sXG4gICAgXCJ8XCI6IFs4LCBbNCwgMjUsIDQsIC03XV0sXG4gICAgXCJ9XCI6IFsxNCwgWzUsIDI1LCA3LCAyNCwgOCwgMjMsIDksIDIxLCA5LCAxOSwgOCwgMTcsIDcsIDE2LCA2LCAxNCwgNiwgMTIsIDgsIDEwLCAtMSwgLTEsIDcsIDI0LCA4LCAyMiwgOCwgMjAsIDcsIDE4LCA2LCAxNywgNSwgMTUsIDUsIDEzLCA2LCAxMSwgMTAsIDksIDYsIDcsIDUsIDUsIDUsIDMsIDYsIDEsIDcsIDAsIDgsIC0yLCA4LCAtNCwgNywgLTYsIC0xLCAtMSwgOCwgOCwgNiwgNiwgNiwgNCwgNywgMiwgOCwgMSwgOSwgLTEsIDksIC0zLCA4LCAtNSwgNywgLTYsIDUsIC03XV0sXG4gICAgXCJ+XCI6IFsyNCwgWzMsIDYsIDMsIDgsIDQsIDExLCA2LCAxMiwgOCwgMTIsIDEwLCAxMSwgMTQsIDgsIDE2LCA3LCAxOCwgNywgMjAsIDgsIDIxLCAxMCwgLTEsIC0xLCAzLCA4LCA0LCAxMCwgNiwgMTEsIDgsIDExLCAxMCwgMTAsIDE0LCA3LCAxNiwgNiwgMTgsIDYsIDIwLCA3LCAyMSwgMTAsIDIxLCAxMl1dXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVUZXh0VmVydGljZXModGV4dCwgbGVmdCwgYmFzZWxpbmUsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCAxO1xuXG4gICAgY29uc3Qgc3Ryb2tlcyA9IFtdO1xuICAgIGxldCBpLCBsZW4sIGosIGxlbjIsIGdseXBoLCB4LCB5LCBwcmV2O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gdGV4dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBnbHlwaCA9IHNpbXBsZXhGb250W3RleHRbaV1dO1xuICAgICAgICBpZiAoIWdseXBoKSBjb250aW51ZTtcbiAgICAgICAgcHJldiA9IG51bGw7XG5cbiAgICAgICAgZm9yIChqID0gMCwgbGVuMiA9IGdseXBoWzFdLmxlbmd0aDsgaiA8IGxlbjI7IGogKz0gMikge1xuICAgICAgICAgICAgaWYgKGdseXBoWzFdW2pdID09PSAtMSAmJiBnbHlwaFsxXVtqICsgMV0gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IG51bGw7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IGxlZnQgKyBnbHlwaFsxXVtqXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIHkgPSBiYXNlbGluZSAtIGdseXBoWzFdW2ogKyAxXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZXMucHVzaChwcmV2LngsIHByZXYueSwgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYgPSB7eDogeCwgeTogeX07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGVmdCArPSBnbHlwaFswXSAqIHNjYWxlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJva2VzO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCB7IFJhc3RlckJvdW5kc0FycmF5LCBQb3NBcnJheSwgVHJpYW5nbGVJbmRleEFycmF5LCBMaW5lU3RyaXBJbmRleEFycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgcG9zQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Bvc19hdHRyaWJ1dGVzJztcbmltcG9ydCBQcm9ncmFtQ29uZmlndXJhdGlvbiBmcm9tICcuLi9kYXRhL3Byb2dyYW1fY29uZmlndXJhdGlvbic7XG5pbXBvcnQgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggZnJvbSAnLi4vc3ltYm9sL2Nyb3NzX3RpbGVfc3ltYm9sX2luZGV4JztcbmltcG9ydCBzaGFkZXJzIGZyb20gJy4uL3NoYWRlcnMnO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9wcm9ncmFtJztcbmltcG9ydCB7IHByb2dyYW1Vbmlmb3JtcyB9IGZyb20gJy4vcHJvZ3JhbS9wcm9ncmFtX3VuaWZvcm1zJztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlJztcbmltcG9ydCB1cGRhdGVUaWxlTWFza3MgZnJvbSAnLi90aWxlX21hc2snO1xuaW1wb3J0IHsgY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyB9IGZyb20gJy4vcHJvZ3JhbS9jbGlwcGluZ19tYXNrX3Byb2dyYW0nO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgc3ltYm9sIGZyb20gJy4vZHJhd19zeW1ib2wnO1xuaW1wb3J0IGNpcmNsZSBmcm9tICcuL2RyYXdfY2lyY2xlJztcbmltcG9ydCBoZWF0bWFwIGZyb20gJy4vZHJhd19oZWF0bWFwJztcbmltcG9ydCBsaW5lIGZyb20gJy4vZHJhd19saW5lJztcbmltcG9ydCBmaWxsIGZyb20gJy4vZHJhd19maWxsJztcbmltcG9ydCBmaWxsRXh0cnVzaW9uIGZyb20gJy4vZHJhd19maWxsX2V4dHJ1c2lvbic7XG5pbXBvcnQgaGlsbHNoYWRlIGZyb20gJy4vZHJhd19oaWxsc2hhZGUnO1xuaW1wb3J0IHJhc3RlciBmcm9tICcuL2RyYXdfcmFzdGVyJztcbmltcG9ydCBiYWNrZ3JvdW5kIGZyb20gJy4vZHJhd19iYWNrZ3JvdW5kJztcbmltcG9ydCBkZWJ1ZyBmcm9tICcuL2RyYXdfZGVidWcnO1xuaW1wb3J0IGN1c3RvbSBmcm9tICcuL2RyYXdfY3VzdG9tJztcblxuY29uc3QgZHJhdyA9IHtcbiAgICBzeW1ib2wsXG4gICAgY2lyY2xlLFxuICAgIGhlYXRtYXAsXG4gICAgbGluZSxcbiAgICBmaWxsLFxuICAgICdmaWxsLWV4dHJ1c2lvbic6IGZpbGxFeHRydXNpb24sXG4gICAgaGlsbHNoYWRlLFxuICAgIHJhc3RlcixcbiAgICBiYWNrZ3JvdW5kLFxuICAgIGRlYnVnLFxuICAgIGN1c3RvbVxufTtcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NGYWRlZH0gZnJvbSAnLi4vc3R5bGUvcHJvcGVydGllcyc7XG5pbXBvcnQgdHlwZSBMaW5lQXRsYXMgZnJvbSAnLi9saW5lX2F0bGFzJztcbmltcG9ydCB0eXBlIEltYWdlTWFuYWdlciBmcm9tICcuL2ltYWdlX21hbmFnZXInO1xuaW1wb3J0IHR5cGUgR2x5cGhNYW5hZ2VyIGZyb20gJy4vZ2x5cGhfbWFuYWdlcic7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUge0RlcHRoTWFza1R5cGUsIERlcHRoRnVuY1R5cGV9IGZyb20gJy4uL2dsL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgUmVuZGVyUGFzcyA9ICdvZmZzY3JlZW4nIHwgJ29wYXF1ZScgfCAndHJhbnNsdWNlbnQnO1xuXG50eXBlIFBhaW50ZXJPcHRpb25zID0ge1xuICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbixcbiAgICBzaG93VGlsZUJvdW5kYXJpZXM6IGJvb2xlYW4sXG4gICAgcm90YXRpbmc6IGJvb2xlYW4sXG4gICAgem9vbWluZzogYm9vbGVhbixcbiAgICBmYWRlRHVyYXRpb246IG51bWJlclxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgcGFpbnRlciBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGdsIGFuIGV4cGVyaW1lbnRhbC13ZWJnbCBkcmF3aW5nIGNvbnRleHRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFBhaW50ZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgX3RpbGVUZXh0dXJlczogeyBbbnVtYmVyXTogQXJyYXk8VGV4dHVyZT4gfTtcbiAgICBudW1TdWJsYXllcnM6IG51bWJlcjtcbiAgICBkZXB0aEVwc2lsb246IG51bWJlcjtcbiAgICBlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGRlcHRoUmJvOiBXZWJHTFJlbmRlcmJ1ZmZlcjtcbiAgICBkZXB0aFJib05lZWRzQ2xlYXI6IGJvb2xlYW47XG4gICAgdGlsZUV4dGVudEJ1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIHRpbGVFeHRlbnRTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICBkZWJ1Z0J1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIGRlYnVnU2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgcmFzdGVyQm91bmRzQnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgcmFzdGVyQm91bmRzU2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgdmlld3BvcnRCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICB2aWV3cG9ydFNlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuICAgIHF1YWRUcmlhbmdsZUluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICB0aWxlQm9yZGVySW5kZXhCdWZmZXI6IEluZGV4QnVmZmVyO1xuICAgIF90aWxlQ2xpcHBpbmdNYXNrSURzOiB7IFtudW1iZXJdOiBudW1iZXIgfTtcbiAgICBzdGVuY2lsQ2xlYXJNb2RlOiBTdGVuY2lsTW9kZTtcbiAgICBzdHlsZTogU3R5bGU7XG4gICAgb3B0aW9uczogUGFpbnRlck9wdGlvbnM7XG4gICAgbGluZUF0bGFzOiBMaW5lQXRsYXM7XG4gICAgaW1hZ2VNYW5hZ2VyOiBJbWFnZU1hbmFnZXI7XG4gICAgZ2x5cGhNYW5hZ2VyOiBHbHlwaE1hbmFnZXI7XG4gICAgZGVwdGhSYW5nZTogbnVtYmVyO1xuICAgIHJlbmRlclBhc3M6IFJlbmRlclBhc3M7XG4gICAgY3VycmVudExheWVyOiBudW1iZXI7XG4gICAgaWQ6IHN0cmluZztcbiAgICBfc2hvd092ZXJkcmF3SW5zcGVjdG9yOiBib29sZWFuO1xuICAgIGNhY2hlOiB7IFtzdHJpbmddOiBQcm9ncmFtPCo+IH07XG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHN5bWJvbEZhZGVDaGFuZ2U6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBDb250ZXh0KGdsKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMuc2V0dXAoKTtcblxuICAgICAgICAvLyBXaXRoaW4gZWFjaCBsYXllciB0aGVyZSBhcmUgbXVsdGlwbGUgZGlzdGluY3Qgei1wbGFuZXMgdGhhdCBjYW4gYmUgZHJhd24gdG8uXG4gICAgICAgIC8vIFRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgdGhlIFdlYkdMIGRlcHRoIGJ1ZmZlci5cbiAgICAgICAgdGhpcy5udW1TdWJsYXllcnMgPSBTb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcgKyBTb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZyArIDE7XG4gICAgICAgIHRoaXMuZGVwdGhFcHNpbG9uID0gMSAvIE1hdGgucG93KDIsIDE2KTtcblxuICAgICAgICB0aGlzLmRlcHRoUmJvTmVlZHNDbGVhciA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5lbXB0eVByb2dyYW1Db25maWd1cmF0aW9uID0gbmV3IFByb2dyYW1Db25maWd1cmF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogVXBkYXRlIHRoZSBHTCB2aWV3cG9ydCwgcHJvamVjdGlvbiBtYXRyaXgsIGFuZCB0cmFuc2Zvcm1zIHRvIGNvbXBlbnNhdGVcbiAgICAgKiBmb3IgYSBuZXcgd2lkdGggYW5kIGhlaWdodCB2YWx1ZS5cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdKTtcblxuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHRoaXMuc3R5bGUuX29yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhSYm8pIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLmRlcHRoUmJvKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY29uc3QgdGlsZUV4dGVudEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQpO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aWxlRXh0ZW50QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudFNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuXG4gICAgICAgIGNvbnN0IGRlYnVnQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDApO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLmRlYnVnQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZGVidWdBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5kZWJ1Z1NlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDUpO1xuXG4gICAgICAgIGNvbnN0IHJhc3RlckJvdW5kc0FycmF5ID0gbmV3IFJhc3RlckJvdW5kc0FycmF5KCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKDAsIDAsIDAsIDApO1xuICAgICAgICByYXN0ZXJCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDAsIEVYVEVOVCwgMCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCwgMCwgRVhURU5UKTtcbiAgICAgICAgcmFzdGVyQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQsIEVYVEVOVCwgRVhURU5UKTtcbiAgICAgICAgdGhpcy5yYXN0ZXJCb3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihyYXN0ZXJCb3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5yYXN0ZXJCb3VuZHNTZWdtZW50cyA9IFNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLCAwLCA0LCAyKTtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMCwgMCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMCwgMSk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMSk7XG4gICAgICAgIHRoaXMudmlld3BvcnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2aWV3cG9ydEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG5cbiAgICAgICAgY29uc3QgdGlsZUxpbmVTdHJpcEluZGljZXMgPSBuZXcgTGluZVN0cmlwSW5kZXhBcnJheSgpO1xuICAgICAgICB0aWxlTGluZVN0cmlwSW5kaWNlcy5lbXBsYWNlQmFjaygwKTtcbiAgICAgICAgdGlsZUxpbmVTdHJpcEluZGljZXMuZW1wbGFjZUJhY2soMSk7XG4gICAgICAgIHRpbGVMaW5lU3RyaXBJbmRpY2VzLmVtcGxhY2VCYWNrKDMpO1xuICAgICAgICB0aWxlTGluZVN0cmlwSW5kaWNlcy5lbXBsYWNlQmFjaygyKTtcbiAgICAgICAgdGlsZUxpbmVTdHJpcEluZGljZXMuZW1wbGFjZUJhY2soMCk7XG4gICAgICAgIHRoaXMudGlsZUJvcmRlckluZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0aWxlTGluZVN0cmlwSW5kaWNlcyk7XG5cbiAgICAgICAgY29uc3QgcXVhZFRyaWFuZ2xlSW5kaWNlcyA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygwLCAxLCAyKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygyLCAxLCAzKTtcbiAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIocXVhZFRyaWFuZ2xlSW5kaWNlcyk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuc3RlbmNpbENsZWFyTW9kZSA9IG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IGdsLkFMV0FZUywgbWFzazogMCB9LCAweDAsIDB4RkYsIGdsLlpFUk8sIGdsLlpFUk8sIGdsLlpFUk8pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzZXQgdGhlIGRyYXdpbmcgY2FudmFzIGJ5IGNsZWFyaW5nIHRoZSBzdGVuY2lsIGJ1ZmZlciBzbyB0aGF0IHdlIGNhbiBkcmF3XG4gICAgICogbmV3IHRpbGVzIGF0IHRoZSBzYW1lIGxvY2F0aW9uLCB3aGlsZSByZXRhaW5pbmcgcHJldmlvdXNseSBkcmF3biBwaXhlbHMuXG4gICAgICovXG4gICAgY2xlYXJTdGVuY2lsKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU0OTAsXG4gICAgICAgIC8vIHBlbmRpbmcgYW4gdXBzdHJlYW0gZml4LCB3ZSBkcmF3IGEgZnVsbHNjcmVlbiBzdGVuY2lsPTAgY2xpcHBpbmcgbWFzayBoZXJlLFxuICAgICAgICAvLyBlZmZlY3RpdmVseSBjbGVhcmluZyB0aGUgc3RlbmNpbCBidWZmZXI6IG9uY2UgYW4gdXBzdHJlYW0gcGF0Y2ggbGFuZHMsIHJlbW92ZVxuICAgICAgICAvLyB0aGlzIGZ1bmN0aW9uIGluIGZhdm9yIG9mIGNvbnRleHQuY2xlYXIoeyBzdGVuY2lsOiAweDAgfSlcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIDAsIDEpO1xuICAgICAgICBtYXQ0LnNjYWxlKG1hdHJpeCwgbWF0cml4LCBbZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0LCAwXSk7XG5cbiAgICAgICAgdGhpcy51c2VQcm9ncmFtKCdjbGlwcGluZ01hc2snKS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgIERlcHRoTW9kZS5kaXNhYmxlZCwgdGhpcy5zdGVuY2lsQ2xlYXJNb2RlLCBDb2xvck1vZGUuZGlzYWJsZWQsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXMobWF0cml4KSxcbiAgICAgICAgICAgICckY2xpcHBpbmcnLCB0aGlzLnZpZXdwb3J0QnVmZmVyLFxuICAgICAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgdGhpcy52aWV3cG9ydFNlZ21lbnRzKTtcbiAgICB9XG5cbiAgICBfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKENvbG9yTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMudXNlUHJvZ3JhbSgnY2xpcHBpbmdNYXNrJyk7XG5cbiAgICAgICAgbGV0IGlkTmV4dCA9IDE7XG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdGlsZUlELmtleV0gPSBpZE5leHQrKztcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIC8vIFRlc3RzIHdpbGwgYWx3YXlzIHBhc3MsIGFuZCByZWYgdmFsdWUgd2lsbCBiZSB3cml0dGVuIHRvIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgICAgICAgIG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IGdsLkFMV0FZUywgbWFzazogMCB9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSksXG4gICAgICAgICAgICAgICAgQ29sb3JNb2RlLmRpc2FibGVkLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXModGlsZUlELnBvc01hdHJpeCksXG4gICAgICAgICAgICAgICAgJyRjbGlwcGluZycsIHRoaXMudGlsZUV4dGVudEJ1ZmZlcixcbiAgICAgICAgICAgICAgICB0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLCB0aGlzLnRpbGVFeHRlbnRTZWdtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVuY2lsTW9kZUZvckNsaXBwaW5nKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFN0ZW5jaWxNb2RlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHJldHVybiBuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBnbC5FUVVBTCwgbWFzazogMHhGRiB9LCB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldLCAweDAwLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKTtcbiAgICB9XG5cbiAgICBjb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6ICRSZWFkT25seTxDb2xvck1vZGU+IHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bU92ZXJkcmF3U3RlcHMgPSA4O1xuICAgICAgICAgICAgY29uc3QgYSA9IDEgLyBudW1PdmVyZHJhd1N0ZXBzO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yTW9kZShbZ2wuQ09OU1RBTlRfQ09MT1IsIGdsLk9ORV0sIG5ldyBDb2xvcihhLCBhLCBhLCAwKSwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3JNb2RlLnVuYmxlbmRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvck1vZGUuYWxwaGFCbGVuZGVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVwdGhNb2RlRm9yU3VibGF5ZXIobjogbnVtYmVyLCBtYXNrOiBEZXB0aE1hc2tUeXBlLCBmdW5jOiA/RGVwdGhGdW5jVHlwZSk6IERlcHRoTW9kZSB7XG4gICAgICAgIGNvbnN0IGZhckRlcHRoID0gMSAtICgoMSArIHRoaXMuY3VycmVudExheWVyKSAqIHRoaXMubnVtU3VibGF5ZXJzICsgbikgKiB0aGlzLmRlcHRoRXBzaWxvbjtcbiAgICAgICAgY29uc3QgbmVhckRlcHRoID0gZmFyRGVwdGggLSAxICsgdGhpcy5kZXB0aFJhbmdlO1xuICAgICAgICByZXR1cm4gbmV3IERlcHRoTW9kZShmdW5jIHx8IHRoaXMuY29udGV4dC5nbC5MRVFVQUwsIG1hc2ssIFtuZWFyRGVwdGgsIGZhckRlcHRoXSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHN0eWxlOiBTdHlsZSwgb3B0aW9uczogUGFpbnRlck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMubGluZUF0bGFzID0gc3R5bGUubGluZUF0bGFzO1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlciA9IHN0eWxlLmltYWdlTWFuYWdlcjtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIgPSBzdHlsZS5nbHlwaE1hbmFnZXI7XG5cbiAgICAgICAgdGhpcy5zeW1ib2xGYWRlQ2hhbmdlID0gc3R5bGUucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UoYnJvd3Nlci5ub3coKSk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJJZHMgPSB0aGlzLnN0eWxlLl9vcmRlcjtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS51c2VkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUucHJlcGFyZSh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRzQXNjZW5kaW5nOiB7W3N0cmluZ106IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+fSA9IHt9O1xuICAgICAgICBjb25zdCBjb29yZHNEZXNjZW5kaW5nOiB7W3N0cmluZ106IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+fSA9IHt9O1xuICAgICAgICBjb25zdCBjb29yZHNEZXNjZW5kaW5nU3ltYm9sOiB7W3N0cmluZ106IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+fSA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgICAgICBjb29yZHNBc2NlbmRpbmdbaWRdID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBjb29yZHNEZXNjZW5kaW5nW2lkXSA9IGNvb3Jkc0FzY2VuZGluZ1tpZF0uc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICBjb29yZHNEZXNjZW5kaW5nU3ltYm9sW2lkXSA9IHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcyh0cnVlKS5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlLnR5cGUgIT09ICdyYXN0ZXInICYmIHNvdXJjZS50eXBlICE9PSAncmFzdGVyLWRlbScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZVRpbGVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkc0FzY2VuZGluZ1tpZF0pIHZpc2libGVUaWxlcy5wdXNoKHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpKTtcbiAgICAgICAgICAgIHVwZGF0ZVRpbGVNYXNrcyh2aXNpYmxlVGlsZXMsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPZmZzY3JlZW4gcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBXZSBmaXJzdCBkbyBhbGwgcmVuZGVyaW5nIHRoYXQgcmVxdWlyZXMgcmVuZGVyaW5nIHRvIGEgc2VwYXJhdGVcbiAgICAgICAgLy8gZnJhbWVidWZmZXIsIGFuZCB0aGVuIHNhdmUgdGhvc2UgZm9yIHJlbmRlcmluZyBiYWNrIHRvIHRoZSBtYXBcbiAgICAgICAgLy8gbGF0ZXI6IGluIGRvaW5nIHRoaXMgd2UgYXZvaWQgZG9pbmcgZXhwZW5zaXZlIGZyYW1lYnVmZmVyIHJlc3RvcmVzLlxuICAgICAgICB0aGlzLnJlbmRlclBhc3MgPSAnb2Zmc2NyZWVuJztcbiAgICAgICAgdGhpcy5kZXB0aFJib05lZWRzQ2xlYXIgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiBsYXllcklkcykge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICBpZiAoIWxheWVyLmhhc09mZnNjcmVlblBhc3MoKSB8fCBsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGNvb3Jkc0Rlc2NlbmRpbmdbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlICE9PSAnY3VzdG9tJyAmJiAhY29vcmRzLmxlbmd0aCkgY29udGludWU7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV0sIGxheWVyLCBjb29yZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmViaW5kIHRoZSBtYWluIGZyYW1lYnVmZmVyIG5vdyB0aGF0IGFsbCBvZmZzY3JlZW4gbGF5ZXJzIGhhdmUgYmVlbiByZW5kZXJlZDpcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7XG5cbiAgICAgICAgLy8gQ2xlYXIgYnVmZmVycyBpbiBwcmVwYXJhdGlvbiBmb3IgZHJhd2luZyB0byB0aGUgbWFpbiBmcmFtZWJ1ZmZlclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXIoeyBjb2xvcjogb3B0aW9ucy5zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPyBDb2xvci5ibGFjayA6IENvbG9yLnRyYW5zcGFyZW50LCBkZXB0aDogMSB9KTtcblxuICAgICAgICB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPSBvcHRpb25zLnNob3dPdmVyZHJhd0luc3BlY3RvcjtcbiAgICAgICAgdGhpcy5kZXB0aFJhbmdlID0gKHN0eWxlLl9vcmRlci5sZW5ndGggKyAyKSAqIHRoaXMubnVtU3VibGF5ZXJzICogdGhpcy5kZXB0aEVwc2lsb247XG5cbiAgICAgICAgLy8gT3BhcXVlIHBhc3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gRHJhdyBvcGFxdWUgbGF5ZXJzIHRvcC10by1ib3R0b20gZmlyc3QuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzcyA9ICdvcGFxdWUnO1xuICAgICAgICBsZXQgcHJldlNvdXJjZUlkO1xuXG4gICAgICAgIGZvciAodGhpcy5jdXJyZW50TGF5ZXIgPSBsYXllcklkcy5sZW5ndGggLSAxOyB0aGlzLmN1cnJlbnRMYXllciA+PSAwOyB0aGlzLmN1cnJlbnRMYXllci0tKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGNvb3Jkc0FzY2VuZGluZ1tsYXllci5zb3VyY2VdO1xuXG4gICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICE9PSBwcmV2U291cmNlSWQgJiYgc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCgpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5pc1RpbGVDbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIHByZXZTb3VyY2VJZCA9IGxheWVyLnNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zbHVjZW50IHBhc3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gRHJhdyBhbGwgb3RoZXIgbGF5ZXJzIGJvdHRvbS10by10b3AuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzcyA9ICd0cmFuc2x1Y2VudCc7XG5cbiAgICAgICAgZm9yICh0aGlzLmN1cnJlbnRMYXllciA9IDAsIHByZXZTb3VyY2VJZCA9IG51bGw7IHRoaXMuY3VycmVudExheWVyIDwgbGF5ZXJJZHMubGVuZ3RoOyB0aGlzLmN1cnJlbnRMYXllcisrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcblxuICAgICAgICAgICAgLy8gRm9yIHN5bWJvbCBsYXllcnMgaW4gdGhlIHRyYW5zbHVjZW50IHBhc3MsIHdlIGFkZCBleHRyYSB0aWxlcyB0byB0aGUgcmVuZGVyYWJsZSBzZXRcbiAgICAgICAgICAgIC8vIGZvciBjcm9zcy10aWxlIHN5bWJvbCBmYWRpbmcuIFN5bWJvbCBsYXllcnMgZG9uJ3QgdXNlIHRpbGUgY2xpcHBpbmcsIHNvIG5vIG5lZWQgdG8gcmVuZGVyXG4gICAgICAgICAgICAvLyBzZXBhcmF0ZSBjbGlwcGluZyBtYXNrc1xuICAgICAgICAgICAgY29uc3QgY29vcmRzID0gKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnID8gY29vcmRzRGVzY2VuZGluZ1N5bWJvbCA6IGNvb3Jkc0Rlc2NlbmRpbmcpW2xheWVyLnNvdXJjZV07XG5cbiAgICAgICAgICAgIGlmIChsYXllci5zb3VyY2UgIT09IHByZXZTb3VyY2VJZCAmJiBzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmlzVGlsZUNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoY29vcmRzQXNjZW5kaW5nW2xheWVyLnNvdXJjZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgICAgICAgICBwcmV2U291cmNlSWQgPSBsYXllci5zb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgICAgICBkcmF3LmRlYnVnKHRoaXMsIHNvdXJjZUNhY2hlc1tpZF0sIGNvb3Jkc0FzY2VuZGluZ1tpZF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDdXN0b21MYXllckRlZmF1bHRzKCk7XG4gICAgfVxuXG4gICAgc2V0dXBPZmZzY3JlZW5EZXB0aFJlbmRlcmJ1ZmZlcigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgLy8gQWxsIG9mIHRoZSAzRCB0ZXh0dXJlcyB3aWxsIHVzZSB0aGUgc2FtZSBkZXB0aCByZW5kZXJidWZmZXIuXG4gICAgICAgIGlmICghdGhpcy5kZXB0aFJibykge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFJibyA9IGNvbnRleHQuY3JlYXRlUmVuZGVyYnVmZmVyKGNvbnRleHQuZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckxheWVyKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgaWYgKGxheWVyLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKSByZXR1cm47XG4gICAgICAgIGlmIChsYXllci50eXBlICE9PSAnYmFja2dyb3VuZCcgJiYgbGF5ZXIudHlwZSAhPT0gJ2N1c3RvbScgJiYgIWNvb3Jkcy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgdGhpcy5pZCA9IGxheWVyLmlkO1xuXG4gICAgICAgIGRyYXdbbGF5ZXIudHlwZV0ocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIG1hdHJpeCB0byBpbmNvcnBvcmF0ZSB0aGUgKi10cmFuc2xhdGUgYW5kICotdHJhbnNsYXRlLWFuY2hvciBwcm9wZXJ0aWVzIGludG8gaXQuXG4gICAgICogQHBhcmFtIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgVHJ1ZSB3aGVuIHRoZSB1bml0cyBhY2NlcHRlZCBieSB0aGUgbWF0cml4IGFyZSBpbiB2aWV3cG9ydCBwaXhlbHMgaW5zdGVhZCBvZiB0aWxlIHVuaXRzLlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG1hdHJpeFxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVBvc01hdHJpeChtYXRyaXg6IEZsb2F0MzJBcnJheSwgdGlsZTogVGlsZSwgdHJhbnNsYXRlOiBbbnVtYmVyLCBudW1iZXJdLCB0cmFuc2xhdGVBbmNob3I6ICdtYXAnIHwgJ3ZpZXdwb3J0JywgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cz86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0cmFuc2xhdGVbMF0gJiYgIXRyYW5zbGF0ZVsxXSkgcmV0dXJuIG1hdHJpeDtcblxuICAgICAgICBjb25zdCBhbmdsZSA9IGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgP1xuICAgICAgICAgICAgKHRyYW5zbGF0ZUFuY2hvciA9PT0gJ21hcCcgPyB0aGlzLnRyYW5zZm9ybS5hbmdsZSA6IDApIDpcbiAgICAgICAgICAgICh0cmFuc2xhdGVBbmNob3IgPT09ICd2aWV3cG9ydCcgPyAtdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAwKTtcblxuICAgICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpbkEgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBjb3NBID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVswXSAqIGNvc0EgLSB0cmFuc2xhdGVbMV0gKiBzaW5BLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVswXSAqIHNpbkEgKyB0cmFuc2xhdGVbMV0gKiBjb3NBXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSBbXG4gICAgICAgICAgICBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID8gdHJhbnNsYXRlWzBdIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgdHJhbnNsYXRlWzBdLCB0aGlzLnRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgICAgIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgPyB0cmFuc2xhdGVbMV0gOiBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCB0cmFuc2xhdGVbMV0sIHRoaXMudHJhbnNmb3JtLnpvb20pLFxuICAgICAgICAgICAgMFxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZWRNYXRyaXggPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodHJhbnNsYXRlZE1hdHJpeCwgbWF0cml4LCB0cmFuc2xhdGlvbik7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkTWF0cml4O1xuICAgIH1cblxuICAgIHNhdmVUaWxlVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGlsZVRleHR1cmVzW3RleHR1cmUuc2l6ZVswXV07XG4gICAgICAgIGlmICghdGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlc1t0ZXh0dXJlLnNpemVbMF1dID0gW3RleHR1cmVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRpbGVUZXh0dXJlKHNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RpbGVUZXh0dXJlc1tzaXplXTtcbiAgICAgICAgcmV0dXJuIHRleHR1cmVzICYmIHRleHR1cmVzLmxlbmd0aCA+IDAgPyB0ZXh0dXJlcy5wb3AoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYSBwYXR0ZXJuIGltYWdlIGlzIG5lZWRlZCwgYW5kIGlmIGl0IGlzLCB3aGV0aGVyIGl0IGlzIG5vdCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGEgbmVlZGVkIGltYWdlIGlzIG1pc3NpbmcgYW5kIHJlbmRlcmluZyBuZWVkcyB0byBiZSBza2lwcGVkLlxuICAgICAqL1xuICAgIGlzUGF0dGVybk1pc3NpbmcoaW1hZ2U6ID9Dcm9zc0ZhZGVkPHN0cmluZz4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFpbWFnZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBpbWFnZVBvc0EgPSB0aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLmZyb20pO1xuICAgICAgICBjb25zdCBpbWFnZVBvc0IgPSB0aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLnRvKTtcbiAgICAgICAgcmV0dXJuICFpbWFnZVBvc0EgfHwgIWltYWdlUG9zQjtcbiAgICB9XG5cbiAgICB1c2VQcm9ncmFtKG5hbWU6IHN0cmluZywgcHJvZ3JhbUNvbmZpZ3VyYXRpb246IFByb2dyYW1Db25maWd1cmF0aW9uID0gdGhpcy5lbXB0eVByb2dyYW1Db25maWd1cmF0aW9uKTogUHJvZ3JhbTxhbnk+IHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUgfHwge307XG4gICAgICAgIGNvbnN0IGtleSA9IGAke25hbWV9JHtwcm9ncmFtQ29uZmlndXJhdGlvbi5jYWNoZUtleSB8fCAnJ30ke3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA/ICcvb3ZlcmRyYXcnIDogJyd9YDtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IG5ldyBQcm9ncmFtKHRoaXMuY29udGV4dCwgc2hhZGVyc1tuYW1lXSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHByb2dyYW1Vbmlmb3Jtc1tuYW1lXSwgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzZXQgc29tZSBHTCBzdGF0ZSB0byBkZWZhdWx0IHZhbHVlcyB0byBhdm9pZCBoYXJkLXRvLWRlYnVnIGJ1Z3NcbiAgICAgKiBpbiBjdXN0b20gbGF5ZXJzLlxuICAgICAqL1xuICAgIHNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSB7XG4gICAgICAgIC8vIFByZXZlbnQgY3VzdG9tIGxheWVycyBmcm9tIHVuaW50ZW50aW9uYWxseSBtb2RpZnkgdGhlIGxhc3QgVkFPIHVzZWQuXG4gICAgICAgIC8vIEFsbCBvdGhlciBzdGF0ZSBpcyBzdGF0ZSBpcyByZXN0b3JlZCBvbiBpdCdzIG93biwgYnV0IGZvciBWQU9zIGl0J3NcbiAgICAgICAgLy8gc2ltcGxlciB0byB1bmJpbmQgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiBWQU9zLlxuICAgICAgICB0aGlzLmNvbnRleHQudW5iaW5kVkFPKCk7XG5cbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgdmFsdWVzIGZvciB0aGlzIHN0YXRlIGlzIG1lYW5pbmdmdWwgYW5kIG9mdGVuIGV4cGVjdGVkLlxuICAgICAgICAvLyBMZWF2aW5nIHRoaXMgc3RhdGUgZGlydHkgY291bGQgY2F1c2UgYSBsb3Qgb2YgY29uZnVzaW9uIGZvciB1c2Vycy5cbiAgICAgICAgdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogU2V0IEdMIHN0YXRlIHRoYXQgaXMgc2hhcmVkIGJ5IGFsbCBsYXllcnMuXG4gICAgICovXG4gICAgc2V0QmFzZVN0YXRlKCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldChmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChnbC5GVU5DX0FERCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWludGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZSc7XG5pbXBvcnQgeyBjaXJjbGVVbmlmb3JtVmFsdWVzIH0gZnJvbSAnLi9wcm9ncmFtL2NpcmNsZV9wcm9ncmFtJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBDaXJjbGVTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBDaXJjbGVCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvY2lyY2xlX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q2lyY2xlcztcblxuZnVuY3Rpb24gZHJhd0NpcmNsZXMocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQ2lyY2xlU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1zdHJva2Utd2lkdGgnKTtcbiAgICBjb25zdCBzdHJva2VPcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtc3Ryb2tlLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDAgJiYgKHN0cm9rZVdpZHRoLmNvbnN0YW50T3IoMSkgPT09IDAgfHwgc3Ryb2tlT3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgLy8gVHVybiBvZmYgc3RlbmNpbCB0ZXN0aW5nIHRvIGFsbG93IGNpcmNsZXMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsXG4gICAgLy8gc28gdGhhdCBsYXJnZSBjaXJjbGVzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0NpcmNsZUJ1Y2tldDwqPiA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnY2lyY2xlJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgY2lyY2xlVW5pZm9ybVZhbHVlcyhwYWludGVyLCBjb29yZCwgdGlsZSwgbGF5ZXIpLCBsYXllci5pZCxcbiAgICAgICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1Y2tldC5pbmRleEJ1ZmZlciwgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZSc7XG5pbXBvcnQge1xuICAgIGhlYXRtYXBVbmlmb3JtVmFsdWVzLFxuICAgIGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vaGVhdG1hcF9wcm9ncmFtJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBIZWF0bWFwU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9oZWF0bWFwX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEhlYXRtYXBCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvaGVhdG1hcF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0hlYXRtYXA7XG5cbmZ1bmN0aW9uIGRyYXdIZWF0bWFwKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEhlYXRtYXBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnaGVhdG1hcC1vcGFjaXR5JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgICAgIC8vIEFsbG93IGtlcm5lbHMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsIHNvIHRoYXRcbiAgICAgICAgLy8gbGFyZ2Uga2VybmVscyBhcmUgbm90IGNsaXBwZWQgdG8gdGlsZXNcbiAgICAgICAgY29uc3Qgc3RlbmNpbE1vZGUgPSBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcbiAgICAgICAgLy8gVHVybiBvbiBhZGRpdGl2ZSBibGVuZGluZyBmb3Iga2VybmVscywgd2hpY2ggaXMgYSBrZXkgYXNwZWN0IG9mIGtlcm5lbCBkZW5zaXR5IGVzdGltYXRpb24gZm9ybXVsYVxuICAgICAgICBjb25zdCBjb2xvck1vZGUgPSBuZXcgQ29sb3JNb2RlKFtnbC5PTkUsIGdsLk9ORV0sIENvbG9yLnRyYW5zcGFyZW50LCBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pO1xuXG4gICAgICAgIGJpbmRGcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCBsYXllcik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhcih7IGNvbG9yOiBDb2xvci50cmFuc3BhcmVudCB9KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29vcmQgPSBjb29yZHNbaV07XG5cbiAgICAgICAgICAgIC8vIFNraXAgdGlsZXMgdGhhdCBoYXZlIHVuY292ZXJlZCBwYXJlbnRzIHRvIGF2b2lkIGZsaWNrZXJpbmc7IHdlIGRvbid0IG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHVzZSBjb21wbGV4IHRpbGUgbWFza2luZyBoZXJlIGJlY2F1c2UgdGhlIGNoYW5nZSBiZXR3ZWVuIHpvb20gbGV2ZWxzIGlzIHN1YnRsZSxcbiAgICAgICAgICAgIC8vIHNvIGl0J3MgZmluZSB0byBzaW1wbHkgcmVuZGVyIHRoZSBwYXJlbnQgdW50aWwgYWxsIGl0cyA0IGNoaWxkcmVuIGFyZSBsb2FkZWRcbiAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS5oYXNSZW5kZXJhYmxlUGFyZW50KGNvb3JkKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldDogP0hlYXRtYXBCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXAnLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb25zdCB7em9vbX0gPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgaGVhdG1hcFVuaWZvcm1WYWx1ZXMoY29vcmQucG9zTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICB0aWxlLCB6b29tLCBsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtaW50ZW5zaXR5JykpLFxuICAgICAgICAgICAgICAgIGxheWVyLmlkLCBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLCBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgYnVja2V0LnNlZ21lbnRzLCBsYXllci5wYWludCwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSxcbiAgICAgICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHRdKTtcblxuICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG4gICAgICAgIHBhaW50ZXIuY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuICAgICAgICByZW5kZXJUZXh0dXJlVG9NYXAocGFpbnRlciwgbGF5ZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZEZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgLy8gVXNlIGEgNHggZG93bnNjYWxlZCBzY3JlZW4gdGV4dHVyZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHBhaW50ZXIud2lkdGggLyA0LCBwYWludGVyLmhlaWdodCAvIDRdKTtcblxuICAgIGxldCBmYm8gPSBsYXllci5oZWF0bWFwRmJvO1xuXG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZibyA9IGxheWVyLmhlYXRtYXBGYm8gPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHBhaW50ZXIud2lkdGggLyA0LCBwYWludGVyLmhlaWdodCAvIDQpO1xuXG4gICAgICAgIGJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCB0ZXh0dXJlLCBmYm8pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG4gICAgICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChmYm8uZnJhbWVidWZmZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibykge1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAvLyBVc2UgdGhlIGhpZ2hlciBwcmVjaXNpb24gaGFsZi1mbG9hdCB0ZXh0dXJlIHdoZXJlIGF2YWlsYWJsZSAocHJvZHVjaW5nIG11Y2ggc21vb3RoZXIgbG9va2luZyBoZWF0bWFwcyk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBwYWludGVyLndpZHRoIC8gNCwgcGFpbnRlci5oZWlnaHQgLyA0LCAwLCBnbC5SR0JBLFxuICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQgPyBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVMgOiBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0KHRleHR1cmUpO1xuXG4gICAgLy8gSWYgdXNpbmcgaGFsZi1mbG9hdCB0ZXh0dXJlIGFzIGEgcmVuZGVyIHRhcmdldCBpcyBub3Qgc3VwcG9ydGVkLCBmYWxsIGJhY2sgdG8gYSBsb3cgcHJlY2lzaW9uIHRleHR1cmVcbiAgICBpZiAoY29udGV4dC5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpICE9PSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQgPSBudWxsO1xuICAgICAgICBmYm8uY29sb3JBdHRhY2htZW50LnNldERpcnR5KCk7XG4gICAgICAgIGJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCB0ZXh0dXJlLCBmYm8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dHVyZVRvTWFwKHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAvLyBIZXJlIHdlIGJpbmQgdHdvIGRpZmZlcmVudCB0ZXh0dXJlcyBmcm9tIHdoaWNoIHdlJ2xsIHNhbXBsZSBpbiBkcmF3aW5nXG4gICAgLy8gaGVhdG1hcHM6IHRoZSBrZXJuZWwgdGV4dHVyZSwgcHJlcGFyZWQgaW4gdGhlIG9mZnNjcmVlbiBwYXNzLCBhbmQgYVxuICAgIC8vIGNvbG9yIHJhbXAgdGV4dHVyZS5cbiAgICBjb25zdCBmYm8gPSBsYXllci5oZWF0bWFwRmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBsZXQgY29sb3JSYW1wVGV4dHVyZSA9IGxheWVyLmNvbG9yUmFtcFRleHR1cmU7XG4gICAgaWYgKCFjb2xvclJhbXBUZXh0dXJlKSB7XG4gICAgICAgIGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgbGF5ZXIuY29sb3JSYW1wLCBnbC5SR0JBKTtcbiAgICB9XG4gICAgY29sb3JSYW1wVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXBUZXh0dXJlJykuZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsXG4gICAgICAgIERlcHRoTW9kZS5kaXNhYmxlZCwgU3RlbmNpbE1vZGUuZGlzYWJsZWQsIHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlcyhwYWludGVyLCBsYXllciwgMCwgMSksXG4gICAgICAgIGxheWVyLmlkLCBwYWludGVyLnZpZXdwb3J0QnVmZmVyLCBwYWludGVyLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLFxuICAgICAgICBwYWludGVyLnZpZXdwb3J0U2VnbWVudHMsIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQge1xuICAgIGxpbmVVbmlmb3JtVmFsdWVzLFxuICAgIGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lU0RGVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lR3JhZGllbnRVbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9saW5lX3Byb2dyYW0nO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIExpbmVTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgTGluZUJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9saW5lX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkcmF3TGluZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBMaW5lU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtb3BhY2l0eScpO1xuICAgIGNvbnN0IHdpZHRoID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXdpZHRoJyk7XG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCB8fCB3aWR0aC5jb25zdGFudE9yKDEpID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICBjb25zdCBkYXNoYXJyYXkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZGFzaGFycmF5Jyk7XG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXBhdHRlcm4nKTtcbiAgICBjb25zdCBpbWFnZSA9IHBhdHRlcm5Qcm9wZXJ0eS5jb25zdGFudE9yKCgxOiBhbnkpKTtcblxuICAgIGNvbnN0IGdyYWRpZW50ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLWdyYWRpZW50Jyk7XG4gICAgY29uc3QgY3Jvc3NmYWRlID0gbGF5ZXIuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO1xuXG4gICAgY29uc3QgcHJvZ3JhbUlkID1cbiAgICAgICAgZGFzaGFycmF5ID8gJ2xpbmVTREYnIDpcbiAgICAgICAgaW1hZ2UgPyAnbGluZVBhdHRlcm4nIDpcbiAgICAgICAgZ3JhZGllbnQgPyAnbGluZUdyYWRpZW50JyA6ICdsaW5lJztcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgbGV0IGZpcnN0VGlsZSA9IHRydWU7XG5cbiAgICBpZiAoZ3JhZGllbnQpIHtcbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgbGV0IGdyYWRpZW50VGV4dHVyZSA9IGxheWVyLmdyYWRpZW50VGV4dHVyZTtcbiAgICAgICAgaWYgKCFsYXllci5ncmFkaWVudCkgcmV0dXJuO1xuICAgICAgICBpZiAoIWdyYWRpZW50VGV4dHVyZSkgZ3JhZGllbnRUZXh0dXJlID0gbGF5ZXIuZ3JhZGllbnRUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgbGF5ZXIuZ3JhZGllbnQsIGdsLlJHQkEpO1xuICAgICAgICBncmFkaWVudFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcblxuICAgICAgICBpZiAoaW1hZ2UgJiYgIXRpbGUucGF0dGVybnNMb2FkZWQoKSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgYnVja2V0OiA/TGluZUJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShwcm9ncmFtSWQsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNoYW5nZWQgPSBmaXJzdFRpbGUgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbTtcblxuICAgICAgICBjb25zdCBjb25zdGFudFBhdHRlcm4gPSBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcihudWxsKTtcbiAgICAgICAgaWYgKGNvbnN0YW50UGF0dGVybiAmJiB0aWxlLmltYWdlQXRsYXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gdGlsZS5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbY29uc3RhbnRQYXR0ZXJuLnRvXTtcbiAgICAgICAgICAgIGNvbnN0IHBvc0Zyb20gPSB0aWxlLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4uZnJvbV07XG4gICAgICAgICAgICBpZiAocG9zVG8gJiYgcG9zRnJvbSkgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHBvc1RvLCBwb3NGcm9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBkYXNoYXJyYXkgPyBsaW5lU0RGVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlLCBsYXllciwgZGFzaGFycmF5LCBjcm9zc2ZhZGUpIDpcbiAgICAgICAgICAgIGltYWdlID8gbGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBjcm9zc2ZhZGUpIDpcbiAgICAgICAgICAgIGdyYWRpZW50ID8gbGluZUdyYWRpZW50VW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlLCBsYXllcikgOlxuICAgICAgICAgICAgbGluZVVuaWZvcm1WYWx1ZXMocGFpbnRlciwgdGlsZSwgbGF5ZXIpO1xuXG4gICAgICAgIGlmIChkYXNoYXJyYXkgJiYgKHByb2dyYW1DaGFuZ2VkIHx8IHBhaW50ZXIubGluZUF0bGFzLmRpcnR5KSkge1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICBwYWludGVyLmxpbmVBdGxhcy5iaW5kKGNvbnRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24udXBkYXRlUGF0dGVyblBhaW50QnVmZmVycyhjcm9zc2ZhZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLFxuICAgICAgICAgICAgcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgYnVja2V0LmluZGV4QnVmZmVyLCBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgICAgICBsYXllci5wYWludCwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgIGZpcnN0VGlsZSA9IGZhbHNlO1xuICAgICAgICAvLyBvbmNlIHJlZmFjdG9yZWQgc28gdGhhdCBib3VuZCB0ZXh0dXJlIHN0YXRlIGlzIG1hbmFnZWQsIHdlJ2xsIGFsc28gYmUgYWJsZSB0byByZW1vdmUgdGhpcyBmaXJzdFRpbGUvcHJvZ3JhbUNoYW5nZWQgbG9naWNcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlJztcbmltcG9ydCB7XG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxufSBmcm9tICcuL3Byb2dyYW0vZmlsbF9leHRydXNpb25fcHJvZ3JhbSc7XG5pbXBvcnQge3ByZXBhcmVPZmZzY3JlZW5GcmFtZWJ1ZmZlciwgZHJhd09mZnNjcmVlblRleHR1cmV9IGZyb20gJy4vb2Zmc2NyZWVuJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9maWxsX2V4dHJ1c2lvbl9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfZXh0cnVzaW9uX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3O1xuXG5mdW5jdGlvbiBkcmF3KHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZTogU291cmNlQ2FjaGUsIGxheWVyOiBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcbiAgICAgICAgcHJlcGFyZU9mZnNjcmVlbkZyYW1lYnVmZmVyKHBhaW50ZXIsIGxheWVyKTtcblxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBuZXcgRGVwdGhNb2RlKHBhaW50ZXIuY29udGV4dC5nbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIFswLCAxXSksXG4gICAgICAgICAgICBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlKTtcblxuICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG4gICAgICAgIGRyYXdPZmZzY3JlZW5UZXh0dXJlKHBhaW50ZXIsIGxheWVyLCBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3RXh0cnVzaW9uVGlsZXMocGFpbnRlciwgc291cmNlLCBsYXllciwgY29vcmRzLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBwYXR0ZXJuUHJvcGVydHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXBhdHRlcm4nKTtcbiAgICBjb25zdCBpbWFnZSA9IHBhdHRlcm5Qcm9wZXJ0eS5jb25zdGFudE9yKCgxOiBhbnkpKTtcbiAgICBjb25zdCBjcm9zc2ZhZGUgPSBsYXllci5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCk7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6ID9GaWxsRXh0cnVzaW9uQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGltYWdlID8gJ2ZpbGxFeHRydXNpb25QYXR0ZXJuJyA6ICdmaWxsRXh0cnVzaW9uJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgcGFpbnRlci5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24udXBkYXRlUGF0dGVyblBhaW50QnVmZmVycyhjcm9zc2ZhZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc3RhbnRQYXR0ZXJuID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IobnVsbCk7XG4gICAgICAgIGlmIChjb25zdGFudFBhdHRlcm4gJiYgdGlsZS5pbWFnZUF0bGFzKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NUbyA9IHRpbGUuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW2NvbnN0YW50UGF0dGVybi50b107XG4gICAgICAgICAgICBjb25zdCBwb3NGcm9tID0gdGlsZS5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbY29uc3RhbnRQYXR0ZXJuLmZyb21dO1xuICAgICAgICAgICAgaWYgKHBvc1RvICYmIHBvc0Zyb20pIHByb2dyYW1Db25maWd1cmF0aW9uLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhwb3NUbywgcG9zRnJvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnBvc01hdHJpeCxcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yJykpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50Jyk7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBpbWFnZSA/XG4gICAgICAgICAgICBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1WYWx1ZXMobWF0cml4LCBwYWludGVyLCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50LCBjb29yZCwgY3Jvc3NmYWRlLCB0aWxlKSA6XG4gICAgICAgICAgICBmaWxsRXh0cnVzaW9uVW5pZm9ybVZhbHVlcyhtYXRyaXgsIHBhaW50ZXIsIHNob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQpO1xuXG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGNvbnRleHQuZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5iYWNrQ0NXLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1Y2tldC5zZWdtZW50cywgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sXG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZSc7XG5pbXBvcnQge1xuICAgIGJhY2tncm91bmRVbmlmb3JtVmFsdWVzLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vYmFja2dyb3VuZF9wcm9ncmFtJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBCYWNrZ3JvdW5kU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9iYWNrZ3JvdW5kX3N0eWxlX2xheWVyJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0JhY2tncm91bmQ7XG5cbmZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEJhY2tncm91bmRTdHlsZUxheWVyKSB7XG4gICAgY29uc3QgY29sb3IgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtY29sb3InKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5ID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRyYW5zZm9ybS50aWxlU2l6ZTtcbiAgICBjb25zdCBpbWFnZSA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1wYXR0ZXJuJyk7XG4gICAgaWYgKHBhaW50ZXIuaXNQYXR0ZXJuTWlzc2luZyhpbWFnZSkpIHJldHVybjtcblxuICAgIGNvbnN0IHBhc3MgPSAoIWltYWdlICYmIGNvbG9yLmEgPT09IDEgJiYgb3BhY2l0eSA9PT0gMSkgPyAnb3BhcXVlJyA6ICd0cmFuc2x1Y2VudCc7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gcGFzcykgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RlbmNpbE1vZGUgPSBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIHBhc3MgPT09ICdvcGFxdWUnID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGltYWdlID8gJ2JhY2tncm91bmRQYXR0ZXJuJyA6ICdiYWNrZ3JvdW5kJyk7XG5cbiAgICBjb25zdCB0aWxlSURzID0gdHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplfSk7XG5cbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmJpbmQocGFpbnRlci5jb250ZXh0KTtcbiAgICB9XG5cbiAgICBjb25zdCBjcm9zc2ZhZGUgPSBsYXllci5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCk7XG4gICAgZm9yIChjb25zdCB0aWxlSUQgb2YgdGlsZUlEcykge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZUlELnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBpbWFnZSA/XG4gICAgICAgICAgICBiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1WYWx1ZXMobWF0cml4LCBvcGFjaXR5LCBwYWludGVyLCBpbWFnZSwge3RpbGVJRCwgdGlsZVNpemV9LCBjcm9zc2ZhZGUpIDpcbiAgICAgICAgICAgIGJhY2tncm91bmRVbmlmb3JtVmFsdWVzKG1hdHJpeCwgb3BhY2l0eSwgY29sb3IpO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgbGF5ZXIuaWQsIHBhaW50ZXIudGlsZUV4dGVudEJ1ZmZlcixcbiAgICAgICAgICAgIHBhaW50ZXIucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsIHBhaW50ZXIudGlsZUV4dGVudFNlZ21lbnRzKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q3VzdG9tO1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQge3ByZXBhcmVPZmZzY3JlZW5GcmFtZWJ1ZmZlciwgZHJhd09mZnNjcmVlblRleHR1cmV9IGZyb20gJy4vb2Zmc2NyZWVuJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBDdXN0b21TdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2N1c3RvbV9zdHlsZV9sYXllcic7XG5cbmZ1bmN0aW9uIGRyYXdDdXN0b20ocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQ3VzdG9tU3R5bGVMYXllcikge1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBpbXBsZW1lbnRhdGlvbiA9IGxheWVyLmltcGxlbWVudGF0aW9uO1xuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcblxuICAgICAgICBjb25zdCBwcmVyZW5kZXIgPSBpbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXI7XG4gICAgICAgIGlmIChwcmVyZW5kZXIpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpO1xuXG4gICAgICAgICAgICBwcmVyZW5kZXIuY2FsbChpbXBsZW1lbnRhdGlvbiwgY29udGV4dC5nbCwgcGFpbnRlci50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgICAgIHBhaW50ZXIuc2V0QmFzZVN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1wbGVtZW50YXRpb24ucmVuZGVyaW5nTW9kZSA9PT0gJzNkJykge1xuICAgICAgICAgICAgcGFpbnRlci5zZXRDdXN0b21MYXllckRlZmF1bHRzKCk7XG5cbiAgICAgICAgICAgIHByZXBhcmVPZmZzY3JlZW5GcmFtZWJ1ZmZlcihwYWludGVyLCBsYXllcik7XG4gICAgICAgICAgICBpbXBsZW1lbnRhdGlvbi5yZW5kZXIoY29udGV4dC5nbCwgcGFpbnRlci50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgICAgIHBhaW50ZXIuc2V0QmFzZVN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG5cbiAgICAgICAgaWYgKGltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGUgPT09ICczZCcpIHtcbiAgICAgICAgICAgIGRyYXdPZmZzY3JlZW5UZXh0dXJlKHBhaW50ZXIsIGxheWVyLCAxKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFpbnRlci5zZXRDdXN0b21MYXllckRlZmF1bHRzKCk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcblxuICAgICAgICAgICAgaW1wbGVtZW50YXRpb24ucmVuZGVyKGNvbnRleHQuZ2wsIHBhaW50ZXIudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnNldERpcnR5KCk7XG4gICAgICAgICAgICBwYWludGVyLnNldEJhc2VTdGF0ZSgpO1xuICAgICAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuXG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCB0aWxlQ292ZXI7XG5cbmZ1bmN0aW9uIHRpbGVDb3Zlcih6OiBudW1iZXIsIGJvdW5kczogW0Nvb3JkaW5hdGUsIENvb3JkaW5hdGUsIENvb3JkaW5hdGUsIENvb3JkaW5hdGVdLFxuICAgIGFjdHVhbFo6IG51bWJlciwgcmVuZGVyV29ybGRDb3BpZXM6IGJvb2xlYW4gfCB2b2lkKTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4ge1xuICAgIGlmIChyZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbmRlcldvcmxkQ29waWVzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdGlsZXMgPSAxIDw8IHo7XG4gICAgY29uc3QgdCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gc2NhbkxpbmUoeDAsIHgxLCB5KSB7XG4gICAgICAgIGxldCB4LCB3LCB3eCwgY29vcmQ7XG4gICAgICAgIGlmICh5ID49IDAgJiYgeSA8PSB0aWxlcykge1xuICAgICAgICAgICAgZm9yICh4ID0geDA7IHggPCB4MTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdyA9IE1hdGguZmxvb3IoeCAvIHRpbGVzKTtcbiAgICAgICAgICAgICAgICB3eCA9ICh4ICUgdGlsZXMgKyB0aWxlcykgJSB0aWxlcztcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCB8fCByZW5kZXJXb3JsZENvcGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGFjdHVhbFosIHcsIHosIHd4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgdFtjb29yZC5rZXldID0gY29vcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGl2aWRlIHRoZSBzY3JlZW4gdXAgaW4gdHdvIHRyaWFuZ2xlcyBhbmQgc2NhbiBlYWNoIG9mIHRoZW06XG4gICAgLy8gKy0tLS9cbiAgICAvLyB8IC8gfFxuICAgIC8vIC8tLS0rXG4gICAgc2NhblRyaWFuZ2xlKGJvdW5kc1swXSwgYm91bmRzWzFdLCBib3VuZHNbMl0sIDAsIHRpbGVzLCBzY2FuTGluZSk7XG4gICAgc2NhblRyaWFuZ2xlKGJvdW5kc1syXSwgYm91bmRzWzNdLCBib3VuZHNbMF0sIDAsIHRpbGVzLCBzY2FuTGluZSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChpZCkgPT4ge1xuICAgICAgICByZXR1cm4gdFtpZF07XG4gICAgfSk7XG59XG5cblxuLy8gVGFrZW4gZnJvbSBwb2x5bWFwcyBzcmMvTGF5ZXIuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW1wbGVnZW8vcG9seW1hcHMvYmxvYi9tYXN0ZXIvc3JjL0xheWVyLmpzI0wzMzMtTDM4M1xuXG5mdW5jdGlvbiBlZGdlKGE6IENvb3JkaW5hdGUsIGI6IENvb3JkaW5hdGUpIHtcbiAgICBpZiAoYS5yb3cgPiBiLnJvdykgeyBjb25zdCB0ID0gYTsgYSA9IGI7IGIgPSB0OyB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDA6IGEuY29sdW1uLFxuICAgICAgICB5MDogYS5yb3csXG4gICAgICAgIHgxOiBiLmNvbHVtbixcbiAgICAgICAgeTE6IGIucm93LFxuICAgICAgICBkeDogYi5jb2x1bW4gLSBhLmNvbHVtbixcbiAgICAgICAgZHk6IGIucm93IC0gYS5yb3dcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuU3BhbnMoZTAsIGUxLCB5bWluLCB5bWF4LCBzY2FuTGluZSkge1xuICAgIGNvbnN0IHkwID0gTWF0aC5tYXgoeW1pbiwgTWF0aC5mbG9vcihlMS55MCkpO1xuICAgIGNvbnN0IHkxID0gTWF0aC5taW4oeW1heCwgTWF0aC5jZWlsKGUxLnkxKSk7XG5cbiAgICAvLyBzb3J0IGVkZ2VzIGJ5IHgtY29vcmRpbmF0ZVxuICAgIGlmICgoZTAueDAgPT09IGUxLngwICYmIGUwLnkwID09PSBlMS55MCkgP1xuICAgICAgICAoZTAueDAgKyBlMS5keSAvIGUwLmR5ICogZTAuZHggPCBlMS54MSkgOlxuICAgICAgICAoZTAueDEgLSBlMS5keSAvIGUwLmR5ICogZTAuZHggPCBlMS54MCkpIHtcbiAgICAgICAgY29uc3QgdCA9IGUwOyBlMCA9IGUxOyBlMSA9IHQ7XG4gICAgfVxuXG4gICAgLy8gc2NhbiBsaW5lcyFcbiAgICBjb25zdCBtMCA9IGUwLmR4IC8gZTAuZHk7XG4gICAgY29uc3QgbTEgPSBlMS5keCAvIGUxLmR5O1xuICAgIGNvbnN0IGQwID0gZTAuZHggPiAwOyAvLyB1c2UgeSArIDEgdG8gY29tcHV0ZSB4MFxuICAgIGNvbnN0IGQxID0gZTEuZHggPCAwOyAvLyB1c2UgeSArIDEgdG8gY29tcHV0ZSB4MVxuICAgIGZvciAobGV0IHkgPSB5MDsgeSA8IHkxOyB5KyspIHtcbiAgICAgICAgY29uc3QgeDAgPSBtMCAqIE1hdGgubWF4KDAsIE1hdGgubWluKGUwLmR5LCB5ICsgZDAgLSBlMC55MCkpICsgZTAueDA7XG4gICAgICAgIGNvbnN0IHgxID0gbTEgKiBNYXRoLm1heCgwLCBNYXRoLm1pbihlMS5keSwgeSArIGQxIC0gZTEueTApKSArIGUxLngwO1xuICAgICAgICBzY2FuTGluZShNYXRoLmZsb29yKHgxKSwgTWF0aC5jZWlsKHgwKSwgeSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzY2FuVHJpYW5nbGUoYTogQ29vcmRpbmF0ZSwgYjogQ29vcmRpbmF0ZSwgYzogQ29vcmRpbmF0ZSwgeW1pbiwgeW1heCwgc2NhbkxpbmUpIHtcbiAgICBsZXQgYWIgPSBlZGdlKGEsIGIpLFxuICAgICAgICBiYyA9IGVkZ2UoYiwgYyksXG4gICAgICAgIGNhID0gZWRnZShjLCBhKTtcblxuICAgIGxldCB0O1xuXG4gICAgLy8gc29ydCBlZGdlcyBieSB5LWxlbmd0aFxuICAgIGlmIChhYi5keSA+IGJjLmR5KSB7IHQgPSBhYjsgYWIgPSBiYzsgYmMgPSB0OyB9XG4gICAgaWYgKGFiLmR5ID4gY2EuZHkpIHsgdCA9IGFiOyBhYiA9IGNhOyBjYSA9IHQ7IH1cbiAgICBpZiAoYmMuZHkgPiBjYS5keSkgeyB0ID0gYmM7IGJjID0gY2E7IGNhID0gdDsgfVxuXG4gICAgLy8gc2NhbiBzcGFuISBzY2FuIHNwYW4hXG4gICAgaWYgKGFiLmR5KSBzY2FuU3BhbnMoY2EsIGFiLCB5bWluLCB5bWF4LCBzY2FuTGluZSk7XG4gICAgaWYgKGJjLmR5KSBzY2FuU3BhbnMoY2EsIGJjLCB5bWluLCB5bWF4LCBzY2FuTGluZSk7XG59XG5cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBMbmdMYXQgZnJvbSAnLi9sbmdfbGF0JztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgQ29vcmRpbmF0ZSBmcm9tICcuL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHsgd3JhcCwgY2xhbXAgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgdGlsZUNvdmVyIGZyb20gJy4uL3V0aWwvdGlsZV9jb3Zlcic7XG5pbXBvcnQgeyBDYW5vbmljYWxUaWxlSUQsIFVud3JhcHBlZFRpbGVJRCB9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgdmVjNCwgbWF0NCwgbWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbi8qKlxuICogQSBzaW5nbGUgdHJhbnNmb3JtLCBnZW5lcmFsbHkgdXNlZCBmb3IgYSBzaW5nbGUgdGlsZSB0byBiZVxuICogc2NhbGVkLCByb3RhdGVkLCBhbmQgem9vbWVkLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVHJhbnNmb3JtIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHRpbGVab29tOiBudW1iZXI7XG4gICAgbG5nUmFuZ2U6ID9bbnVtYmVyLCBudW1iZXJdO1xuICAgIGxhdFJhbmdlOiA/W251bWJlciwgbnVtYmVyXTtcbiAgICBtYXhWYWxpZExhdGl0dWRlOiBudW1iZXI7XG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGFuZ2xlOiBudW1iZXI7XG4gICAgcm90YXRpb25NYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICB6b29tRnJhY3Rpb246IG51bWJlcjtcbiAgICBwaXhlbHNUb0dMVW5pdHM6IFtudW1iZXIsIG51bWJlcl07XG4gICAgY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTogbnVtYmVyO1xuICAgIG1lcmNhdG9yTWF0cml4OiBBcnJheTxudW1iZXI+O1xuICAgIHByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICBhbGlnbmVkUHJvak1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHBpeGVsTWF0cml4OiBGbG9hdDY0QXJyYXk7XG4gICAgcGl4ZWxNYXRyaXhJbnZlcnNlOiBGbG9hdDY0QXJyYXk7XG4gICAgX2ZvdjogbnVtYmVyO1xuICAgIF9waXRjaDogbnVtYmVyO1xuICAgIF96b29tOiBudW1iZXI7XG4gICAgX3VubW9kaWZpZWQ6IGJvb2xlYW47XG4gICAgX3JlbmRlcldvcmxkQ29waWVzOiBib29sZWFuO1xuICAgIF9taW5ab29tOiBudW1iZXI7XG4gICAgX21heFpvb206IG51bWJlcjtcbiAgICBfY2VudGVyOiBMbmdMYXQ7XG4gICAgX2NvbnN0cmFpbmluZzogYm9vbGVhbjtcbiAgICBfcG9zTWF0cml4Q2FjaGU6IHtbbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfYWxpZ25lZFBvc01hdHJpeENhY2hlOiB7W251bWJlcl06IEZsb2F0MzJBcnJheX07XG5cbiAgICBjb25zdHJ1Y3RvcihtaW5ab29tOiA/bnVtYmVyLCBtYXhab29tOiA/bnVtYmVyLCByZW5kZXJXb3JsZENvcGllczogYm9vbGVhbiB8IHZvaWQpIHtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjsgLy8gY29uc3RhbnRcbiAgICAgICAgdGhpcy5tYXhWYWxpZExhdGl0dWRlID0gODUuMDUxMTI5OyAvLyBjb25zdGFudFxuXG4gICAgICAgIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzID0gcmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiByZW5kZXJXb3JsZENvcGllcztcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IG1pblpvb20gfHwgMDtcbiAgICAgICAgdGhpcy5fbWF4Wm9vbSA9IG1heFpvb20gfHwgMjI7XG5cbiAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMoKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBuZXcgTG5nTGF0KDAsIDApO1xuICAgICAgICB0aGlzLnpvb20gPSAwO1xuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5fZm92ID0gMC42NDM1MDExMDg3OTMyODQ0O1xuICAgICAgICB0aGlzLl9waXRjaCA9IDA7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wb3NNYXRyaXhDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBUcmFuc2Zvcm0ge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBUcmFuc2Zvcm0odGhpcy5fbWluWm9vbSwgdGhpcy5fbWF4Wm9vbSwgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBjbG9uZS50aWxlU2l6ZSA9IHRoaXMudGlsZVNpemU7XG4gICAgICAgIGNsb25lLmxhdFJhbmdlID0gdGhpcy5sYXRSYW5nZTtcbiAgICAgICAgY2xvbmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBjbG9uZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgY2xvbmUuX2NlbnRlciA9IHRoaXMuX2NlbnRlcjtcbiAgICAgICAgY2xvbmUuem9vbSA9IHRoaXMuem9vbTtcbiAgICAgICAgY2xvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgICAgICBjbG9uZS5fZm92ID0gdGhpcy5fZm92O1xuICAgICAgICBjbG9uZS5fcGl0Y2ggPSB0aGlzLl9waXRjaDtcbiAgICAgICAgY2xvbmUuX3VubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjbG9uZS5fY2FsY01hdHJpY2VzKCk7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBnZXQgbWluWm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbWluWm9vbTsgfVxuICAgIHNldCBtaW5ab29tKHpvb206IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fbWluWm9vbSA9PT0gem9vbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9taW5ab29tID0gem9vbTtcbiAgICAgICAgdGhpcy56b29tID0gTWF0aC5tYXgodGhpcy56b29tLCB6b29tKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbWF4Wm9vbTsgfVxuICAgIHNldCBtYXhab29tKHpvb206IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fbWF4Wm9vbSA9PT0gem9vbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tYXhab29tID0gem9vbTtcbiAgICAgICAgdGhpcy56b29tID0gTWF0aC5taW4odGhpcy56b29tLCB6b29tKTtcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyV29ybGRDb3BpZXMoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllczsgfVxuICAgIHNldCByZW5kZXJXb3JsZENvcGllcyhyZW5kZXJXb3JsZENvcGllcz86ID9ib29sZWFuKSB7XG4gICAgICAgIGlmIChyZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgIH1cblxuICAgIGdldCB3b3JsZFNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVNpemUgKiB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIGdldCBjZW50ZXJQb2ludCgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUuX2RpdigyKTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGdldCBiZWFyaW5nKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAtdGhpcy5hbmdsZSAvIE1hdGguUEkgKiAxODA7XG4gICAgfVxuICAgIHNldCBiZWFyaW5nKGJlYXJpbmc6IG51bWJlcikge1xuICAgICAgICBjb25zdCBiID0gLXdyYXAoYmVhcmluZywgLTE4MCwgMTgwKSAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIGlmICh0aGlzLmFuZ2xlID09PSBiKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGI7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuXG4gICAgICAgIC8vIDJ4MiBtYXRyaXggZm9yIHJvdGF0aW5nIHBvaW50c1xuICAgICAgICB0aGlzLnJvdGF0aW9uTWF0cml4ID0gbWF0Mi5jcmVhdGUoKTtcbiAgICAgICAgbWF0Mi5yb3RhdGUodGhpcy5yb3RhdGlvbk1hdHJpeCwgdGhpcy5yb3RhdGlvbk1hdHJpeCwgdGhpcy5hbmdsZSk7XG4gICAgfVxuXG4gICAgZ2V0IHBpdGNoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waXRjaCAvIE1hdGguUEkgKiAxODA7XG4gICAgfVxuICAgIHNldCBwaXRjaChwaXRjaDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBjbGFtcChwaXRjaCwgMCwgNjApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoID09PSBwKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBwO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgZm92KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3YgLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgZm92KGZvdjogbnVtYmVyKSB7XG4gICAgICAgIGZvdiA9IE1hdGgubWF4KDAuMDEsIE1hdGgubWluKDYwLCBmb3YpKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvdiA9PT0gZm92KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm92ID0gZm92IC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IHpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3pvb207IH1cbiAgICBzZXQgem9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeiA9IE1hdGgubWluKE1hdGgubWF4KHpvb20sIHRoaXMubWluWm9vbSksIHRoaXMubWF4Wm9vbSk7XG4gICAgICAgIGlmICh0aGlzLl96b29tID09PSB6KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbSA9IHo7XG4gICAgICAgIHRoaXMuc2NhbGUgPSB0aGlzLnpvb21TY2FsZSh6KTtcbiAgICAgICAgdGhpcy50aWxlWm9vbSA9IE1hdGguZmxvb3Ioeik7XG4gICAgICAgIHRoaXMuem9vbUZyYWN0aW9uID0geiAtIHRoaXMudGlsZVpvb207XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLl9jZW50ZXI7IH1cbiAgICBzZXQgY2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGlmIChjZW50ZXIubGF0ID09PSB0aGlzLl9jZW50ZXIubGF0ICYmIGNlbnRlci5sbmcgPT09IHRoaXMuX2NlbnRlci5sbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB6b29tIGxldmVsIHRoYXQgd2lsbCBjb3ZlciBhbGwgdGlsZXMgdGhlIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMudGlsZVNpemVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucm91bmRab29tXG4gICAgICogQHJldHVybnMge251bWJlcn0gem9vbSBsZXZlbFxuICAgICAqL1xuICAgIGNvdmVyaW5nWm9vbUxldmVsKG9wdGlvbnM6IHtyb3VuZFpvb20/OiBib29sZWFuLCB0aWxlU2l6ZTogbnVtYmVyfSkge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMucm91bmRab29tID8gTWF0aC5yb3VuZCA6IE1hdGguZmxvb3IpKFxuICAgICAgICAgICAgdGhpcy56b29tICsgdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZSAvIG9wdGlvbnMudGlsZVNpemUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFueSBcIndyYXBwZWRcIiBjb3BpZXMgb2YgYSBnaXZlbiB0aWxlIGNvb3JkaW5hdGUgdGhhdCBhcmUgdmlzaWJsZVxuICAgICAqIGluIHRoZSBjdXJyZW50IHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbbmV3IFVud3JhcHBlZFRpbGVJRCgwLCB0aWxlSUQpXTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICBjb25zdCB1dGwgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgMCksIDApO1xuICAgICAgICAgICAgY29uc3QgdXRyID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KHRoaXMud2lkdGgsIDApLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHVibCA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCksIDApO1xuICAgICAgICAgICAgY29uc3QgdWJyID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIHRoaXMuaGVpZ2h0KSwgMCk7XG4gICAgICAgICAgICBjb25zdCB3MCA9IE1hdGguZmxvb3IoTWF0aC5taW4odXRsLmNvbHVtbiwgdXRyLmNvbHVtbiwgdWJsLmNvbHVtbiwgdWJyLmNvbHVtbikpO1xuICAgICAgICAgICAgY29uc3QgdzEgPSBNYXRoLmZsb29yKE1hdGgubWF4KHV0bC5jb2x1bW4sIHV0ci5jb2x1bW4sIHVibC5jb2x1bW4sIHVici5jb2x1bW4pKTtcblxuICAgICAgICAgICAgLy8gQWRkIGFuIGV4dHJhIGNvcHkgb2YgdGhlIHdvcmxkIG9uIGVhY2ggc2lkZSB0byBwcm9wZXJseSByZW5kZXIgSW1hZ2VTb3VyY2VzIGFuZCBDYW52YXNTb3VyY2VzLlxuICAgICAgICAgICAgLy8gQm90aCBzb3VyY2VzIGRyYXcgb3V0c2lkZSB0aGUgdGlsZSBib3VuZGFyaWVzIG9mIHRoZSB0aWxlIHRoYXQgXCJjb250YWlucyB0aGVtXCIgc28gd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYWRkIGV4dHJhIGNvcGllcyBvbiBib3RoIHNpZGVzIGluIGNhc2Ugb2Zmc2NyZWVuIHRpbGVzIG5lZWQgdG8gZHJhdyBpbnRvIG9uLXNjcmVlbiBvbmVzLlxuICAgICAgICAgICAgY29uc3QgZXh0cmFXb3JsZENvcHkgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB3ID0gdzAgLSBleHRyYVdvcmxkQ29weTsgdyA8PSB3MSArIGV4dHJhV29ybGRDb3B5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFVud3JhcHBlZFRpbGVJRCh3LCB0aWxlSUQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgY29vcmRpbmF0ZXMgdGhhdCBjb3VsZCBjb3ZlciB0aGlzIHRyYW5zZm9ybSBmb3IgYSBjb3ZlcmluZ1xuICAgICAqIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbnpvb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5tYXh6b29tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZW5kZXJXb3JsZENvcGllc1xuICAgICAqIEByZXR1cm5zIHtBcnJheTxUaWxlPn0gdGlsZXNcbiAgICAgKi9cbiAgICBjb3ZlcmluZ1RpbGVzKFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0aWxlU2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgbWluem9vbT86IG51bWJlcixcbiAgICAgICAgICAgIG1heHpvb20/OiBudW1iZXIsXG4gICAgICAgICAgICByb3VuZFpvb20/OiBib29sZWFuLFxuICAgICAgICAgICAgcmVwYXJzZU92ZXJzY2FsZWQ/OiBib29sZWFuLFxuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXM/OiBib29sZWFuXG4gICAgICAgIH1cbiAgICApIHtcbiAgICAgICAgbGV0IHogPSB0aGlzLmNvdmVyaW5nWm9vbUxldmVsKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBhY3R1YWxaID0gejtcblxuICAgICAgICBpZiAob3B0aW9ucy5taW56b29tICE9PSB1bmRlZmluZWQgJiYgeiA8IG9wdGlvbnMubWluem9vbSkgcmV0dXJuIFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5tYXh6b29tICE9PSB1bmRlZmluZWQgJiYgeiA+IG9wdGlvbnMubWF4em9vbSkgeiA9IG9wdGlvbnMubWF4em9vbTtcblxuICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuY2VudGVyUG9pbnQsIHopO1xuICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IG5ldyBQb2ludChjZW50ZXJDb29yZC5jb2x1bW4gLSAwLjUsIGNlbnRlckNvb3JkLnJvdyAtIDAuNSk7XG4gICAgICAgIGNvbnN0IGNvcm5lckNvb3JkcyA9IFtcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCAwKSwgeiksXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgMCksIHopLFxuICAgICAgICAgICAgdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSwgeiksXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgdGhpcy5oZWlnaHQpLCB6KVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGlsZUNvdmVyKHosIGNvcm5lckNvb3Jkcywgb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZCA/IGFjdHVhbFogOiB6LCB0aGlzLl9yZW5kZXJXb3JsZENvcGllcylcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBjZW50ZXJQb2ludC5kaXN0KGEuY2Fub25pY2FsKSAtIGNlbnRlclBvaW50LmRpc3QoYi5jYW5vbmljYWwpKTtcbiAgICB9XG5cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLnBpeGVsc1RvR0xVbml0cyA9IFsyIC8gd2lkdGgsIC0yIC8gaGVpZ2h0XTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIGdldCB1bm1vZGlmaWVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdW5tb2RpZmllZDsgfVxuXG4gICAgem9vbVNjYWxlKHpvb206IG51bWJlcikgeyByZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7IH1cbiAgICBzY2FsZVpvb20oc2NhbGU6IG51bWJlcikgeyByZXR1cm4gTWF0aC5sb2coc2NhbGUpIC8gTWF0aC5MTjI7IH1cblxuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIHRoaXMubG5nWChsbmdsYXQubG5nKSxcbiAgICAgICAgICAgIHRoaXMubGF0WShsbmdsYXQubGF0KSk7XG4gICAgfVxuXG4gICAgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExuZ0xhdCB7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0KFxuICAgICAgICAgICAgdGhpcy54TG5nKHBvaW50LngpLFxuICAgICAgICAgICAgdGhpcy55TGF0KHBvaW50LnkpKTtcbiAgICB9XG5cbiAgICBnZXQgeCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5sbmdYKHRoaXMuY2VudGVyLmxuZyk7IH1cbiAgICBnZXQgeSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5sYXRZKHRoaXMuY2VudGVyLmxhdCk7IH1cblxuICAgIGdldCBwb2ludCgpOiBQb2ludCB7IHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpOyB9XG5cbiAgICAvKipcbiAgICAgKiBsb25naXR1ZGUgdG8gYWJzb2x1dGUgeCBjb29yZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHBpeGVsIGNvb3JkaW5hdGVcbiAgICAgKi9cbiAgICBsbmdYKGxuZzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAoMTgwICsgbG5nKSAqIHRoaXMud29ybGRTaXplIC8gMzYwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBsYXRpdHVkZSB0byBhYnNvbHV0ZSB5IGNvb3JkXG4gICAgICogQHJldHVybnMge251bWJlcn0gcGl4ZWwgY29vcmRpbmF0ZVxuICAgICAqL1xuICAgIGxhdFkobGF0OiBudW1iZXIpIHtcbiAgICAgICAgbGF0ID0gY2xhbXAobGF0LCAtdGhpcy5tYXhWYWxpZExhdGl0dWRlLCB0aGlzLm1heFZhbGlkTGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCB5ID0gMTgwIC8gTWF0aC5QSSAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0ICsgbGF0ICogTWF0aC5QSSAvIDM2MCkpO1xuICAgICAgICByZXR1cm4gKDE4MCAtIHkpICogdGhpcy53b3JsZFNpemUgLyAzNjA7XG4gICAgfVxuXG4gICAgeExuZyh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHggKiAzNjAgLyB0aGlzLndvcmxkU2l6ZSAtIDE4MDtcbiAgICB9XG4gICAgeUxhdCh5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeTIgPSAxODAgLSB5ICogMzYwIC8gdGhpcy53b3JsZFNpemU7XG4gICAgICAgIHJldHVybiAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTA7XG4gICAgfVxuXG4gICAgc2V0TG9jYXRpb25BdFBvaW50KGxuZ2xhdDogTG5nTGF0LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gdGhpcy5wb2ludENvb3JkaW5hdGUocG9pbnQpLl9zdWIodGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCkpO1xuICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMubG9jYXRpb25Db29yZGluYXRlKGxuZ2xhdCkuX3N1Yih0cmFuc2xhdGUpKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuY2VudGVyLndyYXAoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbG9jYXRpb24sIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKi9cbiAgICBsb2NhdGlvblBvaW50KGxuZ2xhdDogTG5nTGF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJuIGl0cyBsbmdsYXRcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHNjcmVlbiBwb2ludFxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IGxuZ2xhdCBsb2NhdGlvblxuICAgICAqL1xuICAgIHBvaW50TG9jYXRpb24ocDogUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKHApKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGdlb2dyYXBoaWNhbCBsbmdsYXQsIHJldHVybiBhbiB1bnJvdW5kZWRcbiAgICAgKiBjb29yZGluYXRlIHRoYXQgcmVwcmVzZW50cyBpdCBhdCB0aGlzIHRyYW5zZm9ybSdzIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtMbmdMYXR9IGxuZ2xhdFxuICAgICAqIEByZXR1cm5zIHtDb29yZGluYXRlfVxuICAgICAqL1xuICAgIGxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQ6IExuZ0xhdCkge1xuICAgICAgICByZXR1cm4gbmV3IENvb3JkaW5hdGUoXG4gICAgICAgICAgICB0aGlzLmxuZ1gobG5nbGF0LmxuZykgLyB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy5sYXRZKGxuZ2xhdC5sYXQpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHRoaXMuem9vbSkuem9vbVRvKHRoaXMudGlsZVpvb20pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgQ29vcmRpbmF0ZSwgcmV0dXJuIGl0cyBnZW9ncmFwaGljYWwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZFxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IGxuZ2xhdFxuICAgICAqL1xuICAgIGNvb3JkaW5hdGVMb2NhdGlvbihjb29yZDogQ29vcmRpbmF0ZSkge1xuICAgICAgICBjb25zdCB6b29tZWRDb29yZCA9IGNvb3JkLnpvb21Ubyh0aGlzLnpvb20pO1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChcbiAgICAgICAgICAgIHRoaXMueExuZyh6b29tZWRDb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplKSxcbiAgICAgICAgICAgIHRoaXMueUxhdCh6b29tZWRDb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplKSk7XG4gICAgfVxuXG4gICAgcG9pbnRDb29yZGluYXRlKHA6IFBvaW50LCB6b29tPzogbnVtYmVyKSB7XG4gICAgICAgIGlmICh6b29tID09PSB1bmRlZmluZWQpIHpvb20gPSB0aGlzLnRpbGVab29tO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldFogPSAwO1xuICAgICAgICAvLyBzaW5jZSB3ZSBkb24ndCBrbm93IHRoZSBjb3JyZWN0IHByb2plY3RlZCB6IHZhbHVlIGZvciB0aGUgcG9pbnQsXG4gICAgICAgIC8vIHVucHJvamVjdCB0d28gcG9pbnRzIHRvIGdldCBhIGxpbmUgYW5kIHRoZW4gZmluZCB0aGUgcG9pbnQgb24gdGhhdFxuICAgICAgICAvLyBsaW5lIHdpdGggej0wXG5cbiAgICAgICAgY29uc3QgY29vcmQwID0gW3AueCwgcC55LCAwLCAxXTtcbiAgICAgICAgY29uc3QgY29vcmQxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoY29vcmQwLCBjb29yZDAsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNvb3JkMSwgY29vcmQxLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG5cbiAgICAgICAgY29uc3QgdzAgPSBjb29yZDBbM107XG4gICAgICAgIGNvbnN0IHcxID0gY29vcmQxWzNdO1xuICAgICAgICBjb25zdCB4MCA9IGNvb3JkMFswXSAvIHcwO1xuICAgICAgICBjb25zdCB4MSA9IGNvb3JkMVswXSAvIHcxO1xuICAgICAgICBjb25zdCB5MCA9IGNvb3JkMFsxXSAvIHcwO1xuICAgICAgICBjb25zdCB5MSA9IGNvb3JkMVsxXSAvIHcxO1xuICAgICAgICBjb25zdCB6MCA9IGNvb3JkMFsyXSAvIHcwO1xuICAgICAgICBjb25zdCB6MSA9IGNvb3JkMVsyXSAvIHcxO1xuXG4gICAgICAgIGNvbnN0IHQgPSB6MCA9PT0gejEgPyAwIDogKHRhcmdldFogLSB6MCkgLyAoejEgLSB6MCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb29yZGluYXRlKFxuICAgICAgICAgICAgaW50ZXJwb2xhdGUoeDAsIHgxLCB0KSAvIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZSh5MCwgeTEsIHQpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHRoaXMuem9vbSkuX3pvb21Ubyh6b29tKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvb3JkaW5hdGUsIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKi9cbiAgICBjb29yZGluYXRlUG9pbnQoY29vcmQ6IENvb3JkaW5hdGUpIHtcbiAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8odGhpcy56b29tKTtcbiAgICAgICAgY29uc3QgcCA9IFt6b29tZWRDb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplLCB6b29tZWRDb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplLCAwLCAxXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHAsIHAsIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHBbMF0gLyBwWzNdLCBwWzFdIC8gcFszXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy4gV2hlbiB0aGUgYmVhcmluZyBvciBwaXRjaCBpcyBub24temVybywgdGhlIHZpc2libGUgcmVnaW9uIGlzIG5vdFxuICAgICAqIGFuIGF4aXMtYWxpZ25lZCByZWN0YW5nbGUsIGFuZCB0aGUgcmVzdWx0IGlzIHRoZSBzbWFsbGVzdCBib3VuZHMgdGhhdCBlbmNvbXBhc3NlcyB0aGUgdmlzaWJsZSByZWdpb24uXG4gICAgICovXG4gICAgZ2V0Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKClcbiAgICAgICAgICAgIC5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyBQb2ludCgwLCAwKSkpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQodGhpcy53aWR0aCwgMCkpKVxuICAgICAgICAgICAgLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSkpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQoMCwgdGhpcy5oZWlnaHQpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBnZW9ncmFwaGljYWwgYm91bmRzIHRoZSBtYXAgaXMgY29uc3RyYWluZWQgdG8sIG9yIGBudWxsYCBpZiBub25lIHNldC5cbiAgICAgKi9cbiAgICBnZXRNYXhCb3VuZHMoKTogTG5nTGF0Qm91bmRzIHwgbnVsbCB7XG4gICAgICAgIGlmICghdGhpcy5sYXRSYW5nZSB8fCB0aGlzLmxhdFJhbmdlLmxlbmd0aCAhPT0gMiB8fFxuICAgICAgICAgICAgIXRoaXMubG5nUmFuZ2UgfHwgdGhpcy5sbmdSYW5nZS5sZW5ndGggIT09IDIpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKFt0aGlzLmxuZ1JhbmdlWzBdLCB0aGlzLmxhdFJhbmdlWzBdXSwgW3RoaXMubG5nUmFuZ2VbMV0sIHRoaXMubGF0UmFuZ2VbMV1dKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGNvbnN0cmFpbnRzLlxuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM/OiBMbmdMYXRCb3VuZHMpIHtcbiAgICAgICAgaWYgKGJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5sbmdSYW5nZSA9IFtib3VuZHMuZ2V0V2VzdCgpLCBib3VuZHMuZ2V0RWFzdCgpXTtcbiAgICAgICAgICAgIHRoaXMubGF0UmFuZ2UgPSBbYm91bmRzLmdldFNvdXRoKCksIGJvdW5kcy5nZXROb3J0aCgpXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sbmdSYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhdFJhbmdlID0gWy10aGlzLm1heFZhbGlkTGF0aXR1ZGUsIHRoaXMubWF4VmFsaWRMYXRpdHVkZV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvc01hdHJpeCB0aGF0LCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSwgd291bGQgYmUgdXNlZCB0byBkaXNwbGF5IHRoZSB0aWxlIG9uIGEgbWFwLlxuICAgICAqIEBwYXJhbSB7VW53cmFwcGVkVGlsZUlEfSB1bndyYXBwZWRUaWxlSUQ7XG4gICAgICovXG4gICAgY2FsY3VsYXRlUG9zTWF0cml4KHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlELCBhbGlnbmVkOiBib29sZWFuID0gZmFsc2UpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBwb3NNYXRyaXhLZXkgPSB1bndyYXBwZWRUaWxlSUQua2V5O1xuICAgICAgICBjb25zdCBjYWNoZSA9IGFsaWduZWQgPyB0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUgOiB0aGlzLl9wb3NNYXRyaXhDYWNoZTtcbiAgICAgICAgaWYgKGNhY2hlW3Bvc01hdHJpeEtleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtwb3NNYXRyaXhLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2Fub25pY2FsID0gdW53cmFwcGVkVGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLndvcmxkU2l6ZSAvIHRoaXMuem9vbVNjYWxlKGNhbm9uaWNhbC56KTtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkWCA9IGNhbm9uaWNhbC54ICsgTWF0aC5wb3coMiwgY2Fub25pY2FsLnopICogdW53cmFwcGVkVGlsZUlELndyYXA7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHBvc01hdHJpeCwgcG9zTWF0cml4LCBbdW53cmFwcGVkWCAqIHNjYWxlLCBjYW5vbmljYWwueSAqIHNjYWxlLCAwXSk7XG4gICAgICAgIG1hdDQuc2NhbGUocG9zTWF0cml4LCBwb3NNYXRyaXgsIFtzY2FsZSAvIEVYVEVOVCwgc2NhbGUgLyBFWFRFTlQsIDFdKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShwb3NNYXRyaXgsIGFsaWduZWQgPyB0aGlzLmFsaWduZWRQcm9qTWF0cml4IDogdGhpcy5wcm9qTWF0cml4LCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIGNhY2hlW3Bvc01hdHJpeEtleV0gPSBuZXcgRmxvYXQzMkFycmF5KHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiBjYWNoZVtwb3NNYXRyaXhLZXldO1xuICAgIH1cblxuICAgIGN1c3RvbUxheWVyTWF0cml4KCk6IEFycmF5PG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpO1xuICAgIH1cblxuICAgIF9jb25zdHJhaW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5jZW50ZXIgfHwgIXRoaXMud2lkdGggfHwgIXRoaXMuaGVpZ2h0IHx8IHRoaXMuX2NvbnN0cmFpbmluZykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IHRydWU7XG5cbiAgICAgICAgbGV0IG1pblkgPSAtOTA7XG4gICAgICAgIGxldCBtYXhZID0gOTA7XG4gICAgICAgIGxldCBtaW5YID0gLTE4MDtcbiAgICAgICAgbGV0IG1heFggPSAxODA7XG4gICAgICAgIGxldCBzeSwgc3gsIHgyLCB5MjtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZSxcbiAgICAgICAgICAgIHVubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuXG4gICAgICAgIGlmICh0aGlzLmxhdFJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBsYXRSYW5nZSA9IHRoaXMubGF0UmFuZ2U7XG4gICAgICAgICAgICBtaW5ZID0gdGhpcy5sYXRZKGxhdFJhbmdlWzFdKTtcbiAgICAgICAgICAgIG1heFkgPSB0aGlzLmxhdFkobGF0UmFuZ2VbMF0pO1xuICAgICAgICAgICAgc3kgPSBtYXhZIC0gbWluWSA8IHNpemUueSA/IHNpemUueSAvIChtYXhZIC0gbWluWSkgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubG5nUmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxuZ1JhbmdlID0gdGhpcy5sbmdSYW5nZTtcbiAgICAgICAgICAgIG1pblggPSB0aGlzLmxuZ1gobG5nUmFuZ2VbMF0pO1xuICAgICAgICAgICAgbWF4WCA9IHRoaXMubG5nWChsbmdSYW5nZVsxXSk7XG4gICAgICAgICAgICBzeCA9IG1heFggLSBtaW5YIDwgc2l6ZS54ID8gc2l6ZS54IC8gKG1heFggLSBtaW5YKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBob3cgbXVjaCB0aGUgbWFwIHNob3VsZCBzY2FsZSB0byBmaXQgdGhlIHNjcmVlbiBpbnRvIGdpdmVuIGxhdGl0dWRlL2xvbmdpdHVkZSByYW5nZXNcbiAgICAgICAgY29uc3QgcyA9IE1hdGgubWF4KHN4IHx8IDAsIHN5IHx8IDApO1xuXG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMudW5wcm9qZWN0KG5ldyBQb2ludChcbiAgICAgICAgICAgICAgICBzeCA/IChtYXhYICsgbWluWCkgLyAyIDogdGhpcy54LFxuICAgICAgICAgICAgICAgIHN5ID8gKG1heFkgKyBtaW5ZKSAvIDIgOiB0aGlzLnkpKTtcbiAgICAgICAgICAgIHRoaXMuem9vbSArPSB0aGlzLnNjYWxlWm9vbShzKTtcbiAgICAgICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB1bm1vZGlmaWVkO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sYXRSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueSxcbiAgICAgICAgICAgICAgICBoMiA9IHNpemUueSAvIDI7XG5cbiAgICAgICAgICAgIGlmICh5IC0gaDIgPCBtaW5ZKSB5MiA9IG1pblkgKyBoMjtcbiAgICAgICAgICAgIGlmICh5ICsgaDIgPiBtYXhZKSB5MiA9IG1heFkgLSBoMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxuZ1JhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy54LFxuICAgICAgICAgICAgICAgIHcyID0gc2l6ZS54IC8gMjtcblxuICAgICAgICAgICAgaWYgKHggLSB3MiA8IG1pblgpIHgyID0gbWluWCArIHcyO1xuICAgICAgICAgICAgaWYgKHggKyB3MiA+IG1heFgpIHgyID0gbWF4WCAtIHcyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuIHRoZSBtYXAgaWYgdGhlIHNjcmVlbiBnb2VzIG9mZiB0aGUgcmFuZ2VcbiAgICAgICAgaWYgKHgyICE9PSB1bmRlZmluZWQgfHwgeTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLnVucHJvamVjdChuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgeDIgIT09IHVuZGVmaW5lZCA/IHgyIDogdGhpcy54LFxuICAgICAgICAgICAgICAgIHkyICE9PSB1bmRlZmluZWQgPyB5MiA6IHRoaXMueSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHVubW9kaWZpZWQ7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9jYWxjTWF0cmljZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgPSAwLjUgLyBNYXRoLnRhbih0aGlzLl9mb3YgLyAyKSAqIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBwb2ludCBbd2lkdGgvMiwgaGVpZ2h0LzJdIHRvIHRoZVxuICAgICAgICAvLyBjZW50ZXIgdG9wIHBvaW50IFt3aWR0aC8yLCAwXSBpbiBaIHVuaXRzLCB1c2luZyB0aGUgbGF3IG9mIHNpbmVzLlxuICAgICAgICAvLyAxIFogdW5pdCBpcyBlcXVpdmFsZW50IHRvIDEgaG9yaXpvbnRhbCBweCBhdCB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAgICAgLy8gKHRoZSBkaXN0YW5jZSBiZXR3ZWVuW3dpZHRoLzIsIGhlaWdodC8yXSBhbmQgW3dpZHRoLzIgKyAxLCBoZWlnaHQvMl0pXG4gICAgICAgIGNvbnN0IGhhbGZGb3YgPSB0aGlzLl9mb3YgLyAyO1xuICAgICAgICBjb25zdCBncm91bmRBbmdsZSA9IE1hdGguUEkgLyAyICsgdGhpcy5fcGl0Y2g7XG4gICAgICAgIGNvbnN0IHRvcEhhbGZTdXJmYWNlRGlzdGFuY2UgPSBNYXRoLnNpbihoYWxmRm92KSAqIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvIE1hdGguc2luKE1hdGguUEkgLSBncm91bmRBbmdsZSAtIGhhbGZGb3YpO1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB6IGRpc3RhbmNlIG9mIHRoZSBmYXJ0aGVzdCBmcmFnbWVudCB0aGF0IHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgICAgY29uc3QgZnVydGhlc3REaXN0YW5jZSA9IE1hdGguY29zKE1hdGguUEkgLyAyIC0gdGhpcy5fcGl0Y2gpICogdG9wSGFsZlN1cmZhY2VEaXN0YW5jZSArIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcbiAgICAgICAgLy8gQWRkIGEgYml0IGV4dHJhIHRvIGF2b2lkIHByZWNpc2lvbiBwcm9ibGVtcyB3aGVuIGEgZnJhZ21lbnQncyBkaXN0YW5jZSBpcyBleGFjdGx5IGBmdXJ0aGVzdERpc3RhbmNlYFxuICAgICAgICBjb25zdCBmYXJaID0gZnVydGhlc3REaXN0YW5jZSAqIDEuMDE7XG5cbiAgICAgICAgLy8gbWF0cml4IGZvciBjb252ZXJzaW9uIGZyb20gbG9jYXRpb24gdG8gR0wgY29vcmRpbmF0ZXMgKC0xIC4uIDEpXG4gICAgICAgIGxldCBtID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUobSwgdGhpcy5fZm92LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIDEsIGZhclopO1xuXG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFswLCAwLCAtdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlXSk7XG4gICAgICAgIG1hdDQucm90YXRlWChtLCBtLCB0aGlzLl9waXRjaCk7XG4gICAgICAgIG1hdDQucm90YXRlWihtLCBtLCB0aGlzLmFuZ2xlKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWy14LCAteSwgMF0pO1xuXG4gICAgICAgIC8vIFRoZSBtZXJjYXRvck1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gcG9pbnRzIGZyb20gbWVyY2F0b3IgY29vcmRpbmF0ZXNcbiAgICAgICAgLy8gKFswLCAwXSBudywgWzEsIDFdIHNlKSB0byBHTCBjb29yZGluYXRlcy5cbiAgICAgICAgdGhpcy5tZXJjYXRvck1hdHJpeCA9IG1hdDQuc2NhbGUoW10sIG0sIFt0aGlzLndvcmxkU2l6ZSwgdGhpcy53b3JsZFNpemUsIHRoaXMud29ybGRTaXplXSk7XG5cbiAgICAgICAgLy8gc2NhbGUgdmVydGljYWxseSB0byBtZXRlcnMgcGVyIHBpeGVsIChpbnZlcnNlIG9mIGdyb3VuZCByZXNvbHV0aW9uKTpcbiAgICAgICAgLy8gd29ybGRTaXplIC8gKGNpcmN1bWZlcmVuY2VPZkVhcnRoICogY29zKGxhdCAqIM+AIC8gMTgwKSlcbiAgICAgICAgY29uc3QgdmVydGljYWxTY2FsZSA9IHRoaXMud29ybGRTaXplIC8gKDIgKiBNYXRoLlBJICogNjM3ODEzNyAqIE1hdGguYWJzKE1hdGguY29zKHRoaXMuY2VudGVyLmxhdCAqIChNYXRoLlBJIC8gMTgwKSkpKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSwgMSwgdmVydGljYWxTY2FsZSwgMV0pO1xuXG4gICAgICAgIHRoaXMucHJvak1hdHJpeCA9IG07XG5cbiAgICAgICAgLy8gTWFrZSBhIHNlY29uZCBwcm9qZWN0aW9uIG1hdHJpeCB0aGF0IGlzIGFsaWduZWQgdG8gYSBwaXhlbCBncmlkIGZvciByZW5kZXJpbmcgcmFzdGVyIHRpbGVzLlxuICAgICAgICAvLyBXZSdyZSByb3VuZGluZyB0aGUgKGZsb2F0aW5nIHBvaW50KSB4L3kgdmFsdWVzIHRvIGFjaGlldmUgdG8gYXZvaWQgcmVuZGVyaW5nIHJhc3RlciBpbWFnZXMgdG8gZnJhY3Rpb25hbFxuICAgICAgICAvLyBjb29yZGluYXRlcy4gQWRkaXRpb25hbGx5LCB3ZSBhZGp1c3QgYnkgaGFsZiBhIHBpeGVsIGluIGVpdGhlciBkaXJlY3Rpb24gaW4gY2FzZSB0aGF0IHZpZXdwb3J0IGRpbWVuc2lvblxuICAgICAgICAvLyBpcyBhbiBvZGQgaW50ZWdlciB0byBwcmVzZXJ2ZSByZW5kZXJpbmcgdG8gdGhlIHBpeGVsIGdyaWQuIFdlJ3JlIHJvdGF0aW5nIHRoaXMgc2hpZnQgYmFzZWQgb24gdGhlIGFuZ2xlXG4gICAgICAgIC8vIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBzbyB0aGF0IDDCsCwgOTDCsCwgMTgwwrAsIGFuZCAyNzDCsCByYXN0ZXJzIGFyZSBjcmlzcCwgYW5kIGFkanVzdCB0aGUgc2hpZnQgc28gdGhhdFxuICAgICAgICAvLyBpdCBpcyBhbHdheXMgPD0gMC41IHBpeGVscy5cbiAgICAgICAgY29uc3QgeFNoaWZ0ID0gKHRoaXMud2lkdGggJSAyKSAvIDIsIHlTaGlmdCA9ICh0aGlzLmhlaWdodCAlIDIpIC8gMixcbiAgICAgICAgICAgIGFuZ2xlQ29zID0gTWF0aC5jb3ModGhpcy5hbmdsZSksIGFuZ2xlU2luID0gTWF0aC5zaW4odGhpcy5hbmdsZSksXG4gICAgICAgICAgICBkeCA9IHggLSBNYXRoLnJvdW5kKHgpICsgYW5nbGVDb3MgKiB4U2hpZnQgKyBhbmdsZVNpbiAqIHlTaGlmdCxcbiAgICAgICAgICAgIGR5ID0geSAtIE1hdGgucm91bmQoeSkgKyBhbmdsZUNvcyAqIHlTaGlmdCArIGFuZ2xlU2luICogeFNoaWZ0O1xuICAgICAgICBjb25zdCBhbGlnbmVkTSA9IG5ldyBGbG9hdDY0QXJyYXkobSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKGFsaWduZWRNLCBhbGlnbmVkTSwgWyBkeCA+IDAuNSA/IGR4IC0gMSA6IGR4LCBkeSA+IDAuNSA/IGR5IC0gMSA6IGR5LCAwIF0pO1xuICAgICAgICB0aGlzLmFsaWduZWRQcm9qTWF0cml4ID0gYWxpZ25lZE07XG5cbiAgICAgICAgLy8gbWF0cml4IGZvciBjb252ZXJzaW9uIGZyb20gbG9jYXRpb24gdG8gc2NyZWVuIGNvb3JkaW5hdGVzXG4gICAgICAgIG0gPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFt0aGlzLndpZHRoIC8gMiwgLXRoaXMuaGVpZ2h0IC8gMiwgMV0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbMSwgLTEsIDBdKTtcbiAgICAgICAgdGhpcy5waXhlbE1hdHJpeCA9IG1hdDQubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksIG0sIHRoaXMucHJvak1hdHJpeCk7XG5cbiAgICAgICAgLy8gaW52ZXJzZSBtYXRyaXggZm9yIGNvbnZlcnNpb24gZnJvbSBzY3JlZW4gY29vcmRpbmFlcyB0byBsb2NhdGlvblxuICAgICAgICBtID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICBpZiAoIW0pIHRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSA9IG07XG5cbiAgICAgICAgdGhpcy5fcG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlID0ge307XG4gICAgfVxuXG4gICAgbWF4UGl0Y2hTY2FsZUZhY3RvcigpIHtcbiAgICAgICAgLy8gY2FsY01hdHJpY2VzIGhhc24ndCBydW4geWV0XG4gICAgICAgIGlmICghdGhpcy5waXhlbE1hdHJpeEludmVyc2UpIHJldHVybiAxO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApKS56b29tVG8odGhpcy56b29tKTtcbiAgICAgICAgY29uc3QgcCA9IFtjb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplLCBjb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplLCAwLCAxXTtcbiAgICAgICAgY29uc3QgdG9wUG9pbnQgPSB2ZWM0LnRyYW5zZm9ybU1hdDQocCwgcCwgdGhpcy5waXhlbE1hdHJpeCk7XG4gICAgICAgIHJldHVybiB0b3BQb2ludFszXSAvIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zZm9ybTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vdXRpbC90aHJvdHRsZSc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5cbi8qXG4gKiBBZGRzIHRoZSBtYXAncyBwb3NpdGlvbiB0byBpdHMgcGFnZSdzIGxvY2F0aW9uIGhhc2guXG4gKiBQYXNzZWQgYXMgYW4gb3B0aW9uIHRvIHRoZSBtYXAgb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAqL1xuY2xhc3MgSGFzaCB7XG4gICAgX21hcDogTWFwO1xuICAgIF91cGRhdGVIYXNoOiAoKSA9PiBUaW1lb3V0SUQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uSGFzaENoYW5nZScsXG4gICAgICAgICAgICAnX3VwZGF0ZUhhc2gnXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lc24ndCBhbGxvdyB1cGRhdGluZyB0aGUgaGFzaCBtb3JlIHRoYW4gMTAwIHRpbWVzIHBlciAzMCBzZWNvbmRzLlxuICAgICAgICB0aGlzLl91cGRhdGVIYXNoID0gdGhyb3R0bGUodGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksIDMwICogMTAwMCAvIDEwMCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBNYXAgZWxlbWVudCB0byBsaXN0ZW4gZm9yIGNvb3JkaW5hdGUgY2hhbmdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX21hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUhhc2gpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlbW92ZXMgaGFzaFxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVIYXNoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SGFzaFN0cmluZyhtYXBGZWVkYmFjaz86IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpLFxuICAgICAgICAgICAgem9vbSA9IE1hdGgucm91bmQodGhpcy5fbWFwLmdldFpvb20oKSAqIDEwMCkgLyAxMDAsXG4gICAgICAgICAgICAvLyBkZXJpdmVkIGZyb20gZXF1YXRpb246IDUxMnB4ICogMl56IC8gMzYwIC8gMTBeZCA8IDAuNXB4XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBNYXRoLmNlaWwoKHpvb20gKiBNYXRoLkxOMiArIE1hdGgubG9nKDUxMiAvIDM2MCAvIDAuNSkpIC8gTWF0aC5MTjEwKSxcbiAgICAgICAgICAgIG0gPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKSxcbiAgICAgICAgICAgIGxuZyA9IE1hdGgucm91bmQoY2VudGVyLmxuZyAqIG0pIC8gbSxcbiAgICAgICAgICAgIGxhdCA9IE1hdGgucm91bmQoY2VudGVyLmxhdCAqIG0pIC8gbSxcbiAgICAgICAgICAgIGJlYXJpbmcgPSB0aGlzLl9tYXAuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgcGl0Y2ggPSB0aGlzLl9tYXAuZ2V0UGl0Y2goKTtcbiAgICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgICAgaWYgKG1hcEZlZWRiYWNrKSB7XG4gICAgICAgICAgICAvLyBuZXcgbWFwIGZlZWRiYWNrIHNpdGUgaGFzIHNvbWUgY29uc3RyYWludHMgdGhhdCBkb24ndCBhbGxvd1xuICAgICAgICAgICAgLy8gdXMgdG8gdXNlIHRoZSBzYW1lIGhhc2ggZm9ybWF0IGFzIHdlIGRvIGZvciB0aGUgTWFwIGhhc2ggb3B0aW9uLlxuICAgICAgICAgICAgaGFzaCArPSBgIy8ke2xuZ30vJHtsYXR9LyR7em9vbX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzaCArPSBgIyR7em9vbX0vJHtsYXR9LyR7bG5nfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVhcmluZyB8fCBwaXRjaCkgaGFzaCArPSAoYC8ke01hdGgucm91bmQoYmVhcmluZyAqIDEwKSAvIDEwfWApO1xuICAgICAgICBpZiAocGl0Y2gpIGhhc2ggKz0gKGAvJHtNYXRoLnJvdW5kKHBpdGNoKX1gKTtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgX29uSGFzaENoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgbG9jID0gd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xuICAgICAgICBpZiAobG9jLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuanVtcFRvKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFsrbG9jWzJdLCArbG9jWzFdXSxcbiAgICAgICAgICAgICAgICB6b29tOiArbG9jWzBdLFxuICAgICAgICAgICAgICAgIGJlYXJpbmc6ICsobG9jWzNdIHx8IDApLFxuICAgICAgICAgICAgICAgIHBpdGNoOiArKGxvY1s0XSB8fCAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuZ2V0SGFzaFN0cmluZygpO1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luZG93Lmhpc3Rvcnkuc3RhdGUsICcnLCBoYXNoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFzaDtcbiIsIi8vIEBmbG93XG5cbi8qKlxuICogVGhyb3R0bGUgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHJ1biBhdCBtb3N0IGV2ZXJ5IGBwZXJpb2RgIG1pbGxpc2Vjb25kcy5cbiBUaHJvdHRsZSB0aGUgZ2l2ZW4gZnVuY3Rpb24gdG8gcnVuIGF0IG1vc3QgZXZlcnkgcGVyaW9kIG1pbGxpc2Vjb25kcy5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuOiAoKSA9PiB2b2lkLCB0aW1lOiBudW1iZXIpOiAoKSA9PiBUaW1lb3V0SUQge1xuICAgIGxldCBwZW5kaW5nID0gZmFsc2U7XG4gICAgbGV0IHRpbWVySWQ6IFRpbWVvdXRJRCA9ICgwOiBhbnkpO1xuXG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICAgIHRpbWVySWQgPSAoMDogYW55KTtcbiAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChsYXRlciwgdGltZSk7XG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICghdGltZXJJZCkge1xuICAgICAgICAgICAgbGF0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXJJZDtcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgdHlwZSBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHR5cGUgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5cbi8qKlxuICogYE1hcE1vdXNlRXZlbnRgIGlzIHRoZSBldmVudCB0eXBlIGZvciBtb3VzZS1yZWxhdGVkIG1hcCBldmVudHMuXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICovXG5leHBvcnQgY2xhc3MgTWFwTW91c2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKi9cbiAgICB0eXBlOiAnbW91c2Vkb3duJ1xuICAgICAgICB8ICdtb3VzZXVwJ1xuICAgICAgICB8ICdjbGljaydcbiAgICAgICAgfCAnZGJsY2xpY2snXG4gICAgICAgIHwgJ21vdXNlbW92ZSdcbiAgICAgICAgfCAnbW91c2VvdmVyJ1xuICAgICAgICB8ICdtb3VzZWVudGVyJ1xuICAgICAgICB8ICdtb3VzZWxlYXZlJ1xuICAgICAgICB8ICdtb3VzZW92ZXInXG4gICAgICAgIHwgJ21vdXNlb3V0J1xuICAgICAgICB8ICdjb250ZXh0bWVudSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE1hcGAgb2JqZWN0IHRoYXQgZmlyZWQgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIHRhcmdldDogTWFwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBldmVudCB3aGljaCBjYXVzZWQgdGhlIG1hcCBldmVudC5cbiAgICAgKi9cbiAgICBvcmlnaW5hbEV2ZW50OiBNb3VzZUV2ZW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBjdXJzb3IsIHJlbGF0aXZlIHRvIHRoZSBtYXAgYW5kIG1lYXN1cmVkIGZyb20gdGhlIHRvcCBsZWZ0IGNvcm5lci5cbiAgICAgKi9cbiAgICBwb2ludDogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSBtb3VzZSBjdXJzb3IuXG4gICAgICovXG4gICAgbG5nTGF0OiBMbmdMYXQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBtYXAgYmVoYXZpb3JzOlxuICAgICAqXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn1cbiAgICAgKiAgICogT24gYG1vdXNlZG93bmAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfVxuICAgICAqICAgKiBPbiBgbW91c2Vkb3duYCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9XG4gICAgICogICAqIE9uIGBkYmxjbGlja2AgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9XG4gICAgICpcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIGBwcmV2ZW50RGVmYXVsdGAgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudCwgZGF0YTogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBET00ubW91c2VQb3MobWFwLmdldENhbnZhc0NvbnRhaW5lcigpLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgY29uc3QgbG5nTGF0ID0gbWFwLnVucHJvamVjdChwb2ludCk7XG4gICAgICAgIHN1cGVyKHR5cGUsIGV4dGVuZCh7IHBvaW50LCBsbmdMYXQsIG9yaWdpbmFsRXZlbnQgfSwgZGF0YSkpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbWFwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBgTWFwVG91Y2hFdmVudGAgaXMgdGhlIGV2ZW50IHR5cGUgZm9yIHRvdWNoLXJlbGF0ZWQgbWFwIGV2ZW50cy5cbiAqIEBleHRlbmRzIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBUb3VjaEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAqL1xuICAgIHR5cGU6ICd0b3VjaHN0YXJ0J1xuICAgICAgICB8ICd0b3VjaGVuZCdcbiAgICAgICAgfCAndG91Y2hjYW5jZWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0YXJnZXQ6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogVG91Y2hFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9uIHRoZSBtYXAgb2YgdGhlIGNlbnRlciBvZiB0aGUgdG91Y2ggZXZlbnQgcG9pbnRzLlxuICAgICAqL1xuICAgIGxuZ0xhdDogTG5nTGF0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHRvdWNoIGV2ZW50IHBvaW50cywgcmVsYXRpdmUgdG8gdGhlIG1hcCBhbmQgbWVhc3VyZWQgZnJvbSB0aGUgdG9wIGxlZnRcbiAgICAgKiBjb3JuZXIuXG4gICAgICovXG4gICAgcG9pbnQ6IFBvaW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIHBpeGVsIGNvb3JkaW5hdGVzIGNvcnJlc3BvbmRpbmcgdG8gYVxuICAgICAqIFt0b3VjaCBldmVudCdzIGB0b3VjaGVzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnQvdG91Y2hlcykgcHJvcGVydHkuXG4gICAgICovXG4gICAgcG9pbnRzOiBBcnJheTxQb2ludD47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9ucyBvbiB0aGUgbWFwIGNvcnJlc3BvbmRpbmcgdG8gYVxuICAgICAqIFt0b3VjaCBldmVudCdzIGB0b3VjaGVzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnQvdG91Y2hlcykgcHJvcGVydHkuXG4gICAgICovXG4gICAgbG5nTGF0czogQXJyYXk8TG5nTGF0PjtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIGZvbGxvd2luZyBkZWZhdWx0IG1hcCBiZWhhdmlvcnM6XG4gICAgICpcbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn1cbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyfVxuICAgICAqXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gRE9NLnRvdWNoUG9zKG1hcC5nZXRDYW52YXNDb250YWluZXIoKSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdHMgPSBwb2ludHMubWFwKCh0KSA9PiBtYXAudW5wcm9qZWN0KHQpKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMucmVkdWNlKChwcmV2LCBjdXJyLCBpLCBhcnIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmFkZChjdXJyLmRpdihhcnIubGVuZ3RoKSk7XG4gICAgICAgIH0sIG5ldyBQb2ludCgwLCAwKSk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdCA9IG1hcC51bnByb2plY3QocG9pbnQpO1xuICAgICAgICBzdXBlcih0eXBlLCB7IHBvaW50cywgcG9pbnQsIGxuZ0xhdHMsIGxuZ0xhdCwgb3JpZ2luYWxFdmVudCB9KTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIGBNYXBXaGVlbEV2ZW50YCBpcyB0aGUgZXZlbnQgdHlwZSBmb3IgdGhlIGB3aGVlbGAgbWFwIGV2ZW50LlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFdoZWVsRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICovXG4gICAgdHlwZTogJ3doZWVsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgdGFyZ2V0OiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IFdoZWVsRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyfS5cbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIGBwcmV2ZW50RGVmYXVsdGAgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBzdXBlcih0eXBlLCB7IG9yaWdpbmFsRXZlbnQgfSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwQm94Wm9vbUV2ZW50XG4gKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqIEBwcm9wZXJ0eSB7TG5nTGF0Qm91bmRzfSBib3hab29tQm91bmRzIFRoZSBib3VuZGluZyBib3ggb2YgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAqICAgVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IHByb3ZpZGVkIGZvciBgYm94em9vbWVuZGAgZXZlbnRzLlxuICovXG5leHBvcnQgdHlwZSBNYXBCb3hab29tRXZlbnQgPSB7XG4gICAgdHlwZTogJ2JveHpvb21zdGFydCdcbiAgICAgICAgfCAnYm94em9vbWVuZCdcbiAgICAgICAgfCAnYm94em9vbWNhbmNlbCcsXG4gICAgbWFwOiBNYXAsXG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudCxcbiAgICBib3hab29tQm91bmRzOiBMbmdMYXRCb3VuZHNcbn07XG5cbi8qKlxuICogQSBgTWFwRGF0YUV2ZW50YCBvYmplY3QgaXMgZW1pdHRlZCB3aXRoIHRoZSB7QGxpbmsgTWFwLmV2ZW50OmRhdGF9XG4gKiBhbmQge0BsaW5rIE1hcC5ldmVudDpkYXRhbG9hZGluZ30gZXZlbnRzLiBQb3NzaWJsZSB2YWx1ZXMgZm9yXG4gKiBgZGF0YVR5cGVgcyBhcmU6XG4gKlxuICogLSBgJ3NvdXJjZSdgOiBUaGUgbm9uLXRpbGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggYW55IHNvdXJjZVxuICogLSBgJ3N0eWxlJ2A6IFRoZSBbc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSB1c2VkIGJ5IHRoZSBtYXBcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBEYXRhRXZlbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGFUeXBlIFRoZSB0eXBlIG9mIGRhdGEgdGhhdCBoYXMgY2hhbmdlZC4gT25lIG9mIGAnc291cmNlJ2AsIGAnc3R5bGUnYC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzU291cmNlTG9hZGVkXSBUcnVlIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZCB0aGUgc291cmNlIGhhcyBubyBvdXRzdGFuZGluZyBuZXR3b3JrIHJlcXVlc3RzLlxuICogQHByb3BlcnR5IHtPYmplY3R9IFtzb3VyY2VdIFRoZSBbc3R5bGUgc3BlYyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc291cmNlRGF0YVR5cGVdIEluY2x1ZGVkIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZCB0aGUgZXZlbnQgc2lnbmFsc1xuICogdGhhdCBpbnRlcm5hbCBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkIG9yIGNoYW5nZWQuIFBvc3NpYmxlIHZhbHVlcyBhcmUgYG1ldGFkYXRhYCBhbmQgYGNvbnRlbnRgLlxuICogQHByb3BlcnR5IHtPYmplY3R9IFt0aWxlXSBUaGUgdGlsZSBiZWluZyBsb2FkZWQgb3IgY2hhbmdlZCwgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kXG4gKiB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0byBsb2FkaW5nIG9mIGEgdGlsZS5cbiAqIEBwcm9wZXJ0eSB7Q29vcmRpbmF0ZX0gW2Nvb3JkXSBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgdGlsZSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYCBhbmRcbiAqIHRoZSBldmVudCBpcyByZWxhdGVkIHRvIGxvYWRpbmcgb2YgYSB0aWxlLlxuICovXG5leHBvcnQgdHlwZSBNYXBEYXRhRXZlbnQgPSB7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGRhdGFUeXBlOiBzdHJpbmdcbn07XG5cbmV4cG9ydCB0eXBlIE1hcENvbnRleHRFdmVudCA9IHtcbiAgICB0eXBlOiAnd2ViZ2xjb250ZXh0bG9zdCcgfCAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLFxuICAgIG9yaWdpbmFsRXZlbnQ6IFdlYkdMQ29udGV4dEV2ZW50XG59XG5cbmV4cG9ydCB0eXBlIE1hcEV2ZW50ID1cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2Vkb3duXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAnbW91c2Vkb3duJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyByZWxlYXNlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZXVwXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAnbW91c2V1cCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VvdmVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtHZXQgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbW91c2UtcG9zaXRpb24vKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB1bmRlciB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW1vdmUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIGF0IHRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICB8ICdjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgY2xpY2tlZCB0d2ljZSBhdCB0aGUgc2FtZSBwb2ludCBvbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IGRibGNsaWNrXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RibGNsaWNrJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBlbnRlcnMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIgZnJvbVxuICAgICAqIG91dHNpZGUgdGhhdCBsYXllciBvciBvdXRzaWRlIHRoZSBtYXAgY2FudmFzLiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB2aWEgdGhlIHRocmVlLWFyZ3VtZW50XG4gICAgICogdmVyc2lvbiBvZiB7QGxpbmsgTWFwI29ufSwgd2hlcmUgdGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZpZXMgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VlbnRlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3VzZWVudGVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIsIG9yIGxlYXZlc1xuICAgICAqIHRoZSBtYXAgY2FudmFzLiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB2aWEgdGhlIHRocmVlLWFyZ3VtZW50IHZlcnNpb24gb2Yge0BsaW5rIE1hcCNvbn0sXG4gICAgICogd2hlcmUgdGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZpZXMgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VsZWF2ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWxlYXZlJ1xuXG4gICAgLyoqXG4gICAgICogU3lub255bSBmb3IgYG1vdXNlZW50ZXJgLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlb3ZlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnQgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGxlYXZlcyB0aGUgbWFwJ3MgY2FudmFzLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlb3V0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdXNlb3V0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgcmlnaHQgYnV0dG9uIG9mIHRoZSBtb3VzZSBpcyBjbGlja2VkIG9yIHRoZSBjb250ZXh0IG1lbnUga2V5IGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY29udGV4dG1lbnVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnY29udGV4dG1lbnUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B3aGVlbGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy93aGVlbCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHdoZWVsXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwV2hlZWxFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3doZWVsJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hzdGFydGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaHN0YXJ0KSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaHN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hlbmRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hlbmQpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaGVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaGVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNobW92ZWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaG1vdmUpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaG1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAndG91Y2htb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hjYW5jZWxgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hjYW5jZWwpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaGNhbmNlbFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaGNhbmNlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIHRoZSBtYXAgYmVnaW5zIGEgdHJhbnNpdGlvbiBmcm9tIG9uZVxuICAgICAqIHZpZXcgdG8gYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNqdW1wVG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdmVzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW92ZXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbiBmcm9tIG9uZSB2aWV3IHRvXG4gICAgICogYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgdGhlIG1hcCBjb21wbGV0ZXMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICogdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICogQHNlZSBbUGxheSBtYXAgbG9jYXRpb25zIGFzIGEgc2xpZGVzaG93XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICogQHNlZSBbRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKi9cbiAgICB8ICdtb3ZlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICovXG4gICAgfCAnZHJhZ3N0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RyYWcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7b3JpZ2luYWxFdmVudDogRHJhZ0V2ZW50fX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RyYWdlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSB0aGUgbWFwIGJlZ2lucyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyLFxuICAgICAqIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHpvb21zdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnem9vbXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbiBmcm9tIG9uZSB6b29tIGxldmVsIHRvIGFub3RoZXIsXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbVXBkYXRlIGEgY2hvcm9wbGV0aCBsYXllciBieSB6b29tIGxldmVsXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VwZGF0aW5nLWNob3JvcGxldGgvKVxuICAgICAqL1xuICAgIHwgJ3pvb20nXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGFmdGVyIHRoZSBtYXAgY29tcGxldGVzIGEgdHJhbnNpdGlvbiBmcm9tIG9uZSB6b29tIGxldmVsIHRvIGFub3RoZXIsXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnem9vbWVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gc3RhcnRzLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAncm90YXRlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdyb3RhdGUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IHJvdGF0ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAncm90YXRlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBiZWdpbnMgYSBjaGFuZ2UgYXNcbiAgICAgKiB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfSAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3BpdGNoc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGNoYW5nZXMgYXMuXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBFdmVudERhdGF9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdwaXRjaCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgZmluaXNoZXMgY2hhbmdpbmcgYXNcbiAgICAgKiB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaGVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3BpdGNoZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21zdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEJveFpvb21FdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2JveHpvb21zdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gZW5kcy4gIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21lbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge01hcEJveFpvb21FdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2JveHpvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24sIG9yIHdoZW4gdGhlIGJvdW5kaW5nIGJveCBkb2VzIG5vdCBtZWV0IHRoZSBtaW5pbXVtIHNpemUgdGhyZXNob2xkLlxuICAgICAqIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21jYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBCb3hab29tRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdib3h6b29tY2FuY2VsJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIG1hcCBoYXMgYmVlbiByZXNpemVkLlxuICAgICAqXG4gICAgICogQGV2ZW50IHJlc2l6ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICdyZXNpemUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIGxvc3QuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2ViZ2xjb250ZXh0bG9zdFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICd3ZWJnbGNvbnRleHRsb3N0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyByZXN0b3JlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCB3ZWJnbGNvbnRleHRyZXN0b3JlZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICd3ZWJnbGNvbnRleHRyZXN0b3JlZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIGFsbCBuZWNlc3NhcnkgcmVzb3VyY2VzIGhhdmUgYmVlbiBkb3dubG9hZGVkXG4gICAgICogYW5kIHRoZSBmaXJzdCB2aXN1YWxseSBjb21wbGV0ZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBoYXMgb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbG9hZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBzZWUgW0RyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtBZGQgbGl2ZSByZWFsdGltZSBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBbQW5pbWF0ZSBhIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FuaW1hdGUtcG9pbnQtYWxvbmctbGluZS8pXG4gICAgICovXG4gICAgfCAnbG9hZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAgaXMgZHJhd24gdG8gdGhlIHNjcmVlbiwgYXMgdGhlIHJlc3VsdCBvZlxuICAgICAqXG4gICAgICogLSBhIGNoYW5nZSB0byB0aGUgbWFwJ3MgcG9zaXRpb24sIHpvb20sIHBpdGNoLCBvciBiZWFyaW5nXG4gICAgICogLSBhIGNoYW5nZSB0byB0aGUgbWFwJ3Mgc3R5bGVcbiAgICAgKiAtIGEgY2hhbmdlIHRvIGEgR2VvSlNPTiBzb3VyY2VcbiAgICAgKiAtIHRoZSBsb2FkaW5nIG9mIGEgdmVjdG9yIHRpbGUsIEdlb0pTT04gZmlsZSwgZ2x5cGgsIG9yIHNwcml0ZVxuICAgICAqXG4gICAgICogQGV2ZW50IHJlbmRlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICdyZW5kZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwIGhhcyBiZWVuIHJlbW92ZWQgd2l0aCB7QGxpbmsgTWFwLmV2ZW50OnJlbW92ZX0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVtb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3JlbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLiBUaGlzIGlzIEdMIEpTJ3MgcHJpbWFyeSBlcnJvciByZXBvcnRpbmdcbiAgICAgKiBtZWNoYW5pc20uIFdlIHVzZSBhbiBldmVudCBpbnN0ZWFkIG9mIGB0aHJvd2AgdG8gYmV0dGVyIGFjY29tbW9kYXRlXG4gICAgICogYXN5bmNyb25vdXMgb3BlcmF0aW9ucy4gSWYgbm8gbGlzdGVuZXJzIGFyZSBib3VuZCB0byB0aGUgYGVycm9yYCBldmVudCwgdGhlXG4gICAgICogZXJyb3Igd2lsbCBiZSBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxuICAgICAqXG4gICAgICogQGV2ZW50IGVycm9yXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e2Vycm9yOiB7bWVzc2FnZTogc3RyaW5nfX19IGRhdGFcbiAgICAgKi9cbiAgICB8ICdlcnJvcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW55IG1hcCBkYXRhIGxvYWRzIG9yIGNoYW5nZXMuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IGRhdGFcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgbWFwJ3Mgc3R5bGUgbG9hZHMgb3IgY2hhbmdlcy4gU2VlXG4gICAgICoge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnc3R5bGVkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgbG9hZHMgb3IgY2hhbmdlcywgaW5jbHVkaW5nIGlmIGEgdGlsZSBiZWxvbmdpbmdcbiAgICAgKiB0byBhIHNvdXJjZSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3NvdXJjZWRhdGEnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFueSBtYXAgZGF0YSAoc3R5bGUsIHNvdXJjZSwgdGlsZSwgZXRjKSBiZWdpbnMgbG9hZGluZyBvclxuICAgICAqIGNoYW5naW5nIGFzeW5jcm9ub3VzbHkuIEFsbCBgZGF0YWxvYWRpbmdgIGV2ZW50cyBhcmUgZm9sbG93ZWQgYnkgYSBgZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGF0YWxvYWRpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIG1hcCdzIHN0eWxlIGJlZ2lucyBsb2FkaW5nIG9yIGNoYW5naW5nIGFzeW5jcm9ub3VzbHkuXG4gICAgICogQWxsIGBzdHlsZWRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYHN0eWxlZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3N0eWxlZGF0YWxvYWRpbmcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIG9uZSBvZiB0aGUgbWFwJ3Mgc291cmNlcyBiZWdpbnMgbG9hZGluZyBvciBjaGFuZ2luZyBhc3luY3Jvbm91c2x5LlxuICAgICAqIEFsbCBgc291cmNlZGF0YWxvYWRpbmdgIGV2ZW50cyBhcmUgZm9sbG93ZWQgYnkgYSBgc291cmNlZGF0YWAgb3IgYGVycm9yYCBldmVudC5cbiAgICAgKiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YWxvYWRpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBzdHlsZS5sb2FkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgfCAnc3R5bGUubG9hZCc7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgZWFzZSBhcyBfZWFzZSwgYmluZEFsbCwgYmV6aWVyIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uLy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCB7IG51bWJlciBhcyBpbnRlcnBvbGF0ZSB9IGZyb20gJy4uLy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uLy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbi8vIGRlbHRhWSB2YWx1ZSBmb3IgbW91c2Ugc2Nyb2xsIHdoZWVsIGlkZW50aWZpY2F0aW9uXG5jb25zdCB3aGVlbFpvb21EZWx0YSA9IDQuMDAwMjQ0MTQwNjI1O1xuLy8gVGhlc2UgbWFnaWMgbnVtYmVycyBjb250cm9sIHRoZSByYXRlIG9mIHpvb20uIFRyYWNrcGFkIGV2ZW50cyBmaXJlIGF0IGEgZ3JlYXRlclxuLy8gZnJlcXVlbmN5IHRoYW4gbW91c2Ugc2Nyb2xsIHdoZWVsLCBzbyByZWR1Y2UgdGhlIHpvb20gcmF0ZSBwZXIgd2hlZWwgdGlja1xuY29uc3QgZGVmYXVsdFpvb21SYXRlID0gMSAvIDEwMDtcbmNvbnN0IHdoZWVsWm9vbVJhdGUgPSAxIC8gNDUwO1xuXG4vLyB1cHBlciBib3VuZCBvbiBob3cgbXVjaCB3ZSBzY2FsZSB0aGUgbWFwIGluIGFueSBzaW5nbGUgcmVuZGVyIGZyYW1lOyB0aGlzXG4vLyBpcyB1c2VkIHRvIGxpbWl0IHpvb20gcmF0ZSBpbiB0aGUgY2FzZSBvZiB2ZXJ5IGZhc3Qgc2Nyb2xsaW5nXG5jb25zdCBtYXhTY2FsZVBlckZyYW1lID0gMjtcblxuLyoqXG4gKiBUaGUgYFNjcm9sbFpvb21IYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHNjcm9sbGluZy5cbiAqL1xuY2xhc3MgU2Nyb2xsWm9vbUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcbiAgICBfYXJvdW5kOiBQb2ludDtcbiAgICBfYXJvdW5kUG9pbnQ6IFBvaW50O1xuICAgIF90eXBlOiAnd2hlZWwnIHwgJ3RyYWNrcGFkJyB8IG51bGw7XG4gICAgX2xhc3RWYWx1ZTogbnVtYmVyO1xuICAgIF90aW1lb3V0OiA/VGltZW91dElEOyAvLyB1c2VkIGZvciBkZWxheWVkLWhhbmRsaW5nIG9mIGEgc2luZ2xlIHdoZWVsIG1vdmVtZW50XG4gICAgX2ZpbmlzaFRpbWVvdXQ6ID9UaW1lb3V0SUQ7IC8vIHVzZWQgdG8gZGVsYXkgZmluYWwgJ3ttb3ZlLHpvb219ZW5kJyBldmVudHNcblxuICAgIF9sYXN0V2hlZWxFdmVudDogYW55O1xuICAgIF9sYXN0V2hlZWxFdmVudFRpbWU6IG51bWJlcjtcblxuICAgIF9zdGFydFpvb206ID9udW1iZXI7XG4gICAgX3RhcmdldFpvb206ID9udW1iZXI7XG4gICAgX2RlbHRhOiBudW1iZXI7XG4gICAgX2Vhc2luZzogPygobnVtYmVyKSA9PiBudW1iZXIpO1xuICAgIF9wcmV2RWFzZTogP3tzdGFydDogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChudW1iZXIpID0+IG51bWJlcn07XG5cbiAgICBfZnJhbWVJZDogP1Rhc2tJRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcblxuICAgICAgICB0aGlzLl9kZWx0YSA9IDA7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2hlZWwnLFxuICAgICAgICAgICAgJ19vblRpbWVvdXQnLFxuICAgICAgICAgICAgJ19vblNjcm9sbEZyYW1lJyxcbiAgICAgICAgICAgICdfb25TY3JvbGxGaW5pc2hlZCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgY2VudGVyIG9mIG1hcFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5zY3JvbGxab29tLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogIG1hcC5zY3JvbGxab29tLmVuYWJsZSh7IGFyb3VuZDogJ2NlbnRlcicgfSlcbiAgICAgKi9cbiAgICBlbmFibGUob3B0aW9uczogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hcm91bmRDZW50ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uV2hlZWwoZTogV2hlZWxFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcblxuICAgICAgICAvLyBSZW1vdmUgYGFueWAgY2FzdCB3aGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy80ODc5IGlzIGZpeGVkLlxuICAgICAgICBsZXQgdmFsdWUgPSBlLmRlbHRhTW9kZSA9PT0gKHdpbmRvdy5XaGVlbEV2ZW50OiBhbnkpLkRPTV9ERUxUQV9MSU5FID8gZS5kZWx0YVkgKiA0MCA6IGUuZGVsdGFZO1xuICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdGltZURlbHRhID0gbm93IC0gKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSB8fCAwKTtcblxuICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUgPSBub3c7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSAwICYmICh2YWx1ZSAlIHdoZWVsWm9vbURlbHRhKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmUgaXMgZGVmaW5pdGVseSBhIG1vdXNlIHdoZWVsIGV2ZW50LlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9ICd3aGVlbCc7XG5cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gMCAmJiBNYXRoLmFicyh2YWx1ZSkgPCA0KSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9uZSBpcyBkZWZpbml0ZWx5IGEgdHJhY2twYWQgZXZlbnQgYmVjYXVzZSBpdCBpcyBzbyBzbWFsbC5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAndHJhY2twYWQnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGltZURlbHRhID4gNDAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIG5ldyBzY3JvbGwgYWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSB0aW1lb3V0IGluIGNhc2UgdGhpcyB3YXMgYSBzaW5ndWxhciBldmVudCwgYW5kIGRlbHkgaXQgYnkgdXAgdG8gNDBtcy5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCwgNDAsIGUpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3R5cGUpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXBlYXRpbmcgZXZlbnQsIGJ1dCB3ZSBkb24ndCBrbm93IHRoZSB0eXBlIG9mIGV2ZW50IGp1c3QgeWV0LlxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbHRhIHBlciB0aW1lIGlzIHNtYWxsLCB3ZSBhc3N1bWUgaXQncyBhIGZhc3QgdHJhY2twYWQ7IG90aGVyd2lzZSB3ZSBzd2l0Y2ggaW50byB3aGVlbCBtb2RlLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IChNYXRoLmFicyh0aW1lRGVsdGEgKiB2YWx1ZSkgPCAyMDApID8gJ3RyYWNrcGFkJyA6ICd3aGVlbCc7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgZGVsYXllZCBldmVudCBpc24ndCBmaXJlZCBhZ2FpbiwgYmVjYXVzZSB3ZSBhY2N1bXVsYXRlXG4gICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgZXZlbnQgKHdoaWNoIHdhcyBsZXNzIHRoYW4gNDBtcyBhZ28pIGludG8gdGhpcyBldmVudC5cbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuX2xhc3RWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNsb3cgZG93biB6b29tIGlmIHNoaWZ0IGtleSBpcyBoZWxkIGZvciBtb3JlIHByZWNpc2Ugem9vbWluZ1xuICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiB2YWx1ZSkgdmFsdWUgPSB2YWx1ZSAvIDQ7XG5cbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBjYWxsYmFjayBpZiB3ZSBhY3R1YWxseSBrbm93IHdoYXQgdHlwZSBvZiBzY3JvbGxpbmcgZGV2aWNlIHRoZSB1c2VyIHVzZXMuXG4gICAgICAgIGlmICh0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudCA9IGU7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YSAtPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX29uVGltZW91dChpbml0aWFsRXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLl90eXBlID0gJ3doZWVsJztcbiAgICAgICAgdGhpcy5fZGVsdGEgLT0gdGhpcy5fbGFzdFZhbHVlO1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnQoaW5pdGlhbEV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdGFydChlOiBhbnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWx0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIHtvcmlnaW5hbEV2ZW50OiBlfSkpO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIHtvcmlnaW5hbEV2ZW50OiBlfSkpO1xuICAgICAgICBpZiAodGhpcy5fZmluaXNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcblxuICAgICAgICB0aGlzLl9hcm91bmQgPSBMbmdMYXQuY29udmVydCh0aGlzLl9hcm91bmRDZW50ZXIgPyB0aGlzLl9tYXAuZ2V0Q2VudGVyKCkgOiB0aGlzLl9tYXAudW5wcm9qZWN0KHBvcykpO1xuICAgICAgICB0aGlzLl9hcm91bmRQb2ludCA9IHRoaXMuX21hcC50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludCh0aGlzLl9hcm91bmQpO1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vblNjcm9sbEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblNjcm9sbEZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gaWYgd2UndmUgaGFkIHNjcm9sbCBldmVudHMgc2luY2UgdGhlIGxhc3QgcmVuZGVyIGZyYW1lLCBjb25zdW1lIHRoZVxuICAgICAgICAvLyBhY2N1bXVsYXRlZCBkZWx0YSwgYW5kIHVwZGF0ZSB0aGUgdGFyZ2V0IHpvb20gbGV2ZWwgYWNjb3JkaW5nbHlcbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBGb3IgdHJhY2twYWQgZXZlbnRzIGFuZCBzaW5nbGUgbW91c2Ugd2hlZWwgdGlja3MsIHVzZSB0aGUgZGVmYXVsdCB6b29tIHJhdGVcbiAgICAgICAgICAgIGNvbnN0IHpvb21SYXRlID0gKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcgJiYgTWF0aC5hYnModGhpcy5fZGVsdGEpID4gd2hlZWxab29tRGVsdGEpID8gd2hlZWxab29tUmF0ZSA6IGRlZmF1bHRab29tUmF0ZTtcbiAgICAgICAgICAgIC8vIFNjYWxlIGJ5IHNpZ21vaWQgb2Ygc2Nyb2xsIHdoZWVsIGRlbHRhLlxuICAgICAgICAgICAgbGV0IHNjYWxlID0gbWF4U2NhbGVQZXJGcmFtZSAvICgxICsgTWF0aC5leHAoLU1hdGguYWJzKHRoaXMuX2RlbHRhICogem9vbVJhdGUpKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWx0YSA8IDAgJiYgc2NhbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID8gdHIuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pIDogdHIuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRab29tID0gTWF0aC5taW4odHIubWF4Wm9vbSwgTWF0aC5tYXgodHIubWluWm9vbSwgdHIuc2NhbGVab29tKGZyb21TY2FsZSAqIHNjYWxlKSkpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbW91c2Ugd2hlZWwsIHJlZnJlc2ggdGhlIHN0YXJ0aW5nIHpvb20gYW5kIGVhc2luZ1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gd2UncmUgdXNpbmcgdG8gc21vb3RoIG91dCB0aGUgem9vbWluZyBiZXR3ZWVuIHdoZWVsXG4gICAgICAgICAgICAvLyBldmVudHNcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRab29tID0gdHIuem9vbTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNpbmcgPSB0aGlzLl9zbW9vdGhPdXRFYXNpbmcoMjAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGVsdGEgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0Wm9vbSA9IHR5cGVvZiB0aGlzLl90YXJnZXRab29tID09PSAnbnVtYmVyJyA/XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRab29tIDogdHIuem9vbTtcbiAgICAgICAgY29uc3Qgc3RhcnRab29tID0gdGhpcy5fc3RhcnRab29tO1xuICAgICAgICBjb25zdCBlYXNpbmcgPSB0aGlzLl9lYXNpbmc7XG5cbiAgICAgICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSAnd2hlZWwnICYmIHN0YXJ0Wm9vbSAmJiBlYXNpbmcpIHtcbiAgICAgICAgICAgIGFzc2VydChlYXNpbmcgJiYgdHlwZW9mIHN0YXJ0Wm9vbSA9PT0gJ251bWJlcicpO1xuXG4gICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oKGJyb3dzZXIubm93KCkgLSB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUpIC8gMjAwLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSBlYXNpbmcodCk7XG4gICAgICAgICAgICB0ci56b29tID0gaW50ZXJwb2xhdGUoc3RhcnRab29tLCB0YXJnZXRab29tLCBrKTtcbiAgICAgICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25TY3JvbGxGcmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ci56b29tID0gdGFyZ2V0Wm9vbTtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0aGlzLl9hcm91bmQsIHRoaXMuX2Fyb3VuZFBvaW50KTtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnem9vbScsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcblxuICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RhcmdldFpvb207XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Ntb290aE91dEVhc2luZyhkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGxldCBlYXNpbmcgPSBfZWFzZTtcblxuICAgICAgICBpZiAodGhpcy5fcHJldkVhc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGVhc2UgPSB0aGlzLl9wcmV2RWFzZSxcbiAgICAgICAgICAgICAgICB0ID0gKGJyb3dzZXIubm93KCkgLSBlYXNlLnN0YXJ0KSAvIGVhc2UuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgc3BlZWQgPSBlYXNlLmVhc2luZyh0ICsgMC4wMSkgLSBlYXNlLmVhc2luZyh0KSxcblxuICAgICAgICAgICAgICAgIC8vIFF1aWNrIGhhY2sgdG8gbWFrZSBuZXcgYmV6aWVyIHRoYXQgaXMgY29udGludW91cyB3aXRoIGxhc3RcbiAgICAgICAgICAgICAgICB4ID0gMC4yNyAvIE1hdGguc3FydChzcGVlZCAqIHNwZWVkICsgMC4wMDAxKSAqIDAuMDEsXG4gICAgICAgICAgICAgICAgeSA9IE1hdGguc3FydCgwLjI3ICogMC4yNyAtIHggKiB4KTtcblxuICAgICAgICAgICAgZWFzaW5nID0gYmV6aWVyKHgsIHksIDAuMjUsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJldkVhc2UgPSB7XG4gICAgICAgICAgICBzdGFydDogYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogZWFzaW5nXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGVhc2luZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFpvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG4vKipcbiAqIFRoZSBgQm94Wm9vbUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdG8gZml0IHdpdGhpbiBhIGJvdW5kaW5nIGJveC5cbiAqIFRoZSBib3VuZGluZyBib3ggaXMgZGVmaW5lZCBieSBjbGlja2luZyBhbmQgaG9sZGluZyBgc2hpZnRgIHdoaWxlIGRyYWdnaW5nIHRoZSBjdXJzb3IuXG4gKi9cbmNsYXNzIEJveFpvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zdGFydFBvczogUG9pbnQ7XG4gICAgX2xhc3RQb3M6IFBvaW50O1xuICAgIF9ib3g6IEhUTUxFbGVtZW50O1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczoge1xuICAgICAgICBjbGlja1RvbGVyYW5jZT86IG51bWJlclxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbWFwLmdldENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9jbGlja1RvbGVyYW5jZSA9IG9wdGlvbnMuY2xpY2tUb2xlcmFuY2UgfHwgMTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3VzZU1vdmUnLFxuICAgICAgICAgICAgJ19vbk1vdXNlVXAnLFxuICAgICAgICAgICAgJ19vbktleURvd24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAuYm94Wm9vbS5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLmJveFpvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgaWYgKCEoZS5zaGlmdEtleSAmJiBlLmJ1dHRvbiA9PT0gMCkpIHJldHVybjtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXAsIGZhbHNlKTtcblxuICAgICAgICBET00uZGlzYWJsZURyYWcoKTtcbiAgICAgICAgdGhpcy5fc3RhcnRQb3MgPSB0aGlzLl9sYXN0UG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9sYXN0UG9zLmVxdWFscyhwb3MpIHx8ICghdGhpcy5fYm94ICYmIHBvcy5kaXN0KHRoaXMuX3N0YXJ0UG9zKSA8IHRoaXMuX2NsaWNrVG9sZXJhbmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLl9zdGFydFBvcztcbiAgICAgICAgdGhpcy5fbGFzdFBvcyA9IHBvcztcblxuICAgICAgICBpZiAoIXRoaXMuX2JveCkge1xuICAgICAgICAgICAgdGhpcy5fYm94ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWJveHpvb20nLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNyb3NzaGFpcicpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdib3h6b29tc3RhcnQnLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSBNYXRoLm1pbihwMC54LCBwb3MueCksXG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgocDAueCwgcG9zLngpLFxuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKHAwLnksIHBvcy55KSxcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChwMC55LCBwb3MueSk7XG5cbiAgICAgICAgRE9NLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsIGB0cmFuc2xhdGUoJHttaW5YfXB4LCR7bWluWX1weClgKTtcblxuICAgICAgICB0aGlzLl9ib3guc3R5bGUud2lkdGggPSBgJHttYXhYIC0gbWluWH1weGA7XG4gICAgICAgIHRoaXMuX2JveC5zdHlsZS5oZWlnaHQgPSBgJHttYXhZIC0gbWluWX1weGA7XG4gICAgfVxuXG4gICAgX29uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5fc3RhcnRQb3MsXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG5cbiAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcblxuICAgICAgICBpZiAocDAueCA9PT0gcDEueCAmJiBwMC55ID09PSBwMS55KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2JveHpvb21jYW5jZWwnLCBlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFxuICAgICAgICAgICAgICAgIC5maXRTY3JlZW5Db29yZGluYXRlcyhwMCwgcDEsIHRoaXMuX21hcC5nZXRCZWFyaW5nKCksIHtsaW5lYXI6IHRydWV9KVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnYm94em9vbWVuZCcsIHsgb3JpZ2luYWxFdmVudDogZX0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbktleURvd24oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2JveHpvb21jYW5jZWwnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9maW5pc2goKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jcm9zc2hhaXInKTtcblxuICAgICAgICBpZiAodGhpcy5fYm94KSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2JveCk7XG4gICAgICAgICAgICB0aGlzLl9ib3ggPSAobnVsbDogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5lbmFibGVEcmFnKCk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXJ0UG9zO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdFBvcztcbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogKikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KHR5cGUsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3hab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBiZXppZXIsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuY29uc3QgaW5lcnRpYUxpbmVhcml0eSA9IDAuMjUsXG4gICAgaW5lcnRpYUVhc2luZyA9IGJlemllcigwLCAwLCBpbmVydGlhTGluZWFyaXR5LCAxKSxcbiAgICBpbmVydGlhTWF4U3BlZWQgPSAxODAsIC8vIGRlZy9zXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDcyMDsgLy8gZGVnL3NeMlxuXG4vKipcbiAqIFRoZSBgRHJhZ1JvdGF0ZUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byByb3RhdGUgdGhlIG1hcCBieSBjbGlja2luZyBhbmRcbiAqIGRyYWdnaW5nIHRoZSBjdXJzb3Igd2hpbGUgaG9sZGluZyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIG9yIGBjdHJsYCBrZXkuXG4gKi9cbmNsYXNzIERyYWdSb3RhdGVIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfc3RhdGU6ICdkaXNhYmxlZCcgfCAnZW5hYmxlZCcgfCAncGVuZGluZycgfCAnYWN0aXZlJztcbiAgICBfYnV0dG9uOiAncmlnaHQnIHwgJ2xlZnQnO1xuICAgIF9ldmVudEJ1dHRvbjogbnVtYmVyO1xuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9waXRjaFdpdGhSb3RhdGU6IGJvb2xlYW47XG5cbiAgICBfc3RhcnRQb3M6IFBvaW50O1xuICAgIF9sYXN0UG9zOiBQb2ludDtcbiAgICBfbGFzdE1vdmVFdmVudDogTW91c2VFdmVudDtcbiAgICBfaW5lcnRpYTogQXJyYXk8W251bWJlciwgbnVtYmVyXT47XG4gICAgX2NlbnRlcjogUG9pbnQ7XG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXBib3ggR0wgSlMgbWFwIHRvIGFkZCB0aGUgaGFuZGxlciB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmdTbmFwXSBUaGUgdGhyZXNob2xkLCBtZWFzdXJlZCBpbiBkZWdyZWVzLCB0aGF0IGRldGVybWluZXMgd2hlbiB0aGUgbWFwJ3NcbiAgICAgKiAgIGJlYXJpbmcgd2lsbCBzbmFwIHRvIG5vcnRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMucGl0Y2hXaXRoUm90YXRlPXRydWVdIENvbnRyb2wgdGhlIG1hcCBwaXRjaCBpbiBhZGRpdGlvbiB0byB0aGUgYmVhcmluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IHtcbiAgICAgICAgYnV0dG9uPzogJ3JpZ2h0JyB8ICdsZWZ0JyxcbiAgICAgICAgZWxlbWVudD86IEhUTUxFbGVtZW50LFxuICAgICAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICAgICAgcGl0Y2hXaXRoUm90YXRlPzogYm9vbGVhblxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG9wdGlvbnMuZWxlbWVudCB8fCBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gb3B0aW9ucy5idXR0b24gfHwgJ3JpZ2h0JztcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwIHx8IDA7XG4gICAgICAgIHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSA9IG9wdGlvbnMucGl0Y2hXaXRoUm90YXRlICE9PSBmYWxzZTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdvbk1vdXNlRG93bicsXG4gICAgICAgICAgICAnX29uTW91c2VNb3ZlJyxcbiAgICAgICAgICAgICdfb25Nb3VzZVVwJyxcbiAgICAgICAgICAgICdfb25CbHVyJyxcbiAgICAgICAgICAgICdfb25EcmFnRnJhbWUnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSAhPT0gJ2Rpc2FibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIGkuZS4gY3VycmVudGx5IGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09ICdhY3RpdmUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdSb3RhdGUuZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGVlbmQnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSAnZW5hYmxlZCcpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fYnV0dG9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ldmVudEJ1dHRvbiAhPT0gKGUuY3RybEtleSA/IDAgOiAyKSkgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBET00ubW91c2VCdXR0b24oZSkgIT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50QnV0dG9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuXG4gICAgICAgIC8vIEJpbmQgd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBmb3IgbW92ZSBhbmQgdXAvZW5kIGV2ZW50cy4gSW4gdGhlIGFic2VuY2Ugb2ZcbiAgICAgICAgLy8gdGhlIHBvaW50ZXIgY2FwdHVyZSBBUEksIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYWxsIG5lY2Vzc2FyeSBwbGF0Zm9ybXMsXG4gICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAvLyBmYWxsIG91dHNpZGUgdGhlIG1hcCBjYW52YXMgZWxlbWVudC4gVXNlIGB7Y2FwdHVyZTogdHJ1ZX1gIGZvciB0aGUgbW92ZSBldmVudFxuICAgICAgICAvLyB0byBwcmV2ZW50IG1hcCBtb3ZlIGV2ZW50cyBmcm9tIGJlaW5nIGZpcmVkIGR1cmluZyBhIGRyYWcuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuXG4gICAgICAgIC8vIERlYWN0aXZhdGUgd2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLiBPdGhlcndpc2UgaWYgYSBtb3VzZXVwIG9jY3VycyB3aGVuIHRoZSB3aW5kb3dcbiAgICAgICAgLy8gaXNuJ3QgaW4gZm9jdXMsIGRyYWdnaW5nIHdpbGwgY29udGludWUgZXZlbiB0aG91Z2ggdGhlIG1vdXNlIGlzIG5vIGxvbmdlciBwcmVzc2VkLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uQmx1cik7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEgPSBbW2Jyb3dzZXIubm93KCksIHRoaXMuX21hcC5nZXRCZWFyaW5nKCldXTtcbiAgICAgICAgdGhpcy5fc3RhcnRQb3MgPSB0aGlzLl9sYXN0UG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5fY2VudGVyID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDsgIC8vIENlbnRlciBvZiByb3RhdGlvblxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICBpZiAodGhpcy5fbGFzdFBvcy5lcXVhbHMocG9zKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdE1vdmVFdmVudCA9IGU7XG4gICAgICAgIHRoaXMuX2xhc3RQb3MgPSBwb3M7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVzdGFydCcsIGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2hzdGFydCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25EcmFnRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uRHJhZ0ZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBjb25zdCBlID0gdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBwMSA9IHRoaXMuX3N0YXJ0UG9zLFxuICAgICAgICAgICAgcDIgPSB0aGlzLl9sYXN0UG9zLFxuICAgICAgICAgICAgYmVhcmluZ0RpZmYgPSAocDEueCAtIHAyLngpICogMC44LFxuICAgICAgICAgICAgcGl0Y2hEaWZmID0gKHAxLnkgLSBwMi55KSAqIC0wLjUsXG4gICAgICAgICAgICBiZWFyaW5nID0gdHIuYmVhcmluZyAtIGJlYXJpbmdEaWZmLFxuICAgICAgICAgICAgcGl0Y2ggPSB0ci5waXRjaCAtIHBpdGNoRGlmZixcbiAgICAgICAgICAgIGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgaW5lcnRpYS5wdXNoKFticm93c2VyLm5vdygpLCB0aGlzLl9tYXAuX25vcm1hbGl6ZUJlYXJpbmcoYmVhcmluZywgbGFzdFsxXSldKTtcblxuICAgICAgICB0ci5iZWFyaW5nID0gYmVhcmluZztcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaCcsIGUpO1xuICAgICAgICAgICAgdHIucGl0Y2ggPSBwaXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlJywgZSk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZScsIGUpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3M7XG4gICAgfVxuXG4gICAgX29uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChET00ubW91c2VCdXR0b24oZSkgIT09IHRoaXMuX2V2ZW50QnV0dG9uKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYWxSb3RhdGUoZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25CbHVyKGU6IEZvY3VzRXZlbnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlZW5kJywgZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaGVuZCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdW5iaW5kKCkge1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuICAgICAgICBET00uZW5hYmxlRHJhZygpO1xuICAgIH1cblxuICAgIF9kZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RhcnRQb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0UG9zO1xuICAgIH1cblxuICAgIF9pbmVydGlhbFJvdGF0ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlZW5kJywgZSk7XG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcCxcbiAgICAgICAgICAgIG1hcEJlYXJpbmcgPSBtYXAuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XG5cbiAgICAgICAgY29uc3QgZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG1hcEJlYXJpbmcpIDwgdGhpcy5fYmVhcmluZ1NuYXApIHtcbiAgICAgICAgICAgICAgICBtYXAucmVzZXROb3J0aCh7bm9Nb3ZlU3RhcnQ6IHRydWV9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaGVuZCcsIGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbmVydGlhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3QgPSBpbmVydGlhWzBdLFxuICAgICAgICAgICAgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHByZXZpb3VzID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDJdO1xuICAgICAgICBsZXQgYmVhcmluZyA9IG1hcC5fbm9ybWFsaXplQmVhcmluZyhtYXBCZWFyaW5nLCBwcmV2aW91c1sxXSk7XG4gICAgICAgIGNvbnN0IGZsaW5nRGlmZiA9IGxhc3RbMV0gLSBmaXJzdFsxXSxcbiAgICAgICAgICAgIHNpZ24gPSBmbGluZ0RpZmYgPCAwID8gLTEgOiAxLFxuICAgICAgICAgICAgZmxpbmdEdXJhdGlvbiA9IChsYXN0WzBdIC0gZmlyc3RbMF0pIC8gMTAwMDtcblxuICAgICAgICBpZiAoZmxpbmdEaWZmID09PSAwIHx8IGZsaW5nRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNwZWVkID0gTWF0aC5hYnMoZmxpbmdEaWZmICogKGluZXJ0aWFMaW5lYXJpdHkgLyBmbGluZ0R1cmF0aW9uKSk7ICAvLyBkZWcvc1xuICAgICAgICBpZiAoc3BlZWQgPiBpbmVydGlhTWF4U3BlZWQpIHtcbiAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBzcGVlZCAvIChpbmVydGlhRGVjZWxlcmF0aW9uICogaW5lcnRpYUxpbmVhcml0eSksXG4gICAgICAgICAgICBvZmZzZXQgPSBzaWduICogc3BlZWQgKiAoZHVyYXRpb24gLyAyKTtcblxuICAgICAgICBiZWFyaW5nICs9IG9mZnNldDtcblxuICAgICAgICBpZiAoTWF0aC5hYnMobWFwLl9ub3JtYWxpemVCZWFyaW5nKGJlYXJpbmcsIDApKSA8IHRoaXMuX2JlYXJpbmdTbmFwKSB7XG4gICAgICAgICAgICBiZWFyaW5nID0gbWFwLl9ub3JtYWxpemVCZWFyaW5nKDAsIGJlYXJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLnJvdGF0ZVRvKGJlYXJpbmcsIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAqIDEwMDAsXG4gICAgICAgICAgICBlYXNpbmc6IGluZXJ0aWFFYXNpbmcsXG4gICAgICAgICAgICBub01vdmVTdGFydDogdHJ1ZVxuICAgICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6ICopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCBlID8geyBvcmlnaW5hbEV2ZW50OiBlIH0gOiB7fSkpO1xuICAgIH1cblxuICAgIF9kcmFpbkluZXJ0aWFCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGN1dG9mZiA9IDE2MDsgICAvL21zZWNcblxuICAgICAgICB3aGlsZSAoaW5lcnRpYS5sZW5ndGggPiAwICYmIG5vdyAtIGluZXJ0aWFbMF1bMF0gPiBjdXRvZmYpXG4gICAgICAgICAgICBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnUm90YXRlSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgYmV6aWVyLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmNvbnN0IGluZXJ0aWFMaW5lYXJpdHkgPSAwLjMsXG4gICAgaW5lcnRpYUVhc2luZyA9IGJlemllcigwLCAwLCBpbmVydGlhTGluZWFyaXR5LCAxKSxcbiAgICBpbmVydGlhTWF4U3BlZWQgPSAxNDAwLCAvLyBweC9zXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDI1MDA7IC8vIHB4L3NeMlxuXG4vKipcbiAqIFRoZSBgRHJhZ1BhbkhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmdcbiAqIHRoZSBjdXJzb3IuXG4gKi9cbmNsYXNzIERyYWdQYW5IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfc3RhdGU6ICdkaXNhYmxlZCcgfCAnZW5hYmxlZCcgfCAncGVuZGluZycgfCAnYWN0aXZlJztcbiAgICBfc3RhcnRQb3M6IFBvaW50O1xuICAgIF9tb3VzZURvd25Qb3M6IFBvaW50O1xuICAgIF9sYXN0UG9zOiBQb2ludDtcbiAgICBfbGFzdE1vdmVFdmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCB2b2lkO1xuICAgIF9pbmVydGlhOiBBcnJheTxbbnVtYmVyLCBQb2ludF0+O1xuICAgIF9mcmFtZUlkOiA/VGFza0lEO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczoge1xuICAgICAgICBjbGlja1RvbGVyYW5jZT86IG51bWJlclxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICB0aGlzLl9jbGlja1RvbGVyYW5jZSA9IG9wdGlvbnMuY2xpY2tUb2xlcmFuY2UgfHwgMTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3ZlJyxcbiAgICAgICAgICAgICdfb25Nb3VzZVVwJyxcbiAgICAgICAgICAgICdfb25Ub3VjaEVuZCcsXG4gICAgICAgICAgICAnX29uQmx1cicsXG4gICAgICAgICAgICAnX29uRHJhZ0ZyYW1lJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgIT09ICdkaXNhYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlID09PSAnYWN0aXZlJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4nKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdQYW4uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC10b3VjaC1kcmFnLXBhbicpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ2VuZCcpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gJ2VuYWJsZWQnKSByZXR1cm47XG4gICAgICAgIGlmIChlLmN0cmxLZXkgfHwgRE9NLm1vdXNlQnV0dG9uKGUpICE9PSAwKSByZXR1cm47XG5cbiAgICAgICAgLy8gQmluZCB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGZvciBtb3VzZW1vdmUvdXAgZXZlbnRzLiBJbiB0aGUgYWJzZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgLy8gd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBnaXZlIHVzIHRoZSBiZXN0IHNob3QgYXQgY2FwdHVyaW5nIGV2ZW50cyB0aGF0XG4gICAgICAgIC8vIGZhbGwgb3V0c2lkZSB0aGUgbWFwIGNhbnZhcyBlbGVtZW50LiBVc2UgYHtjYXB0dXJlOiB0cnVlfWAgZm9yIHRoZSBtb3ZlIGV2ZW50XG4gICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICB9XG5cbiAgICBvblRvdWNoU3RhcnQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09ICdlbmFibGVkJykgcmV0dXJuO1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcblxuICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRvdWNobW92ZS9lbmQgZXZlbnRzLiBJbiB0aGUgYWJzZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgLy8gd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBnaXZlIHVzIHRoZSBiZXN0IHNob3QgYXQgY2FwdHVyaW5nIGV2ZW50cyB0aGF0XG4gICAgICAgIC8vIGZhbGwgb3V0c2lkZSB0aGUgbWFwIGNhbnZhcyBlbGVtZW50LiBVc2UgYHtjYXB0dXJlOiB0cnVlfWAgZm9yIHRoZSBtb3ZlIGV2ZW50XG4gICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kKTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICB9XG5cbiAgICBfc3RhcnQoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB3aGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMuIE90aGVyd2lzZSBpZiBhIG1vdXNldXAgb2NjdXJzIHdoZW4gdGhlIHdpbmRvd1xuICAgICAgICAvLyBpc24ndCBpbiBmb2N1cywgZHJhZ2dpbmcgd2lsbCBjb250aW51ZSBldmVuIHRob3VnaCB0aGUgbW91c2UgaXMgbm8gbG9uZ2VyIHByZXNzZWQuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25CbHVyKTtcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgdGhpcy5fc3RhcnRQb3MgPSB0aGlzLl9tb3VzZURvd25Qb3MgPSB0aGlzLl9sYXN0UG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IFtbYnJvd3Nlci5ub3coKSwgdGhpcy5fc3RhcnRQb3NdXTtcbiAgICB9XG5cbiAgICBfb25Nb3ZlKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICBpZiAodGhpcy5fbGFzdFBvcy5lcXVhbHMocG9zKSB8fCAodGhpcy5fc3RhdGUgPT09ICdwZW5kaW5nJyAmJiBwb3MuZGlzdCh0aGlzLl9tb3VzZURvd25Qb3MpIDwgdGhpcy5fY2xpY2tUb2xlcmFuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0TW92ZUV2ZW50ID0gZTtcbiAgICAgICAgdGhpcy5fbGFzdFBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEucHVzaChbYnJvd3Nlci5ub3coKSwgdGhpcy5fbGFzdFBvc10pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICAvLyB3ZSB0cmVhdCB0aGUgZmlyc3QgbW92ZSBldmVudCAocmF0aGVyIHRoYW4gdGhlIG1vdXNlZG93biBldmVudClcbiAgICAgICAgICAgIC8vIGFzIHRoZSBzdGFydCBvZiB0aGUgZHJhZ1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ3N0YXJ0JywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVzdGFydCcsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25EcmFnRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGluIGVhY2ggcmVuZGVyIGZyYW1lIHdoaWxlIGRyYWdnaW5nIGlzIGhhcHBlbmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkRyYWdGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG4gICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5wb2ludExvY2F0aW9uKHRoaXMuX3N0YXJ0UG9zKSwgdGhpcy5fbGFzdFBvcyk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZycsIGUpO1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmUnLCBlKTtcblxuICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgIH1cblxuICAgIF9vbk1vdXNlVXAoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoRE9NLm1vdXNlQnV0dG9uKGUpICE9PSAwKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYWxQYW4oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Ub3VjaEVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbmVydGlhbFBhbihlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkJsdXIoZTogRm9jdXNFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnZW5kJywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91bmJpbmQoKSB7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWUsIHBhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuICAgIH1cblxuICAgIF9kZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RhcnRQb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb3VzZURvd25Qb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0UG9zO1xuICAgIH1cblxuICAgIF9pbmVydGlhbFBhbihlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWdlbmQnLCBlKTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XG4gICAgICAgIGlmIChpbmVydGlhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIGZpcnN0ID0gaW5lcnRpYVswXSxcbiAgICAgICAgICAgIGZsaW5nT2Zmc2V0ID0gbGFzdFsxXS5zdWIoZmlyc3RbMV0pLFxuICAgICAgICAgICAgZmxpbmdEdXJhdGlvbiA9IChsYXN0WzBdIC0gZmlyc3RbMF0pIC8gMTAwMDtcblxuICAgICAgICBpZiAoZmxpbmdEdXJhdGlvbiA9PT0gMCB8fCBsYXN0WzFdLmVxdWFscyhmaXJzdFsxXSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHB4L3MgdmVsb2NpdHkgJiBhZGp1c3QgZm9yIGluY3JlYXNlZCBpbml0aWFsIGFuaW1hdGlvbiBzcGVlZCB3aGVuIGVhc2luZyBvdXRcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBmbGluZ09mZnNldC5tdWx0KGluZXJ0aWFMaW5lYXJpdHkgLyBmbGluZ0R1cmF0aW9uKTtcbiAgICAgICAgbGV0IHNwZWVkID0gdmVsb2NpdHkubWFnKCk7IC8vIHB4L3NcblxuICAgICAgICBpZiAoc3BlZWQgPiBpbmVydGlhTWF4U3BlZWQpIHtcbiAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICAgICAgdmVsb2NpdHkuX3VuaXQoKS5fbXVsdChzcGVlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHNwZWVkIC8gKGluZXJ0aWFEZWNlbGVyYXRpb24gKiBpbmVydGlhTGluZWFyaXR5KSxcbiAgICAgICAgICAgIG9mZnNldCA9IHZlbG9jaXR5Lm11bHQoLWR1cmF0aW9uIC8gMik7XG5cbiAgICAgICAgdGhpcy5fbWFwLnBhbkJ5KG9mZnNldCwge1xuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uICogMTAwMCxcbiAgICAgICAgICAgIGVhc2luZzogaW5lcnRpYUVhc2luZyxcbiAgICAgICAgICAgIG5vTW92ZVN0YXJ0OiB0cnVlXG4gICAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogKikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KHR5cGUsIGUgPyB7IG9yaWdpbmFsRXZlbnQ6IGUgfSA6IHt9KSk7XG4gICAgfVxuXG4gICAgX2RyYWluSW5lcnRpYUJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgY3V0b2ZmID0gMTYwOyAgIC8vIG1zZWNcblxuICAgICAgICB3aGlsZSAoaW5lcnRpYS5sZW5ndGggPiAwICYmIG5vdyAtIGluZXJ0aWFbMF1bMF0gPiBjdXRvZmYpIGluZXJ0aWEuc2hpZnQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdQYW5IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG5jb25zdCBwYW5TdGVwID0gMTAwLFxuICAgIGJlYXJpbmdTdGVwID0gMTUsXG4gICAgcGl0Y2hTdGVwID0gMTA7XG5cbi8qKlxuICogVGhlIGBLZXlib2FyZEhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tLCByb3RhdGUsIGFuZCBwYW4gdGhlIG1hcCB1c2luZ1xuICogdGhlIGZvbGxvd2luZyBrZXlib2FyZCBzaG9ydGN1dHM6XG4gKlxuICogLSBgPWAgLyBgK2A6IEluY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDEuXG4gKiAtIGBTaGlmdC09YCAvIGBTaGlmdC0rYDogSW5jcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMi5cbiAqIC0gYC1gOiBEZWNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAxLlxuICogLSBgU2hpZnQtLWA6IERlY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDIuXG4gKiAtIEFycm93IGtleXM6IFBhbiBieSAxMDAgcGl4ZWxzLlxuICogLSBgU2hpZnQr4oeiYDogSW5jcmVhc2UgdGhlIHJvdGF0aW9uIGJ5IDE1IGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6BgOiBEZWNyZWFzZSB0aGUgcm90YXRpb24gYnkgMTUgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHoWA6IEluY3JlYXNlIHRoZSBwaXRjaCBieSAxMCBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oejYDogRGVjcmVhc2UgdGhlIHBpdGNoIGJ5IDEwIGRlZ3JlZXMuXG4gKi9cbmNsYXNzIEtleWJvYXJkSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uS2V5RG93bidcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX29uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47XG5cbiAgICAgICAgbGV0IHpvb21EaXIgPSAwO1xuICAgICAgICBsZXQgYmVhcmluZ0RpciA9IDA7XG4gICAgICAgIGxldCBwaXRjaERpciA9IDA7XG4gICAgICAgIGxldCB4RGlyID0gMDtcbiAgICAgICAgbGV0IHlEaXIgPSAwO1xuXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgNjE6XG4gICAgICAgIGNhc2UgMTA3OlxuICAgICAgICBjYXNlIDE3MTpcbiAgICAgICAgY2FzZSAxODc6XG4gICAgICAgICAgICB6b29tRGlyID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTg5OlxuICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgY2FzZSAxNzM6XG4gICAgICAgICAgICB6b29tRGlyID0gLTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB4RGlyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHhEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeURpciA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeURpciA9IDE7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3Qgem9vbSA9IG1hcC5nZXRab29tKCk7XG5cbiAgICAgICAgY29uc3QgZWFzZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgZGVsYXlFbmRFdmVudHM6IDUwMCxcbiAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcblxuICAgICAgICAgICAgem9vbTogem9vbURpciA/IE1hdGgucm91bmQoem9vbSkgKyB6b29tRGlyICogKGUuc2hpZnRLZXkgPyAyIDogMSkgOiB6b29tLFxuICAgICAgICAgICAgYmVhcmluZzogbWFwLmdldEJlYXJpbmcoKSArIGJlYXJpbmdEaXIgKiBiZWFyaW5nU3RlcCxcbiAgICAgICAgICAgIHBpdGNoOiBtYXAuZ2V0UGl0Y2goKSArIHBpdGNoRGlyICogcGl0Y2hTdGVwLFxuICAgICAgICAgICAgb2Zmc2V0OiBbLXhEaXIgKiBwYW5TdGVwLCAteURpciAqIHBhblN0ZXBdLFxuICAgICAgICAgICAgY2VudGVyOiBtYXAuZ2V0Q2VudGVyKClcbiAgICAgICAgfTtcblxuICAgICAgICBtYXAuZWFzZVRvKGVhc2VPcHRpb25zLCB7b3JpZ2luYWxFdmVudDogZX0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZWFzZU91dCh0KSB7XG4gICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZEhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSB7TWFwTW91c2VFdmVudCwgTWFwVG91Y2hFdmVudH0gZnJvbSAnLi4vZXZlbnRzJztcblxuLyoqXG4gKiBUaGUgYERvdWJsZUNsaWNrWm9vbUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYXQgYSBwb2ludCBieVxuICogZG91YmxlIGNsaWNraW5nIG9yIGRvdWJsZSB0YXBwaW5nLlxuICovXG5jbGFzcyBEb3VibGVDbGlja1pvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfdGFwcGVkOiA/VGltZW91dElEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uRGJsQ2xpY2snLFxuICAgICAgICAgICAgJ19vblpvb21FbmQnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25Ub3VjaFN0YXJ0KGU6IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGlmIChlLnBvaW50cy5sZW5ndGggPiAxKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLl90YXBwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcHBlZCA9IHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLl90YXBwZWQgPSBudWxsOyB9LCAzMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RhcHBlZCk7XG4gICAgICAgICAgICB0aGlzLl90YXBwZWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fem9vbShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGJsQ2xpY2soZTogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgZS5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX3pvb20oZSk7XG4gICAgfVxuXG4gICAgX3pvb20oZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCd6b29tZW5kJywgdGhpcy5fb25ab29tRW5kKTtcbiAgICAgICAgdGhpcy5fbWFwLnpvb21UbyhcbiAgICAgICAgICAgIHRoaXMuX21hcC5nZXRab29tKCkgKyAoZS5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ID8gLTEgOiAxKSxcbiAgICAgICAgICAgIHthcm91bmQ6IGUubG5nTGF0fSxcbiAgICAgICAgICAgIGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfb25ab29tRW5kKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignem9vbWVuZCcsIHRoaXMuX29uWm9vbUVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb3VibGVDbGlja1pvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBiZXppZXIsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgTG5nTGF0IGZyb20gJy4uLy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmNvbnN0IGluZXJ0aWFMaW5lYXJpdHkgPSAwLjE1LFxuICAgIGluZXJ0aWFFYXNpbmcgPSBiZXppZXIoMCwgMCwgaW5lcnRpYUxpbmVhcml0eSwgMSksXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDEyLCAvLyBzY2FsZSAvIHNeMlxuICAgIGluZXJ0aWFNYXhTcGVlZCA9IDIuNSwgLy8gc2NhbGUgLyBzXG4gICAgc2lnbmlmaWNhbnRTY2FsZVRocmVzaG9sZCA9IDAuMTUsXG4gICAgc2lnbmlmaWNhbnRSb3RhdGVUaHJlc2hvbGQgPSAxMDtcblxuLyoqXG4gKiBUaGUgYFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIGFuZCByb3RhdGUgdGhlIG1hcCBieVxuICogcGluY2hpbmcgb24gYSB0b3VjaHNjcmVlbi5cbiAqL1xuY2xhc3MgVG91Y2hab29tUm90YXRlSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcbiAgICBfcm90YXRpb25EaXNhYmxlZDogYm9vbGVhbjtcbiAgICBfc3RhcnRWZWM6IFBvaW50O1xuICAgIF9zdGFydEFyb3VuZDogTG5nTGF0O1xuICAgIF9zdGFydFNjYWxlOiBudW1iZXI7XG4gICAgX3N0YXJ0QmVhcmluZzogbnVtYmVyO1xuICAgIF9nZXN0dXJlSW50ZW50OiAncm90YXRlJyB8ICd6b29tJyB8IHZvaWQ7XG4gICAgX2luZXJ0aWE6IEFycmF5PFtudW1iZXIsIG51bWJlciwgUG9pbnRdPjtcbiAgICBfbGFzdFRvdWNoRXZlbnQ6IFRvdWNoRXZlbnQ7XG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW92ZScsXG4gICAgICAgICAgICAnX29uRW5kJyxcbiAgICAgICAgICAgICdfb25Ub3VjaEZyYW1lJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgdGhlIGNlbnRlclxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKHsgYXJvdW5kOiAnY2VudGVyJyB9KTtcbiAgICAgKi9cbiAgICBlbmFibGUob3B0aW9uczogP3thcm91bmQ/OiAnY2VudGVyJ30pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUnKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Fyb3VuZENlbnRlciA9ICEhb3B0aW9ucyAmJiBvcHRpb25zLmFyb3VuZCA9PT0gJ2NlbnRlcic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlJyk7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiwgbGVhdmluZyB0aGUgXCJwaW5jaCB0byB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBlbmFibGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZGlzYWJsZVJvdGF0aW9uKCk7XG4gICAgICovXG4gICAgZGlzYWJsZVJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKCk7XG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZVJvdGF0aW9uKCk7XG4gICAgICovXG4gICAgZW5hYmxlUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcDAgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1swXSksXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZS50b3VjaGVzWzFdKSxcbiAgICAgICAgICAgIGNlbnRlciA9IHAwLmFkZChwMSkuZGl2KDIpO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0VmVjID0gcDAuc3ViKHAxKTtcbiAgICAgICAgdGhpcy5fc3RhcnRBcm91bmQgPSB0aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50TG9jYXRpb24oY2VudGVyKTtcbiAgICAgICAgdGhpcy5fZ2VzdHVyZUludGVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IFtdO1xuXG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25FbmQpO1xuICAgIH1cblxuICAgIF9nZXRUb3VjaEV2ZW50RGF0YShlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHAwID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlLnRvdWNoZXNbMF0pLFxuICAgICAgICAgICAgcDEgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1sxXSk7XG5cbiAgICAgICAgY29uc3QgdmVjID0gcDAuc3ViKHAxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlYyxcbiAgICAgICAgICAgIGNlbnRlcjogcDAuYWRkKHAxKS5kaXYoMiksXG4gICAgICAgICAgICBzY2FsZTogdmVjLm1hZygpIC8gdGhpcy5fc3RhcnRWZWMubWFnKCksXG4gICAgICAgICAgICBiZWFyaW5nOiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID8gMCA6IHZlYy5hbmdsZVdpdGgodGhpcy5fc3RhcnRWZWMpICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9vbk1vdmUoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHt2ZWMsIHNjYWxlLCBiZWFyaW5nfSA9IHRoaXMuX2dldFRvdWNoRXZlbnREYXRhKGUpO1xuXG4gICAgICAgIC8vIERldGVybWluZSAnaW50ZW50JyBieSB3aGljaGV2ZXIgdGhyZXNob2xkIGlzIHN1cnBhc3NlZCBmaXJzdCxcbiAgICAgICAgLy8gdGhlbiBrZWVwIHRoYXQgc3RhdGUgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGlzIGdlc3R1cmUuXG4gICAgICAgIGlmICghdGhpcy5fZ2VzdHVyZUludGVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGluZ1NpZ25pZmljYW50bHkgPSAoTWF0aC5hYnMoMSAtIHNjYWxlKSA+IHNpZ25pZmljYW50U2NhbGVUaHJlc2hvbGQpLFxuICAgICAgICAgICAgICAgIHJvdGF0aW5nU2lnbmlmaWNhbnRseSA9IChNYXRoLmFicyhiZWFyaW5nKSA+IHNpZ25pZmljYW50Um90YXRlVGhyZXNob2xkKTtcblxuICAgICAgICAgICAgaWYgKHJvdGF0aW5nU2lnbmlmaWNhbnRseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVJbnRlbnQgPSAncm90YXRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NhbGluZ1NpZ25pZmljYW50bHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXN0dXJlSW50ZW50ID0gJ3pvb20nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VzdHVyZUludGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudChgJHt0aGlzLl9nZXN0dXJlSW50ZW50fXN0YXJ0YCwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRWZWMgPSB2ZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VG91Y2hFdmVudCA9IGU7XG4gICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uVG91Y2hGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX29uVG91Y2hGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZ2VzdHVyZUludGVudCA9IHRoaXMuX2dlc3R1cmVJbnRlbnQ7XG4gICAgICAgIGlmICghZ2VzdHVyZUludGVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0U2NhbGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U2NhbGUgPSB0ci5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QmVhcmluZyA9IHRyLmJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7Y2VudGVyLCBiZWFyaW5nLCBzY2FsZX0gPSB0aGlzLl9nZXRUb3VjaEV2ZW50RGF0YSh0aGlzLl9sYXN0VG91Y2hFdmVudCk7XG4gICAgICAgIGNvbnN0IGFyb3VuZCA9IHRyLnBvaW50TG9jYXRpb24oY2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJvdW5kUG9pbnQgPSB0ci5sb2NhdGlvblBvaW50KGFyb3VuZCk7XG5cbiAgICAgICAgaWYgKGdlc3R1cmVJbnRlbnQgPT09ICdyb3RhdGUnKSB7XG4gICAgICAgICAgICB0ci5iZWFyaW5nID0gdGhpcy5fc3RhcnRCZWFyaW5nICsgYmVhcmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLnpvb20gPSB0ci5zY2FsZVpvb20odGhpcy5fc3RhcnRTY2FsZSAqIHNjYWxlKTtcblxuICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQodGhpcy5fc3RhcnRBcm91bmQsIGFyb3VuZFBvaW50KTtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoZ2VzdHVyZUludGVudCwge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RUb3VjaEV2ZW50fSkpO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFRvdWNoRXZlbnR9KSk7XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEucHVzaChbYnJvd3Nlci5ub3coKSwgc2NhbGUsIGNlbnRlcl0pO1xuICAgIH1cblxuICAgIF9vbkVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25FbmQpO1xuXG4gICAgICAgIGNvbnN0IGdlc3R1cmVJbnRlbnQgPSB0aGlzLl9nZXN0dXJlSW50ZW50O1xuICAgICAgICBjb25zdCBzdGFydFNjYWxlID0gdGhpcy5fc3RhcnRTY2FsZTtcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9nZXN0dXJlSW50ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RhcnRTY2FsZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXJ0QmVhcmluZztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RUb3VjaEV2ZW50O1xuXG4gICAgICAgIGlmICghZ2VzdHVyZUludGVudCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudChgJHtnZXN0dXJlSW50ZW50fWVuZGAsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG5cbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAgICAgaWYgKGluZXJ0aWEubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgbWFwLnNuYXBUb05vcnRoKHt9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0ID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgZmlyc3QgPSBpbmVydGlhWzBdLFxuICAgICAgICAgICAgbGFzdFNjYWxlID0gbWFwLnRyYW5zZm9ybS5zY2FsZVpvb20oc3RhcnRTY2FsZSAqIGxhc3RbMV0pLFxuICAgICAgICAgICAgZmlyc3RTY2FsZSA9IG1hcC50cmFuc2Zvcm0uc2NhbGVab29tKHN0YXJ0U2NhbGUgKiBmaXJzdFsxXSksXG4gICAgICAgICAgICBzY2FsZU9mZnNldCA9IGxhc3RTY2FsZSAtIGZpcnN0U2NhbGUsXG4gICAgICAgICAgICBzY2FsZUR1cmF0aW9uID0gKGxhc3RbMF0gLSBmaXJzdFswXSkgLyAxMDAwLFxuICAgICAgICAgICAgcCA9IGxhc3RbMl07XG5cbiAgICAgICAgaWYgKHNjYWxlRHVyYXRpb24gPT09IDAgfHwgbGFzdFNjYWxlID09PSBmaXJzdFNjYWxlKSB7XG4gICAgICAgICAgICBtYXAuc25hcFRvTm9ydGgoe30sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzY2FsZS9zIHNwZWVkIGFuZCBhZGp1c3QgZm9yIGluY3JlYXNlZCBpbml0aWFsIGFuaW1hdGlvbiBzcGVlZCB3aGVuIGVhc2luZ1xuICAgICAgICBsZXQgc3BlZWQgPSBzY2FsZU9mZnNldCAqIGluZXJ0aWFMaW5lYXJpdHkgLyBzY2FsZUR1cmF0aW9uOyAvLyBzY2FsZS9zXG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHNwZWVkKSA+IGluZXJ0aWFNYXhTcGVlZCkge1xuICAgICAgICAgICAgaWYgKHNwZWVkID4gMCkge1xuICAgICAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcGVlZCA9IC1pbmVydGlhTWF4U3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGguYWJzKHNwZWVkIC8gKGluZXJ0aWFEZWNlbGVyYXRpb24gKiBpbmVydGlhTGluZWFyaXR5KSkgKiAxMDAwO1xuICAgICAgICBsZXQgdGFyZ2V0U2NhbGUgPSBsYXN0U2NhbGUgKyBzcGVlZCAqIGR1cmF0aW9uIC8gMjAwMDtcblxuICAgICAgICBpZiAodGFyZ2V0U2NhbGUgPCAwKSB7XG4gICAgICAgICAgICB0YXJnZXRTY2FsZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXAuZWFzZVRvKHtcbiAgICAgICAgICAgIHpvb206IHRhcmdldFNjYWxlLFxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiBpbmVydGlhRWFzaW5nLFxuICAgICAgICAgICAgYXJvdW5kOiB0aGlzLl9hcm91bmRDZW50ZXIgPyBtYXAuZ2V0Q2VudGVyKCkgOiBtYXAudW5wcm9qZWN0KHApLFxuICAgICAgICAgICAgbm9Nb3ZlU3RhcnQ6IHRydWVcbiAgICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgIH1cblxuICAgIF9kcmFpbkluZXJ0aWFCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGN1dG9mZiA9IDE2MDsgLy8gbXNlY1xuXG4gICAgICAgIHdoaWxlIChpbmVydGlhLmxlbmd0aCA+IDIgJiYgbm93IC0gaW5lcnRpYVswXVswXSA+IGN1dG9mZikgaW5lcnRpYS5zaGlmdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG91Y2hab29tUm90YXRlSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IE1hcE1vdXNlRXZlbnQsIE1hcFRvdWNoRXZlbnQsIE1hcFdoZWVsRXZlbnQgfSBmcm9tICcuLi91aS9ldmVudHMnO1xuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHNjcm9sbFpvb20gZnJvbSAnLi9oYW5kbGVyL3Njcm9sbF96b29tJztcbmltcG9ydCBib3hab29tIGZyb20gJy4vaGFuZGxlci9ib3hfem9vbSc7XG5pbXBvcnQgZHJhZ1JvdGF0ZSBmcm9tICcuL2hhbmRsZXIvZHJhZ19yb3RhdGUnO1xuaW1wb3J0IGRyYWdQYW4gZnJvbSAnLi9oYW5kbGVyL2RyYWdfcGFuJztcbmltcG9ydCBrZXlib2FyZCBmcm9tICcuL2hhbmRsZXIva2V5Ym9hcmQnO1xuaW1wb3J0IGRvdWJsZUNsaWNrWm9vbSBmcm9tICcuL2hhbmRsZXIvZGJsY2xpY2tfem9vbSc7XG5pbXBvcnQgdG91Y2hab29tUm90YXRlIGZyb20gJy4vaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZSc7XG5cbmNvbnN0IGhhbmRsZXJzID0ge1xuICAgIHNjcm9sbFpvb20sXG4gICAgYm94Wm9vbSxcbiAgICBkcmFnUm90YXRlLFxuICAgIGRyYWdQYW4sXG4gICAga2V5Ym9hcmQsXG4gICAgZG91YmxlQ2xpY2tab29tLFxuICAgIHRvdWNoWm9vbVJvdGF0ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEhhbmRsZXJzKG1hcDogTWFwLCBvcHRpb25zOiB7aW50ZXJhY3RpdmU6IGJvb2xlYW4sIGNsaWNrVG9sZXJhbmNlOiBudW1iZXJ9KSB7XG4gICAgY29uc3QgZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgbGV0IGNvbnRleHRNZW51RXZlbnQgPSBudWxsO1xuICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTtcbiAgICBsZXQgc3RhcnRQb3MgPSBudWxsO1xuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGhhbmRsZXJzKSB7XG4gICAgICAgIChtYXA6IGFueSlbbmFtZV0gPSBuZXcgaGFuZGxlcnNbbmFtZV0obWFwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgb3B0aW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgKG1hcDogYW55KVtuYW1lXS5lbmFibGUob3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlb3V0Jywgb25Nb3VzZU91dCk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKTtcblxuICAgIC8vIEJpbmQgdG91Y2hzdGFydCBhbmQgdG91Y2htb3ZlIHdpdGggcGFzc2l2ZTogZmFsc2UgYmVjYXVzZSwgZXZlbiB0aG91Z2hcbiAgICAvLyB0aGV5IG9ubHkgZmlyZSBhIG1hcCBldmVudHMgYW5kIHRoZXJlZm9yZSBjb3VsZCB0aGVvcmV0aWNhbGx5IGJlXG4gICAgLy8gcGFzc2l2ZSwgYmluZGluZyB3aXRoIHBhc3NpdmU6IHRydWUgY2F1c2VzIGlPUyBub3QgdG8gcmVzcGVjdFxuICAgIC8vIGUucHJldmVudERlZmF1bHQoKSBpbiBfb3RoZXJfIGhhbmRsZXJzLCBldmVuIGlmIHRoZXkgYXJlIG5vbi1wYXNzaXZlXG4gICAgLy8gKHNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTg0MjUxKVxuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG5cbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaGNhbmNlbCcsIG9uVG91Y2hDYW5jZWwpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnY2xpY2snLCBvbkNsaWNrKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2RibGNsaWNrJywgb25EYmxDbGljayk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnd2hlZWwnLCBvbldoZWVsLCB7cGFzc2l2ZTogZmFsc2V9KTtcblxuICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgc3RhcnRQb3MgPSBET00ubW91c2VQb3MoZWwsIGUpO1xuXG4gICAgICAgIGNvbnN0IG1hcEV2ZW50ID0gbmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgIW1hcC5kb3VibGVDbGlja1pvb20uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5ib3hab29tLm9uTW91c2VEb3duKGUpO1xuXG4gICAgICAgIGlmICghbWFwLmJveFpvb20uaXNBY3RpdmUoKSAmJiAhbWFwLmRyYWdQYW4uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLmRyYWdSb3RhdGUub25Nb3VzZURvd24oZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hcC5ib3hab29tLmlzQWN0aXZlKCkgJiYgIW1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5kcmFnUGFuLm9uTW91c2VEb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgcm90YXRpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuXG4gICAgICAgIGlmIChjb250ZXh0TWVudUV2ZW50ICYmICFyb3RhdGluZykge1xuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGZvciBNYWNcbiAgICAgICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdjb250ZXh0bWVudScsIG1hcCwgY29udGV4dE1lbnVFdmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dE1lbnVFdmVudCA9IG51bGw7XG4gICAgICAgIG1vdXNlRG93biA9IGZhbHNlO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZXVwJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAobWFwLmRyYWdQYW4uaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICBpZiAobWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0YXJnZXQ6ID9Ob2RlID0gKGUudGFyZ2V0OiBhbnkpO1xuICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gZWwpIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlT3ZlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXQ6ID9Ob2RlID0gKGUudGFyZ2V0OiBhbnkpO1xuICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gZWwpIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZW92ZXInLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlT3V0KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlb3V0JywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwVG91Y2hFdmVudCgndG91Y2hzdGFydCcsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIG1hcC5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hcC5ib3hab29tLmlzQWN0aXZlKCkgJiYgIW1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5kcmFnUGFuLm9uVG91Y2hTdGFydChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC50b3VjaFpvb21Sb3RhdGUub25TdGFydChlKTtcbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbS5vblRvdWNoU3RhcnQobWFwRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNobW92ZScsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hFbmQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudCgndG91Y2hlbmQnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblRvdWNoQ2FuY2VsKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNoY2FuY2VsJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25DbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IERPTS5tb3VzZVBvcyhlbCwgZSk7XG4gICAgICAgIGlmIChwb3MuZXF1YWxzKHN0YXJ0UG9zKSB8fCBwb3MuZGlzdChzdGFydFBvcykgPCBvcHRpb25zLmNsaWNrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY2xpY2snLCBtYXAsIGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRGJsQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCBtYXBFdmVudCA9IG5ldyBNYXBNb3VzZUV2ZW50KCdkYmxjbGljaycsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbS5vbkRibENsaWNrKG1hcEV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNvbnRleHRNZW51KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgcm90YXRpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuICAgICAgICBpZiAoIW1vdXNlRG93biAmJiAhcm90YXRpbmcpIHtcbiAgICAgICAgICAgIC8vIFdpbmRvd3M6IGNvbnRleHRtZW51IGZpcmVkIG9uIG1vdXNldXAsIHNvIGZpcmUgZXZlbnQgbm93XG4gICAgICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY29udGV4dG1lbnUnLCBtYXAsIGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3VzZURvd24pIHtcbiAgICAgICAgICAgIC8vIE1hYzogY29udGV4dG1lbnUgZmlyZWQgb24gbW91c2Vkb3duOyB3ZSBzYXZlIGl0IHVudGlsIG1vdXNldXAgZm9yIGNvbnNpc3RlbmN5J3Mgc2FrZVxuICAgICAgICAgICAgY29udGV4dE1lbnVFdmVudCA9IGU7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25XaGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBtYXAuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwV2hlZWxFdmVudCgnd2hlZWwnLCBtYXAsIGUpO1xuICAgICAgICBtYXAuZmlyZShtYXBFdmVudCk7XG5cbiAgICAgICAgaWYgKG1hcEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5zY3JvbGxab29tLm9uV2hlZWwoZSk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBiaW5kQWxsLFxuICAgIGV4dGVuZCxcbiAgICBkZWVwRXF1YWwsXG4gICAgd2Fybk9uY2UsXG4gICAgY2xhbXAsXG4gICAgd3JhcCxcbiAgICBlYXNlIGFzIGRlZmF1bHRFYXNpbmdcbn0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IG51bWJlciBhcyBpbnRlcnBvbGF0ZSB9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgeyBFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0Qm91bmRzTGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZSc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuLyoqXG4gKiBPcHRpb25zIGNvbW1vbiB0byB7QGxpbmsgTWFwI2p1bXBUb30sIHtAbGluayBNYXAjZWFzZVRvfSwgYW5kIHtAbGluayBNYXAjZmx5VG99LCBjb250cm9sbGluZyB0aGUgZGVzaXJlZCBsb2NhdGlvbixcbiAqIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCBvZiB0aGUgY2FtZXJhLiBBbGwgcHJvcGVydGllcyBhcmUgb3B0aW9uYWwsIGFuZCB3aGVuIGEgcHJvcGVydHkgaXMgb21pdHRlZCwgdGhlIGN1cnJlbnRcbiAqIGNhbWVyYSB2YWx1ZSBmb3IgdGhhdCBwcm9wZXJ0eSB3aWxsIHJlbWFpbiB1bmNoYW5nZWQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2FtZXJhT3B0aW9uc1xuICogQHByb3BlcnR5IHtMbmdMYXRMaWtlfSBjZW50ZXIgVGhlIGRlc2lyZWQgY2VudGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb20gVGhlIGRlc2lyZWQgem9vbSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcsIGluIGRlZ3JlZXMuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0XG4gKiBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmcgb2YgOTDCsCBvcmllbnRzIHRoZSBtYXAgc28gdGhhdCBlYXN0IGlzIHVwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBpdGNoIFRoZSBkZXNpcmVkIHBpdGNoLCBpbiBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtMbmdMYXRMaWtlfSBhcm91bmQgSWYgYHpvb21gIGlzIHNwZWNpZmllZCwgYGFyb3VuZGAgZGV0ZXJtaW5lcyB0aGUgcG9pbnQgYXJvdW5kIHdoaWNoIHRoZSB6b29tIGlzIGNlbnRlcmVkLlxuICovXG5leHBvcnQgdHlwZSBDYW1lcmFPcHRpb25zID0ge1xuICAgIGNlbnRlcj86IExuZ0xhdExpa2UsXG4gICAgem9vbT86IG51bWJlcixcbiAgICBiZWFyaW5nPzogbnVtYmVyLFxuICAgIHBpdGNoPzogbnVtYmVyLFxuICAgIGFyb3VuZD86IExuZ0xhdExpa2Vcbn07XG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8gbWFwIG1vdmVtZW50IG1ldGhvZHMgdGhhdCBpbnZvbHZlIGFuaW1hdGlvbiwgc3VjaCBhcyB7QGxpbmsgTWFwI3BhbkJ5fSBhbmRcbiAqIHtAbGluayBNYXAjZWFzZVRvfSwgY29udHJvbGxpbmcgdGhlIGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24gb2YgdGhlIGFuaW1hdGlvbi4gQWxsIHByb3BlcnRpZXNcbiAqIGFyZSBvcHRpb25hbC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gVGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBlYXNpbmcgQSBmdW5jdGlvbiB0YWtpbmcgYSB0aW1lIGluIHRoZSByYW5nZSAwLi4xIGFuZCByZXR1cm5pbmcgYSBudW1iZXIgd2hlcmUgMCBpc1xuICogICB0aGUgaW5pdGlhbCBzdGF0ZSBhbmQgMSBpcyB0aGUgZmluYWwgc3RhdGUuXG4gKiBAcHJvcGVydHkge1BvaW50TGlrZX0gb2Zmc2V0IG9mIHRoZSB0YXJnZXQgY2VudGVyIHJlbGF0aXZlIHRvIHJlYWwgbWFwIGNvbnRhaW5lciBjZW50ZXIgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgSWYgYGZhbHNlYCwgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKi9cbmV4cG9ydCB0eXBlIEFuaW1hdGlvbk9wdGlvbnMgPSB7XG4gICAgZHVyYXRpb24/OiBudW1iZXIsXG4gICAgZWFzaW5nPzogKG51bWJlcikgPT4gbnVtYmVyLFxuICAgIG9mZnNldD86IFBvaW50TGlrZSxcbiAgICBhbmltYXRlPzogYm9vbGVhblxufTtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBzZXR0aW5nIHBhZGRpbmcgb24gYSBjYWxsIHRvIHtAbGluayBNYXAjZml0Qm91bmRzfS4gQWxsIHByb3BlcnRpZXMgb2YgdGhpcyBvYmplY3QgbXVzdCBiZVxuICogbm9uLW5lZ2F0aXZlIGludGVnZXJzLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhZGRpbmdPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG9wIFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIHRvcCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBib3R0b20gUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgYm90dG9tIG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnQgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgbGVmdCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByaWdodCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSByaWdodCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqL1xuXG5jbGFzcyBDYW1lcmEgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBfbW92aW5nOiBib29sZWFuO1xuICAgIF96b29taW5nOiBib29sZWFuO1xuICAgIF9yb3RhdGluZzogYm9vbGVhbjtcbiAgICBfcGl0Y2hpbmc6IGJvb2xlYW47XG5cbiAgICBfYmVhcmluZ1NuYXA6IG51bWJlcjtcbiAgICBfZWFzZUVuZFRpbWVvdXRJRDogVGltZW91dElEO1xuICAgIF9lYXNlU3RhcnQ6IG51bWJlcjtcbiAgICBfZWFzZU9wdGlvbnM6IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChudW1iZXIpID0+IG51bWJlcn07XG5cbiAgICBfb25FYXNlRnJhbWU6IChudW1iZXIpID0+IHZvaWQ7XG4gICAgX29uRWFzZUVuZDogKCkgPT4gdm9pZDtcbiAgICBfZWFzZUZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICArX3JlcXVlc3RSZW5kZXJGcmFtZTogKCgpID0+IHZvaWQpID0+IFRhc2tJRDtcbiAgICArX2NhbmNlbFJlbmRlckZyYW1lOiAoVGFza0lEKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIG9wdGlvbnM6IHtiZWFyaW5nU25hcDogbnVtYmVyfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwO1xuXG4gICAgICAgIGJpbmRBbGwoWydfcmVuZGVyRnJhbWVDYWxsYmFjayddLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICovXG4gICAgZ2V0Q2VudGVyKCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5jZW50ZXI7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC4gRXF1aXZhbGVudCB0byBganVtcFRvKHtjZW50ZXI6IGNlbnRlcn0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGNlbnRlciBUaGUgY2VudGVycG9pbnQgdG8gc2V0LlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRDZW50ZXIoWy03NCwgMzhdKTtcbiAgICAgKi9cbiAgICBzZXRDZW50ZXIoY2VudGVyOiBMbmdMYXRMaWtlLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6IGNlbnRlcn0sIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIGJ5IHRoZSBzcGVjaWZpZWQgb2ZmZXN0LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIGJ5IHdoaWNoIHRvIHBhbiB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW05hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgcGFuQnkob2Zmc2V0OiBQb2ludExpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpLm11bHQoLTEpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsIGV4dGVuZCh7b2Zmc2V0fSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24sIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGxuZ2xhdCBUaGUgbG9jYXRpb24gdG8gcGFuIHRoZSBtYXAgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcGFuVG8obG5nbGF0OiBMbmdMYXRMaWtlLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgY2VudGVyOiBsbmdsYXRcbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIGdldFpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIHpvb20gbGV2ZWwuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7em9vbTogem9vbX0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHpvb20gVGhlIHpvb20gbGV2ZWwgdG8gc2V0ICgwLTIwKS5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gem9vbSB0aGUgbWFwIHRvIDVcbiAgICAgKiBtYXAuc2V0Wm9vbSg1KTtcbiAgICAgKi9cbiAgICBzZXRab29tKHpvb206IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuanVtcFRvKHt6b29tOiB6b29tfSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWm9vbXMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIHpvb20gbGV2ZWwsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHpvb20gVGhlIHpvb20gbGV2ZWwgdG8gdHJhbnNpdGlvbiB0by5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgem9vbVRvKHpvb206IG51bWJlciwgb3B0aW9uczogPyBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFzZVRvKGV4dGVuZCh7XG4gICAgICAgICAgICB6b29tOiB6b29tXG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgbWFwJ3Mgem9vbSBsZXZlbCBieSAxLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgem9vbUluKG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkgKyAxLCBvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNyZWFzZXMgdGhlIG1hcCdzIHpvb20gbGV2ZWwgYnkgMS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHpvb21PdXQob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSAtIDEsIG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgYmVhcmluZy4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZ1xuICAgICAqIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMgVGhlIG1hcCdzIGN1cnJlbnQgYmVhcmluZy5cbiAgICAgKiBAc2VlIFtOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIGdldEJlYXJpbmcoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmc7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGJlYXJpbmcgKHJvdGF0aW9uKS4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZ1xuICAgICAqIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7YmVhcmluZzogYmVhcmluZ30pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZy5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyByb3RhdGUgdGhlIG1hcCB0byA5MCBkZWdyZWVzXG4gICAgICogbWFwLnNldEJlYXJpbmcoOTApO1xuICAgICAqL1xuICAgIHNldEJlYXJpbmcoYmVhcmluZzogbnVtYmVyLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5qdW1wVG8oe2JlYXJpbmc6IGJlYXJpbmd9LCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCBiZWFyaW5nLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvblxuICAgICAqIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZyBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcm90YXRlVG8oYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZzogYmVhcmluZ1xuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlc2V0Tm9ydGgob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnJvdGF0ZVRvKDAsIGV4dGVuZCh7ZHVyYXRpb246IDEwMDB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU25hcHMgdGhlIG1hcCBzbyB0aGF0IG5vcnRoIGlzIHVwICgwwrAgYmVhcmluZyksIGlmIHRoZSBjdXJyZW50IGJlYXJpbmcgaXMgY2xvc2UgZW5vdWdoIHRvIGl0IChpLmUuIHdpdGhpbiB0aGVcbiAgICAgKiBgYmVhcmluZ1NuYXBgIHRocmVzaG9sZCkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNuYXBUb05vcnRoKG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZ2V0QmVhcmluZygpKSA8IHRoaXMuX2JlYXJpbmdTbmFwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNldE5vcnRoKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCBwaXRjaCAodGlsdCkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBjdXJyZW50IHBpdGNoLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBnZXRQaXRjaCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2g7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIHBpdGNoICh0aWx0KS4gRXF1aXZhbGVudCB0byBganVtcFRvKHtwaXRjaDogcGl0Y2h9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBwaXRjaCBUaGUgcGl0Y2ggdG8gc2V0LCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbiAoMC02MCkuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0UGl0Y2gocGl0Y2g6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtwaXRjaDogcGl0Y2h9LCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7TGF0TG5nQm91bmRzTGlrZX0gYm91bmRzIENhbGN1bGF0ZSB0aGUgY2VudGVyIGZvciB0aGVzZSBib3VuZHMgaW4gdGhlIHZpZXdwb3J0IGFuZCB1c2VcbiAgICAgKiAgICAgIHRoZSBoaWdoZXN0IHpvb20gbGV2ZWwgdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzXG4gICAgICogICAgICBpbiB0aGUgdmlld3BvcnQuIExhdExuZ0JvdW5kcyByZXByZXNlbnQgYSBib3ggdGhhdCBpcyBhbHdheXMgYXhpcy1hbGlnbmVkIHdpdGggYmVhcmluZyAwLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0PVswLCAwXV0gVGhlIGNlbnRlciBvZiB0aGUgZ2l2ZW4gYm91bmRzIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBjZW50ZXIsIG1lYXN1cmVkIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbV0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBhbGxvdyB3aGVuIHRoZSBjYW1lcmEgd291bGQgdHJhbnNpdGlvbiB0byB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7Q2FtZXJhT3B0aW9ucyB8IHZvaWR9IElmIG1hcCBpcyBhYmxlIHRvIGZpdCB0byBwcm92aWRlZCBib3VuZHMsIHJldHVybnMgYENhbWVyYU9wdGlvbnNgIHdpdGhcbiAgICAgKiAgICAgIGF0IGxlYXN0IGBjZW50ZXJgLCBgem9vbWAsIGBiZWFyaW5nYCwgYG9mZnNldGAsIGBwYWRkaW5nYCwgYW5kIGBtYXhab29tYCwgYXMgd2VsbCBhcyBhbnkgb3RoZXJcbiAgICAgKiAgICAgIGBvcHRpb25zYCBwcm92aWRlZCBpbiBhcmd1bWVudHMuIElmIG1hcCBpcyB1bmFibGUgdG8gZml0LCBtZXRob2Qgd2lsbCB3YXJuIGFuZCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGJib3ggPSBbWy03OSwgNDNdLCBbLTczLCA0NV1dO1xuICAgICAqIHZhciBuZXdDYW1lcmFUcmFuc2Zvcm0gPSBtYXAuY2FtZXJhRm9yQm91bmRzKGJib3gsIHtcbiAgICAgKiAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBjYW1lcmFGb3JCb3VuZHMoYm91bmRzOiBMbmdMYXRCb3VuZHNMaWtlLCBvcHRpb25zPzogQ2FtZXJhT3B0aW9ucyk6IHZvaWQgfCBDYW1lcmFPcHRpb25zICYgQW5pbWF0aW9uT3B0aW9ucyB7XG4gICAgICAgIGJvdW5kcyA9IExuZ0xhdEJvdW5kcy5jb252ZXJ0KGJvdW5kcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3hBbmRCZWFyaW5nKGJvdW5kcy5nZXROb3J0aFdlc3QoKSwgYm91bmRzLmdldFNvdXRoRWFzdCgpLCAwLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNlbnRlciBvZiB0aGVzZSB0d28gcG9pbnRzIGluIHRoZSB2aWV3cG9ydCBhbmQgdXNlXG4gICAgICogdGhlIGhpZ2hlc3Qgem9vbSBsZXZlbCB1cCB0byBhbmQgaW5jbHVkaW5nIGBNYXAjZ2V0TWF4Wm9vbSgpYCB0aGF0IGZpdHNcbiAgICAgKiB0aGUgcG9pbnRzIGluIHRoZSB2aWV3cG9ydCBhdCB0aGUgc3BlY2lmaWVkIGJlYXJpbmcuXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IHAwIEZpcnN0IHBvaW50XG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBwMSBTZWNvbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0gYmVhcmluZyBEZXNpcmVkIG1hcCBiZWFyaW5nIGF0IGVuZCBvZiBhbmltYXRpb24sIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUGFkZGluZ09wdGlvbnN9IFtvcHRpb25zLnBhZGRpbmddIFRoZSBhbW91bnQgb2YgcGFkZGluZyBpbiBwaXhlbHMgdG8gYWRkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgY2FtZXJhIHdvdWxkIHRyYW5zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHJldHVybnMge0NhbWVyYU9wdGlvbnMgfCB2b2lkfSBJZiBtYXAgaXMgYWJsZSB0byBmaXQgdG8gcHJvdmlkZWQgYm91bmRzLCByZXR1cm5zIGBDYW1lcmFPcHRpb25zYCB3aXRoXG4gICAgICogICAgICBhdCBsZWFzdCBgY2VudGVyYCwgYHpvb21gLCBgYmVhcmluZ2AsIGBvZmZzZXRgLCBgcGFkZGluZ2AsIGFuZCBgbWF4Wm9vbWAsIGFzIHdlbGwgYXMgYW55IG90aGVyXG4gICAgICogICAgICBgb3B0aW9uc2AgcHJvdmlkZWQgaW4gYXJndW1lbnRzLiBJZiBtYXAgaXMgdW5hYmxlIHRvIGZpdCwgbWV0aG9kIHdpbGwgd2FybiBhbmQgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHAwID0gWy03OSwgNDNdO1xuICAgICAqIHZhciBwMSA9IFstNzMsIDQ1XTtcbiAgICAgKiB2YXIgYmVhcmluZyA9IDkwO1xuICAgICAqIHZhciBuZXdDYW1lcmFUcmFuc2Zvcm0gPSBtYXAuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcocDAsIHAxLCBiZWFyaW5nLCB7XG4gICAgICogICBwYWRkaW5nOiB7dG9wOiAxMCwgYm90dG9tOjI1LCBsZWZ0OiAxNSwgcmlnaHQ6IDV9XG4gICAgICogfSk7XG4gICAgICovXG4gICAgX2NhbWVyYUZvckJveEFuZEJlYXJpbmcocDA6IExuZ0xhdExpa2UsIHAxOiBMbmdMYXRMaWtlLCBiZWFyaW5nOiBudW1iZXIsIG9wdGlvbnM/OiBDYW1lcmFPcHRpb25zKTogdm9pZCB8IENhbWVyYU9wdGlvbnMgJiBBbmltYXRpb25PcHRpb25zIHtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBtYXhab29tOiB0aGlzLnRyYW5zZm9ybS5tYXhab29tXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgcCA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgICAgIG9wdGlvbnMucGFkZGluZyA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IHAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWVwRXF1YWwoT2JqZWN0LmtleXMob3B0aW9ucy5wYWRkaW5nKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSksIFtcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiXSkpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgIFwib3B0aW9ucy5wYWRkaW5nIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIsIG9yIGFuIE9iamVjdCB3aXRoIGtleXMgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0JywgJ3RvcCdcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHNlcGFyYXRlIHRoZSBwYXNzZWQgcGFkZGluZyBvcHRpb24gaW50byB0d28gcGFydHMsIHRoZSBwYXJ0IHRoYXQgZG9lcyBub3QgYWZmZWN0IHRoZSBtYXAncyBjZW50ZXJcbiAgICAgICAgLy8gKGxhdGVyYWwgYW5kIHZlcnRpY2FsIHBhZGRpbmcpLCBhbmQgdGhlIHBhcnQgdGhhdCBkb2VzIChwYWRkaW5nT2Zmc2V0KS4gV2UgYWRkIHRoZSBwYWRkaW5nIG9mZnNldFxuICAgICAgICAvLyB0byB0aGUgb3B0aW9ucyBgb2Zmc2V0YCBvYmplY3Qgd2hlcmUgaXQgY2FuIGFsdGVyIHRoZSBtYXAncyBjZW50ZXIgaW4gdGhlIHN1YnNlcXVlbnQgY2FsbHMgdG9cbiAgICAgICAgLy8gYGVhc2VUb2AgYW5kIGBmbHlUb2AuXG4gICAgICAgIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSBbKG9wdGlvbnMucGFkZGluZy5sZWZ0IC0gb3B0aW9ucy5wYWRkaW5nLnJpZ2h0KSAvIDIsIChvcHRpb25zLnBhZGRpbmcudG9wIC0gb3B0aW9ucy5wYWRkaW5nLmJvdHRvbSkgLyAyXSxcbiAgICAgICAgICAgIGxhdGVyYWxQYWRkaW5nID0gTWF0aC5taW4ob3B0aW9ucy5wYWRkaW5nLnJpZ2h0LCBvcHRpb25zLnBhZGRpbmcubGVmdCksXG4gICAgICAgICAgICB2ZXJ0aWNhbFBhZGRpbmcgPSBNYXRoLm1pbihvcHRpb25zLnBhZGRpbmcudG9wLCBvcHRpb25zLnBhZGRpbmcuYm90dG9tKTtcbiAgICAgICAgb3B0aW9ucy5vZmZzZXQgPSBbb3B0aW9ucy5vZmZzZXRbMF0gKyBwYWRkaW5nT2Zmc2V0WzBdLCBvcHRpb25zLm9mZnNldFsxXSArIHBhZGRpbmdPZmZzZXRbMV1dO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIC8vIHdlIHdhbnQgdG8gY2FsY3VsYXRlIHRoZSB1cHBlciByaWdodCBhbmQgbG93ZXIgbGVmdCBvZiB0aGUgYm94IGRlZmluZWQgYnkgcDAgYW5kIHAxXG4gICAgICAgIC8vIGluIGEgY29vcmRpbmF0ZSBzeXN0ZW0gcm90YXRlIHRvIG1hdGNoIHRoZSBkZXN0aW5hdGlvbiBiZWFyaW5nLlxuICAgICAgICBjb25zdCBwMHdvcmxkID0gdHIucHJvamVjdChMbmdMYXQuY29udmVydChwMCkpO1xuICAgICAgICBjb25zdCBwMXdvcmxkID0gdHIucHJvamVjdChMbmdMYXQuY29udmVydChwMSkpO1xuICAgICAgICBjb25zdCBwMHJvdGF0ZWQgPSBwMHdvcmxkLnJvdGF0ZSgtYmVhcmluZyAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICBjb25zdCBwMXJvdGF0ZWQgPSBwMXdvcmxkLnJvdGF0ZSgtYmVhcmluZyAqIE1hdGguUEkgLyAxODApO1xuXG4gICAgICAgIGNvbnN0IHVwcGVyUmlnaHQgPSBuZXcgUG9pbnQoTWF0aC5tYXgocDByb3RhdGVkLngsIHAxcm90YXRlZC54KSwgTWF0aC5tYXgocDByb3RhdGVkLnksIHAxcm90YXRlZC55KSk7XG4gICAgICAgIGNvbnN0IGxvd2VyTGVmdCA9IG5ldyBQb2ludChNYXRoLm1pbihwMHJvdGF0ZWQueCwgcDFyb3RhdGVkLngpLCBNYXRoLm1pbihwMHJvdGF0ZWQueSwgcDFyb3RhdGVkLnkpKTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSxcbiAgICAgICAgICAgIHNpemUgPSB1cHBlclJpZ2h0LnN1Yihsb3dlckxlZnQpLFxuICAgICAgICAgICAgc2NhbGVYID0gKHRyLndpZHRoIC0gbGF0ZXJhbFBhZGRpbmcgKiAyIC0gTWF0aC5hYnMob2Zmc2V0LngpICogMikgLyBzaXplLngsXG4gICAgICAgICAgICBzY2FsZVkgPSAodHIuaGVpZ2h0IC0gdmVydGljYWxQYWRkaW5nICogMiAtIE1hdGguYWJzKG9mZnNldC55KSAqIDIpIC8gc2l6ZS55O1xuXG4gICAgICAgIGlmIChzY2FsZVkgPCAwIHx8IHNjYWxlWCA8IDApIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgICdNYXAgY2Fubm90IGZpdCB3aXRoaW4gY2FudmFzIHdpdGggdGhlIGdpdmVuIGJvdW5kcywgcGFkZGluZywgYW5kL29yIG9mZnNldC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gIHRyLnVucHJvamVjdChwMHdvcmxkLmFkZChwMXdvcmxkKS5kaXYoMikpO1xuICAgICAgICBvcHRpb25zLnpvb20gPSBNYXRoLm1pbih0ci5zY2FsZVpvb20odHIuc2NhbGUgKiBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkpLCBvcHRpb25zLm1heFpvb20pO1xuICAgICAgICBvcHRpb25zLmJlYXJpbmcgPSBiZWFyaW5nO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMgYW5kIHpvb21zIHRoZSBtYXAgdG8gY29udGFpbiBpdHMgdmlzaWJsZSBhcmVhIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGFsc28gcmVzZXQgdGhlIG1hcCdzIGJlYXJpbmcgdG8gMCBpZiBiZWFyaW5nIGlzIG5vbnplcm8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBib3VuZHMgQ2VudGVyIHRoZXNlIGJvdW5kcyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZSB0aGUgaGlnaGVzdFxuICAgICAqICAgICAgem9vbSBsZXZlbCB1cCB0byBhbmQgaW5jbHVkaW5nIGBNYXAjZ2V0TWF4Wm9vbSgpYCB0aGF0IGZpdHMgdGhlbSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHN1cHBvcnRzIGFsbCBwcm9wZXJ0aWVzIGZyb20ge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGFuZCB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gaW4gYWRkaXRpb24gdG8gdGhlIGZpZWxkcyBiZWxvdy5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IFBhZGRpbmdPcHRpb25zfSBbb3B0aW9ucy5wYWRkaW5nXSBUaGUgYW1vdW50IG9mIHBhZGRpbmcgaW4gcGl4ZWxzIHRvIGFkZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGluZWFyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAgdHJhbnNpdGlvbnMgdXNpbmdcbiAgICAgKiAgICAge0BsaW5rIE1hcCNlYXNlVG99LiBJZiBgZmFsc2VgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nIHtAbGluayBNYXAjZmx5VG99LiBTZWVcbiAgICAgKiAgICAgdGhvc2UgZnVuY3Rpb25zIGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30gZm9yIGluZm9ybWF0aW9uIGFib3V0IG9wdGlvbnMgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmVhc2luZ10gQW4gZWFzaW5nIGZ1bmN0aW9uIGZvciB0aGUgYW5pbWF0ZWQgdHJhbnNpdGlvbi4gU2VlIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0PVswLCAwXV0gVGhlIGNlbnRlciBvZiB0aGUgZ2l2ZW4gYm91bmRzIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBjZW50ZXIsIG1lYXN1cmVkIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbV0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBhbGxvdyB3aGVuIHRoZSBtYXAgdmlldyB0cmFuc2l0aW9ucyB0byB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50RGF0YV0gQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2Bcblx0ICogQGV4YW1wbGVcbiAgICAgKiB2YXIgYmJveCA9IFtbLTc5LCA0M10sIFstNzMsIDQ1XV07XG4gICAgICogbWFwLmZpdEJvdW5kcyhiYm94LCB7XG4gICAgICogICBwYWRkaW5nOiB7dG9wOiAxMCwgYm90dG9tOjI1LCBsZWZ0OiAxNSwgcmlnaHQ6IDV9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRml0IGEgbWFwIHRvIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpdGJvdW5kcy8pXG4gICAgICovXG4gICAgZml0Qm91bmRzKGJvdW5kczogTG5nTGF0Qm91bmRzTGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMgJiBDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKFxuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3JCb3VuZHMoYm91bmRzLCBvcHRpb25zKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMsIHJvdGF0ZXMgYW5kIHpvb21zIHRoZSBtYXAgdG8gdG8gZml0IHRoZSBib3ggbWFkZSBieSBwb2ludHMgcDAgYW5kIHAxXG4gICAgICogb25jZSB0aGUgbWFwIGlzIHJvdGF0ZWQgdG8gdGhlIHNwZWNpZmllZCBiZWFyaW5nLiBUbyB6b29tIHdpdGhvdXQgcm90YXRpbmcsXG4gICAgICogcGFzcyBpbiB0aGUgY3VycmVudCBtYXAgYmVhcmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHAwIEZpcnN0IHBvaW50IG9uIHNjcmVlbiwgaW4gcGl4ZWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0gcDEgU2Vjb25kIHBvaW50IG9uIHNjcmVlbiwgaW4gcGl4ZWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0gYmVhcmluZyBEZXNpcmVkIG1hcCBiZWFyaW5nIGF0IGVuZCBvZiBhbmltYXRpb24sIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUGFkZGluZ09wdGlvbnN9IFtvcHRpb25zLnBhZGRpbmddIFRoZSBhbW91bnQgb2YgcGFkZGluZyBpbiBwaXhlbHMgdG8gYWRkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5saW5lYXI9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZ1xuICAgICAqICAgICB7QGxpbmsgTWFwI2Vhc2VUb30uIElmIGBmYWxzZWAsIHRoZSBtYXAgdHJhbnNpdGlvbnMgdXNpbmcge0BsaW5rIE1hcCNmbHlUb30uIFNlZVxuICAgICAqICAgICB0aG9zZSBmdW5jdGlvbnMgYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgb3B0aW9ucyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZWFzaW5nXSBBbiBlYXNpbmcgZnVuY3Rpb24gZm9yIHRoZSBhbmltYXRlZCB0cmFuc2l0aW9uLiBTZWUge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBbb3B0aW9ucy5vZmZzZXQ9WzAsIDBdXSBUaGUgY2VudGVyIG9mIHRoZSBnaXZlbiBib3VuZHMgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGNlbnRlciwgbWVhc3VyZWQgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhab29tXSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIGFsbG93IHdoZW4gdGhlIG1hcCB2aWV3IHRyYW5zaXRpb25zIHRvIHRoZSBzcGVjaWZpZWQgYm91bmRzLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2Bcblx0ICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcDAgPSBbMjIwLCA0MDBdO1xuICAgICAqIHZhciBwMSA9IFs1MDAsIDkwMF07XG4gICAgICogbWFwLmZpdFNjcmVlbkNvb3JkaW50ZXMocDAsIHAxLCBtYXAuZ2V0QmVhcmluZygpLCB7XG4gICAgICogICBwYWRkaW5nOiB7dG9wOiAxMCwgYm90dG9tOjI1LCBsZWZ0OiAxNSwgcmlnaHQ6IDV9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbVXNlZCBieSBCb3hab29tSGFuZGxlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLyNib3h6b29taGFuZGxlcilcbiAgICAgKi9cbiAgICBmaXRTY3JlZW5Db29yZGluYXRlcyhwMDogUG9pbnRMaWtlLCBwMTogUG9pbnRMaWtlLCBiZWFyaW5nOiBudW1iZXIsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zICYgQ2FtZXJhT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXRJbnRlcm5hbChcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcoXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihQb2ludC5jb252ZXJ0KHAwKSksXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihQb2ludC5jb252ZXJ0KHAxKSksXG4gICAgICAgICAgICAgICAgYmVhcmluZyxcbiAgICAgICAgICAgICAgICBvcHRpb25zKSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBldmVudERhdGEpO1xuICAgIH1cblxuICAgIF9maXRJbnRlcm5hbChjYWxjdWxhdGVkT3B0aW9ucz86IENhbWVyYU9wdGlvbnMgJiBBbmltYXRpb25PcHRpb25zLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucyAmIENhbWVyYU9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICAvLyBjYW1lcmFGb3JCb3VuZHMgd2FybnMgKyByZXR1cm5zIHVuZGVmaW5lZCBpZiB1bmFibGUgdG8gZml0OlxuICAgICAgICBpZiAoIWNhbGN1bGF0ZWRPcHRpb25zKSByZXR1cm4gdGhpcztcblxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKGNhbGN1bGF0ZWRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5saW5lYXIgP1xuICAgICAgICAgICAgdGhpcy5lYXNlVG8ob3B0aW9ucywgZXZlbnREYXRhKSA6XG4gICAgICAgICAgICB0aGlzLmZseVRvKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIHdpdGhvdXRcbiAgICAgKiBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLiBUaGUgbWFwIHdpbGwgcmV0YWluIGl0cyBjdXJyZW50IHZhbHVlcyBmb3IgYW55XG4gICAgICogZGV0YWlscyBub3Qgc3BlY2lmaWVkIGluIGBvcHRpb25zYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyByb3RhdGVcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIHBpdGNoXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEBmaXJlcyBwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIGp1bXBUbyhvcHRpb25zOiBDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgbGV0IHpvb21DaGFuZ2VkID0gZmFsc2UsXG4gICAgICAgICAgICBiZWFyaW5nQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgcGl0Y2hDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCd6b29tJyBpbiBvcHRpb25zICYmIHRyLnpvb20gIT09ICtvcHRpb25zLnpvb20pIHtcbiAgICAgICAgICAgIHpvb21DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLnpvb20gPSArb3B0aW9ucy56b29tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRyLmNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnYmVhcmluZycgaW4gb3B0aW9ucyAmJiB0ci5iZWFyaW5nICE9PSArb3B0aW9ucy5iZWFyaW5nKSB7XG4gICAgICAgICAgICBiZWFyaW5nQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci5iZWFyaW5nID0gK29wdGlvbnMuYmVhcmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgncGl0Y2gnIGluIG9wdGlvbnMgJiYgdHIucGl0Y2ggIT09ICtvcHRpb25zLnBpdGNoKSB7XG4gICAgICAgICAgICBwaXRjaENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIucGl0Y2ggPSArb3B0aW9ucy5waXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoem9vbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZWFyaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncm90YXRlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpdGNoQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCBldmVudERhdGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogYmV0d2VlbiBvbGQgYW5kIG5ldyB2YWx1ZXMuIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgICAgICAgICBBY2NlcHRzIHtAbGluayBDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIHJvdGF0ZVxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgcGl0Y2hcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQGZpcmVzIHBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBlYXNlVG8ob3B0aW9uczogQ2FtZXJhT3B0aW9ucyAmIEFuaW1hdGlvbk9wdGlvbnMgJiB7ZGVsYXlFbmRFdmVudHM/OiBudW1iZXJ9LCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBvZmZzZXQ6IFswLCAwXSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICBlYXNpbmc6IGRlZmF1bHRFYXNpbmdcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UpIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBzdGFydFpvb20gPSB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IHRoaXMuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgc3RhcnRQaXRjaCA9IHRoaXMuZ2V0UGl0Y2goKSxcblxuICAgICAgICAgICAgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gK29wdGlvbnMuem9vbSA6IHN0YXJ0Wm9vbSxcbiAgICAgICAgICAgIGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nLFxuICAgICAgICAgICAgcGl0Y2ggPSAncGl0Y2gnIGluIG9wdGlvbnMgPyArb3B0aW9ucy5waXRjaCA6IHN0YXJ0UGl0Y2g7XG5cbiAgICAgICAgY29uc3QgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fbm9ybWFsaXplQ2VudGVyKGNlbnRlcik7XG5cbiAgICAgICAgY29uc3QgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdHIucHJvamVjdChjZW50ZXIpLnN1Yihmcm9tKTtcbiAgICAgICAgY29uc3QgZmluYWxTY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcblxuICAgICAgICBsZXQgYXJvdW5kLCBhcm91bmRQb2ludDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hcm91bmQpIHtcbiAgICAgICAgICAgIGFyb3VuZCA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuYXJvdW5kKTtcbiAgICAgICAgICAgIGFyb3VuZFBvaW50ID0gdHIubG9jYXRpb25Qb2ludChhcm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9ICh6b29tICE9PSBzdGFydFpvb20pO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IChzdGFydEJlYXJpbmcgIT09IGJlYXJpbmcpO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IChwaXRjaCAhPT0gc3RhcnRQaXRjaCk7XG5cbiAgICAgICAgdGhpcy5fcHJlcGFyZUVhc2UoZXZlbnREYXRhLCBvcHRpb25zLm5vTW92ZVN0YXJ0KTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZWFzZUVuZFRpbWVvdXRJRCk7XG5cbiAgICAgICAgdGhpcy5fZWFzZSgoaykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgICAgICB0ci56b29tID0gaW50ZXJwb2xhdGUoc3RhcnRab29tLCB6b29tLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgICAgIHRyLmJlYXJpbmcgPSBpbnRlcnBvbGF0ZShzdGFydEJlYXJpbmcsIGJlYXJpbmcsIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhcm91bmQpIHtcbiAgICAgICAgICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQoYXJvdW5kLCBhcm91bmRQb2ludCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdHIuem9vbVNjYWxlKHRyLnpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB6b29tID4gc3RhcnRab29tID9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oMiwgZmluYWxTY2FsZSkgOlxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLjUsIGZpbmFsU2NhbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkdXAgPSBNYXRoLnBvdyhiYXNlLCAxIC0gayk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2VudGVyID0gdHIudW5wcm9qZWN0KGZyb20uYWRkKGRlbHRhLm11bHQoayAqIHNwZWVkdXApKS5tdWx0KHNjYWxlKSk7XG4gICAgICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG5cbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVsYXlFbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNlRW5kVGltZW91dElEID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLl9hZnRlckVhc2UoZXZlbnREYXRhKSwgb3B0aW9ucy5kZWxheUVuZEV2ZW50cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FmdGVyRWFzZShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfcHJlcGFyZUVhc2UoZXZlbnREYXRhPzogT2JqZWN0LCBub01vdmVTdGFydDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICghbm9Nb3ZlU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcbiAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZnRlckVhc2UoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHdhc1pvb21pbmcgPSB0aGlzLl96b29taW5nO1xuICAgICAgICBjb25zdCB3YXNSb3RhdGluZyA9IHRoaXMuX3JvdGF0aW5nO1xuICAgICAgICBjb25zdCB3YXNQaXRjaGluZyA9IHRoaXMuX3BpdGNoaW5nO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3YXNab29taW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1JvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUGl0Y2hpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgYW55IGNvbWJpbmF0aW9uIG9mIGNlbnRlciwgem9vbSwgYmVhcmluZywgYW5kIHBpdGNoLCBhbmltYXRpbmcgdGhlIHRyYW5zaXRpb24gYWxvbmcgYSBjdXJ2ZSB0aGF0XG4gICAgICogZXZva2VzIGZsaWdodC4gVGhlIGFuaW1hdGlvbiBzZWFtbGVzc2x5IGluY29ycG9yYXRlcyB6b29taW5nIGFuZCBwYW5uaW5nIHRvIGhlbHBcbiAgICAgKiB0aGUgdXNlciBtYWludGFpbiBoZXIgYmVhcmluZ3MgZXZlbiBhZnRlciB0cmF2ZXJzaW5nIGEgZ3JlYXQgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb24gYW5kIGFuaW1hdGlvbiBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30sIHtAbGluayBBbmltYXRpb25PcHRpb25zfSxcbiAgICAgKiAgICAgYW5kIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXJ2ZT0xLjQyXSBUaGUgem9vbWluZyBcImN1cnZlXCIgdGhhdCB3aWxsIG9jY3VyIGFsb25nIHRoZVxuICAgICAqICAgICBmbGlnaHQgcGF0aC4gQSBoaWdoIHZhbHVlIG1heGltaXplcyB6b29taW5nIGZvciBhbiBleGFnZ2VyYXRlZCBhbmltYXRpb24sIHdoaWxlIGEgbG93XG4gICAgICogICAgIHZhbHVlIG1pbmltaXplcyB6b29taW5nIGZvciBhbiBlZmZlY3QgY2xvc2VyIHRvIHtAbGluayBNYXAjZWFzZVRvfS4gMS40MiBpcyB0aGUgYXZlcmFnZVxuICAgICAqICAgICB2YWx1ZSBzZWxlY3RlZCBieSBwYXJ0aWNpcGFudHMgaW4gdGhlIHVzZXIgc3R1ZHkgZGlzY3Vzc2VkIGluXG4gICAgICogICAgIFt2YW4gV2lqayAoMjAwMyldKGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYpLiBBIHZhbHVlIG9mXG4gICAgICogICAgIGBNYXRoLnBvdyg2LCAwLjI1KWAgd291bGQgYmUgZXF1aXZhbGVudCB0byB0aGUgcm9vdCBtZWFuIHNxdWFyZWQgYXZlcmFnZSB2ZWxvY2l0eS4gQVxuICAgICAqICAgICB2YWx1ZSBvZiAxIHdvdWxkIHByb2R1Y2UgYSBjaXJjdWxhciBtb3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pblpvb21dIFRoZSB6ZXJvLWJhc2VkIHpvb20gbGV2ZWwgYXQgdGhlIHBlYWsgb2YgdGhlIGZsaWdodCBwYXRoLiBJZlxuICAgICAqICAgICBgb3B0aW9ucy5jdXJ2ZWAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zcGVlZD0xLjJdIFRoZSBhdmVyYWdlIHNwZWVkIG9mIHRoZSBhbmltYXRpb24gZGVmaW5lZCBpbiByZWxhdGlvbiB0b1xuICAgICAqICAgICBgb3B0aW9ucy5jdXJ2ZWAuIEEgc3BlZWQgb2YgMS4yIG1lYW5zIHRoYXQgdGhlIG1hcCBhcHBlYXJzIHRvIG1vdmUgYWxvbmcgdGhlIGZsaWdodCBwYXRoXG4gICAgICogICAgIGJ5IDEuMiB0aW1lcyBgb3B0aW9ucy5jdXJ2ZWAgc2NyZWVuZnVscyBldmVyeSBzZWNvbmQuIEEgX3NjcmVlbmZ1bF8gaXMgdGhlIG1hcCdzIHZpc2libGUgc3Bhbi5cbiAgICAgKiAgICAgSXQgZG9lcyBub3QgY29ycmVzcG9uZCB0byBhIGZpeGVkIHBoeXNpY2FsIGRpc3RhbmNlLCBidXQgdmFyaWVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjcmVlblNwZWVkXSBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIG1lYXN1cmVkIGluIHNjcmVlbmZ1bHNcbiAgICAgKiAgICAgcGVyIHNlY29uZCwgYXNzdW1pbmcgYSBsaW5lYXIgdGltaW5nIGN1cnZlLiBJZiBgb3B0aW9ucy5zcGVlZGAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhEdXJhdGlvbl0gVGhlIGFuaW1hdGlvbidzIG1heGltdW0gZHVyYXRpb24sIG1lYXN1cmVkIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiAgICAgSWYgZHVyYXRpb24gZXhjZWVkcyBtYXhpbXVtIGR1cmF0aW9uLCBpdCByZXNldHMgdG8gMC5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgcm90YXRlXG4gICAgICogQGZpcmVzIHBpdGNoXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEBmaXJlcyBwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZmx5IHdpdGggZGVmYXVsdCBvcHRpb25zIHRvIG51bGwgaXNsYW5kXG4gICAgICogbWFwLmZseVRvKHtjZW50ZXI6IFswLCAwXSwgem9vbTogOX0pO1xuICAgICAqIC8vIHVzaW5nIGZseVRvIG9wdGlvbnNcbiAgICAgKiBtYXAuZmx5VG8oe1xuICAgICAqICAgY2VudGVyOiBbMCwgMF0sXG4gICAgICogICB6b29tOiA5LFxuICAgICAqICAgc3BlZWQ6IDAuMixcbiAgICAgKiAgIGN1cnZlOiAxLFxuICAgICAqICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgcmV0dXJuIHQ7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRmx5IHRvIGEgbG9jYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8vKVxuICAgICAqIEBzZWUgW1Nsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by1vcHRpb25zLylcbiAgICAgKiBAc2VlIFtGbHkgdG8gYSBsb2NhdGlvbiBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2Nyb2xsLWZseS10by8pXG4gICAgICovXG4gICAgZmx5VG8ob3B0aW9uczogT2JqZWN0LCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgaW1wbGVtZW50cyBhbiDigJxvcHRpbWFsIHBhdGjigJ0gYW5pbWF0aW9uLCBhcyBkZXRhaWxlZCBpbjpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVmFuIFdpamssIEphcmtlIEouOyBOdWlqLCBXaW0gQS4gQS4g4oCcU21vb3RoIGFuZCBlZmZpY2llbnQgem9vbWluZyBhbmQgcGFubmluZy7igJ0gSU5GT1ZJU1xuICAgICAgICAvLyAgIOKAmTAzLiBwcC4gMTXigJMyMi4gPGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYjcGFnZT01Pi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2hlcmUgYXBwbGljYWJsZSwgbG9jYWwgdmFyaWFibGUgZG9jdW1lbnRhdGlvbiBiZWdpbnMgd2l0aCB0aGUgYXNzb2NpYXRlZCB2YXJpYWJsZSBvclxuICAgICAgICAvLyBmdW5jdGlvbiBpbiB2YW4gV2lqayAoMjAwMykuXG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBvZmZzZXQ6IFswLCAwXSxcbiAgICAgICAgICAgIHNwZWVkOiAxLjIsXG4gICAgICAgICAgICBjdXJ2ZTogMS40MixcbiAgICAgICAgICAgIGVhc2luZzogZGVmYXVsdEVhc2luZ1xuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgc3RhcnRab29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgICBzdGFydEJlYXJpbmcgPSB0aGlzLmdldEJlYXJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0UGl0Y2ggPSB0aGlzLmdldFBpdGNoKCk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gY2xhbXAoK29wdGlvbnMuem9vbSwgdHIubWluWm9vbSwgdHIubWF4Wm9vbSkgOiBzdGFydFpvb207XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nO1xuICAgICAgICBjb25zdCBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaDtcblxuICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgY29uc3QgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fbm9ybWFsaXplQ2VudGVyKGNlbnRlcik7XG5cbiAgICAgICAgY29uc3QgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdHIucHJvamVjdChjZW50ZXIpLnN1Yihmcm9tKTtcblxuICAgICAgICBsZXQgcmhvID0gb3B0aW9ucy5jdXJ2ZTtcblxuICAgICAgICAvLyB34oKAOiBJbml0aWFsIHZpc2libGUgc3BhbiwgbWVhc3VyZWQgaW4gcGl4ZWxzIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICBjb25zdCB3MCA9IE1hdGgubWF4KHRyLndpZHRoLCB0ci5oZWlnaHQpLFxuICAgICAgICAgICAgLy8gd+KCgTogRmluYWwgdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgd2l0aCByZXNwZWN0IHRvIHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICAgICAgdzEgPSB3MCAvIHNjYWxlLFxuICAgICAgICAgICAgLy8gTGVuZ3RoIG9mIHRoZSBmbGlnaHQgcGF0aCBhcyBwcm9qZWN0ZWQgb250byB0aGUgZ3JvdW5kIHBsYW5lLCBtZWFzdXJlZCBpbiBwaXhlbHMgZnJvbVxuICAgICAgICAgICAgLy8gdGhlIHdvcmxkIGltYWdlIG9yaWdpbiBhdCB0aGUgaW5pdGlhbCBzY2FsZS5cbiAgICAgICAgICAgIHUxID0gZGVsdGEubWFnKCk7XG5cbiAgICAgICAgaWYgKCdtaW5ab29tJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5ab29tID0gY2xhbXAoTWF0aC5taW4ob3B0aW9ucy5taW5ab29tLCBzdGFydFpvb20sIHpvb20pLCB0ci5taW5ab29tLCB0ci5tYXhab29tKTtcbiAgICAgICAgICAgIC8vIHc8c3ViPm08L3N1Yj46IE1heGltdW0gdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgd2l0aCByZXNwZWN0IHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAvLyBzY2FsZS5cbiAgICAgICAgICAgIGNvbnN0IHdNYXggPSB3MCAvIHRyLnpvb21TY2FsZShtaW5ab29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgICAgIHJobyA9IE1hdGguc3FydCh3TWF4IC8gdTEgKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIM+BwrJcbiAgICAgICAgY29uc3QgcmhvMiA9IHJobyAqIHJobztcblxuICAgICAgICAvKipcbiAgICAgICAgICogcuG1ojogUmV0dXJucyB0aGUgem9vbS1vdXQgZmFjdG9yIGF0IG9uZSBlbmQgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGkgMCBmb3IgdGhlIGFzY2VudCBvciAxIGZvciB0aGUgZGVzY2VudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHIoaSkge1xuICAgICAgICAgICAgY29uc3QgYiA9ICh3MSAqIHcxIC0gdzAgKiB3MCArIChpID8gLTEgOiAxKSAqIHJobzIgKiByaG8yICogdTEgKiB1MSkgLyAoMiAqIChpID8gdzEgOiB3MCkgKiByaG8yICogdTEpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydChiICogYiArIDEpIC0gYik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaW5oKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSAtIE1hdGguZXhwKC1uKSkgLyAyOyB9XG4gICAgICAgIGZ1bmN0aW9uIGNvc2gobikgeyByZXR1cm4gKE1hdGguZXhwKG4pICsgTWF0aC5leHAoLW4pKSAvIDI7IH1cbiAgICAgICAgZnVuY3Rpb24gdGFuaChuKSB7IHJldHVybiBzaW5oKG4pIC8gY29zaChuKTsgfVxuXG4gICAgICAgIC8vIHLigoA6IFpvb20tb3V0IGZhY3RvciBkdXJpbmcgYXNjZW50LlxuICAgICAgICBjb25zdCByMCA9IHIoMCk7XG5cbiAgICAgICAgLy8gdyhzKTogUmV0dXJucyB0aGUgdmlzaWJsZSBzcGFuIG9uIHRoZSBncm91bmQsIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlXG4gICAgICAgIC8vIGluaXRpYWwgc2NhbGUuIEFzc3VtZXMgYW4gYW5ndWxhciBmaWVsZCBvZiB2aWV3IG9mIDIgYXJjdGFuIMK9IOKJiCA1M8KwLlxuICAgICAgICBsZXQgdzogKG51bWJlcikgPT4gbnVtYmVyID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiAoY29zaChyMCkgLyBjb3NoKHIwICsgcmhvICogcykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHUocyk6IFJldHVybnMgdGhlIGRpc3RhbmNlIGFsb25nIHRoZSBmbGlnaHQgcGF0aCBhcyBwcm9qZWN0ZWQgb250byB0aGUgZ3JvdW5kIHBsYW5lLFxuICAgICAgICAvLyBtZWFzdXJlZCBpbiBwaXhlbHMgZnJvbSB0aGUgd29ybGQgaW1hZ2Ugb3JpZ2luIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICBsZXQgdTogKG51bWJlcikgPT4gbnVtYmVyID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB3MCAqICgoY29zaChyMCkgKiB0YW5oKHIwICsgcmhvICogcykgLSBzaW5oKHIwKSkgLyByaG8yKSAvIHUxO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFM6IFRvdGFsIGxlbmd0aCBvZiB0aGUgZmxpZ2h0IHBhdGgsIG1lYXN1cmVkIGluIM+BLXNjcmVlbmZ1bHMuXG4gICAgICAgIGxldCBTID0gKHIoMSkgLSByMCkgLyByaG87XG5cbiAgICAgICAgLy8gV2hlbiB14oKAID0gdeKCgSwgdGhlIG9wdGltYWwgcGF0aCBkb2VzbuKAmXQgcmVxdWlyZSBib3RoIGFzY2VudCBhbmQgZGVzY2VudC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHUxKSA8IDAuMDAwMDAxIHx8ICFpc0Zpbml0ZShTKSkge1xuICAgICAgICAgICAgLy8gUGVyZm9ybSBhIG1vcmUgb3IgbGVzcyBpbnN0YW50YW5lb3VzIHRyYW5zaXRpb24gaWYgdGhlIHBhdGggaXMgdG9vIHNob3J0LlxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHcwIC0gdzEpIDwgMC4wMDAwMDEpIHJldHVybiB0aGlzLmVhc2VUbyhvcHRpb25zLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBjb25zdCBrID0gdzEgPCB3MCA/IC0xIDogMTtcbiAgICAgICAgICAgIFMgPSBNYXRoLmFicyhNYXRoLmxvZyh3MSAvIHcwKSkgLyByaG87XG5cbiAgICAgICAgICAgIHUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4gICAgICAgICAgICB3ID0gZnVuY3Rpb24ocykgeyByZXR1cm4gTWF0aC5leHAoayAqIHJobyAqIHMpOyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdkdXJhdGlvbicgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9ICtvcHRpb25zLmR1cmF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgViA9ICdzY3JlZW5TcGVlZCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnNjcmVlblNwZWVkIC8gcmhvIDogK29wdGlvbnMuc3BlZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gMTAwMCAqIFMgLyBWO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4RHVyYXRpb24gJiYgb3B0aW9ucy5kdXJhdGlvbiA+IG9wdGlvbnMubWF4RHVyYXRpb24pIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JvdGF0aW5nID0gKHN0YXJ0QmVhcmluZyAhPT0gYmVhcmluZyk7XG4gICAgICAgIHRoaXMuX3BpdGNoaW5nID0gKHBpdGNoICE9PSBzdGFydFBpdGNoKTtcblxuICAgICAgICB0aGlzLl9wcmVwYXJlRWFzZShldmVudERhdGEsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9lYXNlKChrKSA9PiB7XG4gICAgICAgICAgICAvLyBzOiBUaGUgZGlzdGFuY2UgdHJhdmVsZWQgYWxvbmcgdGhlIGZsaWdodCBwYXRoLCBtZWFzdXJlZCBpbiDPgS1zY3JlZW5mdWxzLlxuICAgICAgICAgICAgY29uc3QgcyA9IGsgKiBTO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAxIC8gdyhzKTtcbiAgICAgICAgICAgIHRyLnpvb20gPSBrID09PSAxID8gem9vbSA6IHN0YXJ0Wm9vbSArIHRyLnNjYWxlWm9vbShzY2FsZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgICAgIHRyLmJlYXJpbmcgPSBpbnRlcnBvbGF0ZShzdGFydEJlYXJpbmcsIGJlYXJpbmcsIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IGsgPT09IDEgPyBjZW50ZXIgOiB0ci51bnByb2plY3QoZnJvbS5hZGQoZGVsdGEubXVsdCh1KHMpKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG5cbiAgICAgICAgfSwgKCkgPT4gdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlzRWFzaW5nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbnkgYW5pbWF0ZWQgdHJhbnNpdGlvbiB1bmRlcndheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc3RvcCgpOiB0aGlzIHtcbiAgICAgICAgaWYgKHRoaXMuX2Vhc2VGcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9lYXNlRnJhbWVJZCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZWFzZUZyYW1lSWQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fb25FYXNlRnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FYXNlRW5kKSB7XG4gICAgICAgICAgICAvLyBUaGUgX29uRWFzZUVuZCBmdW5jdGlvbiBtaWdodCBlbWl0IGV2ZW50cyB3aGljaCB0cmlnZ2VyIG5ld1xuICAgICAgICAgICAgLy8gYW5pbWF0aW9uLCB3aGljaCBzZXRzIGEgbmV3IF9vbkVhc2VFbmQuIEVuc3VyZSB3ZSBkb24ndCBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IHVuaW50ZW50aW9uYWxseS5cbiAgICAgICAgICAgIGNvbnN0IG9uRWFzZUVuZCA9IHRoaXMuX29uRWFzZUVuZDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vbkVhc2VFbmQ7XG4gICAgICAgICAgICBvbkVhc2VFbmQuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfZWFzZShmcmFtZTogKG51bWJlcikgPT4gdm9pZCxcbiAgICAgICAgICBmaW5pc2g6ICgpID0+IHZvaWQsXG4gICAgICAgICAgb3B0aW9uczoge2FuaW1hdGU6IGJvb2xlYW4sIGR1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKG51bWJlcikgPT4gbnVtYmVyfSkge1xuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCBvcHRpb25zLmR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICBmcmFtZSgxKTtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWFzZVN0YXJ0ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuX29uRWFzZUZyYW1lID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLl9vbkVhc2VFbmQgPSBmaW5pc2g7XG4gICAgICAgICAgICB0aGlzLl9lYXNlRnJhbWVJZCA9IHRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxiYWNrIGZvciBtYXAuX3JlcXVlc3RSZW5kZXJGcmFtZVxuICAgIF9yZW5kZXJGcmFtZUNhbGxiYWNrKCkge1xuICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oKGJyb3dzZXIubm93KCkgLSB0aGlzLl9lYXNlU3RhcnQpIC8gdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sIDEpO1xuICAgICAgICB0aGlzLl9vbkVhc2VGcmFtZSh0aGlzLl9lYXNlT3B0aW9ucy5lYXNpbmcodCkpO1xuICAgICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VGcmFtZUlkID0gdGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IGJlYXJpbmcgc28gdGhhdCBpdCdzIG51bWVyaWNhbGx5IGNsb3NlIHRvIHRoZSBjdXJyZW50IG9uZSBzbyB0aGF0IGl0IGludGVycG9sYXRlcyBwcm9wZXJseVxuICAgIF9ub3JtYWxpemVCZWFyaW5nKGJlYXJpbmc6IG51bWJlciwgY3VycmVudEJlYXJpbmc6IG51bWJlcikge1xuICAgICAgICBiZWFyaW5nID0gd3JhcChiZWFyaW5nLCAtMTgwLCAxODApO1xuICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoYmVhcmluZyAtIGN1cnJlbnRCZWFyaW5nKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgLSAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nIC09IDM2MDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgKyAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nICs9IDM2MDtcbiAgICAgICAgcmV0dXJuIGJlYXJpbmc7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBwYXRoIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4gd291bGQgYmUgc2hvcnRlciwgZXh0ZW5kIHRoZSBmaW5hbCBjb29yZGluYXRlIHNvIHRoYXRcbiAgICAvLyBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdGhlIHR3byBlbmRwb2ludHMgd2lsbCBjcm9zcyBpdC5cbiAgICBfbm9ybWFsaXplQ2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGlmICghdHIucmVuZGVyV29ybGRDb3BpZXMgfHwgdHIubG5nUmFuZ2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBkZWx0YSA9IGNlbnRlci5sbmcgLSB0ci5jZW50ZXIubG5nO1xuICAgICAgICBjZW50ZXIubG5nICs9XG4gICAgICAgICAgICBkZWx0YSA+IDE4MCA/IC0zNjAgOlxuICAgICAgICAgICAgZGVsdGEgPCAtMTgwID8gMzYwIDogMDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL3V0aWwvY29uZmlnJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBjb21wYWN0PzogYm9vbGVhbixcbiAgICBjdXN0b21BdHRyaWJ1dGlvbj86IHN0cmluZyB8IEFycmF5PHN0cmluZz5cbn07XG5cbi8qKlxuICogQW4gYEF0dHJpYnV0aW9uQ29udHJvbGAgY29udHJvbCBwcmVzZW50cyB0aGUgbWFwJ3MgW2F0dHJpYnV0aW9uIGluZm9ybWF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL2hlbHAvYXR0cmlidXRpb24vKS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbXBhY3RdIElmIGB0cnVlYCBmb3JjZSBhIGNvbXBhY3QgYXR0cmlidXRpb24gdGhhdCBzaG93cyB0aGUgZnVsbCBhdHRyaWJ1dGlvbiBvbiBtb3VzZSBob3Zlciwgb3IgaWYgYGZhbHNlYCBmb3JjZSB0aGUgZnVsbCBhdHRyaWJ1dGlvbiBjb250cm9sLiBUaGUgZGVmYXVsdCBpcyBhIHJlc3BvbnNpdmUgYXR0cmlidXRpb24gdGhhdCBjb2xsYXBzZXMgd2hlbiB0aGUgbWFwIGlzIGxlc3MgdGhhbiA2NDAgcGl4ZWxzIHdpZGUuXG4gKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IFtvcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uXSBTdHJpbmcgb3Igc3RyaW5ncyB0byBzaG93IGluIGFkZGl0aW9uIHRvIGFueSBvdGhlciBhdHRyaWJ1dGlvbnMuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe2F0dHJpYnV0aW9uQ29udHJvbDogZmFsc2V9KVxuICogICAgIC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5BdHRyaWJ1dGlvbkNvbnRyb2woe1xuICogICAgICAgICBjb21wYWN0OiB0cnVlXG4gKiAgICAgfSkpO1xuICovXG5jbGFzcyBBdHRyaWJ1dGlvbkNvbnRyb2wge1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX21hcDogTWFwO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9lZGl0TGluazogP0hUTUxBbmNob3JFbGVtZW50O1xuICAgIHN0eWxlSWQ6IHN0cmluZztcbiAgICBzdHlsZU93bmVyOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfdXBkYXRlRWRpdExpbmsnLFxuICAgICAgICAgICAgJ191cGRhdGVEYXRhJyxcbiAgICAgICAgICAgICdfdXBkYXRlQ29tcGFjdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1yaWdodCc7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgY29uc3QgY29tcGFjdCA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY29tcGFjdDtcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliJyk7XG5cbiAgICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRWRpdExpbmsoKTtcblxuICAgICAgICB0aGlzLl9tYXAub24oJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVEYXRhKTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuXG4gICAgICAgIGlmIChjb21wYWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wYWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9mZignc291cmNlZGF0YScsIHRoaXMuX3VwZGF0ZURhdGEpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcblxuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgIH1cblxuICAgIF91cGRhdGVFZGl0TGluaygpIHtcbiAgICAgICAgbGV0IGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbms7XG4gICAgICAgIGlmICghZWRpdExpbmspIHtcbiAgICAgICAgICAgIGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbmsgPSAodGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tYXBib3gtaW1wcm92ZS1tYXAnKTogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAgICAgICAgIHtrZXk6IFwib3duZXJcIiwgdmFsdWU6IHRoaXMuc3R5bGVPd25lcn0sXG4gICAgICAgICAgICB7a2V5OiBcImlkXCIsIHZhbHVlOiB0aGlzLnN0eWxlSWR9LFxuICAgICAgICAgICAge2tleTogXCJhY2Nlc3NfdG9rZW5cIiwgdmFsdWU6IGNvbmZpZy5BQ0NFU1NfVE9LRU59XG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKGVkaXRMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbVN0cmluZyA9IHBhcmFtcy5yZWR1Y2UoKGFjYywgbmV4dCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBgJHtuZXh0LmtleX09JHtuZXh0LnZhbHVlfSR7aSA8IHBhcmFtcy5sZW5ndGggLSAxID8gJyYnIDogJyd9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGA/YCk7XG4gICAgICAgICAgICBlZGl0TGluay5ocmVmID0gYGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vZmVlZGJhY2svJHtwYXJhbVN0cmluZ30ke3RoaXMuX21hcC5faGFzaCA/IHRoaXMuX21hcC5faGFzaC5nZXRIYXNoU3RyaW5nKHRydWUpIDogJyd9YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVEYXRhKGU6IGFueSkge1xuICAgICAgICBpZiAoZSAmJiBlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlQXR0cmlidXRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5zdHlsZSkgcmV0dXJuO1xuICAgICAgICBsZXQgYXR0cmlidXRpb25zOiBBcnJheTxzdHJpbmc+ID0gW107XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbnMuY29uY2F0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25zLnB1c2godGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzaGVldDogYW55ID0gdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlT3duZXIgPSBzdHlsZXNoZWV0Lm93bmVyO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlkID0gc3R5bGVzaGVldC5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5hdHRyaWJ1dGlvbiAmJiBhdHRyaWJ1dGlvbnMuaW5kZXhPZihzb3VyY2UuYXR0cmlidXRpb24pIDwgMCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoKHNvdXJjZS5hdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYW55IGVudHJpZXMgdGhhdCBhcmUgc3Vic3RyaW5ncyBvZiBhbm90aGVyIGVudHJ5LlxuICAgICAgICAvLyBmaXJzdCBzb3J0IGJ5IGxlbmd0aCBzbyB0aGF0IHN1YnN0cmluZ3MgY29tZSBmaXJzdFxuICAgICAgICBhdHRyaWJ1dGlvbnMuc29ydCgoYSwgYikgPT4gYS5sZW5ndGggLSBiLmxlbmd0aCk7XG4gICAgICAgIGF0dHJpYnV0aW9ucyA9IGF0dHJpYnV0aW9ucy5maWx0ZXIoKGF0dHJpYiwgaSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgYXR0cmlidXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0aW9uc1tqXS5pbmRleE9mKGF0dHJpYikgPj0gMCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGF0dHJpYnV0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBhdHRyaWJ1dGlvbnMuam9pbignIHwgJyk7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBET00gbm9kZSBmcm9tIF9lZGl0TGlua1xuICAgICAgICB0aGlzLl9lZGl0TGluayA9IG51bGw7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNvbXBhY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGggPD0gNjQwKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG4vKipcbiAqIEEgYExvZ29Db250cm9sYCBpcyBhIGNvbnRyb2wgdGhhdCBhZGRzIHRoZSBNYXBib3ggd2F0ZXJtYXJrXG4gKiB0byB0aGUgbWFwIGFzIHJlcXVpcmVkIGJ5IHRoZSBbdGVybXMgb2Ygc2VydmljZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvKSBmb3IgTWFwYm94XG4gKiB2ZWN0b3IgdGlsZXMgYW5kIGNvcmUgc3R5bGVzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwcml2YXRlXG4qKi9cblxuY2xhc3MgTG9nb0NvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZUxvZ28nXSwgdGhpcyk7XG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlQ29tcGFjdCddLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsJyk7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IERPTS5jcmVhdGUoJ2EnLCAnbWFwYm94Z2wtY3RybC1sb2dvJyk7XG4gICAgICAgIGFuY2hvci50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICBhbmNob3IuaHJlZiA9IFwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIjtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJNYXBib3ggbG9nb1wiKTtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcIm5vb3BlbmVyXCIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxvZ28oKTtcblxuICAgICAgICB0aGlzLl9tYXAub24oJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUNvbXBhY3QpO1xuICAgICAgICB0aGlzLl91cGRhdGVDb21wYWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUNvbXBhY3QpO1xuICAgIH1cblxuICAgIGdldERlZmF1bHRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tbGVmdCc7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxvZ28oZTogYW55KSB7XG4gICAgICAgIGlmICghZSB8fCBlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHRoaXMuX2xvZ29SZXF1aXJlZCgpID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2dvUmVxdWlyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwLnN0eWxlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fbWFwLnN0eWxlLnNvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlc1tpZF0uZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlLm1hcGJveF9sb2dvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNvbXBhY3QoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckNoaWxkcmVuID0gdGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY29udGFpbmVyQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBjb250YWluZXJDaGlsZHJlblswXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGggPCAyNTApIHtcbiAgICAgICAgICAgICAgICBhbmNob3IuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmNob3IuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgTG9nb0NvbnRyb2w7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5leHBvcnQgdHlwZSBUYXNrSUQgPSBudW1iZXI7IC8vIGNhbid0IG1hcmsgb3BhcXVlIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vZmxvd3R5cGUvZmxvdy1yZW1vdmUtdHlwZXMvcHVsbC82MVxudHlwZSBUYXNrID0ge1xuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkO1xuICAgIGlkOiBUYXNrSUQ7XG4gICAgY2FuY2VsbGVkOiBib29sZWFuO1xufTtcblxuY2xhc3MgVGFza1F1ZXVlIHtcbiAgICBfcXVldWU6IEFycmF5PFRhc2s+O1xuICAgIF9pZDogVGFza0lEO1xuICAgIF9jbGVhcmVkOiBib29sZWFuO1xuICAgIF9jdXJyZW50bHlSdW5uaW5nOiBBcnJheTxUYXNrPiB8IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoKSAge1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLl9pZCA9IDA7XG4gICAgICAgIHRoaXMuX2NsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudGx5UnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFkZChjYWxsYmFjazogKCkgPT4gdm9pZCk6IFRhc2tJRCB7XG4gICAgICAgIGNvbnN0IGlkID0gKyt0aGlzLl9pZDtcbiAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICAgICAgcXVldWUucHVzaCh7Y2FsbGJhY2ssIGlkLCBjYW5jZWxsZWQ6IGZhbHNlfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICByZW1vdmUoaWQ6IFRhc2tJRCkge1xuICAgICAgICBjb25zdCBydW5uaW5nID0gdGhpcy5fY3VycmVudGx5UnVubmluZztcbiAgICAgICAgY29uc3QgcXVldWUgPSBydW5uaW5nID8gdGhpcy5fcXVldWUuY29uY2F0KHJ1bm5pbmcpIDogdGhpcy5fcXVldWU7XG4gICAgICAgIGZvciAoY29uc3QgdGFzayBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgaWYgKHRhc2suaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgdGFzay5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bigpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLl9jdXJyZW50bHlSdW5uaW5nKTtcbiAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gdGhpcy5fcXVldWU7XG5cbiAgICAgICAgLy8gVGFza3MgcXVldWVkIGJ5IGNhbGxiYWNrcyBpbiB0aGUgY3VycmVudCBxdWV1ZSBzaG91bGQgYmUgZXhlY3V0ZWRcbiAgICAgICAgLy8gb24gdGhlIG5leHQgcnVuLCBub3QgdGhlIGN1cnJlbnQgcnVuLlxuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgdGFzayBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgaWYgKHRhc2suY2FuY2VsbGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRhc2suY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jbGVhcmVkKSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudGx5UnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudGx5UnVubmluZykge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhc2tRdWV1ZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCwgd2Fybk9uY2UgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5jb25zdCB7IEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxFbGVtZW50IH0gPSB3aW5kb3c7XG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGdldEltYWdlLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXInO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCBIYXNoIGZyb20gJy4vaGFzaCc7XG5pbXBvcnQgYmluZEhhbmRsZXJzIGZyb20gJy4vYmluZF9oYW5kbGVycyc7XG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vY2FtZXJhJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IEF0dHJpYnV0aW9uQ29udHJvbCBmcm9tICcuL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbCc7XG5pbXBvcnQgTG9nb0NvbnRyb2wgZnJvbSAnLi9jb250cm9sL2xvZ29fY29udHJvbCc7XG5pbXBvcnQgaXNTdXBwb3J0ZWQgZnJvbSAnQG1hcGJveC9tYXBib3gtZ2wtc3VwcG9ydGVkJztcbmltcG9ydCB7IFJHQkFJbWFnZSB9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHsgTWFwTW91c2VFdmVudCB9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBUYXNrUXVldWUgZnJvbSAnLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuaW1wb3J0IHR5cGUge1BvaW50TGlrZX0gZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFBhcmFtZXRlcnN9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgdHlwZSB7U3R5bGVPcHRpb25zfSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgdHlwZSB7TWFwRXZlbnQsIE1hcERhdGFFdmVudH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHR5cGUge0N1c3RvbUxheWVySW50ZXJmYWNlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXInO1xuXG5pbXBvcnQgdHlwZSBTY3JvbGxab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2Nyb2xsX3pvb20nO1xuaW1wb3J0IHR5cGUgQm94Wm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2JveF96b29tJztcbmltcG9ydCB0eXBlIERyYWdSb3RhdGVIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9kcmFnX3JvdGF0ZSc7XG5pbXBvcnQgdHlwZSBEcmFnUGFuSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvZHJhZ19wYW4nO1xuaW1wb3J0IHR5cGUgS2V5Ym9hcmRIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9rZXlib2FyZCc7XG5pbXBvcnQgdHlwZSBEb3VibGVDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9kYmxjbGlja196b29tJztcbmltcG9ydCB0eXBlIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZSc7XG5pbXBvcnQgdHlwZSB7Q2FuY2VsYWJsZX0gZnJvbSAnLi4vdHlwZXMvY2FuY2VsYWJsZSc7XG5pbXBvcnQgdHlwZSB7XG4gICAgTGF5ZXJTcGVjaWZpY2F0aW9uLFxuICAgIEZpbHRlclNwZWNpZmljYXRpb24sXG4gICAgU3R5bGVTcGVjaWZpY2F0aW9uLFxuICAgIExpZ2h0U3BlY2lmaWNhdGlvbixcbiAgICBTb3VyY2VTcGVjaWZpY2F0aW9uXG59IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuXG50eXBlIENvbnRyb2xQb3NpdGlvbiA9ICd0b3AtbGVmdCcgfCAndG9wLXJpZ2h0JyB8ICdib3R0b20tbGVmdCcgfCAnYm90dG9tLXJpZ2h0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbnR5cGUgSUNvbnRyb2wgPSB7XG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudDtcbiAgICBvblJlbW92ZShtYXA6IE1hcCk6IHZvaWQ7XG5cbiAgICArZ2V0RGVmYXVsdFBvc2l0aW9uPzogKCkgPT4gQ29udHJvbFBvc2l0aW9uO1xufVxuLyogZXNsaW50LWVuYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuXG50eXBlIFJlc291cmNlVHlwZUVudW0gPSAkS2V5czx0eXBlb2YgUmVzb3VyY2VUeXBlPjtcbmV4cG9ydCB0eXBlIFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbiA9ICh1cmw6IHN0cmluZywgcmVzb3VyY2VUeXBlPzogUmVzb3VyY2VUeXBlRW51bSkgPT4gUmVxdWVzdFBhcmFtZXRlcnM7XG5cbnR5cGUgTWFwT3B0aW9ucyA9IHtcbiAgICBoYXNoPzogYm9vbGVhbixcbiAgICBpbnRlcmFjdGl2ZT86IGJvb2xlYW4sXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHN0cmluZyxcbiAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w/OiBib29sZWFuLFxuICAgIGN1c3RvbUF0dHJpYnV0aW9uPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgICBsb2dvUG9zaXRpb24/OiBDb250cm9sUG9zaXRpb24sXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD86IGJvb2xlYW4sXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyPzogYm9vbGVhbixcbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzPzogYm9vbGVhbixcbiAgICBtYXhCb3VuZHM/OiBMbmdMYXRCb3VuZHNMaWtlLFxuICAgIHNjcm9sbFpvb20/OiBib29sZWFuLFxuICAgIG1pblpvb20/OiA/bnVtYmVyLFxuICAgIG1heFpvb20/OiA/bnVtYmVyLFxuICAgIGJveFpvb20/OiBib29sZWFuLFxuICAgIGRyYWdSb3RhdGU/OiBib29sZWFuLFxuICAgIGRyYWdQYW4/OiBib29sZWFuLFxuICAgIGtleWJvYXJkPzogYm9vbGVhbixcbiAgICBkb3VibGVDbGlja1pvb20/OiBib29sZWFuLFxuICAgIHRvdWNoWm9vbVJvdGF0ZT86IGJvb2xlYW4sXG4gICAgdHJhY2tSZXNpemU/OiBib29sZWFuLFxuICAgIGNlbnRlcj86IExuZ0xhdExpa2UsXG4gICAgem9vbT86IG51bWJlcixcbiAgICBiZWFyaW5nPzogbnVtYmVyLFxuICAgIHBpdGNoPzogbnVtYmVyLFxuICAgIHJlbmRlcldvcmxkQ29waWVzPzogYm9vbGVhbixcbiAgICBtYXhUaWxlQ2FjaGVTaXplPzogbnVtYmVyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q/OiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb25cbn07XG5cbmNvbnN0IGRlZmF1bHRNaW5ab29tID0gMDtcbmNvbnN0IGRlZmF1bHRNYXhab29tID0gMjI7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjZW50ZXI6IFswLCAwXSxcbiAgICB6b29tOiAwLFxuICAgIGJlYXJpbmc6IDAsXG4gICAgcGl0Y2g6IDAsXG5cbiAgICBtaW5ab29tOiBkZWZhdWx0TWluWm9vbSxcbiAgICBtYXhab29tOiBkZWZhdWx0TWF4Wm9vbSxcblxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgIHNjcm9sbFpvb206IHRydWUsXG4gICAgYm94Wm9vbTogdHJ1ZSxcbiAgICBkcmFnUm90YXRlOiB0cnVlLFxuICAgIGRyYWdQYW46IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICAgIHRvdWNoWm9vbVJvdGF0ZTogdHJ1ZSxcblxuICAgIGJlYXJpbmdTbmFwOiA3LFxuICAgIGNsaWNrVG9sZXJhbmNlOiAzLFxuXG4gICAgaGFzaDogZmFsc2UsXG4gICAgYXR0cmlidXRpb25Db250cm9sOiB0cnVlLFxuXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogZmFsc2UsXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICB0cmFja1Jlc2l6ZTogdHJ1ZSxcbiAgICByZW5kZXJXb3JsZENvcGllczogdHJ1ZSxcbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiB0cnVlLFxuICAgIG1heFRpbGVDYWNoZVNpemU6IG51bGwsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogbnVsbCxcbiAgICBmYWRlRHVyYXRpb246IDMwMCxcbiAgICBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IHRydWVcbn07XG5cbi8qKlxuICogVGhlIGBNYXBgIG9iamVjdCByZXByZXNlbnRzIHRoZSBtYXAgb24geW91ciBwYWdlLiBJdCBleHBvc2VzIG1ldGhvZHNcbiAqIGFuZCBwcm9wZXJ0aWVzIHRoYXQgZW5hYmxlIHlvdSB0byBwcm9ncmFtbWF0aWNhbGx5IGNoYW5nZSB0aGUgbWFwLFxuICogYW5kIGZpcmVzIGV2ZW50cyBhcyB1c2VycyBpbnRlcmFjdCB3aXRoIGl0LlxuICpcbiAqIFlvdSBjcmVhdGUgYSBgTWFwYCBieSBzcGVjaWZ5aW5nIGEgYGNvbnRhaW5lcmAgYW5kIG90aGVyIG9wdGlvbnMuXG4gKiBUaGVuIE1hcGJveCBHTCBKUyBpbml0aWFsaXplcyB0aGUgbWFwIG9uIHRoZSBwYWdlIGFuZCByZXR1cm5zIHlvdXIgYE1hcGBcbiAqIG9iamVjdC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBIVE1MIGVsZW1lbnQgaW4gd2hpY2ggTWFwYm94IEdMIEpTIHdpbGwgcmVuZGVyIHRoZSBtYXAsIG9yIHRoZSBlbGVtZW50J3Mgc3RyaW5nIGBpZGAuIFRoZSBzcGVjaWZpZWQgZWxlbWVudCBtdXN0IGhhdmUgbm8gY2hpbGRyZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbT0wXSBUaGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKDAtMjQpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb209MjJdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoMC0yNCkuXG4gKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFtvcHRpb25zLnN0eWxlXSBUaGUgbWFwJ3MgTWFwYm94IHN0eWxlLiBUaGlzIG11c3QgYmUgYW4gYSBKU09OIG9iamVjdCBjb25mb3JtaW5nIHRvXG4gKiB0aGUgc2NoZW1hIGRlc2NyaWJlZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL21hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSwgb3IgYSBVUkwgdG9cbiAqIHN1Y2ggSlNPTi5cbiAqXG4gKiBUbyBsb2FkIGEgc3R5bGUgZnJvbSB0aGUgTWFwYm94IEFQSSwgeW91IGNhbiB1c2UgYSBVUkwgb2YgdGhlIGZvcm0gYG1hcGJveDovL3N0eWxlcy86b3duZXIvOnN0eWxlYCxcbiAqIHdoZXJlIGA6b3duZXJgIGlzIHlvdXIgTWFwYm94IGFjY291bnQgbmFtZSBhbmQgYDpzdHlsZWAgaXMgdGhlIHN0eWxlIElELiBPciB5b3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICogW3RoZSBwcmVkZWZpbmVkIE1hcGJveCBzdHlsZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwcy8pOlxuICpcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvb3V0ZG9vcnMtdjEwYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbGlnaHQtdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjEwYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbmF2aWdhdGlvbi1wcmV2aWV3LWRheS12MmBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L25hdmlnYXRpb24tcHJldmlldy1uaWdodC12MmBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L25hdmlnYXRpb24tZ3VpZGFuY2UtZGF5LXYyYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbmF2aWdhdGlvbi1ndWlkYW5jZS1uaWdodC12MmBcbiAqXG4gKiBUaWxlc2V0cyBob3N0ZWQgd2l0aCBNYXBib3ggY2FuIGJlIHN0eWxlLW9wdGltaXplZCBpZiB5b3UgYXBwZW5kIGA/b3B0aW1pemU9dHJ1ZWAgdG8gdGhlIGVuZCBvZiB5b3VyIHN0eWxlIFVSTCwgbGlrZSBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXY5P29wdGltaXplPXRydWVgLlxuICogTGVhcm4gbW9yZSBhYm91dCBzdHlsZS1vcHRpbWl6ZWQgdmVjdG9yIHRpbGVzIGluIG91ciBbQVBJIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI3JldHJpZXZlLXRpbGVzKS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmhhc2g9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCdzIHBvc2l0aW9uICh6b29tLCBjZW50ZXIgbGF0aXR1ZGUsIGNlbnRlciBsb25naXR1ZGUsIGJlYXJpbmcsIGFuZCBwaXRjaCkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgaGFzaCBmcmFnbWVudCBvZiB0aGUgcGFnZSdzIFVSTC5cbiAqICAgRm9yIGV4YW1wbGUsIGBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjMi41OS8zOS4yNi81My4wNy8tMjQuMS82MGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmludGVyYWN0aXZlPXRydWVdIElmIGBmYWxzZWAsIG5vIG1vdXNlLCB0b3VjaCwgb3Iga2V5Ym9hcmQgbGlzdGVuZXJzIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIG1hcCwgc28gaXQgd2lsbCBub3QgcmVzcG9uZCB0byBpbnRlcmFjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nU25hcD03XSBUaGUgdGhyZXNob2xkLCBtZWFzdXJlZCBpbiBkZWdyZWVzLCB0aGF0IGRldGVybWluZXMgd2hlbiB0aGUgbWFwJ3NcbiAqICAgYmVhcmluZyB3aWxsIHNuYXAgdG8gbm9ydGguIEZvciBleGFtcGxlLCB3aXRoIGEgYGJlYXJpbmdTbmFwYCBvZiA3LCBpZiB0aGUgdXNlciByb3RhdGVzXG4gKiAgIHRoZSBtYXAgd2l0aGluIDcgZGVncmVlcyBvZiBub3J0aCwgdGhlIG1hcCB3aWxsIGF1dG9tYXRpY2FsbHkgc25hcCB0byBleGFjdCBub3J0aC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucGl0Y2hXaXRoUm90YXRlPXRydWVdIElmIGBmYWxzZWAsIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgY29udHJvbCB3aXRoIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiB3aWxsIGJlIGRpc2FibGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNsaWNrVG9sZXJhbmNlPTNdIFRoZSBtYXggbnVtYmVyIG9mIHBpeGVscyBhIHVzZXIgY2FuIHNoaWZ0IHRoZSBtb3VzZSBwb2ludGVyIGR1cmluZyBhIGNsaWNrIGZvciBpdCB0byBiZSBjb25zaWRlcmVkIGEgdmFsaWQgY2xpY2sgKGFzIG9wcG9zZWQgdG8gYSBtb3VzZSBkcmFnKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXR0cmlidXRpb25Db250cm9sPXRydWVdIElmIGB0cnVlYCwgYW4ge0BsaW5rIEF0dHJpYnV0aW9uQ29udHJvbH0gd2lsbCBiZSBhZGRlZCB0byB0aGUgbWFwLlxuICogQHBhcmFtIHtzdHJpbmcgfCBBcnJheTxzdHJpbmc+fSBbb3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbl0gU3RyaW5nIG9yIHN0cmluZ3MgdG8gc2hvdyBpbiBhbiB7QGxpbmsgQXR0cmlidXRpb25Db250cm9sfS4gT25seSBhcHBsaWNhYmxlIGlmIGBvcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbGAgaXMgYHRydWVgLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvZ29Qb3NpdGlvbj0nYm90dG9tLWxlZnQnXSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBNYXBib3ggd29yZG1hcmsgb24gdGhlIG1hcC4gVmFsaWQgb3B0aW9ucyBhcmUgYHRvcC1sZWZ0YCxgdG9wLXJpZ2h0YCwgYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZmFsc2VdIElmIGB0cnVlYCwgbWFwIGNyZWF0aW9uIHdpbGwgZmFpbCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94XG4gKiAgIEdMIEpTIHdvdWxkIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChpLmUuIGEgc29mdHdhcmUgcmVuZGVyZXIgd291bGQgYmUgdXNlZCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwJ3MgY2FudmFzIGNhbiBiZSBleHBvcnRlZCB0byBhIFBORyB1c2luZyBgbWFwLmdldENhbnZhcygpLnRvRGF0YVVSTCgpYC4gVGhpcyBpcyBgZmFsc2VgIGJ5IGRlZmF1bHQgYXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlZnJlc2hFeHBpcmVkVGlsZXM9dHJ1ZV0gSWYgYGZhbHNlYCwgdGhlIG1hcCB3b24ndCBhdHRlbXB0IHRvIHJlLXJlcXVlc3QgdGlsZXMgb25jZSB0aGV5IGV4cGlyZSBwZXIgdGhlaXIgSFRUUCBgY2FjaGVDb250cm9sYC9gZXhwaXJlc2AgaGVhZGVycy5cbiAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gW29wdGlvbnMubWF4Qm91bmRzXSBJZiBzZXQsIHRoZSBtYXAgd2lsbCBiZSBjb25zdHJhaW5lZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gW29wdGlvbnMuc2Nyb2xsWm9vbT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyI2VuYWJsZX0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJveFpvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ1JvdGF0ZT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCAoc2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kcmFnUGFuPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtleWJvYXJkPXRydWVdIElmIGB0cnVlYCwga2V5Ym9hcmQgc2hvcnRjdXRzIGFyZSBlbmFibGVkIChzZWUge0BsaW5rIEtleWJvYXJkSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kb3VibGVDbGlja1pvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gW29wdGlvbnMudG91Y2hab29tUm90YXRlPXRydWVdIElmIGB0cnVlYCwgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIjZW5hYmxlfS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhY2tSZXNpemU9dHJ1ZV0gIElmIGB0cnVlYCwgdGhlIG1hcCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVzaXplIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IHJlc2l6ZXMuXG4gKiBAcGFyYW0ge0xuZ0xhdExpa2V9IFtvcHRpb25zLmNlbnRlcj1bMCwgMF1dIFRoZSBpbml0YWwgZ2VvZ3JhcGhpY2FsIGNlbnRlcnBvaW50IG9mIHRoZSBtYXAuIElmIGBjZW50ZXJgIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgWzAsIDBdYCBOb3RlOiBNYXBib3ggR0wgdXNlcyBsb25naXR1ZGUsIGxhdGl0dWRlIGNvb3JkaW5hdGUgb3JkZXIgKGFzIG9wcG9zZWQgdG8gbGF0aXR1ZGUsIGxvbmdpdHVkZSkgdG8gbWF0Y2ggR2VvSlNPTi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy56b29tPTBdIFRoZSBpbml0aWFsIHpvb20gbGV2ZWwgb2YgdGhlIG1hcC4gSWYgYHpvb21gIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZz0wXSBUaGUgaW5pdGlhbCBiZWFyaW5nIChyb3RhdGlvbikgb2YgdGhlIG1hcCwgbWVhc3VyZWQgaW4gZGVncmVlcyBjb3VudGVyLWNsb2Nrd2lzZSBmcm9tIG5vcnRoLiBJZiBgYmVhcmluZ2AgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBUaGUgaW5pdGlhbCBwaXRjaCAodGlsdCkgb2YgdGhlIG1hcCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4gKDAtNjApLiBJZiBgcGl0Y2hgIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbmRlcldvcmxkQ29waWVzPXRydWVdICBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCwgd2hlbiB6b29tZWQgb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFRpbGVDYWNoZVNpemU9bnVsbF0gIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aWxlcyBzdG9yZWQgaW4gdGhlIHRpbGUgY2FjaGUgZm9yIGEgZ2l2ZW4gc291cmNlLiBJZiBvbWl0dGVkLCB0aGUgY2FjaGUgd2lsbCBiZSBkeW5hbWljYWxseSBzaXplZCBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9bnVsbF0gSWYgc3BlY2lmaWVkLCBkZWZpbmVzIGEgQ1NTIGZvbnQtZmFtaWx5XG4gKiAgIGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBnbHlwaHMgaW4gdGhlICdDSksgVW5pZmllZCBJZGVvZ3JhcGhzJyBhbmQgJ0hhbmd1bCBTeWxsYWJsZXMnIHJhbmdlcy5cbiAqICAgSW4gdGhlc2UgcmFuZ2VzLCBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIHdpbGwgYmUgaWdub3JlZCwgZXhjZXB0IGZvciBmb250LXdlaWdodCBrZXl3b3JkcyAobGlnaHQvcmVndWxhci9tZWRpdW0vYm9sZCkuXG4gKiAgIFRoZSBwdXJwb3NlIG9mIHRoaXMgb3B0aW9uIGlzIHRvIGF2b2lkIGJhbmR3aWR0aC1pbnRlbnNpdmUgZ2x5cGggc2VydmVyIHJlcXVlc3RzLiAoc2VlIFtVc2UgbG9jYWxseSBnZW5lcmF0ZWQgaWRlb2dyYXBoc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9sb2NhbC1pZGVvZ3JhcGhzKSlcbiAqIEBwYXJhbSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0PW51bGxdIEEgY2FsbGJhY2sgcnVuIGJlZm9yZSB0aGUgTWFwIG1ha2VzIGEgcmVxdWVzdCBmb3IgYW4gZXh0ZXJuYWwgVVJMLiBUaGUgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB1cmwsIHNldCBoZWFkZXJzLCBvciBzZXQgdGhlIGNyZWRlbnRpYWxzIHByb3BlcnR5IGZvciBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuXG4gKiAgIEV4cGVjdGVkIHRvIHJldHVybiBhbiBvYmplY3Qgd2l0aCBhIGB1cmxgIHByb3BlcnR5IGFuZCBvcHRpb25hbGx5IGBoZWFkZXJzYCBhbmQgYGNyZWRlbnRpYWxzYCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ZmFsc2VdIElmIGB0cnVlYCwgUmVzb3VyY2UgVGltaW5nIEFQSSBpbmZvcm1hdGlvbiB3aWxsIGJlIGNvbGxlY3RlZCBmb3IgcmVxdWVzdHMgbWFkZSBieSBHZW9KU09OIGFuZCBWZWN0b3IgVGlsZSB3ZWIgd29ya2VycyAodGhpcyBpbmZvcm1hdGlvbiBpcyBub3JtYWxseSBpbmFjY2Vzc2libGUgZnJvbSB0aGUgbWFpbiBKYXZhc2NyaXB0IHRocmVhZCkuIEluZm9ybWF0aW9uIHdpbGwgYmUgcmV0dXJuZWQgaW4gYSBgcmVzb3VyY2VUaW1pbmdgIHByb3BlcnR5IG9mIHJlbGV2YW50IGBkYXRhYCBldmVudHMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZmFkZUR1cmF0aW9uPTMwMF0gQ29udHJvbHMgdGhlIGR1cmF0aW9uIG9mIHRoZSBmYWRlLWluL2ZhZGUtb3V0IGFuaW1hdGlvbiBmb3IgbGFiZWwgY29sbGlzaW9ucywgaW4gbWlsbGlzZWNvbmRzLiBUaGlzIHNldHRpbmcgYWZmZWN0cyBhbGwgc3ltYm9sIGxheWVycy4gVGhpcyBzZXR0aW5nIGRvZXMgbm90IGFmZmVjdCB0aGUgZHVyYXRpb24gb2YgcnVudGltZSBzdHlsaW5nIHRyYW5zaXRpb25zIG9yIHJhc3RlciB0aWxlIGNyb3NzLWZhZGluZy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zPXRydWVdIElmIGB0cnVlYCwgc3ltYm9scyBmcm9tIG11bHRpcGxlIHNvdXJjZXMgY2FuIGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyIGR1cmluZyBjb2xsaXNpb24gZGV0ZWN0aW9uLiBJZiBgZmFsc2VgLCBjb2xsaXNpb24gZGV0ZWN0aW9uIGlzIHJ1biBzZXBhcmF0ZWx5IGZvciB0aGUgc3ltYm9scyBpbiBlYWNoIHNvdXJjZS5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4gKiAgIGNvbnRhaW5lcjogJ21hcCcsXG4gKiAgIGNlbnRlcjogWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddLFxuICogICB6b29tOiAxMyxcbiAqICAgc3R5bGU6IHN0eWxlX29iamVjdCxcbiAqICAgaGFzaDogdHJ1ZSxcbiAqICAgdHJhbnNmb3JtUmVxdWVzdDogKHVybCwgcmVzb3VyY2VUeXBlKT0+IHtcbiAqICAgICBpZihyZXNvdXJjZVR5cGUgPT09ICdTb3VyY2UnICYmIHVybC5zdGFydHNXaXRoKCdodHRwOi8vbXlIb3N0JykpIHtcbiAqICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgdXJsOiB1cmwucmVwbGFjZSgnaHR0cCcsICdodHRwcycpLFxuICogICAgICAgIGhlYWRlcnM6IHsgJ215LWN1c3RvbS1oZWFkZXInOiB0cnVlfSxcbiAqICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnICAvLyBJbmNsdWRlIGNvb2tpZXMgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0c1xuICogICAgICB9XG4gKiAgICAgfVxuICogICB9XG4gKiB9KTtcbiAqIEBzZWUgW0Rpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGVzLylcbiAqL1xuY2xhc3MgTWFwIGV4dGVuZHMgQ2FtZXJhIHtcbiAgICBzdHlsZTogU3R5bGU7XG4gICAgcGFpbnRlcjogUGFpbnRlcjtcblxuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9taXNzaW5nQ1NTQ2FuYXJ5OiBIVE1MRWxlbWVudDtcbiAgICBfY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRyb2xQb3NpdGlvbnM6IHtbc3RyaW5nXTogSFRNTEVsZW1lbnR9O1xuICAgIF9pbnRlcmFjdGl2ZTogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQm91bmRhcmllczogP2Jvb2xlYW47XG4gICAgX3Nob3dDb2xsaXNpb25Cb3hlczogP2Jvb2xlYW47XG4gICAgX3Nob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbjtcbiAgICBfcmVwYWludDogP2Jvb2xlYW47XG4gICAgX3ZlcnRpY2VzOiA/Ym9vbGVhbjtcbiAgICBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBfdHJhbnNmb3JtUmVxdWVzdDogUmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9uO1xuICAgIF9tYXhUaWxlQ2FjaGVTaXplOiBudW1iZXI7XG4gICAgX2ZyYW1lOiA/Q2FuY2VsYWJsZTtcbiAgICBfc3R5bGVEaXJ0eTogP2Jvb2xlYW47XG4gICAgX3NvdXJjZXNEaXJ0eTogP2Jvb2xlYW47XG4gICAgX3BsYWNlbWVudERpcnR5OiA/Ym9vbGVhbjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF90cmFja1Jlc2l6ZTogYm9vbGVhbjtcbiAgICBfcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBib29sZWFuO1xuICAgIF9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBib29sZWFuO1xuICAgIF9yZWZyZXNoRXhwaXJlZFRpbGVzOiBib29sZWFuO1xuICAgIF9oYXNoOiBIYXNoO1xuICAgIF9kZWxlZ2F0ZWRMaXN0ZW5lcnM6IGFueTtcbiAgICBfZmFkZUR1cmF0aW9uOiBudW1iZXI7XG4gICAgX2Nyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbjtcbiAgICBfY3Jvc3NGYWRpbmdGYWN0b3I6IG51bWJlcjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9yZW5kZXJUYXNrUXVldWU6IFRhc2tRdWV1ZTtcbiAgICBfY29udHJvbHM6IEFycmF5PElDb250cm9sPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgU2Nyb2xsWm9vbUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHpvb21pbmcgaW4gYW5kIG91dCB3aXRoIGEgc2Nyb2xsIHdoZWVsIG9yIHRyYWNrcGFkLlxuICAgICAqL1xuICAgIHNjcm9sbFpvb206IFNjcm9sbFpvb21IYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBCb3hab29tSGFuZGxlcn0sIHdoaWNoIGltcGxlbWVudHMgem9vbWluZyB1c2luZyBhIGRyYWcgZ2VzdHVyZSB3aXRoIHRoZSBTaGlmdCBrZXkgcHJlc3NlZC5cbiAgICAgKi9cbiAgICBib3hab29tOiBCb3hab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHJvdGF0aW5nIHRoZSBtYXAgd2hpbGUgZHJhZ2dpbmcgd2l0aCB0aGUgcmlnaHRcbiAgICAgKiBtb3VzZSBidXR0b24gb3Igd2l0aCB0aGUgQ29udHJvbCBrZXkgcHJlc3NlZC5cbiAgICAgKi9cbiAgICBkcmFnUm90YXRlOiBEcmFnUm90YXRlSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIGRyYWdnaW5nIHRoZSBtYXAgd2l0aCBhIG1vdXNlIG9yIHRvdWNoIGdlc3R1cmUuXG4gICAgICovXG4gICAgZHJhZ1BhbjogRHJhZ1BhbkhhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwJ3Mge0BsaW5rIEtleWJvYXJkSGFuZGxlcn0sIHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byB6b29tLCByb3RhdGUsIGFuZCBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZFxuICAgICAqIHNob3J0Y3V0cy5cbiAgICAgKi9cbiAgICBrZXlib2FyZDogS2V5Ym9hcmRIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBEb3VibGVDbGlja1pvb21IYW5kbGVyfSwgd2hpY2ggYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYnkgZG91YmxlIGNsaWNraW5nLlxuICAgICAqL1xuICAgIGRvdWJsZUNsaWNrWm9vbTogRG91YmxlQ2xpY2tab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlcn0sIHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byB6b29tIG9yIHJvdGF0ZSB0aGUgbWFwIHdpdGggdG91Y2ggZ2VzdHVyZXMuXG4gICAgICovXG4gICAgdG91Y2hab29tUm90YXRlOiBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTWFwT3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWluWm9vbSAhPSBudWxsICYmIG9wdGlvbnMubWF4Wm9vbSAhPSBudWxsICYmIG9wdGlvbnMubWluWm9vbSA+IG9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG1pblpvb21gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20sIG9wdGlvbnMucmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlID0gb3B0aW9ucy5pbnRlcmFjdGl2ZTtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtcbiAgICAgICAgdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIHRoaXMuX3RyYWNrUmVzaXplID0gb3B0aW9ucy50cmFja1Jlc2l6ZTtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwO1xuICAgICAgICB0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzID0gb3B0aW9ucy5yZWZyZXNoRXhwaXJlZFRpbGVzO1xuICAgICAgICB0aGlzLl9mYWRlRHVyYXRpb24gPSBvcHRpb25zLmZhZGVEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zID0gb3B0aW9ucy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM7XG4gICAgICAgIHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yID0gMTtcbiAgICAgICAgdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nID0gb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZSA9IG5ldyBUYXNrUXVldWUoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMgPSBbXTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1SZXF1ZXN0Rm4gPSBvcHRpb25zLnRyYW5zZm9ybVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVJlcXVlc3QgPSB0cmFuc2Zvcm1SZXF1ZXN0Rm4gP1xuICAgICAgICAgICAgKHVybCwgdHlwZSkgPT4gdHJhbnNmb3JtUmVxdWVzdEZuKHVybCwgdHlwZSkgfHwgKHsgdXJsIH0pIDpcbiAgICAgICAgICAgICh1cmwpID0+ICh7IHVybCB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7b3B0aW9ucy5jb250YWluZXJ9JyBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heEJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2luZG93T25saW5lJyxcbiAgICAgICAgICAgICdfb25XaW5kb3dSZXNpemUnLFxuICAgICAgICAgICAgJ19jb250ZXh0TG9zdCcsXG4gICAgICAgICAgICAnX2NvbnRleHRSZXN0b3JlZCdcbiAgICAgICAgXSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fc2V0dXBDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fc2V0dXBQYWludGVyKCk7XG4gICAgICAgIGlmICh0aGlzLnBhaW50ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oJ21vdmUnLCAoKSA9PiB0aGlzLl91cGRhdGUoZmFsc2UpKTtcbiAgICAgICAgdGhpcy5vbignem9vbScsICgpID0+IHRoaXMuX3VwZGF0ZSh0cnVlKSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5fb25XaW5kb3dPbmxpbmUsIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEhhbmRsZXJzKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2hhc2ggPSBvcHRpb25zLmhhc2ggJiYgKG5ldyBIYXNoKCkpLmFkZFRvKHRoaXMpO1xuICAgICAgICAvLyBkb24ndCBzZXQgcG9zaXRpb24gZnJvbSBvcHRpb25zIGlmIHNldCB0aHJvdWdoIGhhc2hcbiAgICAgICAgaWYgKCF0aGlzLl9oYXNoIHx8ICF0aGlzLl9oYXNoLl9vbkhhc2hDaGFuZ2UoKSkge1xuICAgICAgICAgICAgdGhpcy5qdW1wVG8oe1xuICAgICAgICAgICAgICAgIGNlbnRlcjogb3B0aW9ucy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgem9vbTogb3B0aW9ucy56b29tLFxuICAgICAgICAgICAgICAgIGJlYXJpbmc6IG9wdGlvbnMuYmVhcmluZyxcbiAgICAgICAgICAgICAgICBwaXRjaDogb3B0aW9ucy5waXRjaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnN0eWxlKSB0aGlzLnNldFN0eWxlKG9wdGlvbnMuc3R5bGUsIHsgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wpXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IEF0dHJpYnV0aW9uQ29udHJvbCh7IGN1c3RvbUF0dHJpYnV0aW9uOiBvcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uIH0pKTtcblxuICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IExvZ29Db250cm9sKCksIG9wdGlvbnMubG9nb1Bvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLm9uKCdzdHlsZS5sb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBUbygodGhpcy5zdHlsZS5zdHlsZXNoZWV0OiBhbnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZXZlbnQ6IE1hcERhdGFFdmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKGV2ZW50LmRhdGFUeXBlID09PSAnc3R5bGUnKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoYCR7ZXZlbnQuZGF0YVR5cGV9ZGF0YWAsIGV2ZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdkYXRhbG9hZGluZycsIChldmVudDogTWFwRGF0YUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KGAke2V2ZW50LmRhdGFUeXBlfWRhdGFsb2FkaW5nYCwgZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHtAbGluayBJQ29udHJvbH0gdG8gdGhlIG1hcCwgY2FsbGluZyBgY29udHJvbC5vbkFkZCh0aGlzKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lDb250cm9sfSBjb250cm9sIFRoZSB7QGxpbmsgSUNvbnRyb2x9IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Bvc2l0aW9uXSBwb3NpdGlvbiBvbiB0aGUgbWFwIHRvIHdoaWNoIHRoZSBjb250cm9sIHdpbGwgYmUgYWRkZWQuXG4gICAgICogVmFsaWQgdmFsdWVzIGFyZSBgJ3RvcC1sZWZ0J2AsIGAndG9wLXJpZ2h0J2AsIGAnYm90dG9tLWxlZnQnYCwgYW5kIGAnYm90dG9tLXJpZ2h0J2AuIERlZmF1bHRzIHRvIGAndG9wLXJpZ2h0J2AuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAgICAgKi9cbiAgICBhZGRDb250cm9sKGNvbnRyb2w6IElDb250cm9sLCBwb3NpdGlvbj86IENvbnRyb2xQb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCAmJiBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbikge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udHJvbCB8fCAhY29udHJvbC5vbkFkZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gY29udHJvbC5vbkFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbkNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbcG9zaXRpb25dO1xuICAgICAgICBpZiAocG9zaXRpb24uaW5kZXhPZignYm90dG9tJykgIT09IC0xKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY29udHJvbEVsZW1lbnQsIHBvc2l0aW9uQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbChjb250cm9sOiBJQ29udHJvbCkge1xuICAgICAgICBpZiAoIWNvbnRyb2wgfHwgIWNvbnRyb2wub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuJykpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaSA9IHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoY29udHJvbCk7XG4gICAgICAgIGlmIChjaSA+IC0xKSB0aGlzLl9jb250cm9scy5zcGxpY2UoY2ksIDEpO1xuICAgICAgICBjb250cm9sLm9uUmVtb3ZlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBtYXAgYWNjb3JkaW5nIHRvIHRoZSBkaW1lbnNpb25zIG9mIGl0c1xuICAgICAqIGBjb250YWluZXJgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBhZnRlciB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAgaXMgcmVzaXplZCBieSBhbm90aGVyIHNjcmlwdCxcbiAgICAgKiBvciB3aGVuIHRoZSBtYXAgaXMgc2hvd24gYWZ0ZXIgYmVpbmcgaW5pdGlhbGx5IGhpZGRlbiB3aXRoIENTUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZXNpemUoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLl9jb250YWluZXJEaW1lbnNpb25zKCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZGltZW5zaW9uc1swXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZGltZW5zaW9uc1sxXTtcblxuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5wYWludGVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncmVzaXplJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLiBXaGVuIHRoZSBiZWFyaW5nIG9yIHBpdGNoIGlzIG5vbi16ZXJvLCB0aGUgdmlzaWJsZSByZWdpb24gaXMgbm90XG4gICAgICogYW4gYXhpcy1hbGlnbmVkIHJlY3RhbmdsZSwgYW5kIHRoZSByZXN1bHQgaXMgdGhlIHNtYWxsZXN0IGJvdW5kcyB0aGF0IGVuY29tcGFzc2VzIHRoZSB2aXNpYmxlIHJlZ2lvbi5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHMoKTogTG5nTGF0Qm91bmRzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldEJvdW5kcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1heGltdW0gZ2VvZ3JhcGhpY2FsIGJvdW5kcyB0aGUgbWFwIGlzIGNvbnN0cmFpbmVkIHRvLCBvciBgbnVsbGAgaWYgbm9uZSBzZXQuXG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBQYW4gYW5kIHpvb20gb3BlcmF0aW9ucyBhcmUgY29uc3RyYWluZWQgd2l0aGluIHRoZXNlIGJvdW5kcy5cbiAgICAgKiBJZiBhIHBhbiBvciB6b29tIGlzIHBlcmZvcm1lZCB0aGF0IHdvdWxkXG4gICAgICogZGlzcGxheSByZWdpb25zIG91dHNpZGUgdGhlc2UgYm91bmRzLCB0aGUgbWFwIHdpbGxcbiAgICAgKiBpbnN0ZWFkIGRpc3BsYXkgYSBwb3NpdGlvbiBhbmQgem9vbSBsZXZlbFxuICAgICAqIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIHRoZSBvcGVyYXRpb24ncyByZXF1ZXN0IHdoaWxlIHN0aWxsXG4gICAgICogcmVtYWluaW5nIHdpdGhpbiB0aGUgYm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlIHwgbnVsbCB8IHVuZGVmaW5lZH0gYm91bmRzIFRoZSBtYXhpbXVtIGJvdW5kcyB0byBzZXQuIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIG1hcCdzIG1heGltdW0gYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKExuZ0xhdEJvdW5kcy5jb252ZXJ0KGJvdW5kcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBJZiB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIGxvd2VyIHRoYW4gdGhlIG5ldyBtaW5pbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsIHRvIHNldCAoMC0yNCkuXG4gICAgICogICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBjdXJyZW50IG1pbmltdW0gem9vbSAoaS5lLiBzZXRzIGl0IHRvIDApLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE1pblpvb20obWluWm9vbT86ID9udW1iZXIpIHtcblxuICAgICAgICBtaW5ab29tID0gbWluWm9vbSA9PT0gbnVsbCB8fCBtaW5ab29tID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWluWm9vbSA6IG1pblpvb207XG5cbiAgICAgICAgaWYgKG1pblpvb20gPj0gZGVmYXVsdE1pblpvb20gJiYgbWluWm9vbSA8PSB0aGlzLnRyYW5zZm9ybS5tYXhab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5taW5ab29tID0gbWluWm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPCBtaW5ab29tKSB0aGlzLnNldFpvb20obWluWm9vbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYG1pblpvb20gbXVzdCBiZSBiZXR3ZWVuICR7ZGVmYXVsdE1pblpvb219IGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBtaW5pbXVtIGFsbG93YWJsZSB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn0gbWluWm9vbVxuICAgICAqL1xuICAgIGdldE1pblpvb20oKSB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgbWF4aW11bSB6b29tIGxldmVsLlxuICAgICAqIElmIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgaGlnaGVyIHRoYW4gdGhlIG5ldyBtYXhpbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWF4aW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWF4Wm9vbSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIHNldC5cbiAgICAgKiAgIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGN1cnJlbnQgbWF4aW11bSB6b29tIChzZXRzIGl0IHRvIDIyKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRNYXhab29tKG1heFpvb20/OiA/bnVtYmVyKSB7XG5cbiAgICAgICAgbWF4Wm9vbSA9IG1heFpvb20gPT09IG51bGwgfHwgbWF4Wm9vbSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1heFpvb20gOiBtYXhab29tO1xuXG4gICAgICAgIGlmIChtYXhab29tID49IHRoaXMudHJhbnNmb3JtLm1pblpvb20pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1heFpvb20gPSBtYXhab29tO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFpvb20oKSA+IG1heFpvb20pIHRoaXMuc2V0Wm9vbShtYXhab29tKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5ab29tYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgb2YgcmVuZGVyV29ybGRDb3BpZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmVuZGVyV29ybGRDb3BpZXNcbiAgICAgKi9cbiAgICBnZXRSZW5kZXJXb3JsZENvcGllcygpIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiByZW5kZXJXb3JsZENvcGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyV29ybGRDb3BpZXMgSWYgYHRydWVgLCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQsIHdoZW4gem9vbWVkIG91dC4gYHVuZGVmaW5lZGAgaXMgdHJlYXRlZCBhcyBgdHJ1ZWAsIGBudWxsYCBpcyB0cmVhdGVkIGFzIGBmYWxzZWAuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0UmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbikge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWF4aW11bSBhbGxvd2FibGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1heFpvb21cbiAgICAgKi9cbiAgICBnZXRNYXhab29tKCkgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBQb2ludH0gcmVwcmVzZW50aW5nIHBpeGVsIGNvb3JkaW5hdGVzLCByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAsXG4gICAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBsbmdsYXQgVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiB0byBwcm9qZWN0LlxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gVGhlIHtAbGluayBQb2ludH0gY29ycmVzcG9uZGluZyB0byBgbG5nbGF0YCwgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGBjb250YWluZXJgLlxuICAgICAqL1xuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KExuZ0xhdC5jb252ZXJ0KGxuZ2xhdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB7QGxpbmsgTG5nTGF0fSByZXByZXNlbnRpbmcgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIHRoYXQgY29ycmVzcG9uZFxuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgcGl4ZWwgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcG9pbnQgVGhlIHBpeGVsIGNvb3JkaW5hdGVzIHRvIHVucHJvamVjdC5cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUge0BsaW5rIExuZ0xhdH0gY29ycmVzcG9uZGluZyB0byBgcG9pbnRgLlxuICAgICAqIEBzZWUgW1Nob3cgcG9seWdvbiBpbmZvcm1hdGlvbiBvbiBjbGlja10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb2x5Z29uLXBvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB1bnByb2plY3QocG9pbnQ6IFBvaW50TGlrZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihQb2ludC5jb252ZXJ0KHBvaW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXAgaXMgcGFubmluZywgem9vbWluZywgcm90YXRpbmcsIG9yIHBpdGNoaW5nIGR1ZSB0byBhIGNhbWVyYSBhbmltYXRpb24gb3IgdXNlciBnZXN0dXJlLlxuICAgICAqL1xuICAgIGlzTW92aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92aW5nIHx8XG4gICAgICAgICAgICB0aGlzLmRyYWdQYW4uaXNBY3RpdmUoKSB8fFxuICAgICAgICAgICAgdGhpcy5kcmFnUm90YXRlLmlzQWN0aXZlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsWm9vbS5pc0FjdGl2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICovXG4gICAgaXNab29taW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9vbWluZyB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxab29tLmlzQWN0aXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXAgaXMgcm90YXRpbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICovXG4gICAgaXNSb3RhdGluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW5nIHx8XG4gICAgICAgICAgICB0aGlzLmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBvZiBhIHNwZWNpZmllZCB0eXBlLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIG9uXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGFkZCBhIGxpc3RlbiBmb3IuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiAgIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgZGF0YSBvYmplY3QgcGFzc2VkIHRvIGBmaXJlYCxcbiAgICAgKiAgIGV4dGVuZGVkIHdpdGggYHRhcmdldGAgYW5kIGB0eXBlYCBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZvciBldmVudHMgb2YgYSBzcGVjaWZpZWQgdHlwZSBvY2N1cnJpbmcgb24gZmVhdHVyZXMgaW4gYSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yOyBvbmUgb2YgYCdtb3VzZWRvd24nYCwgYCdtb3VzZXVwJ2AsIGAnY2xpY2snYCwgYCdkYmxjbGljaydgLFxuICAgICAqIGAnbW91c2Vtb3ZlJ2AsIGAnbW91c2VlbnRlcidgLCBgJ21vdXNlbGVhdmUnYCwgYCdtb3VzZW92ZXInYCwgYCdtb3VzZW91dCdgLCBgJ2NvbnRleHRtZW51J2AsIGAndG91Y2hzdGFydCdgLFxuICAgICAqIGAndG91Y2hlbmQnYCwgb3IgYCd0b3VjaGNhbmNlbCdgLiBgbW91c2VlbnRlcmAgYW5kIGBtb3VzZW92ZXJgIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGN1cnNvciBlbnRlcnNcbiAgICAgKiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyIGZyb20gb3V0c2lkZSB0aGF0IGxheWVyIG9yIG91dHNpZGUgdGhlIG1hcCBjYW52YXMuIGBtb3VzZWxlYXZlYFxuICAgICAqIGFuZCBgbW91c2VvdXRgIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGN1cnNvciBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllciwgb3IgbGVhdmVzXG4gICAgICogdGhlIG1hcCBjYW52YXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiBhIHN0eWxlIGxheWVyLiBPbmx5IGV2ZW50cyB3aG9zZSBsb2NhdGlvbiBpcyB3aXRoaW4gYSB2aXNpYmxlXG4gICAgICogZmVhdHVyZSBpbiB0aGlzIGxheWVyIHdpbGwgdHJpZ2dlciB0aGUgbGlzdGVuZXIuIFRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgbWF0Y2hpbmcgZmVhdHVyZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGF5ZXI6IGFueSwgbGlzdGVuZXI6IGFueSkge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9uKHR5cGUsIGxheWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbGVnYXRlZExpc3RlbmVyID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ21vdXNlb3ZlcicpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXRMYXllcihsYXllcikgPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBbbGF5ZXJdfSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBNYXBNb3VzZUV2ZW50KHR5cGUsIHRoaXMsIGUub3JpZ2luYWxFdmVudCwge2ZlYXR1cmVzfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW91dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYXllciwgbGlzdGVuZXIsIGRlbGVnYXRlczoge21vdXNlbW92ZSwgbW91c2VvdXR9fTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXRMYXllcihsYXllcikgPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBbbGF5ZXJdfSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VvdXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYXllciwgbGlzdGVuZXIsIGRlbGVnYXRlczoge21vdXNlbW92ZSwgbW91c2VvdXR9fTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZWdhdGUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogW2xheWVyXX0pIDogW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgbmVlZCB0byBtdXRhdGUgdGhlIG9yaWdpbmFsIGV2ZW50LCBzbyB0aGF0IHByZXZlbnREZWZhdWx0IHdvcmtzIGFzIGV4cGVjdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5mZWF0dXJlcyA9IGZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlLmZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge2xheWVyLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7W3R5cGVdOiBkZWxlZ2F0ZX19O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyA9IHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdIHx8IFtdO1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0ucHVzaChkZWxlZ2F0ZWRMaXN0ZW5lcik7XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMub24oKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgcHJldmlvdXNseSBhZGRlZCB3aXRoIGBNYXAjb25gLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIG9mZlxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSBwcmV2aW91c2x5IHVzZWQgdG8gaW5zdGFsbCB0aGUgbGlzdGVuZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHByZXZpb3VzbHkgaW5zdGFsbGVkIGFzIGEgbGlzdGVuZXIuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBsYXllci1zcGVjaWZpYyBldmVudHMgcHJldmlvdXNseSBhZGRlZCB3aXRoIGBNYXAjb25gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgcHJldmlvdXNseSB1c2VkIHRvIGluc3RhbGwgdGhlIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgbGF5ZXIgSUQgcHJldmlvdXNseSB1c2VkIHRvIGluc3RhbGwgdGhlIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiBwcmV2aW91c2x5IGluc3RhbGxlZCBhcyBhIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIG9mZih0eXBlOiBNYXBFdmVudCwgbGF5ZXI6IGFueSwgbGlzdGVuZXI6IGFueSkge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9mZih0eXBlLCBsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzICYmIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVkTGlzdGVuZXIubGF5ZXIgPT09IGxheWVyICYmIGRlbGVnYXRlZExpc3RlbmVyLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYoKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2I3NlY3Rpb24tMy4yKVxuICAgICAqIHJlcHJlc2VudGluZyB2aXNpYmxlIGZlYXR1cmVzIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfEFycmF5PFBvaW50TGlrZT59IFtnZW9tZXRyeV0gLSBUaGUgZ2VvbWV0cnkgb2YgdGhlIHF1ZXJ5IHJlZ2lvbjpcbiAgICAgKiBlaXRoZXIgYSBzaW5nbGUgcG9pbnQgb3Igc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgcG9pbnRzIGRlc2NyaWJpbmcgYSBib3VuZGluZyBib3guXG4gICAgICogT21pdHRpbmcgdGhpcyBwYXJhbWV0ZXIgKGkuZS4gY2FsbGluZyB7QGxpbmsgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc30gd2l0aCB6ZXJvIGFyZ3VtZW50cyxcbiAgICAgKiBvciB3aXRoIG9ubHkgYSBgb3B0aW9uc2AgYXJndW1lbnQpIGlzIGVxdWl2YWxlbnQgdG8gcGFzc2luZyBhIGJvdW5kaW5nIGJveCBlbmNvbXBhc3NpbmcgdGhlIGVudGlyZVxuICAgICAqIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbb3B0aW9ucy5sYXllcnNdIEFuIGFycmF5IG9mIHN0eWxlIGxheWVyIElEcyBmb3IgdGhlIHF1ZXJ5IHRvIGluc3BlY3QuXG4gICAgICogICBPbmx5IGZlYXR1cmVzIHdpdGhpbiB0aGVzZSBsYXllcnMgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhpcyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLCBhbGwgbGF5ZXJzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5maWx0ZXJdIEEgW2ZpbHRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jb3RoZXItZmlsdGVyKVxuICAgICAqICAgdG8gbGltaXQgcXVlcnkgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbZmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMikuXG4gICAgICpcbiAgICAgKiBUaGUgYHByb3BlcnRpZXNgIHZhbHVlIG9mIGVhY2ggcmV0dXJuZWQgZmVhdHVyZSBvYmplY3QgY29udGFpbnMgdGhlIHByb3BlcnRpZXMgb2YgaXRzIHNvdXJjZSBmZWF0dXJlLiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBvbmx5XG4gICAgICogc3RyaW5nIGFuZCBudW1lcmljIHByb3BlcnR5IHZhbHVlcyBhcmUgc3VwcG9ydGVkIChpLmUuIGBudWxsYCwgYEFycmF5YCwgYW5kIGBPYmplY3RgIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCkuXG4gICAgICpcbiAgICAgKiBFYWNoIGZlYXR1cmUgaW5jbHVkZXMgdG9wLWxldmVsIGBsYXllcmAsIGBzb3VyY2VgLCBhbmQgYHNvdXJjZUxheWVyYCBwcm9wZXJ0aWVzLiBUaGUgYGxheWVyYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIHN0eWxlIGxheWVyIHRvICB3aGljaCB0aGUgZmVhdHVyZSBiZWxvbmdzLiBMYXlvdXQgYW5kIHBhaW50IHByb3BlcnRpZXMgaW4gdGhpcyBvYmplY3QgY29udGFpbiB2YWx1ZXNcbiAgICAgKiB3aGljaCBhcmUgZnVsbHkgZXZhbHVhdGVkIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbCBhbmQgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIEZlYXR1cmVzIGZyb20gbGF5ZXJzIHdob3NlIGB2aXNpYmlsaXR5YCBwcm9wZXJ0eSBpcyBgXCJub25lXCJgLCBvciBmcm9tIGxheWVycyB3aG9zZSB6b29tIHJhbmdlIGV4Y2x1ZGVzIHRoZVxuICAgICAqIGN1cnJlbnQgem9vbSBsZXZlbCBhcmUgbm90IGluY2x1ZGVkLiBTeW1ib2wgZmVhdHVyZXMgdGhhdCBoYXZlIGJlZW4gaGlkZGVuIGR1ZSB0byB0ZXh0IG9yIGljb24gY29sbGlzaW9uIGFyZVxuICAgICAqIG5vdCBpbmNsdWRlZC4gRmVhdHVyZXMgZnJvbSBhbGwgb3RoZXIgbGF5ZXJzIGFyZSBpbmNsdWRlZCwgaW5jbHVkaW5nIGZlYXR1cmVzIHRoYXQgbWF5IGhhdmUgbm8gdmlzaWJsZVxuICAgICAqIGNvbnRyaWJ1dGlvbiB0byB0aGUgcmVuZGVyZWQgcmVzdWx0OyBmb3IgZXhhbXBsZSwgYmVjYXVzZSB0aGUgbGF5ZXIncyBvcGFjaXR5IG9yIGNvbG9yIGFscGhhIGNvbXBvbmVudCBpcyBzZXQgdG9cbiAgICAgKiAwLlxuICAgICAqXG4gICAgICogVGhlIHRvcG1vc3QgcmVuZGVyZWQgZmVhdHVyZSBhcHBlYXJzIGZpcnN0IGluIHRoZSByZXR1cm5lZCBhcnJheSwgYW5kIHN1YnNlcXVlbnQgZmVhdHVyZXMgYXJlIHNvcnRlZCBieVxuICAgICAqIGRlc2NlbmRpbmcgei1vcmRlci4gRmVhdHVyZXMgdGhhdCBhcmUgcmVuZGVyZWQgbXVsdGlwbGUgdGltZXMgKGR1ZSB0byB3cmFwcGluZyBhY3Jvc3MgdGhlIGFudGltZXJpZGlhbiBhdCBsb3dcbiAgICAgKiB6b29tIGxldmVscykgYXJlIHJldHVybmVkIG9ubHkgb25jZSAodGhvdWdoIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjYXZlYXQpLlxuICAgICAqXG4gICAgICogQmVjYXVzZSBmZWF0dXJlcyBjb21lIGZyb20gdGlsZWQgdmVjdG9yIGRhdGEgb3IgR2VvSlNPTiBkYXRhIHRoYXQgaXMgY29udmVydGVkIHRvIHRpbGVzIGludGVybmFsbHksIGZlYXR1cmVcbiAgICAgKiBnZW9tZXRyaWVzIG1heSBiZSBzcGxpdCBvciBkdXBsaWNhdGVkIGFjcm9zcyB0aWxlIGJvdW5kYXJpZXMgYW5kLCBhcyBhIHJlc3VsdCwgZmVhdHVyZXMgbWF5IGFwcGVhciBtdWx0aXBsZVxuICAgICAqIHRpbWVzIGluIHF1ZXJ5IHJlc3VsdHMuIEZvciBleGFtcGxlLCBzdXBwb3NlIHRoZXJlIGlzIGEgaGlnaHdheSBydW5uaW5nIHRocm91Z2ggdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiBhIHF1ZXJ5LlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSB3aWxsIGJlIHRob3NlIHBhcnRzIG9mIHRoZSBoaWdod2F5IHRoYXQgbGllIHdpdGhpbiB0aGUgbWFwIHRpbGVzIGNvdmVyaW5nIHRoZSBib3VuZGluZ1xuICAgICAqIHJlY3RhbmdsZSwgZXZlbiBpZiB0aGUgaGlnaHdheSBleHRlbmRzIGludG8gb3RoZXIgdGlsZXMsIGFuZCB0aGUgcG9ydGlvbiBvZiB0aGUgaGlnaHdheSB3aXRoaW4gZWFjaCBtYXAgdGlsZVxuICAgICAqIHdpbGwgYmUgcmV0dXJuZWQgYXMgYSBzZXBhcmF0ZSBmZWF0dXJlLiBTaW1pbGFybHksIGEgcG9pbnQgZmVhdHVyZSBuZWFyIGEgdGlsZSBib3VuZGFyeSBtYXkgYXBwZWFyIGluIG11bHRpcGxlXG4gICAgICogdGlsZXMgZHVlIHRvIHRpbGUgYnVmZmVyaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyBhdCBhIHBvaW50XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFsyMCwgMzVdLFxuICAgICAqICAgeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH1cbiAgICAgKiApO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyB3aXRoaW4gYSBzdGF0aWMgYm91bmRpbmcgYm94XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFtbMTAsIDIwXSwgWzMwLCA1MF1dLFxuICAgICAqICAgeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH1cbiAgICAgKiApO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3ggYXJvdW5kIGEgcG9pbnRcbiAgICAgKiB2YXIgd2lkdGggPSAxMDtcbiAgICAgKiB2YXIgaGVpZ2h0ID0gMjA7XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhbXG4gICAgICogICBbcG9pbnQueCAtIHdpZHRoIC8gMiwgcG9pbnQueSAtIGhlaWdodCAvIDJdLFxuICAgICAqICAgW3BvaW50LnggKyB3aWR0aCAvIDIsIHBvaW50LnkgKyBoZWlnaHQgLyAyXVxuICAgICAqIF0sIHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUXVlcnkgYWxsIHJlbmRlcmVkIGZlYXR1cmVzIGZyb20gYSBzaW5nbGUgbGF5ZXJcbiAgICAgKiB2YXIgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9KTtcbiAgICAgKiBAc2VlIFtHZXQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5PzogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSwgb3B0aW9ucz86IE9iamVjdCkge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFyYW1ldGVyIGNhbiBiZSBvbWl0dGVkIGVudGlyZWx5LCBtYWtpbmcgdGhpcyBlZmZlY3RpdmVseSBhbiBvdmVybG9hZGVkIG1ldGhvZFxuICAgICAgICAvLyB3aXRoIHR3byBzaWduYXR1cmVzOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCBvcHRpb25zPzogT2JqZWN0KVxuICAgICAgICAvLyAgICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKG9wdGlvbnM/OiBPYmplY3QpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZXJlIG5vIHdheSB0byBleHByZXNzIHRoYXQgaW4gYSB3YXkgdGhhdCdzIGNvbXBhdGlibGUgd2l0aCBib3RoIGZsb3cgYW5kIGRvY3VtZW50YXRpb24uanMuXG4gICAgICAgIC8vIFJlbGF0ZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNTU2XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkICYmIGdlb21ldHJ5ICE9PSB1bmRlZmluZWQgJiYgIShnZW9tZXRyeSBpbnN0YW5jZW9mIFBvaW50KSAmJiAhQXJyYXkuaXNBcnJheShnZW9tZXRyeSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSAoZ2VvbWV0cnk6IE9iamVjdCk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5IHx8IFtbMCwgMF0sIFt0aGlzLnRyYW5zZm9ybS53aWR0aCwgdGhpcy50cmFuc2Zvcm0uaGVpZ2h0XV07XG5cbiAgICAgICAgbGV0IHF1ZXJ5R2VvbWV0cnk7XG4gICAgICAgIGlmIChnZW9tZXRyeSBpbnN0YW5jZW9mIFBvaW50IHx8IHR5cGVvZiBnZW9tZXRyeVswXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnkgPSBbUG9pbnQuY29udmVydChnZW9tZXRyeSldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGwgPSBQb2ludC5jb252ZXJ0KGdlb21ldHJ5WzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGJyID0gUG9pbnQuY29udmVydChnZW9tZXRyeVsxXSk7XG4gICAgICAgICAgICBxdWVyeUdlb21ldHJ5ID0gW3RsLCBuZXcgUG9pbnQoYnIueCwgdGwueSksIGJyLCBuZXcgUG9pbnQodGwueCwgYnIueSksIHRsXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhxdWVyeUdlb21ldHJ5LCBvcHRpb25zLCB0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbRmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMilcbiAgICAgKiByZXByZXNlbnRpbmcgZmVhdHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTiBzb3VyY2UgdGhhdCBzYXRpc2Z5IHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZUlEIFRoZSBJRCBvZiB0aGUgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTiBzb3VyY2UgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbWV0ZXJzXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyYW1ldGVycy5zb3VyY2VMYXllcl0gVGhlIG5hbWUgb2YgdGhlIHZlY3RvciB0aWxlIGxheWVyIHRvIHF1ZXJ5LiAqRm9yIHZlY3RvciB0aWxlXG4gICAgICogICBzb3VyY2VzLCB0aGlzIHBhcmFtZXRlciBpcyByZXF1aXJlZC4qIEZvciBHZW9KU09OIHNvdXJjZXMsIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcmFtZXRlcnMuZmlsdGVyXSBBIFtmaWx0ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI290aGVyLWZpbHRlcilcbiAgICAgKiAgIHRvIGxpbWl0IHF1ZXJ5IHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gQW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc5NDYjc2VjdGlvbi0zLjIpLlxuICAgICAqXG4gICAgICogSW4gY29udHJhc3QgdG8ge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9LCB0aGlzIGZ1bmN0aW9uXG4gICAgICogcmV0dXJucyBhbGwgZmVhdHVyZXMgbWF0Y2hpbmcgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMsXG4gICAgICogd2hldGhlciBvciBub3QgdGhleSBhcmUgcmVuZGVyZWQgYnkgdGhlIGN1cnJlbnQgc3R5bGUgKGkuZS4gdmlzaWJsZSkuIFRoZSBkb21haW4gb2YgdGhlIHF1ZXJ5IGluY2x1ZGVzIGFsbCBjdXJyZW50bHktbG9hZGVkXG4gICAgICogdmVjdG9yIHRpbGVzIGFuZCBHZW9KU09OIHNvdXJjZSB0aWxlczogdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBjaGVjayB0aWxlcyBvdXRzaWRlIHRoZSBjdXJyZW50bHlcbiAgICAgKiB2aXNpYmxlIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQmVjYXVzZSBmZWF0dXJlcyBjb21lIGZyb20gdGlsZWQgdmVjdG9yIGRhdGEgb3IgR2VvSlNPTiBkYXRhIHRoYXQgaXMgY29udmVydGVkIHRvIHRpbGVzIGludGVybmFsbHksIGZlYXR1cmVcbiAgICAgKiBnZW9tZXRyaWVzIG1heSBiZSBzcGxpdCBvciBkdXBsaWNhdGVkIGFjcm9zcyB0aWxlIGJvdW5kYXJpZXMgYW5kLCBhcyBhIHJlc3VsdCwgZmVhdHVyZXMgbWF5IGFwcGVhciBtdWx0aXBsZVxuICAgICAqIHRpbWVzIGluIHF1ZXJ5IHJlc3VsdHMuIEZvciBleGFtcGxlLCBzdXBwb3NlIHRoZXJlIGlzIGEgaGlnaHdheSBydW5uaW5nIHRocm91Z2ggdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiBhIHF1ZXJ5LlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSB3aWxsIGJlIHRob3NlIHBhcnRzIG9mIHRoZSBoaWdod2F5IHRoYXQgbGllIHdpdGhpbiB0aGUgbWFwIHRpbGVzIGNvdmVyaW5nIHRoZSBib3VuZGluZ1xuICAgICAqIHJlY3RhbmdsZSwgZXZlbiBpZiB0aGUgaGlnaHdheSBleHRlbmRzIGludG8gb3RoZXIgdGlsZXMsIGFuZCB0aGUgcG9ydGlvbiBvZiB0aGUgaGlnaHdheSB3aXRoaW4gZWFjaCBtYXAgdGlsZVxuICAgICAqIHdpbGwgYmUgcmV0dXJuZWQgYXMgYSBzZXBhcmF0ZSBmZWF0dXJlLiBTaW1pbGFybHksIGEgcG9pbnQgZmVhdHVyZSBuZWFyIGEgdGlsZSBib3VuZGFyeSBtYXkgYXBwZWFyIGluIG11bHRpcGxlXG4gICAgICogdGlsZXMgZHVlIHRvIHRpbGUgYnVmZmVyaW5nLlxuICAgICAqIEBzZWUgW0ZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqL1xuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1ldGVyczogP3tzb3VyY2VMYXllcjogP3N0cmluZywgZmlsdGVyOiA/QXJyYXk8YW55Pn0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJRCwgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbWFwJ3MgTWFwYm94IHN0eWxlIG9iamVjdCB3aXRoIGEgbmV3IHZhbHVlLiAgSWYgdGhlIGdpdmVuXG4gICAgICogdmFsdWUgaXMgc3R5bGUgSlNPTiBvYmplY3QsIGNvbXBhcmVzIGl0IGFnYWluc3QgdGhlIHRoZSBtYXAncyBjdXJyZW50XG4gICAgICogc3RhdGUgYW5kIHBlcmZvcm0gb25seSB0aGUgY2hhbmdlcyBuZWNlc3NhcnkgdG8gbWFrZSB0aGUgbWFwIHN0eWxlIG1hdGNoXG4gICAgICogdGhlIGRlc2lyZWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3R5bGUgQSBKU09OIG9iamVjdCBjb25mb3JtaW5nIHRvIHRoZSBzY2hlbWEgZGVzY3JpYmVkIGluIHRoZVxuICAgICAqICAgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL21hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSwgb3IgYSBVUkwgdG8gc3VjaCBKU09OLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRpZmY9dHJ1ZV0gSWYgZmFsc2UsIGZvcmNlIGEgJ2Z1bGwnIHVwZGF0ZSwgcmVtb3ZpbmcgdGhlIGN1cnJlbnQgc3R5bGVcbiAgICAgKiAgIGFuZCBhZGRpbmcgYnVpbGRpbmcgdGhlIGdpdmVuIG9uZSBpbnN0ZWFkIG9mIGF0dGVtcHRpbmcgYSBkaWZmLWJhc2VkIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PW51bGxdIElmIG5vbi1udWxsLCBkZWZpbmVzIGEgY3NzIGZvbnQtZmFtaWx5XG4gICAgICogICBmb3IgbG9jYWxseSBvdmVycmlkaW5nIGdlbmVyYXRpb24gb2YgZ2x5cGhzIGluIHRoZSAnQ0pLIFVuaWZpZWQgSWRlb2dyYXBocycgYW5kICdIYW5ndWwgU3lsbGFibGVzJ1xuICAgICAqICAgcmFuZ2VzLiBGb3JjZXMgYSBmdWxsIHVwZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtDaGFuZ2UgYSBtYXAncyBzdHlsZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9zZXRzdHlsZS8pXG4gICAgICovXG4gICAgc2V0U3R5bGUoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiB8IHN0cmluZyB8IG51bGwsIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFRyeURpZmYgPSAoIW9wdGlvbnMgfHwgKG9wdGlvbnMuZGlmZiAhPT0gZmFsc2UgJiYgIW9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSkgJiYgdGhpcy5zdHlsZTtcbiAgICAgICAgaWYgKHNob3VsZFRyeURpZmYgJiYgc3R5bGUgJiYgdHlwZW9mIHN0eWxlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5zZXRTdGF0ZShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byBwZXJmb3JtIHN0eWxlIGRpZmY6ICR7ZS5tZXNzYWdlIHx8IGUuZXJyb3IgfHwgZX0uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5fcmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IG5ldyBTdHlsZSh0aGlzLCBvcHRpb25zIHx8IHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCB7c3R5bGU6IHRoaXMuc3R5bGV9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkVVJMKHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUubG9hZEpTT04oc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgTWFwYm94IHN0eWxlIG9iamVjdCwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVjcmVhdGUgdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIG1hcCdzIHN0eWxlIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAncyBzdHlsZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc3R5bGUgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqL1xuICAgIGlzU3R5bGVMb2FkZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkgcmV0dXJuIHdhcm5PbmNlKCdUaGVyZSBpcyBubyBzdHlsZSBhZGRlZCB0byB0aGUgbWFwLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc291cmNlIHRvIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBhZGQuIE11c3Qgbm90IGNvbmZsaWN0IHdpdGggZXhpc3Rpbmcgc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LCBjb25mb3JtaW5nIHRvIHRoZVxuICAgICAqIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW3NvdXJjZSBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBvclxuICAgICAqIHtAbGluayBDYW52YXNTb3VyY2VPcHRpb25zfS5cbiAgICAgKiBAZmlyZXMgc291cmNlLmFkZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW0RyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtTdHlsZSBjaXJjbGVzIHVzaW5nIGRhdGEtZHJpdmVuIHN0eWxpbmddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZGF0YS1kcml2ZW4tY2lyY2xlLWNvbG9ycy8pXG4gICAgICogQHNlZSBbU2V0IGEgcG9pbnQgYWZ0ZXIgR2VvY29kZXIgcmVzdWx0XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvaW50LWZyb20tZ2VvY29kZXItcmVzdWx0LylcbiAgICAgKi9cbiAgICBhZGRTb3VyY2UoaWQ6IHN0cmluZywgc291cmNlOiBTb3VyY2VTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuYWRkU291cmNlKGlkLCBzb3VyY2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGlzU291cmNlTG9hZGVkKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7aWR9J2ApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYWxsIHRpbGVzIGluIHRoZSB2aWV3cG9ydCBmcm9tIGFsbCBzb3VyY2VzIG9uXG4gICAgICogdGhlIHN0eWxlIGFyZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC5cbiAgICAgKi9cblxuICAgIGFyZVRpbGVzTG9hZGVkKCkge1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzW2lkXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gc291cmNlLl90aWxlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBpbiB0aWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aWxlc1t0XTtcbiAgICAgICAgICAgICAgICBpZiAoISh0aWxlLnN0YXRlID09PSAnbG9hZGVkJyB8fCB0aWxlLnN0YXRlID09PSAnZXJyb3JlZCcpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFtjdXN0b20gc291cmNlIHR5cGVdKCNDdXN0b20gU291cmNlcyksIG1ha2luZyBpdCBhdmFpbGFibGUgZm9yIHVzZSB3aXRoXG4gICAgICoge0BsaW5rIE1hcCNhZGRTb3VyY2V9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNvdXJjZSB0eXBlOyBzb3VyY2UgZGVmaW5pdGlvbiBvYmplY3RzIHVzZSB0aGlzIG5hbWUgaW4gdGhlIGB7dHlwZTogLi4ufWAgZmllbGQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gU291cmNlVHlwZSBBIHtAbGluayBTb3VyY2V9IGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aGVuIHRoZSBzb3VyY2UgdHlwZSBpcyByZWFkeSBvciB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICAgICAqL1xuICAgIGFkZFNvdXJjZVR5cGUobmFtZTogc3RyaW5nLCBTb3VyY2VUeXBlOiBhbnksIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKG5hbWUsIFNvdXJjZVR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgc291cmNlIGZyb20gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZShpZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCBpbiB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgc3R5bGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCwgb3IgYHVuZGVmaW5lZGBcbiAgICAgKiAgIGlmIHRoZSBJRCBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBzb3VyY2VzLlxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqIEBzZWUgW0FuaW1hdGUgYSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLXBvaW50LWFsb25nLWxpbmUvKVxuICAgICAqIEBzZWUgW0FkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbGl2ZS1nZW9qc29uLylcbiAgICAgKi9cbiAgICBnZXRTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRTb3VyY2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBpbWFnZSB0byB0aGUgc3R5bGUuIFRoaXMgaW1hZ2UgY2FuIGJlIHVzZWQgaW4gYGljb24taW1hZ2VgLFxuICAgICAqIGBiYWNrZ3JvdW5kLXBhdHRlcm5gLCBgZmlsbC1wYXR0ZXJuYCwgYW5kIGBsaW5lLXBhdHRlcm5gLiBBblxuICAgICAqIHtAbGluayBNYXAjZXJyb3J9IGV2ZW50IHdpbGwgYmUgZmlyZWQgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBzcGFjZSBpbiB0aGVcbiAgICAgKiBzcHJpdGUgdG8gYWRkIHRoaXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAc2VlIFtBZGQgYW4gaWNvbiB0byB0aGUgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS8pXG4gICAgICogQHNlZSBbQWRkIGEgZ2VuZXJhdGVkIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtZ2VuZXJhdGVkLylcbiAgICAgKiBAcGFyYW0gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAcGFyYW0gaW1hZ2UgVGhlIGltYWdlIGFzIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgXG4gICAgICogcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBvcHRpb25zLnBpeGVsUmF0aW8gVGhlIHJhdGlvIG9mIHBpeGVscyBpbiB0aGUgaW1hZ2UgdG8gcGh5c2ljYWwgcGl4ZWxzIG9uIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zZGYgV2hldGhlciB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGFuIFNERiBpbWFnZVxuICAgICAqL1xuICAgIGFkZEltYWdlKGlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZURhdGEgfCB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0sXG4gICAgICAgICAgICAge3BpeGVsUmF0aW8gPSAxLCBzZGYgPSBmYWxzZX06IHtwaXhlbFJhdGlvPzogbnVtYmVyLCBzZGY/OiBib29sZWFufSA9IHt9KSB7XG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBkYXRhfSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYWRkSW1hZ2UoaWQsIHsgZGF0YTogbmV3IFJHQkFJbWFnZSh7d2lkdGgsIGhlaWdodH0sIGRhdGEpLCBwaXhlbFJhdGlvLCBzZGYgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2Uud2lkdGggPT09IHVuZGVmaW5lZCB8fCBpbWFnZS5oZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgJyArXG4gICAgICAgICAgICAgICAgJ29yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAnKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGRhdGF9ID0gaW1hZ2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmFkZEltYWdlKGlkLCB7IGRhdGE6IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoLCBoZWlnaHR9LCBuZXcgVWludDhBcnJheShkYXRhKSksIHBpeGVsUmF0aW8sIHNkZiB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB3ZXRoZXIgdGhlIGltYWdlIGhhcyBiZWVuIGFkZGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgaGFzSW1hZ2UoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGltYWdlIGlkJykpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIXRoaXMuc3R5bGUuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBpbWFnZSBmcm9tIHRoZSBzdHlsZSAoc3VjaCBhcyBvbmUgdXNlZCBieSBgaWNvbi1pbWFnZWAgb3IgYGJhY2tncm91bmQtcGF0dGVybmApLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgcmVtb3ZlSW1hZ2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuIGltYWdlIGZyb20gYW4gZXh0ZXJuYWwgVVJMIGZvciB1c2Ugd2l0aCBgTWFwI2FkZEltYWdlYC4gRXh0ZXJuYWxcbiAgICAgKiBkb21haW5zIG11c3Qgc3VwcG9ydCBbQ09SU10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCBvZiB0aGUgaW1hZ2UgZmlsZS4gSW1hZ2UgZmlsZSBtdXN0IGJlIGluIHBuZywgd2VicCwgb3IganBnIGZvcm1hdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBFeHBlY3RpbmcgYGNhbGxiYWNrKGVycm9yLCBkYXRhKWAuIENhbGxlZCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkIG9yIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gICAgICogQHNlZSBbQWRkIGFuIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UvKVxuICAgICAqL1xuICAgIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGdldEltYWdlKHRoaXMuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIHN0cmluZ3MgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIHNwcml0ZXMvaW1hZ2VzIGN1cnJlbnRseSBhdmFpbGFibGUgaW4gdGhlIG1hcFxuICAgICpcbiAgICAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSBBbiBBcnJheSBvZiBzdHJpbmdzIGNvbnRhaW5pbmcgdGhlIG5hbWVzIG9mIGFsbCBzcHJpdGVzL2ltYWdlcyBjdXJyZW50bHkgYXZhaWxhYmxlIGluIHRoZSBtYXBcbiAgICAqXG4gICAgKi9cbiAgICBsaXN0SW1hZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFtNYXBib3ggc3R5bGUgbGF5ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI2xheWVycylcbiAgICAgKiB0byB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBBIGxheWVyIGRlZmluZXMgc3R5bGluZyBmb3IgZGF0YSBmcm9tIGEgc3BlY2lmaWVkIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgQ3VzdG9tTGF5ZXJJbnRlcmZhY2V9IGxheWVyIFRoZSBzdHlsZSBsYXllciB0byBhZGQsIGNvbmZvcm1pbmcgdG8gdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3NcbiAgICAgKiAgIFtsYXllciBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsYXllcnMpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLlxuICAgICAqICAgSWYgdGhpcyBhcmd1bWVudCBpcyBvbWl0dGVkLCB0aGUgbGF5ZXIgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsYXllcnMgYXJyYXkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbQ3JlYXRlIGFuZCBzdHlsZSBjbHVzdGVyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLylcbiAgICAgKiBAc2VlIFtBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdmVjdG9yLXNvdXJjZS8pXG4gICAgICogQHNlZSBbQWRkIGEgV01TIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS93bXMvKVxuICAgICAqL1xuICAgIGFkZExheWVyKGxheWVyOiBMYXllclNwZWNpZmljYXRpb24gfCBDdXN0b21MYXllckludGVyZmFjZSwgYmVmb3JlPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuYWRkTGF5ZXIobGF5ZXIsIGJlZm9yZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBsYXllciB0byBhIGRpZmZlcmVudCB6LXBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gbW92ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZUlkXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLlxuICAgICAqICAgSWYgdGhpcyBhcmd1bWVudCBpcyBvbWl0dGVkLCB0aGUgbGF5ZXIgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsYXllcnMgYXJyYXkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgbW92ZUxheWVyKGlkOiBzdHJpbmcsIGJlZm9yZUlkPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUubW92ZUxheWVyKGlkLCBiZWZvcmVJZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBJZiBubyBzdWNoIGxheWVyIGV4aXN0cywgYW4gYGVycm9yYCBldmVudCBpcyBmaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgbGF5ZXIgdG8gcmVtb3ZlXG4gICAgICogQGZpcmVzIGVycm9yXG4gICAgICovXG4gICAgcmVtb3ZlTGF5ZXIoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKGlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgaW4gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIElELCBvciBgdW5kZWZpbmVkYFxuICAgICAqICAgaWYgdGhlIElEIGNvcnJlc3BvbmRzIHRvIG5vIGV4aXN0aW5nIGxheWVycy5cbiAgICAgKiBAc2VlIFtGaWx0ZXIgc3ltYm9scyBieSB0b2dnbGluZyBhIGxpc3RdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW0ZpbHRlciBzeW1ib2xzIGJ5IHRleHQgaW5wdXRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMtYnktaW5wdXQvKVxuICAgICAqL1xuICAgIGdldExheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5ZXIoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZpbHRlciBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHdoaWNoIHRoZSBmaWx0ZXIgd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXkgfCBudWxsIHwgdW5kZWZpbmVkfSBmaWx0ZXIgVGhlIGZpbHRlciwgY29uZm9ybWluZyB0byB0aGUgTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24nc1xuICAgICAqICAgW2ZpbHRlciBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNvdGhlci1maWx0ZXIpLiAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyBhbnkgZXhpc3RpbmcgZmlsdGVyIGZyb20gdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldEZpbHRlcignbXktbGF5ZXInLCBbJz09JywgJ25hbWUnLCAnVVNBJ10pO1xuICAgICAqIEBzZWUgW0ZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICAgICAqL1xuICAgIHNldEZpbHRlcihsYXllcjogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0RmlsdGVyKGxheWVyLCBmaWx0ZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHpvb20gZXh0ZW50IGZvciB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byB3aGljaCB0aGUgem9vbSBleHRlbnQgd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW56b29tIFRoZSBtaW5pbXVtIHpvb20gdG8gc2V0ICgwLTI0KS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4em9vbSBUaGUgbWF4aW11bSB6b29tIHRvIHNldCAoMC0yNCkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5ZXJab29tUmFuZ2UoJ215LWxheWVyJywgMiwgNSk7XG4gICAgICovXG4gICAgc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZDogc3RyaW5nLCBtaW56b29tOiBudW1iZXIsIG1heHpvb206IG51bWJlcikge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGxheWVySWQsIG1pbnpvb20sIG1heHpvb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZpbHRlciBhcHBsaWVkIHRvIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBzdHlsZSBsYXllciB3aG9zZSBmaWx0ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGxheWVyJ3MgZmlsdGVyLlxuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBwYWludCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gc2V0IHRoZSBwYWludCBwcm9wZXJ0eSBpbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcGFpbnQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwYWludCBwcm9wZXJ5IHRvIHNldC5cbiAgICAgKiAgIE11c3QgYmUgb2YgYSB0eXBlIGFwcHJvcHJpYXRlIGZvciB0aGUgcHJvcGVydHksIGFzIGRlZmluZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldFBhaW50UHJvcGVydHkoJ215LWxheWVyJywgJ2ZpbGwtY29sb3InLCAnI2ZhYWZlZScpO1xuICAgICAqIEBzZWUgW0NoYW5nZSBhIGxheWVyJ3MgY29sb3Igd2l0aCBidXR0b25zXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NvbG9yLXN3aXRjaGVyLylcbiAgICAgKiBAc2VlIFtBZGp1c3QgYSBsYXllcidzIG9wYWNpdHldKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRqdXN0LWxheWVyLW9wYWNpdHkvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShsYXllciwgbmFtZSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgcGFpbnQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldCB0aGUgcGFpbnQgcHJvcGVydHkgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiBhIHBhaW50IHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgcGFpbnQgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0UGFpbnRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShsYXllciwgbmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHNldCB0aGUgbGF5b3V0IHByb3BlcnR5IGluLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBsYXlvdXQgcHJvcGVyeS4gTXVzdCBiZSBvZiBhIHR5cGUgYXBwcm9wcmlhdGUgZm9yIHRoZSBwcm9wZXJ0eSwgYXMgZGVmaW5lZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ215LWxheWVyJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpO1xuICAgICAqL1xuICAgIHNldExheW91dFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KGxheWVyLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldCB0aGUgbGF5b3V0IHByb3BlcnR5IGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxheW91dCBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIGxheW91dCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXRMYXlvdXRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXIsIG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFueSBjb21iaW5hdGlvbiBvZiBsaWdodCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlnaHQgTGlnaHQgcHJvcGVydGllcyB0byBzZXQuIE11c3QgY29uZm9ybSB0byB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsaWdodCkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TGlnaHQobGlnaHQ6IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExpZ2h0KGxpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgbGlnaHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gbGlnaHQgTGlnaHQgcHJvcGVydGllcyBvZiB0aGUgc3R5bGUuXG4gICAgICovXG4gICAgZ2V0TGlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgYSBmZWF0dXJlLiBUaGUgYHN0YXRlYCBvYmplY3QgaXMgbWVyZ2VkIGluIHdpdGggdGhlIGV4aXN0aW5nIHN0YXRlIG9mIHRoZSBmZWF0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmUgRmVhdHVyZSBpZGVudGlmaWVyLiBGZWF0dXJlIG9iamVjdHMgcmV0dXJuZWQgZnJvbVxuICAgICAqIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSBvciBldmVudCBoYW5kbGVycyBjYW4gYmUgdXNlZCBhcyBmZWF0dXJlIGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyfSBmZWF0dXJlLmlkIFVuaXF1ZSBpZCBvZiB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZS5zb3VyY2UgVGhlIElkIG9mIHRoZSB2ZWN0b3Igc291cmNlIG9yIEdlb0pTT04gc291cmNlIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZlYXR1cmUuc291cmNlTGF5ZXJdIChvcHRpb25hbCkgICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgdGhlIHNvdXJjZUxheWVyIGlzXG4gICAgICogIHJlcXVpcmVkLipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgQSBzZXQgb2Yga2V5LXZhbHVlIHBhaXJzLiBUaGUgdmFsdWVzIHNob3VsZCBiZSB2YWxpZCBKU09OIHR5cGVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcmVxdWlyZXMgdGhlIGBmZWF0dXJlLmlkYCBhdHRyaWJ1dGUgb24gZGF0YSBzZXRzLiBGb3IgR2VvSlNPTiBzb3VyY2VzIHdpdGhvdXRcbiAgICAgKiBmZWF0dXJlIGlkcywgc2V0IHRoZSBgZ2VuZXJhdGVJZHNgIG9wdGlvbiBpbiB0aGUgYEdlb0pTT05Tb3VyY2VTcGVjaWZpY2F0aW9uYCB0byBhdXRvLWFzc2lnbiB0aGVtLiBUaGlzXG4gICAgICogb3B0aW9uIGFzc2lnbnMgaWRzIGJhc2VkIG9uIGEgZmVhdHVyZSdzIGluZGV4IGluIHRoZSBzb3VyY2UgZGF0YS4gSWYgeW91IGNoYW5nZSBmZWF0dXJlIGRhdGEgdXNpbmdcbiAgICAgKiBgbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpLnNldERhdGEoLi4pYCwgeW91IG1heSBuZWVkIHRvIHJlLWFwcGx5IHN0YXRlIHRha2luZyBpbnRvIGFjY291bnQgdXBkYXRlZCBgaWRgIHZhbHVlcy5cbiAgICAgKi9cbiAgICBzZXRGZWF0dXJlU3RhdGUoZmVhdHVyZTogeyBzb3VyY2U6IHN0cmluZzsgc291cmNlTGF5ZXI/OiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXI7IH0sIHN0YXRlOiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGZWF0dXJlU3RhdGUoZmVhdHVyZSwgc3RhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhdGUgb2YgYSBmZWF0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmUgRmVhdHVyZSBpZGVudGlmaWVyLiBGZWF0dXJlIG9iamVjdHMgcmV0dXJuZWQgZnJvbVxuICAgICAqIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSBvciBldmVudCBoYW5kbGVycyBjYW4gYmUgdXNlZCBhcyBmZWF0dXJlIGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyfSBmZWF0dXJlLmlkIFVuaXF1ZSBpZCBvZiB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZS5zb3VyY2UgVGhlIElkIG9mIHRoZSB2ZWN0b3Igc291cmNlIG9yIEdlb0pTT04gc291cmNlIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZlYXR1cmUuc291cmNlTGF5ZXJdIChvcHRpb25hbCkgICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgdGhlIHNvdXJjZUxheWVyIGlzXG4gICAgICogIHJlcXVpcmVkLipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzdGF0ZSBvZiB0aGUgZmVhdHVyZS5cbiAgICAgKi9cbiAgICBnZXRGZWF0dXJlU3RhdGUoZmVhdHVyZTogeyBzb3VyY2U6IHN0cmluZzsgc291cmNlTGF5ZXI/OiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXI7IH0pOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRGZWF0dXJlU3RhdGUoZmVhdHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY29udGFpbmluZyBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBtYXAncyBjb250YWluZXIuXG4gICAgICovXG4gICAgZ2V0Q29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCBjb250YWluaW5nIHRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBhZGQgbm9uLUdMIG92ZXJsYXlzIHRvIHRoZSBtYXAsIHlvdSBzaG91bGQgYXBwZW5kIHRoZW0gdG8gdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB0aGUgZWxlbWVudCB0byB3aGljaCBldmVudCBiaW5kaW5ncyBmb3IgbWFwIGludGVyYWN0aXZpdHkgKHN1Y2ggYXMgcGFubmluZyBhbmQgem9vbWluZykgYXJlXG4gICAgICogYXR0YWNoZWQuIEl0IHdpbGwgcmVjZWl2ZSBidWJibGVkIGV2ZW50cyBmcm9tIGNoaWxkIGVsZW1lbnRzIHN1Y2ggYXMgdGhlIGA8Y2FudmFzPmAsIGJ1dCBub3QgZnJvbVxuICAgICAqIG1hcCBjb250cm9scy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIGNvbnRhaW5lciBvZiB0aGUgbWFwJ3MgYDxjYW52YXM+YC5cbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqL1xuICAgIGdldENhbnZhc0NvbnRhaW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICogQHNlZSBbTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKiBAc2VlIFtDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqL1xuICAgIGdldENhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG5cbiAgICBfY29udGFpbmVyRGltZW5zaW9ucygpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggfHwgNDAwO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCB8fCAzMDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cblxuICAgIF9kZXRlY3RNaXNzaW5nQ1NTKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb21wdXRlZENvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgICAgICBpZiAoY29tcHV0ZWRDb2xvciAhPT0gJ3JnYigyNTAsIDEyOCwgMTE0KScpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yICcgK1xuICAgICAgICAgICAgICAgICdNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuICcgK1xuICAgICAgICAgICAgICAgICdQbGVhc2UgZW5zdXJlIHlvdXIgcGFnZSBpbmNsdWRlcyBtYXBib3gtZ2wuY3NzLCBhcyBkZXNjcmliZWQgJyArXG4gICAgICAgICAgICAgICAgJ2luIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLW1hcCcpO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdDU1NDYW5hcnkgPSB0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbmFyeScsIGNvbnRhaW5lcik7XG4gICAgICAgIG1pc3NpbmdDU1NDYW5hcnkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzQ29udGFpbmVyID0gdGhpcy5fY2FudmFzQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbnZhcy1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1pbnRlcmFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gRE9NLmNyZWF0ZSgnY2FudmFzJywgJ21hcGJveGdsLWNhbnZhcycsIGNhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5fY29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5fY29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdNYXAnKTtcblxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXMoZGltZW5zaW9uc1swXSwgZGltZW5zaW9uc1sxXSk7XG5cbiAgICAgICAgY29uc3QgY29udHJvbENvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY29udHJvbC1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLl9jb250cm9sUG9zaXRpb25zID0ge307XG4gICAgICAgIFsndG9wLWxlZnQnLCAndG9wLXJpZ2h0JywgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCddLmZvckVhY2goKHBvc2l0aW9uTmFtZSkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb25zW3Bvc2l0aW9uTmFtZV0gPSBET00uY3JlYXRlKCdkaXYnLCBgbWFwYm94Z2wtY3RybC0ke3Bvc2l0aW9uTmFtZX1gLCBjb250cm9sQ29udGFpbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZUNhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgICAvLyBSZXF1ZXN0IHRoZSByZXF1aXJlZCBjYW52YXMgc2l6ZSB0YWtpbmcgdGhlIHBpeGVscmF0aW8gaW50byBhY2NvdW50LlxuICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSBwaXhlbFJhdGlvICogd2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBwaXhlbFJhdGlvICogaGVpZ2h0O1xuXG4gICAgICAgIC8vIE1haW50YWluIHRoZSBzYW1lIGNhbnZhcyBzaXplLCBwb3RlbnRpYWxseSBkb3duc2NhbGluZyBpdCBmb3IgSGlEUEkgZGlzcGxheXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICB9XG5cbiAgICBfc2V0dXBQYWludGVyKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlclxuICAgICAgICB9LCBpc1N1cHBvcnRlZC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGF0dHJpYnV0ZXMpIHx8XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wnKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYWludGVyID0gbmV3IFBhaW50ZXIoZ2wsIHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBfY29udGV4dExvc3QoZXZlbnQ6ICopIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd3ZWJnbGNvbnRleHRsb3N0Jywge29yaWdpbmFsRXZlbnQ6IGV2ZW50fSkpO1xuICAgIH1cblxuICAgIF9jb250ZXh0UmVzdG9yZWQoZXZlbnQ6ICopIHtcbiAgICAgICAgdGhpcy5fc2V0dXBQYWludGVyKCk7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHtvcmlnaW5hbEV2ZW50OiBldmVudH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGBmYWxzZWAgaWYgdGhlIHN0eWxlIGlzIG5vdCB5ZXQgZnVsbHkgbG9hZGVkLFxuICAgICAqIG9yIGlmIHRoZXJlIGhhcyBiZWVuIGEgY2hhbmdlIHRvIHRoZSBzb3VyY2VzIG9yIHN0eWxlIHRoYXRcbiAgICAgKiBoYXMgbm90IHlldCBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKi9cbiAgICBsb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fc3R5bGVEaXJ0eSAmJiAhdGhpcy5fc291cmNlc0RpcnR5ICYmICEhdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLmxvYWRlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIG1hcCdzIHN0eWxlIGFuZCBzb3VyY2VzLCBhbmQgcmUtcmVuZGVyIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZVN0eWxlIG1hcmsgdGhlIG1hcCdzIHN0eWxlIGZvciByZXByb2Nlc3NpbmcgYXNcbiAgICAgKiB3ZWxsIGFzIGl0cyBzb3VyY2VzXG4gICAgICogQHJldHVybnMge01hcH0gdGhpc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZSh1cGRhdGVTdHlsZT86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSByZXR1cm4gdGhpcztcblxuICAgICAgICB0aGlzLl9zdHlsZURpcnR5ID0gdGhpcy5fc3R5bGVEaXJ0eSB8fCB1cGRhdGVTdHlsZTtcbiAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmlnZ2VyUmVwYWludCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmUgZXhlY3V0ZWQgZHVyaW5nIHRoZSBuZXh0IHJlbmRlclxuICAgICAqIGZyYW1lLiAgU2NoZWR1bGUgYSByZW5kZXIgZnJhbWUgaWYgb25lIGlzIG5vdCBhbHJlYWR5IHNjaGVkdWxlZC5cbiAgICAgKiBAcmV0dXJucyBBbiBpZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXF1ZXN0UmVuZGVyRnJhbWUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBUYXNrSUQge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoY2FsbGJhY2spO1xuICAgIH1cblxuICAgIF9jYW5jZWxSZW5kZXJGcmFtZShpZDogVGFza0lEKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBhIChyZS0pcmVuZGVyIG9mIHRoZSBtYXAgaXMgcmVxdWlyZWQ6XG4gICAgICogLSBUaGUgc3R5bGUgaGFzIGNoYW5nZWQgKGBzZXRQYWludFByb3BlcnR5KClgLCBldGMuKVxuICAgICAqIC0gU291cmNlIGRhdGEgaGFzIGNoYW5nZWQgKGUuZy4gdGlsZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nKVxuICAgICAqIC0gVGhlIG1hcCBoYXMgaXMgbW92aW5nIChvciBqdXN0IGZpbmlzaGVkIG1vdmluZylcbiAgICAgKiAtIEEgdHJhbnNpdGlvbiBpcyBpbiBwcm9ncmVzc1xuICAgICAqXG4gICAgICogQHJldHVybnMge01hcH0gdGhpc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlcigpIHtcbiAgICAgICAgLy8gQSBjdXN0b20gbGF5ZXIgbWF5IGhhdmUgdXNlZCB0aGUgY29udGV4dCBhc3luY2hyb25vdXNseS4gTWFyayB0aGUgc3RhdGUgYXMgZGlydHkuXG4gICAgICAgIHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCk7XG4gICAgICAgIHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKCk7XG5cbiAgICAgICAgbGV0IGNyb3NzRmFkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gSWYgdGhlIHN0eWxlIGhhcyBjaGFuZ2VkLCB0aGUgbWFwIGlzIGJlaW5nIHpvb21lZCwgb3IgYSB0cmFuc2l0aW9uIG9yIGZhZGUgaXMgaW4gcHJvZ3Jlc3M6XG4gICAgICAgIC8vICAtIEFwcGx5IHN0eWxlIGNoYW5nZXMgKGluIGEgYmF0Y2gpXG4gICAgICAgIC8vICAtIFJlY2FsY3VsYXRlIHBhaW50IHByb3BlcnRpZXMuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3N0eWxlRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMudHJhbnNmb3JtLnpvb207XG4gICAgICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS56b29tSGlzdG9yeS51cGRhdGUoem9vbSwgbm93KTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBFdmFsdWF0aW9uUGFyYW1ldGVycyh6b29tLCB7XG4gICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgIGZhZGVEdXJhdGlvbjogdGhpcy5fZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHpvb21IaXN0b3J5OiB0aGlzLnN0eWxlLnpvb21IaXN0b3J5LFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gcGFyYW1ldGVycy5jcm9zc0ZhZGluZ0ZhY3RvcigpO1xuICAgICAgICAgICAgaWYgKGZhY3RvciAhPT0gMSB8fCBmYWN0b3IgIT09IHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NGYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yID0gZmFjdG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0eWxlLnVwZGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBfcmVuZGVyIGZvciBhbnkgcmVhc29uIG90aGVyIHRoYW4gYW4gaW4tcHJvZ3Jlc3MgcGFpbnRcbiAgICAgICAgLy8gdHJhbnNpdGlvbiwgdXBkYXRlIHNvdXJjZSBjYWNoZXMgdG8gY2hlY2sgZm9yIGFuZCBsb2FkIGFueSB0aWxlcyB3ZVxuICAgICAgICAvLyBuZWVkIGZvciB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgdGhpcy5fc291cmNlc0RpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGxhY2VtZW50RGlydHkgPSB0aGlzLnN0eWxlICYmIHRoaXMuc3R5bGUuX3VwZGF0ZVBsYWNlbWVudCh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLCB0aGlzLnNob3dDb2xsaXNpb25Cb3hlcywgdGhpcy5fZmFkZUR1cmF0aW9uLCB0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMpO1xuXG4gICAgICAgIC8vIEFjdHVhbGx5IGRyYXdcbiAgICAgICAgdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICBzaG93VGlsZUJvdW5kYXJpZXM6IHRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLFxuICAgICAgICAgICAgc2hvd092ZXJkcmF3SW5zcGVjdG9yOiB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IsXG4gICAgICAgICAgICByb3RhdGluZzogdGhpcy5pc1JvdGF0aW5nKCksXG4gICAgICAgICAgICB6b29taW5nOiB0aGlzLmlzWm9vbWluZygpLFxuICAgICAgICAgICAgZmFkZUR1cmF0aW9uOiB0aGlzLl9mYWRlRHVyYXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncmVuZGVyJykpO1xuXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCgpICYmICF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdsb2FkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgKHRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKSB8fCBjcm9zc0ZhZGluZykpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgIXRoaXMuX3BsYWNlbWVudERpcnR5KSB7XG4gICAgICAgICAgICAvLyBTaW5jZSBubyBmYWRlIG9wZXJhdGlvbnMgYXJlIGluIHByb2dyZXNzLCB3ZSBjYW4gcmVsZWFzZVxuICAgICAgICAgICAgLy8gYWxsIHRpbGVzIGhlbGQgZm9yIGZhZGluZy4gSWYgd2UgZGlkbid0IGRvIHRoaXMsIHRoZSB0aWxlc1xuICAgICAgICAgICAgLy8gd291bGQganVzdCBzaXQgaW4gdGhlIFNvdXJjZUNhY2hlcyB1bnRpbCB0aGUgbmV4dCByZW5kZXJcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjaGVkdWxlIGFub3RoZXIgcmVuZGVyIGZyYW1lIGlmIGl0J3MgbmVlZGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBFdmVuIHRob3VnaCBgX3N0eWxlRGlydHlgIGFuZCBgX3NvdXJjZXNEaXJ0eWAgYXJlIHJlc2V0IGluIHRoaXNcbiAgICAgICAgLy8gbWV0aG9kLCBzeW5jaHJvbm91cyBldmVudHMgZmlyZWQgZHVyaW5nIFN0eWxlI3VwZGF0ZSBvclxuICAgICAgICAvLyBTdHlsZSNfdXBkYXRlU291cmNlcyBjb3VsZCBoYXZlIGNhdXNlZCB0aGVtIHRvIGJlIHNldCBhZ2Fpbi5cbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZXNEaXJ0eSB8fCB0aGlzLl9yZXBhaW50IHx8IHRoaXMuX3N0eWxlRGlydHkgfHwgdGhpcy5fcGxhY2VtZW50RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFuZCByZWxlYXNlIGFsbCBpbnRlcm5hbCByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgICAqXG4gICAgICogVGhpcyBpbmNsdWRlcyBET00gZWxlbWVudHMsIGV2ZW50IGJpbmRpbmdzLCB3ZWIgd29ya2VycywgYW5kIFdlYkdMIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB3aGVuIHlvdSBhcmUgZG9uZSB1c2luZyB0aGUgbWFwIGFuZCB3aXNoIHRvIGVuc3VyZSB0aGF0IGl0IG5vXG4gICAgICogbG9uZ2VyIGNvbnN1bWVzIGJyb3dzZXIgcmVzb3VyY2VzLiBBZnRlcndhcmRzLCB5b3UgbXVzdCBub3QgY2FsbCBhbnkgb3RoZXJcbiAgICAgKiBtZXRob2RzIG9uIHRoZSBtYXAuXG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzaCkgdGhpcy5faGFzaC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zZXRTdHlsZShudWxsKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLl9vbldpbmRvd09ubGluZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBjb250cm9sIG9mIHRoaXMuX2NvbnRyb2xzKSBjb250cm9sLm9uUmVtb3ZlKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb250cm9scyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgIGlmIChleHRlbnNpb24pIGV4dGVuc2lvbi5sb3NlQ29udGV4dCgpO1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuX2NhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIHJlbW92ZU5vZGUodGhpcy5fY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIHJlbW92ZU5vZGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1tYXAnKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncmVtb3ZlJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiBhIHNpbmdsZSBmcmFtZS4gVXNlIHRoaXMgbWV0aG9kIHdpdGggY3VzdG9tIGxheWVycyB0b1xuICAgICAqIHJlcGFpbnQgdGhlIG1hcCB3aGVuIHRoZSBsYXllciBjaGFuZ2VzLiBDYWxsaW5nIHRoaXMgbXVsdGlwbGUgdGltZXMgYmVmb3JlIHRoZVxuICAgICAqIG5leHQgZnJhbWUgaXMgcmVuZGVyZWQgd2lsbCBzdGlsbCByZXN1bHQgaW4gb25seSBhIHNpbmdsZSBmcmFtZSBiZWluZyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICB0cmlnZ2VyUmVwYWludCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgIXRoaXMuX2ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGJyb3dzZXIuZnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uV2luZG93T25saW5lKCkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICBfb25XaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja1Jlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoKS5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhbiBvdXRsaW5lXG4gICAgICogYXJvdW5kIGVhY2ggdGlsZS4gVGhlc2UgdGlsZSBib3VuZGFyaWVzIGFyZSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dUaWxlQm91bmRhcmllc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM7IH1cbiAgICBzZXQgc2hvd1RpbGVCb3VuZGFyaWVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBib3hlc1xuICAgICAqIGFyb3VuZCBhbGwgc3ltYm9scyBpbiB0aGUgZGF0YSBzb3VyY2UsIHJldmVhbGluZyB3aGljaCBzeW1ib2xzXG4gICAgICogd2VyZSByZW5kZXJlZCBvciB3aGljaCB3ZXJlIGhpZGRlbiBkdWUgdG8gY29sbGlzaW9ucy5cbiAgICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd0NvbGxpc2lvbkJveGVzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93Q29sbGlzaW9uQm94ZXMoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlczsgfVxuICAgIHNldCBzaG93Q29sbGlzaW9uQm94ZXModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSB0dXJuIGNvbGxpc2lvbiBib3hlcyBvbiB3ZSBoYXZlIHRvIGdlbmVyYXRlIHRoZW0gZm9yIGV4aXN0aW5nIHRpbGVzXG4gICAgICAgICAgICAvLyBXaGVuIHdlIHR1cm4gdGhlbSBvZmYsIHRoZXJlJ3Mgbm8gY29zdCB0byBsZWF2aW5nIGV4aXN0aW5nIGJveGVzIGluIHBsYWNlXG4gICAgICAgICAgICB0aGlzLnN0eWxlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGNhbGwgYW4gdXBkYXRlIHRvIHJlbW92ZSBjb2xsaXNpb24gYm94ZXNcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCBzaG91bGQgY29sb3ItY29kZVxuICAgICAqIGVhY2ggZnJhZ21lbnQgdG8gc2hvdyBob3cgbWFueSB0aW1lcyBpdCBoYXMgYmVlbiBzaGFkZWQuXG4gICAgICogV2hpdGUgZnJhZ21lbnRzIGhhdmUgYmVlbiBzaGFkZWQgOCBvciBtb3JlIHRpbWVzLlxuICAgICAqIEJsYWNrIGZyYWdtZW50cyBoYXZlIGJlZW4gc2hhZGVkIDAgdGltZXMuXG4gICAgICogVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dPdmVyZHJhd1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I7IH1cbiAgICBzZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsXG4gICAgICogY29udGludW91c2x5IHJlcGFpbnQuIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGZvciBhbmFseXppbmcgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXBhaW50XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCByZXBhaW50KCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9yZXBhaW50OyB9XG4gICAgc2V0IHJlcGFpbnQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fcmVwYWludCA9IHZhbHVlOyB0aGlzLl91cGRhdGUoKTsgfVxuXG4gICAgLy8gc2hvdyB2ZXJ0aWNlc1xuICAgIGdldCB2ZXJ0aWNlcygpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fdmVydGljZXM7IH1cbiAgICBzZXQgdmVydGljZXModmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fdmVydGljZXMgPSB2YWx1ZTsgdGhpcy5fdXBkYXRlKCk7IH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwO1xuXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGl2ZSBjb250cm9scyBhZGRlZCB0byB0aGUgbWFwLiBUaGlzIGlzIGFuXG4gKiBzcGVjaWZpY2F0aW9uIGZvciBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdFxuICogYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIENvbnRyb2xzIG11c3QgaW1wbGVtZW50IGBvbkFkZGAgYW5kIGBvblJlbW92ZWAsIGFuZCBtdXN0IG93biBhblxuICogZWxlbWVudCwgd2hpY2ggaXMgb2Z0ZW4gYSBgZGl2YCBlbGVtZW50LiBUbyB1c2UgTWFwYm94IEdMIEpTJ3NcbiAqIGRlZmF1bHQgY29udHJvbCBzdHlsaW5nLCBhZGQgdGhlIGBtYXBib3hnbC1jdHJsYCBjbGFzcyB0byB5b3VyIGNvbnRyb2wnc1xuICogbm9kZS5cbiAqXG4gKiBAaW50ZXJmYWNlIElDb250cm9sXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEhlbGxvV29ybGRDb250cm9sIHtcbiAqICAgICBvbkFkZChtYXApIHtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiAgICAgfVxuICpcbiAqICAgICBvblJlbW92ZSgpIHtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKiAvLyBDb250cm9sIGltcGxlbWVudGVkIGFzIEVTNSBwcm90b3R5cGljYWwgY2xhc3NcbiAqIGZ1bmN0aW9uIEhlbGxvV29ybGRDb250cm9sKCkgeyB9XG4gKlxuICogSGVsbG9Xb3JsZENvbnRyb2wucHJvdG90eXBlLm9uQWRkID0gZnVuY3Rpb24obWFwKSB7XG4gKiAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICogICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG4gKiAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAqIH07XG4gKlxuICogSGVsbG9Xb3JsZENvbnRyb2wucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICogICAgICB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICogICAgICB0aGlzLl9tYXAgPSB1bmRlZmluZWQ7XG4gKiB9O1xuICovXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzXG4gKiBhbmQgcmVzb3VyY2VzLiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkge0BsaW5rIE1hcCNhZGRDb250cm9sfVxuICogaW50ZXJuYWxseS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBJQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBvbkFkZFxuICogQHBhcmFtIHtNYXB9IG1hcCB0aGUgTWFwIHRoaXMgY29udHJvbCB3aWxsIGJlIGFkZGVkIHRvXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250cm9sJ3MgY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgc2hvdWxkXG4gKiBiZSBjcmVhdGVkIGJ5IHRoZSBjb250cm9sIGFuZCByZXR1cm5lZCBieSBvbkFkZCB3aXRob3V0IGJlaW5nIGF0dGFjaGVkXG4gKiB0byB0aGUgRE9NOiB0aGUgbWFwIHdpbGwgaW5zZXJ0IHRoZSBjb250cm9sJ3MgZWxlbWVudCBpbnRvIHRoZSBET01cbiAqIGFzIG5lY2Vzc2FyeS5cbiAqL1xuXG4vKipcbiAqIFVucmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gZGV0YWNoIGV2ZW50IGxpc3RlbmVyc1xuICogYW5kIHJlc291cmNlcy4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBNYXAjcmVtb3ZlQ29udHJvbH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgdGhlIE1hcCB0aGlzIGNvbnRyb2wgd2lsbCBiZSByZW1vdmVkIGZyb21cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9IHRoZXJlIGlzIG5vIHJlcXVpcmVkIHJldHVybiB2YWx1ZSBmb3IgdGhpcyBtZXRob2RcbiAqL1xuXG4vKipcbiAqIE9wdGlvbmFsbHkgcHJvdmlkZSBhIGRlZmF1bHQgcG9zaXRpb24gZm9yIHRoaXMgY29udHJvbC4gSWYgdGhpcyBtZXRob2RcbiAqIGlzIGltcGxlbWVudGVkIGFuZCB7QGxpbmsgTWFwI2FkZENvbnRyb2x9IGlzIGNhbGxlZCB3aXRob3V0IHRoZSBgcG9zaXRpb25gXG4gKiBwYXJhbWV0ZXIsIHRoZSB2YWx1ZSByZXR1cm5lZCBieSBnZXREZWZhdWx0UG9zaXRpb24gd2lsbCBiZSB1c2VkIGFzIHRoZVxuICogY29udHJvbCdzIHBvc2l0aW9uLlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIGdldERlZmF1bHRQb3NpdGlvblxuICogQHJldHVybnMge3N0cmluZ30gYSBjb250cm9sIHBvc2l0aW9uLCBvbmUgb2YgdGhlIHZhbHVlcyB2YWxpZCBpbiBhZGRDb250cm9sLlxuICovXG5cbi8qKlxuICogQSBbYFBvaW50YCBnZW9tZXRyeV0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9wb2ludC1nZW9tZXRyeSkgb2JqZWN0LCB3aGljaCBoYXNcbiAqIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMgcmVwcmVzZW50aW5nIHNjcmVlbiBjb29yZGluYXRlcyBpbiBwaXhlbHMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gUG9pbnRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFBvaW50fSBvciBhbiBhcnJheSBvZiB0d28gbnVtYmVycyByZXByZXNlbnRpbmcgYHhgIGFuZCBgeWAgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAqXG4gKiBAdHlwZWRlZiB7KFBvaW50IHwgQXJyYXk8bnVtYmVyPil9IFBvaW50TGlrZVxuICovXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgRHJhZ1JvdGF0ZUhhbmRsZXIgZnJvbSAnLi4vaGFuZGxlci9kcmFnX3JvdGF0ZSc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgc2hvd0NvbXBhc3M/OiBib29sZWFuLFxuICAgIHNob3dab29tPzogYm9vbGVhblxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgc2hvd0NvbXBhc3M6IHRydWUsXG4gICAgc2hvd1pvb206IHRydWVcbn07XG5cbi8qKlxuICogQSBgTmF2aWdhdGlvbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgem9vbSBidXR0b25zIGFuZCBhIGNvbXBhc3MuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93Q29tcGFzcz10cnVlXSBJZiBgdHJ1ZWAgdGhlIGNvbXBhc3MgYnV0dG9uIGlzIGluY2x1ZGVkLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93Wm9vbT10cnVlXSBJZiBgdHJ1ZWAgdGhlIHpvb20taW4gYW5kIHpvb20tb3V0IGJ1dHRvbnMgYXJlIGluY2x1ZGVkLlxuICogQGV4YW1wbGVcbiAqIHZhciBuYXYgPSBuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKTtcbiAqIG1hcC5hZGRDb250cm9sKG5hdiwgJ3RvcC1sZWZ0Jyk7XG4gKiBAc2VlIFtEaXNwbGF5IG1hcCBuYXZpZ2F0aW9uIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL25hdmlnYXRpb24vKVxuICogQHNlZSBbQWRkIGEgdGhpcmQgcGFydHkgdmVjdG9yIHRpbGUgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RoaXJkLXBhcnR5LylcbiAqL1xuY2xhc3MgTmF2aWdhdGlvbkNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF96b29tSW5CdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF96b29tT3V0QnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfY29tcGFzczogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbXBhc3NBcnJvdzogSFRNTEVsZW1lbnQ7XG4gICAgX2hhbmRsZXI6IERyYWdSb3RhdGVIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwJyk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21JbkJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtem9vbS1pbicsICdab29tIEluJywgKCkgPT4gdGhpcy5fbWFwLnpvb21JbigpKTtcbiAgICAgICAgICAgIHRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ21hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLXpvb20tb3V0JywgJ1pvb20gT3V0JywgKCkgPT4gdGhpcy5fbWFwLnpvb21PdXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAgICAgJ19yb3RhdGVDb21wYXNzQXJyb3cnXG4gICAgICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhc3MgPSB0aGlzLl9jcmVhdGVCdXR0b24oJ21hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLWNvbXBhc3MnLCAnUmVzZXQgTm9ydGgnLCAoKSA9PiB0aGlzLl9tYXAucmVzZXROb3J0aCgpKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhc3NBcnJvdyA9IERPTS5jcmVhdGUoJ3NwYW4nLCAnbWFwYm94Z2wtY3RybC1jb21wYXNzLWFycm93JywgdGhpcy5fY29tcGFzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcm90YXRlQ29tcGFzc0Fycm93KCkge1xuICAgICAgICBjb25zdCByb3RhdGUgPSBgcm90YXRlKCR7dGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYDtcbiAgICAgICAgdGhpcy5fY29tcGFzc0Fycm93LnN0eWxlLnRyYW5zZm9ybSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncm90YXRlJywgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KTtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlciA9IG5ldyBEcmFnUm90YXRlSGFuZGxlcihtYXAsIHtidXR0b246ICdsZWZ0JywgZWxlbWVudDogdGhpcy5fY29tcGFzc30pO1xuICAgICAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcywgJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZXIub25Nb3VzZURvd24pO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlci5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ3JvdGF0ZScsIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyk7XG4gICAgICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9jb21wYXNzLCAnbW91c2Vkb3duJywgdGhpcy5faGFuZGxlci5vbk1vdXNlRG93bik7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oYW5kbGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQnV0dG9uKGNsYXNzTmFtZTogc3RyaW5nLCBhcmlhTGFiZWw6IHN0cmluZywgZm46ICgpID0+IG1peGVkKSB7XG4gICAgICAgIGNvbnN0IGEgPSBET00uY3JlYXRlKCdidXR0b24nLCBjbGFzc05hbWUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGEudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBhLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGFyaWFMYWJlbCk7XG4gICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmbik7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSdcbi8qKlxuICogXG4gKiBAcGFyYW0ge1N0cmluZ30gYXBwSUQgQXBwIElEIGZyb20gZGV2ZWxvcGVycy5tYXBtYWdpYy5jby50aFxuICogQHBhcmFtIHtTdHJpbmd9IGFwaUtleSBBUEkga2V5IGZyb20gZGV2ZWxvcGVycy5tYXBtYWdpYy5jby50aFxuICogQHBhcmFtIHtib29sZWFufSBbdmFsaWQ9dHJ1ZV0gY2hlY2sgaWYgQXBwIElEIGFuZCBBUEkga2V5IGFyZSBpbnZhbGlkXG4gKi9cbmNvbnN0IGFsZXJ0TWlzc2luZ0tleSA9IChhcHBJRCwgYXBpS2V5LCB2YWxpZCA9IHRydWUpID0+IHtcbiAgICBpZiAoKCFhcHBJRCB8fCAhYXBpS2V5KSB8fCAhdmFsaWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKCF2YWxpZCkgPyBgRXJyb3I6IEFwcCBJRCBvciBBUEkga2V5IGFyZSBpbnZhbGlkYCA6XG4gICAgICAgICAgICBgRXJyb3I6IEFwcCBJRCBhbmQgQVBJIEtleSBzaG91bGQgYmUgcHJvdmlkZWQgZm9yIE1hcG1hZ2ljIEdMYFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYXBib3hnbC1jYW52YXMnKVswXS5yZW1vdmUoKVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYXBib3hnbC1tYXAnKVswXVxuICAgICAgICBjb25zdCBhbGVydE1lc3NhZ2UxID0gRE9NLmNyZWF0ZSgncCcsICdtYXBib3hnbC1lcnJvcicpXG4gICAgICAgIGFsZXJ0TWVzc2FnZTEuaW5uZXJIVE1MID0gZXJyb3JNZXNzYWdlXG4gICAgICAgIGNvbnN0IGFsZXJ0TWVzc2FnZTIgPSBET00uY3JlYXRlKCdwJywgJ21hcGJveGdsLWVycm9yJylcbiAgICAgICAgYWxlcnRNZXNzYWdlMi5pbm5lckhUTUwgPSBgXG4gICAgICBHZXQgeW91ciBrZXkgYXQgPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVycy5tYXBtYWdpYy5jby50aFwiPmh0dHBzOi8vZGV2ZWxvcGVycy5tYXBtYWdpYy5jby50aC88L2E+XG4gICAgICBgXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhbGVydE1lc3NhZ2UxKVxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWxlcnRNZXNzYWdlMilcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBhbGVydE1pc3NpbmdLZXlcbn1cbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiJGxvZ2dlclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCIkbG9nZ2VyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIiRsb2dnZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHR2YXIgX2ludGVyZmFjZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0T2JqZWN0LmtleXMoX2ludGVyZmFjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIF9pbnRlcmZhY2Vba2V5XTtcblx0ICAgIH1cblx0ICB9KTtcblx0fSk7XG5cblx0dmFyIElOVEVSRkFDRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pbnRlcmZhY2UpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gSU5URVJGQUNFO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cblx0dmFyIF9sb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdE9iamVjdC5rZXlzKF9sb2dnZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBfbG9nZ2VyW2tleV07XG5cdCAgICB9XG5cdCAgfSk7XG5cdH0pO1xuXG5cdHZhciBfaW5pdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5cdE9iamVjdC5rZXlzKF9pbml0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gX2luaXRba2V5XTtcblx0ICAgIH1cblx0ICB9KTtcblx0fSk7XG5cblx0dmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG5cdE9iamVjdC5rZXlzKF90cmFuc2l0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcblx0ICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIF90cmFuc2l0aW9uc1trZXldO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9KTtcblxuXHR2YXIgX2J1aWxkZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxuXHRPYmplY3Qua2V5cyhfYnVpbGRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBfYnVpbGRlcnNba2V5XTtcblx0ICAgIH1cblx0ICB9KTtcblx0fSk7XG5cblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHRPYmplY3Qua2V5cyhfY29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuXHQgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gX2NvbmZpZ1trZXldO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9KTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudHJhY2sgPSBleHBvcnRzLmZsdXNoID0gZXhwb3J0cy50cmFja2luZyA9IGV4cG9ydHMuYnVmZmVyID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmdldFRyYW5zcG9ydCA9IGdldFRyYW5zcG9ydDtcblx0ZXhwb3J0cy5zZXRUcmFuc3BvcnQgPSBzZXRUcmFuc3BvcnQ7XG5cdGV4cG9ydHMucHJpbnQgPSBwcmludDtcblx0ZXhwb3J0cy5pbW1lZGlhdGVGbHVzaCA9IGltbWVkaWF0ZUZsdXNoO1xuXHRleHBvcnRzLmxvZyA9IGxvZztcblx0ZXhwb3J0cy5wcmVmaXggPSBwcmVmaXg7XG5cdGV4cG9ydHMuZGVidWcgPSBkZWJ1Zztcblx0ZXhwb3J0cy5pbmZvID0gaW5mbztcblx0ZXhwb3J0cy53YXJuID0gd2Fybjtcblx0ZXhwb3J0cy5lcnJvciA9IGVycm9yO1xuXG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIF9idWlsZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgYnVmZmVyID0gZXhwb3J0cy5idWZmZXIgPSBbXTtcblx0dmFyIHRyYWNraW5nID0gZXhwb3J0cy50cmFja2luZyA9IFtdO1xuXG5cdHZhciB0cmFuc3BvcnQgPSBmdW5jdGlvbiB0cmFuc3BvcnQoaGVhZGVycywgZGF0YSwgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbC5hamF4KSgncG9zdCcsIF9jb25maWcuY29uZmlnLnVyaSwgaGVhZGVycywgZGF0YSwgb3B0aW9ucyk7XG5cdH07XG5cblx0ZnVuY3Rpb24gZ2V0VHJhbnNwb3J0KCkge1xuXHQgICAgcmV0dXJuIHRyYW5zcG9ydDtcblx0fVxuXG5cdGZ1bmN0aW9uIHNldFRyYW5zcG9ydChuZXdUcmFuc3BvcnQpIHtcblx0ICAgIHRyYW5zcG9ydCA9IG5ld1RyYW5zcG9ydDtcblx0fVxuXG5cdHZhciBsb2FkZWQgPSBmYWxzZTtcblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgIGxvYWRlZCA9IHRydWU7XG5cdH0sIDEpO1xuXG5cdGZ1bmN0aW9uIHByaW50KGxldmVsLCBldmVudCwgcGF5bG9hZCkge1xuXG5cdCAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5jb25zb2xlIHx8ICF3aW5kb3cuY29uc29sZS5sb2cpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIGlmICghbG9hZGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJpbnQobGV2ZWwsIGV2ZW50LCBwYXlsb2FkKTtcblx0ICAgICAgICB9LCAxKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGxvZ0xldmVsID0gX2NvbmZpZy5jb25maWcubG9nTGV2ZWw7XG5cblx0ICAgIGlmICh3aW5kb3cuTE9HX0xFVkVMKSB7XG5cdCAgICAgICAgbG9nTGV2ZWwgPSB3aW5kb3cuTE9HX0xFVkVMO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoX2NvbmZpZy5sb2dMZXZlbHMuaW5kZXhPZihsZXZlbCkgPiBfY29uZmlnLmxvZ0xldmVscy5pbmRleE9mKGxvZ0xldmVsKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgcGF5bG9hZCA9IHBheWxvYWQgfHwge307XG5cblx0ICAgIHZhciBhcmdzID0gW2V2ZW50XTtcblxuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0lFKSgpKSB7XG5cdCAgICAgICAgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpO1xuXHQgICAgfVxuXG5cdCAgICBhcmdzLnB1c2gocGF5bG9hZCk7XG5cblx0ICAgIGlmIChwYXlsb2FkLmVycm9yIHx8IHBheWxvYWQud2FybmluZykge1xuXHQgICAgICAgIGFyZ3MucHVzaCgnXFxuXFxuJywgcGF5bG9hZC5lcnJvciB8fCBwYXlsb2FkLndhcm5pbmcpO1xuXHQgICAgfVxuXG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh3aW5kb3cuY29uc29sZVtsZXZlbF0gJiYgd2luZG93LmNvbnNvbGVbbGV2ZWxdLmFwcGx5KSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlW2xldmVsXS5hcHBseSh3aW5kb3cuY29uc29sZSwgYXJncyk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuY29uc29sZS5sb2cgJiYgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseSh3aW5kb3cuY29uc29sZSwgYXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgLy8gcGFzc1xuXHQgICAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gaW1tZWRpYXRlRmx1c2goKSB7XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG5cdCAgICAgICAgX3JlZiRmaXJlQW5kRm9yZ2V0ID0gX3JlZi5maXJlQW5kRm9yZ2V0LFxuXHQgICAgICAgIGZpcmVBbmRGb3JnZXQgPSBfcmVmJGZpcmVBbmRGb3JnZXQgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRmaXJlQW5kRm9yZ2V0O1xuXG5cdCAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIGlmICghX2NvbmZpZy5jb25maWcudXJpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgaGFzQnVmZmVyID0gYnVmZmVyLmxlbmd0aDtcblx0ICAgIHZhciBoYXNUcmFja2luZyA9IHRyYWNraW5nLmxlbmd0aDtcblxuXHQgICAgaWYgKCFoYXNCdWZmZXIgJiYgIWhhc1RyYWNraW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbWV0YSA9IHt9O1xuXG5cdCAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfYnVpbGRlcnMubWV0YUJ1aWxkZXJzLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuXHQgICAgICAgIHZhciBfcmVmMjtcblxuXHQgICAgICAgIGlmIChfaXNBcnJheSkge1xuXHQgICAgICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG5cdCAgICAgICAgICAgIF9yZWYyID0gX2l0ZXJhdG9yW19pKytdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF9pID0gX2l0ZXJhdG9yLm5leHQoKTtcblx0ICAgICAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuXHQgICAgICAgICAgICBfcmVmMiA9IF9pLnZhbHVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBidWlsZGVyID0gX3JlZjI7XG5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAoMCwgX3V0aWwuZXh0ZW5kKShtZXRhLCBidWlsZGVyKG1ldGEpLCBmYWxzZSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGN1c3RvbSBtZXRhIGJ1aWxkZXI6JywgZXJyLnN0YWNrIHx8IGVyci50b1N0cmluZygpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHZhciBoZWFkZXJzID0ge307XG5cblx0ICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBfYnVpbGRlcnMuaGVhZGVyQnVpbGRlcnMsIF9pc0FycmF5MiA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yMiksIF9pMiA9IDAsIF9pdGVyYXRvcjIgPSBfaXNBcnJheTIgPyBfaXRlcmF0b3IyIDogX2l0ZXJhdG9yMltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuXHQgICAgICAgIHZhciBfcmVmMztcblxuXHQgICAgICAgIGlmIChfaXNBcnJheTIpIHtcblx0ICAgICAgICAgICAgaWYgKF9pMiA+PSBfaXRlcmF0b3IyLmxlbmd0aCkgYnJlYWs7XG5cdCAgICAgICAgICAgIF9yZWYzID0gX2l0ZXJhdG9yMltfaTIrK107XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgX2kyID0gX2l0ZXJhdG9yMi5uZXh0KCk7XG5cdCAgICAgICAgICAgIGlmIChfaTIuZG9uZSkgYnJlYWs7XG5cdCAgICAgICAgICAgIF9yZWYzID0gX2kyLnZhbHVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBfYnVpbGRlciA9IF9yZWYzO1xuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgKDAsIF91dGlsLmV4dGVuZCkoaGVhZGVycywgX2J1aWxkZXIoaGVhZGVycyksIGZhbHNlKTtcblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3VzdG9tIGhlYWRlciBidWlsZGVyOicsIGVyci5zdGFjayB8fCBlcnIudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICB2YXIgZXZlbnRzID0gYnVmZmVyO1xuXG5cdCAgICB2YXIgcmVxID0gdHJhbnNwb3J0KGhlYWRlcnMsIHtcblx0ICAgICAgICBldmVudHM6IGV2ZW50cyxcblx0ICAgICAgICBtZXRhOiBtZXRhLFxuXHQgICAgICAgIHRyYWNraW5nOiB0cmFja2luZ1xuXHQgICAgfSwge1xuXHQgICAgICAgIGZpcmVBbmRGb3JnZXQ6IGZpcmVBbmRGb3JnZXRcblx0ICAgIH0pO1xuXG5cdCAgICBleHBvcnRzLmJ1ZmZlciA9IGJ1ZmZlciA9IFtdO1xuXHQgICAgZXhwb3J0cy50cmFja2luZyA9IHRyYWNraW5nID0gW107XG5cblx0ICAgIHJldHVybiByZXE7XG5cdH1cblxuXHR2YXIgX2ZsdXNoID0gKDAsIF91dGlsLnByb21pc2VEZWJvdW5jZSkoaW1tZWRpYXRlRmx1c2gsIF9jb25maWcuY29uZmlnLmRlYm91bmNlSW50ZXJ2YWwpO1xuXG5cdGV4cG9ydHMuZmx1c2ggPSBfZmx1c2g7XG5cdGZ1bmN0aW9uIGVucXVldWUobGV2ZWwsIGV2ZW50LCBwYXlsb2FkKSB7XG5cblx0ICAgIGJ1ZmZlci5wdXNoKHtcblx0ICAgICAgICBsZXZlbDogbGV2ZWwsXG5cdCAgICAgICAgZXZlbnQ6IGV2ZW50LFxuXHQgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcblx0ICAgIH0pO1xuXG5cdCAgICBpZiAoX2NvbmZpZy5jb25maWcuYXV0b0xvZy5pbmRleE9mKGxldmVsKSA+IC0xKSB7XG5cdCAgICAgICAgX2ZsdXNoKCk7XG5cdCAgICB9XG5cdH1cblxuXHRmdW5jdGlvbiBsb2cobGV2ZWwsIGV2ZW50LCBwYXlsb2FkKSB7XG5cblx0ICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgaWYgKF9jb25maWcuY29uZmlnLnByZWZpeCkge1xuXHQgICAgICAgIGV2ZW50ID0gX2NvbmZpZy5jb25maWcucHJlZml4ICsgJ18nICsgZXZlbnQ7XG5cdCAgICB9XG5cblx0ICAgIHBheWxvYWQgPSBwYXlsb2FkIHx8IHt9O1xuXG5cdCAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgcGF5bG9hZCA9IHtcblx0ICAgICAgICAgICAgbWVzc2FnZTogcGF5bG9hZFxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKHBheWxvYWQgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgIHBheWxvYWQgPSB7XG5cdCAgICAgICAgICAgIGVycm9yOiBwYXlsb2FkLnN0YWNrIHx8IHBheWxvYWQudG9TdHJpbmcoKVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHBheWxvYWQudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuXHQgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IF9idWlsZGVycy5wYXlsb2FkQnVpbGRlcnMsIF9pc0FycmF5MyA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yMyksIF9pMyA9IDAsIF9pdGVyYXRvcjMgPSBfaXNBcnJheTMgPyBfaXRlcmF0b3IzIDogX2l0ZXJhdG9yM1tTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuXHQgICAgICAgIHZhciBfcmVmNDtcblxuXHQgICAgICAgIGlmIChfaXNBcnJheTMpIHtcblx0ICAgICAgICAgICAgaWYgKF9pMyA+PSBfaXRlcmF0b3IzLmxlbmd0aCkgYnJlYWs7XG5cdCAgICAgICAgICAgIF9yZWY0ID0gX2l0ZXJhdG9yM1tfaTMrK107XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgX2kzID0gX2l0ZXJhdG9yMy5uZXh0KCk7XG5cdCAgICAgICAgICAgIGlmIChfaTMuZG9uZSkgYnJlYWs7XG5cdCAgICAgICAgICAgIF9yZWY0ID0gX2kzLnZhbHVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBidWlsZGVyID0gX3JlZjQ7XG5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAoMCwgX3V0aWwuZXh0ZW5kKShwYXlsb2FkLCBidWlsZGVyKHBheWxvYWQpLCBmYWxzZSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGN1c3RvbSBwYXlsb2FkIGJ1aWxkZXI6JywgZXJyLnN0YWNrIHx8IGVyci50b1N0cmluZygpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmICghX2NvbmZpZy5jb25maWcuc2lsZW50KSB7XG5cdCAgICAgICAgcHJpbnQobGV2ZWwsIGV2ZW50LCBwYXlsb2FkKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IF9jb25maWcuY29uZmlnLnNpemVMaW1pdCkge1xuXHQgICAgICAgIGVucXVldWUoJ2luZm8nLCAnbG9nZ2VyX21heF9idWZmZXJfbGVuZ3RoJyk7XG5cdCAgICB9IGVsc2UgaWYgKGJ1ZmZlci5sZW5ndGggPCBfY29uZmlnLmNvbmZpZy5zaXplTGltaXQpIHtcblx0ICAgICAgICBlbnF1ZXVlKGxldmVsLCBldmVudCwgcGF5bG9hZCk7XG5cdCAgICB9XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVmaXgobmFtZSkge1xuXG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGRlYnVnOiBmdW5jdGlvbiBkZWJ1ZyhldmVudCwgcGF5bG9hZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbG9nKCdkZWJ1ZycsIG5hbWUgKyAnXycgKyBldmVudCwgcGF5bG9hZCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKGV2ZW50LCBwYXlsb2FkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBsb2coJ2luZm8nLCBuYW1lICsgJ18nICsgZXZlbnQsIHBheWxvYWQpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgd2FybjogZnVuY3Rpb24gd2FybihldmVudCwgcGF5bG9hZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbG9nKCd3YXJuJywgbmFtZSArICdfJyArIGV2ZW50LCBwYXlsb2FkKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihldmVudCwgcGF5bG9hZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbG9nKCdlcnJvcicsIG5hbWUgKyAnXycgKyBldmVudCwgcGF5bG9hZCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0cmFjazogZnVuY3Rpb24gdHJhY2socGF5bG9hZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RyYWNrKHBheWxvYWQpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX2ZsdXNoKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlYnVnKGV2ZW50LCBwYXlsb2FkKSB7XG5cdCAgICByZXR1cm4gbG9nKCdkZWJ1ZycsIGV2ZW50LCBwYXlsb2FkKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluZm8oZXZlbnQsIHBheWxvYWQpIHtcblx0ICAgIHJldHVybiBsb2coJ2luZm8nLCBldmVudCwgcGF5bG9hZCk7XG5cdH1cblxuXHRmdW5jdGlvbiB3YXJuKGV2ZW50LCBwYXlsb2FkKSB7XG5cdCAgICByZXR1cm4gbG9nKCd3YXJuJywgZXZlbnQsIHBheWxvYWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXJyb3IoZXZlbnQsIHBheWxvYWQpIHtcblx0ICAgIHJldHVybiBsb2coJ2Vycm9yJywgZXZlbnQsIHBheWxvYWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3RyYWNrKHBheWxvYWQpIHtcblxuXHQgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBpZiAocGF5bG9hZCkge1xuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gX2J1aWxkZXJzLnRyYWNraW5nQnVpbGRlcnMsIF9pc0FycmF5NCA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yNCksIF9pNCA9IDAsIF9pdGVyYXRvcjQgPSBfaXNBcnJheTQgPyBfaXRlcmF0b3I0IDogX2l0ZXJhdG9yNFtTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuXHQgICAgICAgICAgICB2YXIgX3JlZjU7XG5cblx0ICAgICAgICAgICAgaWYgKF9pc0FycmF5NCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKF9pNCA+PSBfaXRlcmF0b3I0Lmxlbmd0aCkgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBfcmVmNSA9IF9pdGVyYXRvcjRbX2k0KytdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgX2k0ID0gX2l0ZXJhdG9yNC5uZXh0KCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoX2k0LmRvbmUpIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgX3JlZjUgPSBfaTQudmFsdWU7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgYnVpbGRlciA9IF9yZWY1O1xuXG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAoMCwgX3V0aWwuZXh0ZW5kKShwYXlsb2FkLCBidWlsZGVyKHBheWxvYWQpLCBmYWxzZSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3VzdG9tIHRyYWNraW5nIGJ1aWxkZXI6JywgZXJyLnN0YWNrIHx8IGVyci50b1N0cmluZygpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHByaW50KCdkZWJ1ZycsICd0cmFja2luZycsIHBheWxvYWQpO1xuXG5cdCAgICAgICAgdHJhY2tpbmcucHVzaChwYXlsb2FkKTtcblx0ICAgIH1cblx0fVxuXHRleHBvcnRzLnRyYWNrID0gX3RyYWNrO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5cdGV4cG9ydHMuaXNTYW1lUHJvdG9jb2wgPSBpc1NhbWVQcm90b2NvbDtcblx0ZXhwb3J0cy5pc1NhbWVEb21haW4gPSBpc1NhbWVEb21haW47XG5cdGV4cG9ydHMuYWpheCA9IGFqYXg7XG5cdGV4cG9ydHMucHJvbWlzZURlYm91bmNlID0gcHJvbWlzZURlYm91bmNlO1xuXHRleHBvcnRzLm9uV2luZG93UmVhZHkgPSBvbldpbmRvd1JlYWR5O1xuXHRleHBvcnRzLnNhZmVJbnRlcnZhbCA9IHNhZmVJbnRlcnZhbDtcblx0ZXhwb3J0cy51bmlxdWVJRCA9IHVuaXF1ZUlEO1xuXHRleHBvcnRzLmlzSUUgPSBpc0lFO1xuXG5cdHZhciBfc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHRmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjKSB7XG5cdCAgICB2YXIgb3ZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcblxuXHQgICAgZGVzdCA9IGRlc3QgfHwge307XG5cdCAgICBzcmMgPSBzcmMgfHwge307XG5cblx0ICAgIGZvciAodmFyIGkgaW4gc3JjKSB7XG5cdCAgICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgICAgICBpZiAob3ZlciB8fCAhZGVzdC5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgICAgICAgICAgZGVzdFtpXSA9IHNyY1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGRlc3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBpc1NhbWVQcm90b2NvbCh1cmwpIHtcblx0ICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IHVybC5zcGxpdCgnLycpWzBdO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNTYW1lRG9tYWluKHVybCkge1xuXHQgICAgdmFyIG1hdGNoID0gdXJsLm1hdGNoKC9odHRwcz86XFwvXFwvW14vXSsvKTtcblxuXHQgICAgaWYgKCFtYXRjaCkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gbWF0Y2hbMF0gPT09IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGFqYXgobWV0aG9kLCB1cmwpIHtcblx0ICAgIHZhciBoZWFkZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblx0ICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcblxuXHQgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9LFxuXHQgICAgICAgIF9yZWYkZmlyZUFuZEZvcmdldCA9IF9yZWYuZmlyZUFuZEZvcmdldCxcblx0ICAgICAgICBmaXJlQW5kRm9yZ2V0ID0gX3JlZiRmaXJlQW5kRm9yZ2V0ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkZmlyZUFuZEZvcmdldDtcblxuXHQgICAgcmV0dXJuIG5ldyBfc3JjLlphbGdvUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgIHZhciBYUmVxdWVzdCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCB8fCB3aW5kb3cuQWN0aXZlWE9iamVjdDtcblxuXHQgICAgICAgIGlmICh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgIWlzU2FtZURvbWFpbih1cmwpKSB7XG5cblx0ICAgICAgICAgICAgaWYgKCFpc1NhbWVQcm90b2NvbCh1cmwpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgWFJlcXVlc3QgPSB3aW5kb3cuWERvbWFpblJlcXVlc3Q7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHJlcSA9IG5ldyBYUmVxdWVzdCgnTVNYTUwyLlhNTEhUVFAuMy4wJyk7XG5cdCAgICAgICAgcmVxLm9wZW4obWV0aG9kLnRvVXBwZXJDYXNlKCksIHVybCwgdHJ1ZSk7XG5cblx0ICAgICAgICBpZiAodHlwZW9mIHJlcS5zZXRSZXF1ZXN0SGVhZGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG5cdCAgICAgICAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGhlYWRlck5hbWUgaW4gaGVhZGVycykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lLCBoZWFkZXJzW2hlYWRlck5hbWVdKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChmaXJlQW5kRm9yZ2V0KSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHJlcS5yZWFkeVN0YXRlID4gMykge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXEuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKS5yZXBsYWNlKC8mL2csICclMjYnKSk7XG5cdCAgICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByb21pc2VEZWJvdW5jZShtZXRob2QsIGludGVydmFsKSB7XG5cblx0ICAgIHZhciBkZWJvdW5jZSA9IHt9O1xuXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG5cdCAgICAgICAgaWYgKGRlYm91bmNlLnRpbWVvdXQpIHtcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlLnRpbWVvdXQpO1xuXHQgICAgICAgICAgICBkZWxldGUgZGVib3VuY2UudGltZW91dDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBkZWJvdW5jZS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cblx0ICAgICAgICAgICAgdmFyIHJlc29sdmVyID0gZGVib3VuY2UucmVzb2x2ZXI7XG5cdCAgICAgICAgICAgIHZhciByZWplY3RvciA9IGRlYm91bmNlLnJlamVjdG9yO1xuXG5cdCAgICAgICAgICAgIGRlbGV0ZSBkZWJvdW5jZS5wcm9taXNlO1xuXHQgICAgICAgICAgICBkZWxldGUgZGVib3VuY2UucmVzb2x2ZXI7XG5cdCAgICAgICAgICAgIGRlbGV0ZSBkZWJvdW5jZS5yZWplY3Rvcjtcblx0ICAgICAgICAgICAgZGVsZXRlIGRlYm91bmNlLnRpbWVvdXQ7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIF9zcmMuWmFsZ29Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgICAgICAgIH0pLnRoZW4ocmVzb2x2ZXIsIHJlamVjdG9yKTtcblx0ICAgICAgICB9LCBpbnRlcnZhbCk7XG5cblx0ICAgICAgICBkZWJvdW5jZS5wcm9taXNlID0gZGVib3VuY2UucHJvbWlzZSB8fCBuZXcgX3NyYy5aYWxnb1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmVyLCByZWplY3Rvcikge1xuXHQgICAgICAgICAgICBkZWJvdW5jZS5yZXNvbHZlciA9IHJlc29sdmVyO1xuXHQgICAgICAgICAgICBkZWJvdW5jZS5yZWplY3RvciA9IHJlamVjdG9yO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuIGRlYm91bmNlLnByb21pc2U7XG5cdCAgICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gb25XaW5kb3dSZWFkeSgpIHtcblx0ICAgIHJldHVybiBuZXcgX3NyYy5aYWxnb1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlc29sdmUpO1xuXHQgICAgfSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzYWZlSW50ZXJ2YWwobWV0aG9kLCB0aW1lKSB7XG5cblx0ICAgIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuXG5cdCAgICBmdW5jdGlvbiBsb29wKCkge1xuXHQgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgbWV0aG9kKCk7XG5cdCAgICAgICAgICAgIGxvb3AoKTtcblx0ICAgICAgICB9LCB0aW1lKTtcblx0ICAgIH1cblxuXHQgICAgbG9vcCgpO1xuXG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIHVuaXF1ZUlEKCkge1xuXHQgICAgdmFyIGNoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG5cdCAgICByZXR1cm4gJ3h4eHh4eHh4eHgnLnJlcGxhY2UoLy4vZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBjaGFycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKSk7XG5cdCAgICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzSUUoKSB7XG5cdCAgICByZXR1cm4gQm9vbGVhbih3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlKTtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cblx0dmFyIF9wcm9taXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1phbGdvUHJvbWlzZScsIHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIF9wcm9taXNlLlphbGdvUHJvbWlzZTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5aYWxnb1Byb21pc2UgPSB1bmRlZmluZWQ7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX2V4Y2VwdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5cdHZhciBfZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBaYWxnb1Byb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBaYWxnb1Byb21pc2UoaGFuZGxlcikge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWmFsZ29Qcm9taXNlKTtcblxuXHQgICAgICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcblx0ICAgICAgICB0aGlzLnJlamVjdGVkID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5lcnJvckhhbmRsZWQgPSBmYWxzZTtcblxuXHQgICAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcblxuXHQgICAgICAgIGlmIChoYW5kbGVyKSB7XG5cblx0ICAgICAgICAgICAgdmFyIF9yZXN1bHQgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIHZhciBfZXJyb3IgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2YXIgcmVqZWN0ZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdmFyIGlzQXN5bmMgPSBmYWxzZTtcblxuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgaGFuZGxlcihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzb2x2ZShyZXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdCA9IHJlcztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfZXJyb3IgPSBlcnI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoZXJyKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlzQXN5bmMgPSB0cnVlO1xuXG5cdCAgICAgICAgICAgIGlmIChyZXNvbHZlZCkge1xuXHQgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKF9yZXN1bHQpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChfZXJyb3IpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBfY3JlYXRlQ2xhc3MoWmFsZ29Qcm9taXNlLCBbe1xuXHQgICAgICAgIGtleTogJ3Jlc29sdmUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlKHJlc3VsdCkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5yZXNvbHZlZCB8fCB0aGlzLnJlamVjdGVkKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzUHJvbWlzZSkocmVzdWx0KSkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGFub3RoZXIgcHJvbWlzZScpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIHRoaXMudmFsdWUgPSByZXN1bHQ7XG5cdCAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVqZWN0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVqZWN0KGVycm9yKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmVkIHx8IHRoaXMucmVqZWN0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKCgwLCBfdXRpbHMuaXNQcm9taXNlKShlcnJvcikpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCByZWplY3QgcHJvbWlzZSB3aXRoIGFub3RoZXIgcHJvbWlzZScpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9lcnIgPSBlcnJvciAmJiB0eXBlb2YgZXJyb3IudG9TdHJpbmcgPT09ICdmdW5jdGlvbicgPyBlcnJvci50b1N0cmluZygpIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVycm9yKTtcblx0ICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdFeHBlY3RlZCByZWplY3QgdG8gYmUgY2FsbGVkIHdpdGggRXJyb3IsIGdvdCAnICsgX2Vycik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB0aGlzLnJlamVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuXG5cdCAgICAgICAgICAgIGlmICghdGhpcy5lcnJvckhhbmRsZWQpIHtcblx0ICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmVycm9ySGFuZGxlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX2V4Y2VwdGlvbnMuZGlzcGF0Y2hQb3NzaWJseVVuaGFuZGxlZEVycm9yKShlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSwgMSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FzeW5jUmVqZWN0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXN5bmNSZWplY3QoZXJyb3IpIHtcblx0ICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB0aGlzLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Rpc3BhdGNoJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIHZhciBkaXNwYXRjaGluZyA9IHRoaXMuZGlzcGF0Y2hpbmcsXG5cdCAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZWQsXG5cdCAgICAgICAgICAgICAgICByZWplY3RlZCA9IHRoaXMucmVqZWN0ZWQsXG5cdCAgICAgICAgICAgICAgICBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG5cblxuXHQgICAgICAgICAgICBpZiAoZGlzcGF0Y2hpbmcpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmICghcmVzb2x2ZWQgJiYgIXJlamVjdGVkKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB0aGlzLmRpc3BhdGNoaW5nID0gdHJ1ZTtcblx0ICAgICAgICAgICAgKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmFjdGl2ZUNvdW50ICs9IDE7XG5cblx0ICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9oYW5kbGVycyRpID0gaGFuZGxlcnNbaV0sXG5cdCAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzID0gX2hhbmRsZXJzJGkub25TdWNjZXNzLFxuXHQgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgPSBfaGFuZGxlcnMkaS5vbkVycm9yLFxuXHQgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBfaGFuZGxlcnMkaS5wcm9taXNlO1xuXG5cblx0ICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZCkge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gb25TdWNjZXNzID8gb25TdWNjZXNzKF90aGlzMy52YWx1ZSkgOiBfdGhpczMudmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVqZWN0ZWQpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghb25FcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdChfdGhpczMuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBvbkVycm9yKF90aGlzMy5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFphbGdvUHJvbWlzZSAmJiAocmVzdWx0LnJlc29sdmVkIHx8IHJlc3VsdC5yZWplY3RlZCkpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzb2x2ZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHJlc3VsdC52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QocmVzdWx0LmVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3JIYW5kbGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlscy5pc1Byb21pc2UpKHJlc3VsdCkpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBaYWxnb1Byb21pc2UgJiYgKHJlc3VsdC5yZXNvbHZlZCB8fCByZXN1bHQucmVqZWN0ZWQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzb2x2ZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShyZXN1bHQudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QocmVzdWx0LmVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcm9taXNlL2NhdGNoLW9yLXJldHVyblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHJlcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UucmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgX3JldCA9IF9sb29wKGkpO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAoX3JldCA9PT0gJ2NvbnRpbnVlJykgY29udGludWU7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBoYW5kbGVycy5sZW5ndGggPSAwO1xuXHQgICAgICAgICAgICB0aGlzLmRpc3BhdGNoaW5nID0gZmFsc2U7XG5cdCAgICAgICAgICAgICgwLCBfZ2xvYmFsLmdldEdsb2JhbCkoKS5hY3RpdmVDb3VudCAtPSAxO1xuXG5cdCAgICAgICAgICAgIGlmICgoMCwgX2dsb2JhbC5nZXRHbG9iYWwpKCkuYWN0aXZlQ291bnQgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIFphbGdvUHJvbWlzZS5mbHVzaFF1ZXVlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndGhlbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRoZW4ob25TdWNjZXNzLCBvbkVycm9yKSB7XG5cblx0ICAgICAgICAgICAgaWYgKG9uU3VjY2VzcyAmJiB0eXBlb2Ygb25TdWNjZXNzICE9PSAnZnVuY3Rpb24nICYmICFvblN1Y2Nlc3MuY2FsbCkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9taXNlLnRoZW4gZXhwZWN0ZWQgYSBmdW5jdGlvbiBmb3Igc3VjY2VzcyBoYW5kbGVyJyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZiAob25FcnJvciAmJiB0eXBlb2Ygb25FcnJvciAhPT0gJ2Z1bmN0aW9uJyAmJiAhb25FcnJvci5jYWxsKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb21pc2UudGhlbiBleHBlY3RlZCBhIGZ1bmN0aW9uIGZvciBlcnJvciBoYW5kbGVyJyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBaYWxnb1Byb21pc2UoKTtcblxuXHQgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgIG9uU3VjY2Vzczogb25TdWNjZXNzLFxuXHQgICAgICAgICAgICAgICAgb25FcnJvcjogb25FcnJvclxuXHQgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICB0aGlzLmVycm9ySGFuZGxlZCA9IHRydWU7XG5cblx0ICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjYXRjaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYXRjaChvbkVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvbkVycm9yKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZmluYWxseScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5hbGx5KGhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gWmFsZ29Qcm9taXNlWyd0cnknXShoYW5kbGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBaYWxnb1Byb21pc2VbJ3RyeSddKGhhbmRsZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndGltZW91dCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVvdXQodGltZSwgZXJyKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmVkIHx8IHRoaXMucmVqZWN0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5yZXNvbHZlZCB8fCBfdGhpczQucmVqZWN0ZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIF90aGlzNC5yZWplY3QoZXJyIHx8IG5ldyBFcnJvcignUHJvbWlzZSB0aW1lZCBvdXQgYWZ0ZXIgJyArIHRpbWUgKyAnbXMnKSk7XG5cdCAgICAgICAgICAgIH0sIHRpbWUpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gJEZsb3dGaXhNZVxuXG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndG9Qcm9taXNlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdG9Qcm9taXNlKCkge1xuXHQgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIFByb21pc2UnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0sIFt7XG5cdCAgICAgICAga2V5OiAncmVzb2x2ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcblxuXHQgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBaYWxnb1Byb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzUHJvbWlzZSkodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFphbGdvUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBaYWxnb1Byb21pc2UoKS5yZXNvbHZlKHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVqZWN0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVqZWN0KGVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgWmFsZ29Qcm9taXNlKCkucmVqZWN0KGVycm9yKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYWxsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG5cblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgWmFsZ29Qcm9taXNlKCk7XG5cdCAgICAgICAgICAgIHZhciBjb3VudCA9IHByb21pc2VzLmxlbmd0aDtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuXHQgICAgICAgICAgICBpZiAoIWNvdW50KSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUocmVzdWx0cyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoaSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb20gPSBwcm9taXNlc1tpXTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHByb20gaW5zdGFuY2VvZiBaYWxnb1Byb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocHJvbS5yZXNvbHZlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2ldID0gcHJvbS52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgLT0gMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb250aW51ZSc7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKDAsIF91dGlscy5pc1Byb21pc2UpKHByb20pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IHByb207XG5cdCAgICAgICAgICAgICAgICAgICAgY291bnQgLT0gMTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgWmFsZ29Qcm9taXNlLnJlc29sdmUocHJvbSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcm9taXNlL2NhdGNoLW9yLXJldHVyblxuXHQgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbaV0gPSByZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgY291bnQgLT0gMTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHJlc3VsdHMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9yZXQyID0gX2xvb3AyKGkpO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAoX3JldDIgPT09ICdjb250aW51ZScpIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUocmVzdWx0cyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFzaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc2gocHJvbWlzZXMpIHtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuXG5cdCAgICAgICAgICAgIHJldHVybiBaYWxnb1Byb21pc2UuYWxsKE9iamVjdC5rZXlzKHByb21pc2VzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFphbGdvUHJvbWlzZS5yZXNvbHZlKHByb21pc2VzW2tleV0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnbWFwJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKGl0ZW1zLCBtZXRob2QpIHtcblx0ICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuXHQgICAgICAgICAgICByZXR1cm4gWmFsZ29Qcm9taXNlLmFsbChpdGVtcy5tYXAobWV0aG9kKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29uUG9zc2libHlVbmhhbmRsZWRFeGNlcHRpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblBvc3NpYmx5VW5oYW5kbGVkRXhjZXB0aW9uKGhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICgwLCBfZXhjZXB0aW9ucy5vblBvc3NpYmx5VW5oYW5kbGVkRXhjZXB0aW9uKShoYW5kbGVyKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndHJ5Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3RyeShtZXRob2QsIGNvbnRleHQsIGFyZ3MpIHtcblxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyB8fCBbXSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFphbGdvUHJvbWlzZS5yZWplY3QoZXJyKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBaYWxnb1Byb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdkZWxheScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGF5KF9kZWxheSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFphbGdvUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBfZGVsYXkpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaXNQcm9taXNlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG5cblx0ICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgWmFsZ29Qcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmlzUHJvbWlzZSkodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdmbHVzaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBaYWxnb1Byb21pc2UoKTtcblx0ICAgICAgICAgICAgKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmZsdXNoUHJvbWlzZXMucHVzaChwcm9taXNlKTtcblxuXHQgICAgICAgICAgICBpZiAoKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmFjdGl2ZUNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICBaYWxnb1Byb21pc2UuZmx1c2hRdWV1ZSgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ZsdXNoUXVldWUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmbHVzaFF1ZXVlKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZXNUb0ZsdXNoID0gKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmZsdXNoUHJvbWlzZXM7XG5cdCAgICAgICAgICAgICgwLCBfZ2xvYmFsLmdldEdsb2JhbCkoKS5mbHVzaFByb21pc2VzID0gW107XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcHJvbWlzZXNUb0ZsdXNoLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9yZWY7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChfaXNBcnJheSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFyIF9wcm9taXNlID0gX3JlZjtcblxuXHQgICAgICAgICAgICAgICAgX3Byb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXG5cdCAgICByZXR1cm4gWmFsZ29Qcm9taXNlO1xuXHR9KCk7XG5cblx0ZXhwb3J0cy5aYWxnb1Byb21pc2UgPSBaYWxnb1Byb21pc2U7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcblx0ZnVuY3Rpb24gaXNQcm9taXNlKGl0ZW0pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFpdGVtKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIGl0ZW0gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2luZG93ICYmIGl0ZW0gaW5zdGFuY2VvZiB3aW5kb3cuV2luZG93KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnN0cnVjdG9yICYmIGl0ZW0gaW5zdGFuY2VvZiB3aW5kb3cuY29uc3RydWN0b3IpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBfdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxuXHQgICAgICAgIGlmIChfdG9TdHJpbmcpIHtcblx0ICAgICAgICAgICAgdmFyIG5hbWUgPSBfdG9TdHJpbmcuY2FsbChpdGVtKTtcblxuXHQgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ1tvYmplY3QgV2luZG93XScgfHwgbmFtZSA9PT0gJ1tvYmplY3QgZ2xvYmFsXScgfHwgbmFtZSA9PT0gJ1tvYmplY3QgRE9NV2luZG93XScpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmICh0eXBlb2YgaXRlbS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRpc3BhdGNoUG9zc2libHlVbmhhbmRsZWRFcnJvciA9IGRpc3BhdGNoUG9zc2libHlVbmhhbmRsZWRFcnJvcjtcblx0ZXhwb3J0cy5vblBvc3NpYmx5VW5oYW5kbGVkRXhjZXB0aW9uID0gb25Qb3NzaWJseVVuaGFuZGxlZEV4Y2VwdGlvbjtcblxuXHR2YXIgX2dsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0ZnVuY3Rpb24gZGlzcGF0Y2hQb3NzaWJseVVuaGFuZGxlZEVycm9yKGVycikge1xuXG5cdCAgICBpZiAoKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmRpc3BhdGNoZWRFcnJvcnMuaW5kZXhPZihlcnIpICE9PSAtMSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLmRpc3BhdGNoZWRFcnJvcnMucHVzaChlcnIpO1xuXG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB0aHJvdyBlcnI7XG5cdCAgICB9LCAxKTtcblxuXHQgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoMCwgX2dsb2JhbC5nZXRHbG9iYWwpKCkucG9zc2libHlVbmhhbmRsZWRQcm9taXNlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAoMCwgX2dsb2JhbC5nZXRHbG9iYWwpKCkucG9zc2libHlVbmhhbmRsZWRQcm9taXNlSGFuZGxlcnNbal0oZXJyKTtcblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIG9uUG9zc2libHlVbmhhbmRsZWRFeGNlcHRpb24oaGFuZGxlcikge1xuXHQgICAgKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLnBvc3NpYmx5VW5oYW5kbGVkUHJvbWlzZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgICAgICAgICgwLCBfZ2xvYmFsLmdldEdsb2JhbCkoKS5wb3NzaWJseVVuaGFuZGxlZFByb21pc2VIYW5kbGVycy5zcGxpY2UoKDAsIF9nbG9iYWwuZ2V0R2xvYmFsKSgpLnBvc3NpYmx5VW5oYW5kbGVkUHJvbWlzZUhhbmRsZXJzLmluZGV4T2YoaGFuZGxlciksIDEpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgeyd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldEdsb2JhbCA9IGdldEdsb2JhbDtcblx0ZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xuXG5cdCAgICB2YXIgZ2xvYiA9IHZvaWQgMDtcblxuXHQgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgZ2xvYiA9IHdpbmRvdztcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICBnbG9iID0gZ2xvYmFsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW4gbm90IGZpbmQgZ2xvYmFsJyk7XG5cdCAgICB9XG5cblx0ICAgIHZhciB6YWxnb0dsb2JhbCA9IGdsb2IuX196YWxnb3Byb21pc2VfXyA9IGdsb2IuX196YWxnb3Byb21pc2VfXyB8fCB7fTtcblx0ICAgIHphbGdvR2xvYmFsLmZsdXNoUHJvbWlzZXMgPSB6YWxnb0dsb2JhbC5mbHVzaFByb21pc2VzIHx8IFtdO1xuXHQgICAgemFsZ29HbG9iYWwuYWN0aXZlQ291bnQgPSB6YWxnb0dsb2JhbC5hY3RpdmVDb3VudCB8fCAwO1xuXHQgICAgemFsZ29HbG9iYWwucG9zc2libHlVbmhhbmRsZWRQcm9taXNlSGFuZGxlcnMgPSB6YWxnb0dsb2JhbC5wb3NzaWJseVVuaGFuZGxlZFByb21pc2VIYW5kbGVycyB8fCBbXTtcblx0ICAgIHphbGdvR2xvYmFsLmRpc3BhdGNoZWRFcnJvcnMgPSB6YWxnb0dsb2JhbC5kaXNwYXRjaGVkRXJyb3JzIHx8IFtdO1xuXG5cdCAgICByZXR1cm4gemFsZ29HbG9iYWw7XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFkZFBheWxvYWRCdWlsZGVyID0gYWRkUGF5bG9hZEJ1aWxkZXI7XG5cdGV4cG9ydHMuYWRkTWV0YUJ1aWxkZXIgPSBhZGRNZXRhQnVpbGRlcjtcblx0ZXhwb3J0cy5hZGRUcmFja2luZ0J1aWxkZXIgPSBhZGRUcmFja2luZ0J1aWxkZXI7XG5cdGV4cG9ydHMuYWRkSGVhZGVyQnVpbGRlciA9IGFkZEhlYWRlckJ1aWxkZXI7XG5cdHZhciBwYXlsb2FkQnVpbGRlcnMgPSBleHBvcnRzLnBheWxvYWRCdWlsZGVycyA9IFtdO1xuXHR2YXIgbWV0YUJ1aWxkZXJzID0gZXhwb3J0cy5tZXRhQnVpbGRlcnMgPSBbXTtcblx0dmFyIHRyYWNraW5nQnVpbGRlcnMgPSBleHBvcnRzLnRyYWNraW5nQnVpbGRlcnMgPSBbXTtcblx0dmFyIGhlYWRlckJ1aWxkZXJzID0gZXhwb3J0cy5oZWFkZXJCdWlsZGVycyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGFkZFBheWxvYWRCdWlsZGVyKGJ1aWxkZXIpIHtcblx0ICAgIHBheWxvYWRCdWlsZGVycy5wdXNoKGJ1aWxkZXIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkTWV0YUJ1aWxkZXIoYnVpbGRlcikge1xuXHQgICAgbWV0YUJ1aWxkZXJzLnB1c2goYnVpbGRlcik7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUcmFja2luZ0J1aWxkZXIoYnVpbGRlcikge1xuXHQgICAgdHJhY2tpbmdCdWlsZGVycy5wdXNoKGJ1aWxkZXIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkSGVhZGVyQnVpbGRlcihidWlsZGVyKSB7XG5cdCAgICBoZWFkZXJCdWlsZGVycy5wdXNoKGJ1aWxkZXIpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGNvbmZpZyA9IGV4cG9ydHMuY29uZmlnID0ge1xuXG5cdCAgICB1cmk6ICcnLFxuXHQgICAgcHJlZml4OiAnJyxcblxuXHQgICAgaW5pdGlhbF9zdGF0ZV9uYW1lOiAnaW5pdCcsXG5cblx0ICAgIGZsdXNoSW50ZXJ2YWw6IDEwICogNjAgKiAxMDAwLFxuXHQgICAgZGVib3VuY2VJbnRlcnZhbDogMTAsXG5cblx0ICAgIHNpemVMaW1pdDogMzAwLFxuXG5cdCAgICAvLyBTdXByZXNzIGBjb25zb2xlLmxvZ2BzIHdoZW4gYHRydWVgXG5cdCAgICAvLyBSZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiB1c2FnZVxuXHQgICAgc2lsZW50OiBmYWxzZSxcblxuXHQgICAgaGVhcnRiZWF0OiB0cnVlLFxuXHQgICAgaGVhcnRiZWF0Q29uc29sZUxvZzogdHJ1ZSxcblx0ICAgIGhlYXJ0YmVhdEludGVydmFsOiA1MDAwLFxuXHQgICAgaGVhcnRiZWF0VG9vQnVzeTogZmFsc2UsXG5cdCAgICBoZWFydGJlYXRUb29CdXN5VGhyZXNob2xkOiAxMDAwMCxcblxuXHQgICAgbG9nTGV2ZWw6ICd3YXJuJyxcblxuXHQgICAgYXV0b0xvZzogWyd3YXJuJywgJ2Vycm9yJ10sXG5cblx0ICAgIGxvZ1VubG9hZDogdHJ1ZSxcblx0ICAgIGxvZ1BlcmZvcm1hbmNlOiB0cnVlXG5cdH07XG5cblx0dmFyIGxvZ0xldmVscyA9IGV4cG9ydHMubG9nTGV2ZWxzID0gWydlcnJvcicsICd3YXJuJywgJ2luZm8nLCAnZGVidWcnXTtcblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmluaXQgPSBpbml0O1xuXG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgX3BlcmZvcm1hbmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0dmFyIF9sb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbml0aWF0ZWQgPSBmYWxzZTtcblxuXHRmdW5jdGlvbiBpbml0KGNvbmYpIHtcblx0ICAgICgwLCBfdXRpbC5leHRlbmQpKF9jb25maWcuY29uZmlnLCBjb25mIHx8IHt9KTtcblxuXHQgICAgaWYgKGluaXRpYXRlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgaW5pdGlhdGVkID0gdHJ1ZTtcblxuXHQgICAgaWYgKF9jb25maWcuY29uZmlnLmxvZ1BlcmZvcm1hbmNlKSB7XG5cdCAgICAgICAgKDAsIF9wZXJmb3JtYW5jZS5pbml0UGVyZm9ybWFuY2UpKCk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChfY29uZmlnLmNvbmZpZy5oZWFydGJlYXQpIHtcblx0ICAgICAgICAoMCwgX3BlcmZvcm1hbmNlLmluaXRIZWFydEJlYXQpKCk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChfY29uZmlnLmNvbmZpZy5sb2dVbmxvYWQpIHtcblx0ICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAoMCwgX2xvZ2dlci5pbmZvKSgnd2luZG93X2JlZm9yZXVubG9hZCcpO1xuXHQgICAgICAgICAgICAoMCwgX2xvZ2dlci5pbW1lZGlhdGVGbHVzaCkoeyBmaXJlQW5kRm9yZ2V0OiB0cnVlIH0pO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgKDAsIF9sb2dnZXIuaW5mbykoJ3dpbmRvd191bmxvYWQnKTtcblx0ICAgICAgICAgICAgKDAsIF9sb2dnZXIuaW1tZWRpYXRlRmx1c2gpKHsgZmlyZUFuZEZvcmdldDogdHJ1ZSB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgaWYgKF9jb25maWcuY29uZmlnLmZsdXNoSW50ZXJ2YWwpIHtcblx0ICAgICAgICBzZXRJbnRlcnZhbChfbG9nZ2VyLmZsdXNoLCBfY29uZmlnLmNvbmZpZy5mbHVzaEludGVydmFsKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHdpbmRvdy5iZWF2ZXJMb2dRdWV1ZSkge1xuXHQgICAgICAgIHdpbmRvdy5iZWF2ZXJMb2dRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG5cdCAgICAgICAgICAgICgwLCBfbG9nZ2VyLmxvZykocGF5bG9hZC5sZXZlbCwgcGF5bG9hZC5ldmVudCwgcGF5bG9hZCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZGVsZXRlIHdpbmRvdy5iZWF2ZXJMb2dRdWV1ZTtcblx0ICAgIH1cblx0fVxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucmVxVGltZXIgPSBleHBvcnRzLmNsaWVudFRpbWVyID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLm5vdyA9IG5vdztcblx0ZXhwb3J0cy5yZXFTdGFydEVsYXBzZWQgPSByZXFTdGFydEVsYXBzZWQ7XG5cdGV4cG9ydHMuaW5pdEhlYXJ0QmVhdCA9IGluaXRIZWFydEJlYXQ7XG5cdGV4cG9ydHMuaW5pdFBlcmZvcm1hbmNlID0gaW5pdFBlcmZvcm1hbmNlO1xuXG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIF9sb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBfYnVpbGRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIGVuYWJsZVBlcmZvcm1hbmNlID0gd2luZG93ICYmIHdpbmRvdy5wZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgcGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5jb25uZWN0RW5kICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgJiYgTWF0aC5hYnMocGVyZm9ybWFuY2Uubm93KCkgLSBEYXRlLm5vdygpKSA+IDEwMDAgJiYgcGVyZm9ybWFuY2Uubm93KCkgLSAocGVyZm9ybWFuY2UudGltaW5nLmNvbm5lY3RFbmQgLSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSA+IDA7XG5cblx0ZnVuY3Rpb24gbm93KCkge1xuXHQgICAgaWYgKGVuYWJsZVBlcmZvcm1hbmNlKSB7XG5cdCAgICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRpbWVyKHN0YXJ0VGltZSkge1xuXHQgICAgc3RhcnRUaW1lID0gc3RhcnRUaW1lICE9PSB1bmRlZmluZWQgPyBzdGFydFRpbWUgOiBub3coKTtcblxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcblxuXHQgICAgICAgIGVsYXBzZWQ6IGZ1bmN0aW9uIGVsYXBzZWQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChub3coKSAtIHN0YXJ0VGltZSwgMTApO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICAgICAgICBzdGFydFRpbWUgPSBub3coKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVxU3RhcnRFbGFwc2VkKCkge1xuXHQgICAgaWYgKGVuYWJsZVBlcmZvcm1hbmNlKSB7XG5cdCAgICAgICAgdmFyIHRpbWluZyA9IHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmc7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRpbWluZy5jb25uZWN0RW5kIC0gdGltaW5nLm5hdmlnYXRpb25TdGFydCwgMTApO1xuXHQgICAgfVxuXHR9XG5cblx0dmFyIGNsaWVudFRpbWVyID0gZXhwb3J0cy5jbGllbnRUaW1lciA9IHRpbWVyKCk7XG5cdHZhciByZXFUaW1lciA9IGV4cG9ydHMucmVxVGltZXIgPSB0aW1lcihyZXFTdGFydEVsYXBzZWQoKSk7XG5cblx0ZnVuY3Rpb24gaW5pdEhlYXJ0QmVhdCgpIHtcblxuXHQgICAgdmFyIGhlYXJ0QmVhdFRpbWVyID0gdGltZXIoKTtcblx0ICAgIHZhciBoZWFydGJlYXRDb3VudCA9IDA7XG5cblx0ICAgICgwLCBfdXRpbC5zYWZlSW50ZXJ2YWwpKGZ1bmN0aW9uICgpIHtcblxuXHQgICAgICAgIGlmIChfY29uZmlnLmNvbmZpZy5oZWFydGJlYXRNYXhUaHJlc2hvbGQgJiYgaGVhcnRiZWF0Q291bnQgPiBfY29uZmlnLmNvbmZpZy5oZWFydGJlYXRNYXhUaHJlc2hvbGQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGhlYXJ0YmVhdENvdW50ICs9IDE7XG5cblx0ICAgICAgICB2YXIgZWxhcHNlZCA9IGhlYXJ0QmVhdFRpbWVyLmVsYXBzZWQoKTtcblx0ICAgICAgICB2YXIgbGFnID0gZWxhcHNlZCAtIF9jb25maWcuY29uZmlnLmhlYXJ0YmVhdEludGVydmFsO1xuXG5cdCAgICAgICAgdmFyIGhlYXJ0YmVhdFBheWxvYWQgPSB7XG5cdCAgICAgICAgICAgIGNvdW50OiBoZWFydGJlYXRDb3VudCxcblx0ICAgICAgICAgICAgZWxhcHNlZDogZWxhcHNlZFxuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBpZiAoX2NvbmZpZy5jb25maWcuaGVhcnRiZWF0VG9vQnVzeSkge1xuXHQgICAgICAgICAgICBoZWFydGJlYXRQYXlsb2FkLmxhZyA9IGxhZztcblxuXHQgICAgICAgICAgICBpZiAobGFnID49IF9jb25maWcuY29uZmlnLmhlYXJ0YmVhdFRvb0J1c3lUaHJlc2hvbGQpIHtcblx0ICAgICAgICAgICAgICAgICgwLCBfbG9nZ2VyLmluZm8pKCd0b29idXN5JywgaGVhcnRiZWF0UGF5bG9hZCwge1xuXHQgICAgICAgICAgICAgICAgICAgIG5vQ29uc29sZTogIV9jb25maWcuY29uZmlnLmhlYXJ0YmVhdENvbnNvbGVMb2dcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgKDAsIF9sb2dnZXIuaW5mbykoJ2hlYXJ0YmVhdCcsIGhlYXJ0YmVhdFBheWxvYWQsIHtcblx0ICAgICAgICAgICAgbm9Db25zb2xlOiAhX2NvbmZpZy5jb25maWcuaGVhcnRiZWF0Q29uc29sZUxvZ1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSwgX2NvbmZpZy5jb25maWcuaGVhcnRiZWF0SW50ZXJ2YWwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdFBlcmZvcm1hbmNlKCkge1xuXG5cdCAgICBpZiAoIWVuYWJsZVBlcmZvcm1hbmNlKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfbG9nZ2VyLmluZm8pKCdub19wZXJmb3JtYW5jZV9kYXRhJyk7XG5cdCAgICB9XG5cblx0ICAgICgwLCBfYnVpbGRlcnMuYWRkUGF5bG9hZEJ1aWxkZXIpKGZ1bmN0aW9uICgpIHtcblxuXHQgICAgICAgIHZhciBwYXlsb2FkID0ge307XG5cblx0ICAgICAgICBwYXlsb2FkLmNsaWVudF9lbGFwc2VkID0gY2xpZW50VGltZXIuZWxhcHNlZCgpO1xuXG5cdCAgICAgICAgaWYgKGVuYWJsZVBlcmZvcm1hbmNlKSB7XG5cdCAgICAgICAgICAgIHBheWxvYWQucmVxX2VsYXBzZWQgPSByZXFUaW1lci5lbGFwc2VkKCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG5cdCAgICB9KTtcblxuXHQgICAgKDAsIF91dGlsLm9uV2luZG93UmVhZHkpKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cblx0ICAgICAgICB2YXIga2V5cyA9IFsnY29ubmVjdEVuZCcsICdjb25uZWN0U3RhcnQnLCAnZG9tQ29tcGxldGUnLCAnZG9tQ29udGVudExvYWRlZEV2ZW50RW5kJywgJ2RvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0JywgJ2RvbUludGVyYWN0aXZlJywgJ2RvbUxvYWRpbmcnLCAnZG9tYWluTG9va3VwRW5kJywgJ2RvbWFpbkxvb2t1cFN0YXJ0JywgJ2ZldGNoU3RhcnQnLCAnbG9hZEV2ZW50RW5kJywgJ2xvYWRFdmVudFN0YXJ0JywgJ25hdmlnYXRpb25TdGFydCcsICdyZWRpcmVjdEVuZCcsICdyZWRpcmVjdFN0YXJ0JywgJ3JlcXVlc3RTdGFydCcsICdyZXNwb25zZUVuZCcsICdyZXNwb25zZVN0YXJ0JywgJ3NlY3VyZUNvbm5lY3Rpb25TdGFydCcsICd1bmxvYWRFdmVudEVuZCcsICd1bmxvYWRFdmVudFN0YXJ0J107XG5cblx0ICAgICAgICB2YXIgdGltaW5nID0ge307XG5cblx0ICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICB0aW1pbmdba2V5XSA9IHBhcnNlSW50KHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmdba2V5XSwgMTApIHx8IDA7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICB2YXIgb2Zmc2V0ID0gdGltaW5nLmNvbm5lY3RFbmQgLSB0aW1pbmcubmF2aWdhdGlvblN0YXJ0O1xuXG5cdCAgICAgICAgaWYgKHRpbWluZy5jb25uZWN0RW5kKSB7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKHRpbWluZykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB0aW1pbmdbbmFtZV07XG5cdCAgICAgICAgICAgICAgICBpZiAodGltZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfbG9nZ2VyLmluZm8pKCd0aW1pbmdfJyArIG5hbWUsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X2VsYXBzZWQ6IHBhcnNlSW50KHRpbWUgLSB0aW1pbmcuY29ubmVjdEVuZCAtIChjbGllbnRUaW1lci5zdGFydFRpbWUgLSBvZmZzZXQpLCAxMCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlcV9lbGFwc2VkOiBwYXJzZUludCh0aW1lIC0gdGltaW5nLmNvbm5lY3RFbmQsIDEwKVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAoMCwgX2xvZ2dlci5pbmZvKSgndGltaW5nJywgdGltaW5nKTtcblx0ICAgICAgICAoMCwgX2xvZ2dlci5pbmZvKSgnbWVtb3J5Jywgd2luZG93LnBlcmZvcm1hbmNlLm1lbW9yeSk7XG5cdCAgICAgICAgKDAsIF9sb2dnZXIuaW5mbykoJ25hdmlnYXRpb24nLCB3aW5kb3cucGVyZm9ybWFuY2UubmF2aWdhdGlvbik7XG5cblx0ICAgICAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXMpIHtcblx0ICAgICAgICAgICAgd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKFsnbGluaycsICdzY3JpcHQnLCAnaW1nJywgJ2NzcyddLmluZGV4T2YocmVzb3VyY2UuaW5pdGlhdG9yVHlwZSkgPiAtMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfbG9nZ2VyLmluZm8pKHJlc291cmNlLmluaXRpYXRvclR5cGUsIHJlc291cmNlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdH1cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnN0YXJ0VHJhbnNpdGlvbiA9IHN0YXJ0VHJhbnNpdGlvbjtcblx0ZXhwb3J0cy5lbmRUcmFuc2l0aW9uID0gZW5kVHJhbnNpdGlvbjtcblx0ZXhwb3J0cy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcblxuXHR2YXIgX3BlcmZvcm1hbmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0dmFyIF9sb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBfYnVpbGRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgd2luZG93SUQgPSAoMCwgX3V0aWwudW5pcXVlSUQpKCk7XG5cdHZhciBwYWdlSUQgPSAoMCwgX3V0aWwudW5pcXVlSUQpKCk7XG5cblx0dmFyIGN1cnJlbnRTdGF0ZSA9IF9jb25maWcuY29uZmlnLmluaXRpYWxfc3RhdGVfbmFtZTtcblx0dmFyIHN0YXJ0VGltZSA9IHZvaWQgMDtcblxuXHRmdW5jdGlvbiBzdGFydFRyYW5zaXRpb24oKSB7XG5cdCAgICBzdGFydFRpbWUgPSAoMCwgX3BlcmZvcm1hbmNlLm5vdykoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGVuZFRyYW5zaXRpb24odG9TdGF0ZSkge1xuXHQgICAgc3RhcnRUaW1lID0gc3RhcnRUaW1lIHx8ICgwLCBfcGVyZm9ybWFuY2UucmVxU3RhcnRFbGFwc2VkKSgpO1xuXG5cdCAgICB2YXIgY3VycmVudFRpbWUgPSAoMCwgX3BlcmZvcm1hbmNlLm5vdykoKTtcblx0ICAgIHZhciBlbGFwc2VkVGltZSA9IHZvaWQgMDtcblxuXHQgICAgaWYgKHN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgZWxhcHNlZFRpbWUgPSBwYXJzZUludChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSwgMCk7XG5cdCAgICB9XG5cblx0ICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9ICd0cmFuc2l0aW9uXycgKyBjdXJyZW50U3RhdGUgKyAnX3RvXycgKyB0b1N0YXRlO1xuXG5cdCAgICAoMCwgX2xvZ2dlci5pbmZvKSh0cmFuc2l0aW9uTmFtZSwge1xuXHQgICAgICAgIGR1cmF0aW9uOiBlbGFwc2VkVGltZVxuXHQgICAgfSk7XG5cblx0ICAgICgwLCBfbG9nZ2VyLnRyYWNrKSh7XG5cdCAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgdHJhbnNpdGlvbl90aW1lOiBlbGFwc2VkVGltZVxuXHQgICAgfSk7XG5cblx0ICAgICgwLCBfbG9nZ2VyLmltbWVkaWF0ZUZsdXNoKSgpO1xuXG5cdCAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcblx0ICAgIGN1cnJlbnRTdGF0ZSA9IHRvU3RhdGU7XG5cdCAgICBwYWdlSUQgPSAoMCwgX3V0aWwudW5pcXVlSUQpKCk7XG5cdH1cblxuXHRmdW5jdGlvbiB0cmFuc2l0aW9uKHRvU3RhdGUpIHtcblx0ICAgIHN0YXJ0VHJhbnNpdGlvbigpO1xuXHQgICAgZW5kVHJhbnNpdGlvbih0b1N0YXRlKTtcblx0fVxuXG5cdCgwLCBfYnVpbGRlcnMuYWRkUGF5bG9hZEJ1aWxkZXIpKGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgd2luZG93SUQ6IHdpbmRvd0lELFxuXHQgICAgICAgIHBhZ2VJRDogcGFnZUlEXG5cdCAgICB9O1xuXHR9KTtcblxuXHQoMCwgX2J1aWxkZXJzLmFkZE1ldGFCdWlsZGVyKShmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHN0YXRlOiAndWlfJyArIGN1cnJlbnRTdGF0ZVxuXHQgICAgfTtcblx0fSk7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKVxufSk7XG47IiwiXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdC9iZWF2ZXItbG9nZ2VyJyk7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgVU5ERUZJTkVEX0NPT1JESU5BVEVTID0gJ2Nvb3JkaW5hdGVzIGlzIHVuZGVmaW5lZCdcbmNvbnN0IFVOREVGSU5FRF9MQVRMTkcgPSAnYmxhbmsgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSdcbmNvbnN0IFVOREVGSU5FRF9BUlJBWV9MQVRMTkcgPSAnYmxhbmsgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBhdCBpdGVtJ1xuY29uc3QgVU5ERUZJTkVEX1BMQUNFX0lORk8gPSAnbWlzc2luZyBwbGFjZSBpbmZvJ1xuY29uc3QgVU5ERUZJTkVEX0xBWUVSID0gJ2Nhbm5vdCBmaW5kIGxheWVyJ1xuY29uc3QgVU5ERUZJTkVEX0NPTE9SID0gJ21pc3NpbmcgY29sb3InXG5jb25zdCBJTlZBTElEX1RZUEUgPSAnaW52YWxpZCBhcmd1bWVudCB0eXBlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVOREVGSU5FRF9DT09SRElOQVRFUyxcbiAgVU5ERUZJTkVEX0xBVExORyxcbiAgVU5ERUZJTkVEX0FSUkFZX0xBVExORyxcbiAgVU5ERUZJTkVEX1BMQUNFX0lORk8sXG4gIFVOREVGSU5FRF9MQVlFUixcbiAgVU5ERUZJTkVEX0NPTE9SLFxuICBJTlZBTElEX1RZUEVcbn0iLCIvLyBAZmxvd1xuaW1wb3J0IGxvZ2dlciBmcm9tICdiZWF2ZXItbG9nZ2VyJztcbmltcG9ydCB7IE5PREVfRU5WLCBMT0dHRVJfVVJMLCBMT0dHRVJfVVJMX0RFViwgTE9HR0VSX1RJTUVSIH0gZnJvbSAnLi4vY29uc3RhbnQnO1xuXG5jb25zdCBwcm9wcyA9IHt9O1xuXG5jb25zdCBkZWZhdWx0TG9nZ2VyID0gKGxvZ0NhbGxiYWNrKSA9PiAoXG4gICAgZnVuY3Rpb25OYW1lLFxuICAgIG1lc3NhZ2UgPSAnJyxcbiAgICBhcmdzID0ge30sXG4gICAgZW1pdExvZyA9IHRydWUsXG4pID0+IHtcbiAgICBjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgJ3VzZXItYWdlbnQnOiB1c2VyQWdlbnQsXG4gICAgICAgIGFwcF9pZDogcHJvcHMuQVBQX0lELCAvL2VzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgZnVuY3Rpb25fbmFtZTogZnVuY3Rpb25OYW1lLCAvL2VzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgdXJsLFxuICAgICAgICBtZXNzYWdlXG4gICAgfTtcbiAgICBpZiAocHJvcHMuREVCVUcpIHtcbiAgICAgICAgcGF5bG9hZC5hcmdzID0gYXJncztcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuTE9HR0lORyAmJiBlbWl0TG9nKSB7XG4gICAgICAgIGxvZ0NhbGxiYWNrKCdtYXBtYWdpYycsIHBheWxvYWQpO1xuICAgIH1cbn07XG5cbmNvbnN0IExvZ2dlciA9IHtcbiAgICBpbml0OiAoQVBQX0lELCBMT0dHSU5HLCBERUJVRykgPT4ge1xuICAgICAgICBwcm9wcy5BUFBfSUQgPSBBUFBfSUQ7XG4gICAgICAgIHByb3BzLkxPR0dJTkcgPSBMT0dHSU5HO1xuICAgICAgICBwcm9wcy5ERUJVRyA9IERFQlVHO1xuICAgICAgICBsb2dnZXIuaW5pdCh7XG4gICAgICAgICAgICB1cmk6IE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBMT0dHRVJfVVJMX0RFViA6IExPR0dFUl9VUkwsXG4gICAgICAgICAgICBmbHVzaEludGVydmFsOiBMT0dHRVJfVElNRVIsXG4gICAgICAgICAgICBoZWFydGJlYXQ6IGZhbHNlLFxuICAgICAgICAgICAgc2lsZW50OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIH0sXG4gICAgZGVidWc6IGRlZmF1bHRMb2dnZXIobG9nZ2VyLmRlYnVnKSxcbiAgICBpbmZvOiBkZWZhdWx0TG9nZ2VyKGxvZ2dlci5pbmZvKSxcbiAgICB3YXJuOiBkZWZhdWx0TG9nZ2VyKGxvZ2dlci53YXJuKSxcbiAgICBlcnJvcjogZGVmYXVsdExvZ2dlcihsb2dnZXIuZXJyb3IpLFxuICAgIGdldERlYnVnOiAoKSA9PiBwcm9wcy5ERUJVRyxcbiAgICBnZXRMb2dnaW5nOiAoKSA9PiBwcm9wcy5MT0dHSU5HLFxufTtcblxuT2JqZWN0LmZyZWV6ZShMb2dnZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExPR19DT05TVEFOVCBmcm9tICcuL2xvZ0NvbnN0YW50J1xuXG5jb25zdCBOT0RFX0VOViA9ICdwcm9kdWN0aW9uJ1xuXG5jb25zdCBBUElfVVJMID0gJ2h0dHBzOi8vYXBpLm1hcG1hZ2ljLmNvLnRoL3YyL2dldC1tYXAtc3R5bGUnXG5cbi8vIENvbmZpZyBMb2dnZXJcbmNvbnN0IExPR0dFUl9VUkwgPSAnaHR0cHM6Ly9hcGkubWFwbWFnaWMuY28udGgvbG9nL3YxL21hcG1hZ2ljLWdsL2VtaXQtbG9nJ1xuY29uc3QgTE9HR0VSX0NPTkZJR19VUkwgPSAnaHR0cHM6Ly9hcGkubWFwbWFnaWMuY28udGgvbG9nL3YxL21hcG1hZ2ljLWdsL2xvZy1jb25maWcnXG5jb25zdCBMT0dHRVJfVVJMX0RFViA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDYvbG9nL3YxL21hcG1hZ2ljLWdsL2VtaXQtbG9nJ1xuY29uc3QgTE9HR0VSX0NPTkZJR19VUkxfREVWID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwNi9sb2cvdjEvbWFwbWFnaWMtZ2wvbG9nLWNvbmZpZydcbmNvbnN0IExPR0dFUl9USU1FUiA9IDUwMDBcblxuLy8gY29uc3RhbnQgZnVuY3Rpb25cbmNvbnN0IExPR09fQ0xBU1NOQU1FID0gJ21hcG1hZ2ljLWN0cmwtbG9nbydcblxuZXhwb3J0IHtcbiAgTE9HX0NPTlNUQU5ULFxuICBMT0dHRVJfVVJMLFxuICBMT0dHRVJfQ09ORklHX1VSTCxcbiAgTE9HR0VSX1VSTF9ERVYsXG4gIExPR0dFUl9DT05GSUdfVVJMX0RFVixcbiAgTE9HR0VSX1RJTUVSLFxuICBBUElfVVJMLFxuICBOT0RFX0VOVixcbiAgTE9HT19JTUcsXG4gIExPR09fQ0xBU1NOQU1FLFxufVxuIiwiLy8gVGlueUNvbG9yIHYxLjQuMVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jncmlucy9UaW55Q29sb3Jcbi8vIEJyaWFuIEdyaW5zdGVhZCwgTUlUIExpY2Vuc2VcblxuKGZ1bmN0aW9uKE1hdGgpIHtcblxudmFyIHRyaW1MZWZ0ID0gL15cXHMrLyxcbiAgICB0cmltUmlnaHQgPSAvXFxzKyQvLFxuICAgIHRpbnlDb3VudGVyID0gMCxcbiAgICBtYXRoUm91bmQgPSBNYXRoLnJvdW5kLFxuICAgIG1hdGhNaW4gPSBNYXRoLm1pbixcbiAgICBtYXRoTWF4ID0gTWF0aC5tYXgsXG4gICAgbWF0aFJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG5mdW5jdGlvbiB0aW55Y29sb3IgKGNvbG9yLCBvcHRzKSB7XG5cbiAgICBjb2xvciA9IChjb2xvcikgPyBjb2xvciA6ICcnO1xuICAgIG9wdHMgPSBvcHRzIHx8IHsgfTtcblxuICAgIC8vIElmIGlucHV0IGlzIGFscmVhZHkgYSB0aW55Y29sb3IsIHJldHVybiBpdHNlbGZcbiAgICBpZiAoY29sb3IgaW5zdGFuY2VvZiB0aW55Y29sb3IpIHtcbiAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIC8vIElmIHdlIGFyZSBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgY2FsbCB1c2luZyBuZXcgaW5zdGVhZFxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiB0aW55Y29sb3IpKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGlueWNvbG9yKGNvbG9yLCBvcHRzKTtcbiAgICB9XG5cbiAgICB2YXIgcmdiID0gaW5wdXRUb1JHQihjb2xvcik7XG4gICAgdGhpcy5fb3JpZ2luYWxJbnB1dCA9IGNvbG9yLFxuICAgIHRoaXMuX3IgPSByZ2IucixcbiAgICB0aGlzLl9nID0gcmdiLmcsXG4gICAgdGhpcy5fYiA9IHJnYi5iLFxuICAgIHRoaXMuX2EgPSByZ2IuYSxcbiAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwLFxuICAgIHRoaXMuX2Zvcm1hdCA9IG9wdHMuZm9ybWF0IHx8IHJnYi5mb3JtYXQ7XG4gICAgdGhpcy5fZ3JhZGllbnRUeXBlID0gb3B0cy5ncmFkaWVudFR5cGU7XG5cbiAgICAvLyBEb24ndCBsZXQgdGhlIHJhbmdlIG9mIFswLDI1NV0gY29tZSBiYWNrIGluIFswLDFdLlxuICAgIC8vIFBvdGVudGlhbGx5IGxvc2UgYSBsaXR0bGUgYml0IG9mIHByZWNpc2lvbiBoZXJlLCBidXQgd2lsbCBmaXggaXNzdWVzIHdoZXJlXG4gICAgLy8gLjUgZ2V0cyBpbnRlcnByZXRlZCBhcyBoYWxmIG9mIHRoZSB0b3RhbCwgaW5zdGVhZCBvZiBoYWxmIG9mIDFcbiAgICAvLyBJZiBpdCB3YXMgc3VwcG9zZWQgdG8gYmUgMTI4LCB0aGlzIHdhcyBhbHJlYWR5IHRha2VuIGNhcmUgb2YgYnkgYGlucHV0VG9SZ2JgXG4gICAgaWYgKHRoaXMuX3IgPCAxKSB7IHRoaXMuX3IgPSBtYXRoUm91bmQodGhpcy5fcik7IH1cbiAgICBpZiAodGhpcy5fZyA8IDEpIHsgdGhpcy5fZyA9IG1hdGhSb3VuZCh0aGlzLl9nKTsgfVxuICAgIGlmICh0aGlzLl9iIDwgMSkgeyB0aGlzLl9iID0gbWF0aFJvdW5kKHRoaXMuX2IpOyB9XG5cbiAgICB0aGlzLl9vayA9IHJnYi5vaztcbiAgICB0aGlzLl90Y19pZCA9IHRpbnlDb3VudGVyKys7XG59XG5cbnRpbnljb2xvci5wcm90b3R5cGUgPSB7XG4gICAgaXNEYXJrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpIDwgMTI4O1xuICAgIH0sXG4gICAgaXNMaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0RhcmsoKTtcbiAgICB9LFxuICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2s7XG4gICAgfSxcbiAgICBnZXRPcmlnaW5hbElucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbElucHV0O1xuICAgIH0sXG4gICAgZ2V0Rm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdDtcbiAgICB9LFxuICAgIGdldEFscGhhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2E7XG4gICAgfSxcbiAgICBnZXRCcmlnaHRuZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi9BRVJUI2NvbG9yLWNvbnRyYXN0XG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHJldHVybiAocmdiLnIgKiAyOTkgKyByZ2IuZyAqIDU4NyArIHJnYi5iICogMTE0KSAvIDEwMDA7XG4gICAgfSxcbiAgICBnZXRMdW1pbmFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2h0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgdmFyIFJzUkdCLCBHc1JHQiwgQnNSR0IsIFIsIEcsIEI7XG4gICAgICAgIFJzUkdCID0gcmdiLnIvMjU1O1xuICAgICAgICBHc1JHQiA9IHJnYi5nLzI1NTtcbiAgICAgICAgQnNSR0IgPSByZ2IuYi8yNTU7XG5cbiAgICAgICAgaWYgKFJzUkdCIDw9IDAuMDM5MjgpIHtSID0gUnNSR0IgLyAxMi45Mjt9IGVsc2Uge1IgPSBNYXRoLnBvdygoKFJzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgaWYgKEdzUkdCIDw9IDAuMDM5MjgpIHtHID0gR3NSR0IgLyAxMi45Mjt9IGVsc2Uge0cgPSBNYXRoLnBvdygoKEdzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgaWYgKEJzUkdCIDw9IDAuMDM5MjgpIHtCID0gQnNSR0IgLyAxMi45Mjt9IGVsc2Uge0IgPSBNYXRoLnBvdygoKEJzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgcmV0dXJuICgwLjIxMjYgKiBSKSArICgwLjcxNTIgKiBHKSArICgwLjA3MjIgKiBCKTtcbiAgICB9LFxuICAgIHNldEFscGhhOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hID0gYm91bmRBbHBoYSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3JvdW5kQSA9IG1hdGhSb3VuZCgxMDAqdGhpcy5fYSkgLyAxMDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdG9Ic3Y6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHN2ID0gcmdiVG9Ic3YodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHJldHVybiB7IGg6IGhzdi5oICogMzYwLCBzOiBoc3YucywgdjogaHN2LnYsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvSHN2U3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICB2YXIgaCA9IG1hdGhSb3VuZChoc3YuaCAqIDM2MCksIHMgPSBtYXRoUm91bmQoaHN2LnMgKiAxMDApLCB2ID0gbWF0aFJvdW5kKGhzdi52ICogMTAwKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcImhzdihcIiAgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyB2ICsgXCIlKVwiIDpcbiAgICAgICAgICBcImhzdmEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyB2ICsgXCIlLCBcIisgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b0hzbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoc2wgPSByZ2JUb0hzbCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iKTtcbiAgICAgICAgcmV0dXJuIHsgaDogaHNsLmggKiAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9Ic2xTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHZhciBoID0gbWF0aFJvdW5kKGhzbC5oICogMzYwKSwgcyA9IG1hdGhSb3VuZChoc2wucyAqIDEwMCksIGwgPSBtYXRoUm91bmQoaHNsLmwgKiAxMDApO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2EgPT0gMSkgP1xuICAgICAgICAgIFwiaHNsKFwiICArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUpXCIgOlxuICAgICAgICAgIFwiaHNsYShcIiArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUsIFwiKyB0aGlzLl9yb3VuZEEgKyBcIilcIjtcbiAgICB9LFxuICAgIHRvSGV4OiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XG4gICAgICAgIHJldHVybiByZ2JUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCBhbGxvdzNDaGFyKTtcbiAgICB9LFxuICAgIHRvSGV4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4KGFsbG93M0NoYXIpO1xuICAgIH0sXG4gICAgdG9IZXg4OiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XG4gICAgICAgIHJldHVybiByZ2JhVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgdGhpcy5fYSwgYWxsb3c0Q2hhcik7XG4gICAgfSxcbiAgICB0b0hleDhTdHJpbmc6IGZ1bmN0aW9uKGFsbG93NENoYXIpIHtcbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXg4KGFsbG93NENoYXIpO1xuICAgIH0sXG4gICAgdG9SZ2I6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyByOiBtYXRoUm91bmQodGhpcy5fciksIGc6IG1hdGhSb3VuZCh0aGlzLl9nKSwgYjogbWF0aFJvdW5kKHRoaXMuX2IpLCBhOiB0aGlzLl9hIH07XG4gICAgfSxcbiAgICB0b1JnYlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJyZ2IoXCIgICsgbWF0aFJvdW5kKHRoaXMuX3IpICsgXCIsIFwiICsgbWF0aFJvdW5kKHRoaXMuX2cpICsgXCIsIFwiICsgbWF0aFJvdW5kKHRoaXMuX2IpICsgXCIpXCIgOlxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9QZXJjZW50YWdlUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgZzogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9QZXJjZW50YWdlUmdiU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcInJnYihcIiAgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9yLCAyNTUpICogMTAwKSArIFwiJSwgXCIgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9nLCAyNTUpICogMTAwKSArIFwiJSwgXCIgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9iLCAyNTUpICogMTAwKSArIFwiJSlcIiA6XG4gICAgICAgICAgXCJyZ2JhKFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b05hbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhleE5hbWVzW3JnYlRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRydWUpXSB8fCBmYWxzZTtcbiAgICB9LFxuICAgIHRvRmlsdGVyOiBmdW5jdGlvbihzZWNvbmRDb2xvcikge1xuICAgICAgICB2YXIgaGV4OFN0cmluZyA9ICcjJyArIHJnYmFUb0FyZ2JIZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgdGhpcy5fYSk7XG4gICAgICAgIHZhciBzZWNvbmRIZXg4U3RyaW5nID0gaGV4OFN0cmluZztcbiAgICAgICAgdmFyIGdyYWRpZW50VHlwZSA9IHRoaXMuX2dyYWRpZW50VHlwZSA/IFwiR3JhZGllbnRUeXBlID0gMSwgXCIgOiBcIlwiO1xuXG4gICAgICAgIGlmIChzZWNvbmRDb2xvcikge1xuICAgICAgICAgICAgdmFyIHMgPSB0aW55Y29sb3Ioc2Vjb25kQ29sb3IpO1xuICAgICAgICAgICAgc2Vjb25kSGV4OFN0cmluZyA9ICcjJyArIHJnYmFUb0FyZ2JIZXgocy5fciwgcy5fZywgcy5fYiwgcy5fYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoXCIrZ3JhZGllbnRUeXBlK1wic3RhcnRDb2xvcnN0cj1cIitoZXg4U3RyaW5nK1wiLGVuZENvbG9yc3RyPVwiK3NlY29uZEhleDhTdHJpbmcrXCIpXCI7XG4gICAgfSxcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXRTZXQgPSAhIWZvcm1hdDtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMuX2Zvcm1hdDtcblxuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNBbHBoYSA9IHRoaXMuX2EgPCAxICYmIHRoaXMuX2EgPj0gMDtcbiAgICAgICAgdmFyIG5lZWRzQWxwaGFGb3JtYXQgPSAhZm9ybWF0U2V0ICYmIGhhc0FscGhhICYmIChmb3JtYXQgPT09IFwiaGV4XCIgfHwgZm9ybWF0ID09PSBcImhleDZcIiB8fCBmb3JtYXQgPT09IFwiaGV4M1wiIHx8IGZvcm1hdCA9PT0gXCJoZXg0XCIgfHwgZm9ybWF0ID09PSBcImhleDhcIiB8fCBmb3JtYXQgPT09IFwibmFtZVwiKTtcblxuICAgICAgICBpZiAobmVlZHNBbHBoYUZvcm1hdCkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBcInRyYW5zcGFyZW50XCIsIGFsbCBvdGhlciBub24tYWxwaGEgZm9ybWF0c1xuICAgICAgICAgICAgLy8gd2lsbCByZXR1cm4gcmdiYSB3aGVuIHRoZXJlIGlzIHRyYW5zcGFyZW5jeS5cbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09IFwibmFtZVwiICYmIHRoaXMuX2EgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b05hbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvUmdiU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJyZ2JcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwicHJnYlwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4XCIgfHwgZm9ybWF0ID09PSBcImhleDZcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4M1wiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4NFwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4OFN0cmluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDhcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b05hbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhzbFwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSHNsU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoc3ZcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzdlN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN0cmluZyB8fCB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aW55Y29sb3IodGhpcy50b1N0cmluZygpKTtcbiAgICB9LFxuXG4gICAgX2FwcGx5TW9kaWZpY2F0aW9uOiBmdW5jdGlvbihmbiwgYXJncykge1xuICAgICAgICB2YXIgY29sb3IgPSBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcbiAgICAgICAgdGhpcy5fciA9IGNvbG9yLl9yO1xuICAgICAgICB0aGlzLl9nID0gY29sb3IuX2c7XG4gICAgICAgIHRoaXMuX2IgPSBjb2xvci5fYjtcbiAgICAgICAgdGhpcy5zZXRBbHBoYShjb2xvci5fYSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgbGlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsaWdodGVuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgYnJpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYnJpZ2h0ZW4sIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBkYXJrZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGFya2VuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZGVzYXR1cmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkZXNhdHVyYXRlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgc2F0dXJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc2F0dXJhdGUsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBncmV5c2NhbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZ3JleXNjYWxlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgc3BpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihzcGluLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICBfYXBwbHlDb21iaW5hdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbChhcmdzKSkpO1xuICAgIH0sXG4gICAgYW5hbG9nb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oYW5hbG9nb3VzLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgY29tcGxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBtb25vY2hyb21hdGljOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obW9ub2Nocm9tYXRpYywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNwbGl0Y29tcGxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHNwbGl0Y29tcGxlbWVudCwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHRyaWFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odHJpYWQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB0ZXRyYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih0ZXRyYWQsIGFyZ3VtZW50cyk7XG4gICAgfVxufTtcblxuLy8gSWYgaW5wdXQgaXMgYW4gb2JqZWN0LCBmb3JjZSAxIGludG8gXCIxLjBcIiB0byBoYW5kbGUgcmF0aW9zIHByb3Blcmx5XG4vLyBTdHJpbmcgaW5wdXQgcmVxdWlyZXMgXCIxLjBcIiBhcyBpbnB1dCwgc28gMSB3aWxsIGJlIHRyZWF0ZWQgYXMgMVxudGlueWNvbG9yLmZyb21SYXRpbyA9IGZ1bmN0aW9uKGNvbG9yLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHZhciBuZXdDb2xvciA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGNvbG9yKSB7XG4gICAgICAgICAgICBpZiAoY29sb3IuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3JbaV0gPSBjb2xvcltpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvcltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbG9yID0gbmV3Q29sb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvciwgb3B0cyk7XG59O1xuXG4vLyBHaXZlbiBhIHN0cmluZyBvciBvYmplY3QsIGNvbnZlcnQgdGhhdCBpbnB1dCB0byBSR0Jcbi8vIFBvc3NpYmxlIHN0cmluZyBpbnB1dHM6XG4vL1xuLy8gICAgIFwicmVkXCJcbi8vICAgICBcIiNmMDBcIiBvciBcImYwMFwiXG4vLyAgICAgXCIjZmYwMDAwXCIgb3IgXCJmZjAwMDBcIlxuLy8gICAgIFwiI2ZmMDAwMDAwXCIgb3IgXCJmZjAwMDAwMFwiXG4vLyAgICAgXCJyZ2IgMjU1IDAgMFwiIG9yIFwicmdiICgyNTUsIDAsIDApXCJcbi8vICAgICBcInJnYiAxLjAgMCAwXCIgb3IgXCJyZ2IgKDEsIDAsIDApXCJcbi8vICAgICBcInJnYmEgKDI1NSwgMCwgMCwgMSlcIiBvciBcInJnYmEgMjU1LCAwLCAwLCAxXCJcbi8vICAgICBcInJnYmEgKDEuMCwgMCwgMCwgMSlcIiBvciBcInJnYmEgMS4wLCAwLCAwLCAxXCJcbi8vICAgICBcImhzbCgwLCAxMDAlLCA1MCUpXCIgb3IgXCJoc2wgMCAxMDAlIDUwJVwiXG4vLyAgICAgXCJoc2xhKDAsIDEwMCUsIDUwJSwgMSlcIiBvciBcImhzbGEgMCAxMDAlIDUwJSwgMVwiXG4vLyAgICAgXCJoc3YoMCwgMTAwJSwgMTAwJSlcIiBvciBcImhzdiAwIDEwMCUgMTAwJVwiXG4vL1xuZnVuY3Rpb24gaW5wdXRUb1JHQihjb2xvcikge1xuXG4gICAgdmFyIHJnYiA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xuICAgIHZhciBhID0gMTtcbiAgICB2YXIgcyA9IG51bGw7XG4gICAgdmFyIHYgPSBudWxsO1xuICAgIHZhciBsID0gbnVsbDtcbiAgICB2YXIgb2sgPSBmYWxzZTtcbiAgICB2YXIgZm9ybWF0ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29sb3IgPSBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKGlzVmFsaWRDU1NVbml0KGNvbG9yLnIpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmcpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmIpKSB7XG4gICAgICAgICAgICByZ2IgPSByZ2JUb1JnYihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFN0cmluZyhjb2xvci5yKS5zdWJzdHIoLTEpID09PSBcIiVcIiA/IFwicHJnYlwiIDogXCJyZ2JcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5oKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5zKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci52KSkge1xuICAgICAgICAgICAgcyA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iucyk7XG4gICAgICAgICAgICB2ID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci52KTtcbiAgICAgICAgICAgIHJnYiA9IGhzdlRvUmdiKGNvbG9yLmgsIHMsIHYpO1xuICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgZm9ybWF0ID0gXCJoc3ZcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5oKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5zKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5sKSkge1xuICAgICAgICAgICAgcyA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iucyk7XG4gICAgICAgICAgICBsID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5sKTtcbiAgICAgICAgICAgIHJnYiA9IGhzbFRvUmdiKGNvbG9yLmgsIHMsIGwpO1xuICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgZm9ybWF0ID0gXCJoc2xcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2xvci5oYXNPd25Qcm9wZXJ0eShcImFcIikpIHtcbiAgICAgICAgICAgIGEgPSBjb2xvci5hO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYSA9IGJvdW5kQWxwaGEoYSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvazogb2ssXG4gICAgICAgIGZvcm1hdDogY29sb3IuZm9ybWF0IHx8IGZvcm1hdCxcbiAgICAgICAgcjogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLnIsIDApKSxcbiAgICAgICAgZzogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLmcsIDApKSxcbiAgICAgICAgYjogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLmIsIDApKSxcbiAgICAgICAgYTogYVxuICAgIH07XG59XG5cblxuLy8gQ29udmVyc2lvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIGByZ2JUb0hzbGAsIGByZ2JUb0hzdmAsIGBoc2xUb1JnYmAsIGBoc3ZUb1JnYmAgbW9kaWZpZWQgZnJvbTpcbi8vIDxodHRwOi8vbWppamFja3Nvbi5jb20vMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0PlxuXG4vLyBgcmdiVG9SZ2JgXG4vLyBIYW5kbGUgYm91bmRzIC8gcGVyY2VudGFnZSBjaGVja2luZyB0byBjb25mb3JtIHRvIENTUyBjb2xvciBzcGVjXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8+XG4vLyAqQXNzdW1lczoqIHIsIGcsIGIgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIFswLCAyNTVdXG5mdW5jdGlvbiByZ2JUb1JnYihyLCBnLCBiKXtcbiAgICByZXR1cm4ge1xuICAgICAgICByOiBib3VuZDAxKHIsIDI1NSkgKiAyNTUsXG4gICAgICAgIGc6IGJvdW5kMDEoZywgMjU1KSAqIDI1NSxcbiAgICAgICAgYjogYm91bmQwMShiLCAyNTUpICogMjU1XG4gICAgfTtcbn1cblxuLy8gYHJnYlRvSHNsYFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC5cbi8vICpBc3N1bWVzOiogciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiBbMCwgMjU1XSBvciBbMCwgMV1cbi8vICpSZXR1cm5zOiogeyBoLCBzLCBsIH0gaW4gWzAsMV1cbmZ1bmN0aW9uIHJnYlRvSHNsKHIsIGcsIGIpIHtcblxuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuXG4gICAgdmFyIG1heCA9IG1hdGhNYXgociwgZywgYiksIG1pbiA9IG1hdGhNaW4ociwgZywgYik7XG4gICAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgICBpZihtYXggPT0gbWluKSB7XG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgICAgc3dpdGNoKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBoIC89IDY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgaDogaCwgczogcywgbDogbCB9O1xufVxuXG4vLyBgaHNsVG9SZ2JgXG4vLyBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLlxuLy8gKkFzc3VtZXM6KiBoIGlzIGNvbnRhaW5lZCBpbiBbMCwgMV0gb3IgWzAsIDM2MF0gYW5kIHMgYW5kIGwgYXJlIGNvbnRhaW5lZCBbMCwgMV0gb3IgWzAsIDEwMF1cbi8vICpSZXR1cm5zOiogeyByLCBnLCBiIH0gaW4gdGhlIHNldCBbMCwgMjU1XVxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICAgIHZhciByLCBnLCBiO1xuXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKTtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIGwgPSBib3VuZDAxKGwsIDEwMCk7XG5cbiAgICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICAgICAgaWYodCA8IDApIHQgKz0gMTtcbiAgICAgICAgaWYodCA+IDEpIHQgLT0gMTtcbiAgICAgICAgaWYodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICAgIGlmKHQgPCAxLzIpIHJldHVybiBxO1xuICAgICAgICBpZih0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBpZihzID09PSAwKSB7XG4gICAgICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICAgICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcjogciAqIDI1NSwgZzogZyAqIDI1NSwgYjogYiAqIDI1NSB9O1xufVxuXG4vLyBgcmdiVG9Ic3ZgXG4vLyBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNWXG4vLyAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBvciBbMCwgMV1cbi8vICpSZXR1cm5zOiogeyBoLCBzLCB2IH0gaW4gWzAsMV1cbmZ1bmN0aW9uIHJnYlRvSHN2KHIsIGcsIGIpIHtcblxuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuXG4gICAgdmFyIG1heCA9IG1hdGhNYXgociwgZywgYiksIG1pbiA9IG1hdGhNaW4ociwgZywgYik7XG4gICAgdmFyIGgsIHMsIHYgPSBtYXg7XG5cbiAgICB2YXIgZCA9IG1heCAtIG1pbjtcbiAgICBzID0gbWF4ID09PSAwID8gMCA6IGQgLyBtYXg7XG5cbiAgICBpZihtYXggPT0gbWluKSB7XG4gICAgICAgIGggPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2gobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgfVxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIHY6IHYgfTtcbn1cblxuLy8gYGhzdlRvUmdiYFxuLy8gQ29udmVydHMgYW4gSFNWIGNvbG9yIHZhbHVlIHRvIFJHQi5cbi8vICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCB2IGFyZSBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAxMDBdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbiBmdW5jdGlvbiBoc3ZUb1JnYihoLCBzLCB2KSB7XG5cbiAgICBoID0gYm91bmQwMShoLCAzNjApICogNjtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIHYgPSBib3VuZDAxKHYsIDEwMCk7XG5cbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoaCksXG4gICAgICAgIGYgPSBoIC0gaSxcbiAgICAgICAgcCA9IHYgKiAoMSAtIHMpLFxuICAgICAgICBxID0gdiAqICgxIC0gZiAqIHMpLFxuICAgICAgICB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpLFxuICAgICAgICBtb2QgPSBpICUgNixcbiAgICAgICAgciA9IFt2LCBxLCBwLCBwLCB0LCB2XVttb2RdLFxuICAgICAgICBnID0gW3QsIHYsIHYsIHEsIHAsIHBdW21vZF0sXG4gICAgICAgIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXTtcblxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cblxuLy8gYHJnYlRvSGV4YFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHRvIGhleFxuLy8gQXNzdW1lcyByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV1cbi8vIFJldHVybnMgYSAzIG9yIDYgY2hhcmFjdGVyIGhleFxuZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYiwgYWxsb3czQ2hhcikge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKVxuICAgIF07XG5cbiAgICAvLyBSZXR1cm4gYSAzIGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3czQ2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSkge1xuICAgICAgICByZXR1cm4gaGV4WzBdLmNoYXJBdCgwKSArIGhleFsxXS5jaGFyQXQoMCkgKyBoZXhbMl0uY2hhckF0KDApO1xuICAgIH1cblxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcbn1cblxuLy8gYHJnYmFUb0hleGBcbi8vIENvbnZlcnRzIGFuIFJHQkEgY29sb3IgcGx1cyBhbHBoYSB0cmFuc3BhcmVuY3kgdG8gaGV4XG4vLyBBc3N1bWVzIHIsIGcsIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxuLy8gYSBpbiBbMCwgMV0uIFJldHVybnMgYSA0IG9yIDggY2hhcmFjdGVyIHJnYmEgaGV4XG5mdW5jdGlvbiByZ2JhVG9IZXgociwgZywgYiwgYSwgYWxsb3c0Q2hhcikge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihjb252ZXJ0RGVjaW1hbFRvSGV4KGEpKVxuICAgIF07XG5cbiAgICAvLyBSZXR1cm4gYSA0IGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3c0Q2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSAmJiBoZXhbM10uY2hhckF0KDApID09IGhleFszXS5jaGFyQXQoMSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKSArIGhleFszXS5jaGFyQXQoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xufVxuXG4vLyBgcmdiYVRvQXJnYkhleGBcbi8vIENvbnZlcnRzIGFuIFJHQkEgY29sb3IgdG8gYW4gQVJHQiBIZXg4IHN0cmluZ1xuLy8gUmFyZWx5IHVzZWQsIGJ1dCByZXF1aXJlZCBmb3IgXCJ0b0ZpbHRlcigpXCJcbmZ1bmN0aW9uIHJnYmFUb0FyZ2JIZXgociwgZywgYiwgYSkge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihjb252ZXJ0RGVjaW1hbFRvSGV4KGEpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKVxuICAgIF07XG5cbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XG59XG5cbi8vIGBlcXVhbHNgXG4vLyBDYW4gYmUgY2FsbGVkIHdpdGggYW55IHRpbnljb2xvciBpbnB1dFxudGlueWNvbG9yLmVxdWFscyA9IGZ1bmN0aW9uIChjb2xvcjEsIGNvbG9yMikge1xuICAgIGlmICghY29sb3IxIHx8ICFjb2xvcjIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcjEpLnRvUmdiU3RyaW5nKCkgPT0gdGlueWNvbG9yKGNvbG9yMikudG9SZ2JTdHJpbmcoKTtcbn07XG5cbnRpbnljb2xvci5yYW5kb20gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yLmZyb21SYXRpbyh7XG4gICAgICAgIHI6IG1hdGhSYW5kb20oKSxcbiAgICAgICAgZzogbWF0aFJhbmRvbSgpLFxuICAgICAgICBiOiBtYXRoUmFuZG9tKClcbiAgICB9KTtcbn07XG5cblxuLy8gTW9kaWZpY2F0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhhbmtzIHRvIGxlc3MuanMgZm9yIHNvbWUgb2YgdGhlIGJhc2ljcyBoZXJlXG4vLyA8aHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkaGVhZC9sZXNzLmpzL2Jsb2IvbWFzdGVyL2xpYi9sZXNzL2Z1bmN0aW9ucy5qcz5cblxuZnVuY3Rpb24gZGVzYXR1cmF0ZShjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wucyAtPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRlKGNvbG9yLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIGhzbC5zICs9IGFtb3VudCAvIDEwMDtcbiAgICBoc2wucyA9IGNsYW1wMDEoaHNsLnMpO1xuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcbn1cblxuZnVuY3Rpb24gZ3JleXNjYWxlKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGVzYXR1cmF0ZSgxMDApO1xufVxuXG5mdW5jdGlvbiBsaWdodGVuIChjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wubCArPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIGJyaWdodGVuKGNvbG9yLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcbiAgICB2YXIgcmdiID0gdGlueWNvbG9yKGNvbG9yKS50b1JnYigpO1xuICAgIHJnYi5yID0gbWF0aE1heCgwLCBtYXRoTWluKDI1NSwgcmdiLnIgLSBtYXRoUm91bmQoMjU1ICogLSAoYW1vdW50IC8gMTAwKSkpKTtcbiAgICByZ2IuZyA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5nIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgcmdiLmIgPSBtYXRoTWF4KDAsIG1hdGhNaW4oMjU1LCByZ2IuYiAtIG1hdGhSb3VuZCgyNTUgKiAtIChhbW91bnQgLyAxMDApKSkpO1xuICAgIHJldHVybiB0aW55Y29sb3IocmdiKTtcbn1cblxuZnVuY3Rpb24gZGFya2VuIChjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wubCAtPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbi8vIFNwaW4gdGFrZXMgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBhbW91bnQgd2l0aGluIFstMzYwLCAzNjBdIGluZGljYXRpbmcgdGhlIGNoYW5nZSBvZiBodWUuXG4vLyBWYWx1ZXMgb3V0c2lkZSBvZiB0aGlzIHJhbmdlIHdpbGwgYmUgd3JhcHBlZCBpbnRvIHRoaXMgcmFuZ2UuXG5mdW5jdGlvbiBzcGluKGNvbG9yLCBhbW91bnQpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBodWUgPSAoaHNsLmggKyBhbW91bnQpICUgMzYwO1xuICAgIGhzbC5oID0gaHVlIDwgMCA/IDM2MCArIGh1ZSA6IGh1ZTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbi8vIENvbWJpbmF0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGFua3MgdG8galF1ZXJ5IHhDb2xvciBmb3Igc29tZSBvZiB0aGUgaWRlYXMgYmVoaW5kIHRoZXNlXG4vLyA8aHR0cHM6Ly9naXRodWIuY29tL2luZnVzaW9uL2pRdWVyeS14Y29sb3IvYmxvYi9tYXN0ZXIvanF1ZXJ5Lnhjb2xvci5qcz5cblxuZnVuY3Rpb24gY29tcGxlbWVudChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmggPSAoaHNsLmggKyAxODApICUgMzYwO1xuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcbn1cblxuZnVuY3Rpb24gdHJpYWQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBoID0gaHNsLmg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdGlueWNvbG9yKGNvbG9yKSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAxMjApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjQwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gdGV0cmFkKGNvbG9yKSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaCA9IGhzbC5oO1xuICAgIHJldHVybiBbXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgOTApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTgwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDI3MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KVxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHNwbGl0Y29tcGxlbWVudChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIGggPSBoc2wuaDtcbiAgICByZXR1cm4gW1xuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDcyKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjE2KSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sfSlcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBhbmFsb2dvdXMoY29sb3IsIHJlc3VsdHMsIHNsaWNlcykge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XG4gICAgc2xpY2VzID0gc2xpY2VzIHx8IDMwO1xuXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgcGFydCA9IDM2MCAvIHNsaWNlcztcbiAgICB2YXIgcmV0ID0gW3Rpbnljb2xvcihjb2xvcildO1xuXG4gICAgZm9yIChoc2wuaCA9ICgoaHNsLmggLSAocGFydCAqIHJlc3VsdHMgPj4gMSkpICsgNzIwKSAlIDM2MDsgLS1yZXN1bHRzOyApIHtcbiAgICAgICAgaHNsLmggPSAoaHNsLmggKyBwYXJ0KSAlIDM2MDtcbiAgICAgICAgcmV0LnB1c2godGlueWNvbG9yKGhzbCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtb25vY2hyb21hdGljKGNvbG9yLCByZXN1bHRzKSB7XG4gICAgcmVzdWx0cyA9IHJlc3VsdHMgfHwgNjtcbiAgICB2YXIgaHN2ID0gdGlueWNvbG9yKGNvbG9yKS50b0hzdigpO1xuICAgIHZhciBoID0gaHN2LmgsIHMgPSBoc3YucywgdiA9IGhzdi52O1xuICAgIHZhciByZXQgPSBbXTtcbiAgICB2YXIgbW9kaWZpY2F0aW9uID0gMSAvIHJlc3VsdHM7XG5cbiAgICB3aGlsZSAocmVzdWx0cy0tKSB7XG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcih7IGg6IGgsIHM6IHMsIHY6IHZ9KSk7XG4gICAgICAgIHYgPSAodiArIG1vZGlmaWNhdGlvbikgJSAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbi8vIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudGlueWNvbG9yLm1peCA9IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDUwKTtcblxuICAgIHZhciByZ2IxID0gdGlueWNvbG9yKGNvbG9yMSkudG9SZ2IoKTtcbiAgICB2YXIgcmdiMiA9IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiKCk7XG5cbiAgICB2YXIgcCA9IGFtb3VudCAvIDEwMDtcblxuICAgIHZhciByZ2JhID0ge1xuICAgICAgICByOiAoKHJnYjIuciAtIHJnYjEucikgKiBwKSArIHJnYjEucixcbiAgICAgICAgZzogKChyZ2IyLmcgLSByZ2IxLmcpICogcCkgKyByZ2IxLmcsXG4gICAgICAgIGI6ICgocmdiMi5iIC0gcmdiMS5iKSAqIHApICsgcmdiMS5iLFxuICAgICAgICBhOiAoKHJnYjIuYSAtIHJnYjEuYSkgKiBwKSArIHJnYjEuYVxuICAgIH07XG5cbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYmEpO1xufTtcblxuXG4vLyBSZWFkYWJpbGl0eSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jY29udHJhc3QtcmF0aW9kZWYgKFdDQUcgVmVyc2lvbiAyKVxuXG4vLyBgY29udHJhc3RgXG4vLyBBbmFseXplIHRoZSAyIGNvbG9ycyBhbmQgcmV0dXJucyB0aGUgY29sb3IgY29udHJhc3QgZGVmaW5lZCBieSAoV0NBRyBWZXJzaW9uIDIpXG50aW55Y29sb3IucmVhZGFiaWxpdHkgPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuICAgIHZhciBjMSA9IHRpbnljb2xvcihjb2xvcjEpO1xuICAgIHZhciBjMiA9IHRpbnljb2xvcihjb2xvcjIpO1xuICAgIHJldHVybiAoTWF0aC5tYXgoYzEuZ2V0THVtaW5hbmNlKCksYzIuZ2V0THVtaW5hbmNlKCkpKzAuMDUpIC8gKE1hdGgubWluKGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KTtcbn07XG5cbi8vIGBpc1JlYWRhYmxlYFxuLy8gRW5zdXJlIHRoYXQgZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvciBjb21iaW5hdGlvbnMgbWVldCBXQ0FHMiBndWlkZWxpbmVzLlxuLy8gVGhlIHRoaXJkIGFyZ3VtZW50IGlzIGFuIG9wdGlvbmFsIE9iamVjdC5cbi8vICAgICAgdGhlICdsZXZlbCcgcHJvcGVydHkgc3RhdGVzICdBQScgb3IgJ0FBQScgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdBQSc7XG4vLyAgICAgIHRoZSAnc2l6ZScgcHJvcGVydHkgc3RhdGVzICdsYXJnZScgb3IgJ3NtYWxsJyAtIGlmIG1pc3Npbmcgb3IgaW52YWxpZCwgaXQgZGVmYXVsdHMgdG8gJ3NtYWxsJy5cbi8vIElmIHRoZSBlbnRpcmUgb2JqZWN0IGlzIGFic2VudCwgaXNSZWFkYWJsZSBkZWZhdWx0cyB0byB7bGV2ZWw6XCJBQVwiLHNpemU6XCJzbWFsbFwifS5cblxuLy8gKkV4YW1wbGUqXG4vLyAgICB0aW55Y29sb3IuaXNSZWFkYWJsZShcIiMwMDBcIiwgXCIjMTExXCIpID0+IGZhbHNlXG4vLyAgICB0aW55Y29sb3IuaXNSZWFkYWJsZShcIiMwMDBcIiwgXCIjMTExXCIse2xldmVsOlwiQUFcIixzaXplOlwibGFyZ2VcIn0pID0+IGZhbHNlXG50aW55Y29sb3IuaXNSZWFkYWJsZSA9IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCB3Y2FnMikge1xuICAgIHZhciByZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eShjb2xvcjEsIGNvbG9yMik7XG4gICAgdmFyIHdjYWcyUGFybXMsIG91dDtcblxuICAgIG91dCA9IGZhbHNlO1xuXG4gICAgd2NhZzJQYXJtcyA9IHZhbGlkYXRlV0NBRzJQYXJtcyh3Y2FnMik7XG4gICAgc3dpdGNoICh3Y2FnMlBhcm1zLmxldmVsICsgd2NhZzJQYXJtcy5zaXplKSB7XG4gICAgICAgIGNhc2UgXCJBQXNtYWxsXCI6XG4gICAgICAgIGNhc2UgXCJBQUFsYXJnZVwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gNC41O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBQWxhcmdlXCI6XG4gICAgICAgICAgICBvdXQgPSByZWFkYWJpbGl0eSA+PSAzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBQUFzbWFsbFwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuXG59O1xuXG4vLyBgbW9zdFJlYWRhYmxlYFxuLy8gR2l2ZW4gYSBiYXNlIGNvbG9yIGFuZCBhIGxpc3Qgb2YgcG9zc2libGUgZm9yZWdyb3VuZCBvciBiYWNrZ3JvdW5kXG4vLyBjb2xvcnMgZm9yIHRoYXQgYmFzZSwgcmV0dXJucyB0aGUgbW9zdCByZWFkYWJsZSBjb2xvci5cbi8vIE9wdGlvbmFsbHkgcmV0dXJucyBCbGFjayBvciBXaGl0ZSBpZiB0aGUgbW9zdCByZWFkYWJsZSBjb2xvciBpcyB1bnJlYWRhYmxlLlxuLy8gKkV4YW1wbGUqXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjMTIzXCIsIFtcIiMxMjRcIiwgXCIjMTI1XCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6ZmFsc2V9KS50b0hleFN0cmluZygpOyAvLyBcIiMxMTIyNTVcIlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZSh0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiIzEyM1wiLCBbXCIjMTI0XCIsIFwiIzEyNVwiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOnRydWV9KS50b0hleFN0cmluZygpOyAgLy8gXCIjZmZmZmZmXCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcImxhcmdlXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmYWYzZjNcIlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiNhODAxNWFcIiwgW1wiI2ZhZjNmM1wiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOnRydWUsbGV2ZWw6XCJBQUFcIixzaXplOlwic21hbGxcIn0pLnRvSGV4U3RyaW5nKCk7IC8vIFwiI2ZmZmZmZlwiXG50aW55Y29sb3IubW9zdFJlYWRhYmxlID0gZnVuY3Rpb24oYmFzZUNvbG9yLCBjb2xvckxpc3QsIGFyZ3MpIHtcbiAgICB2YXIgYmVzdENvbG9yID0gbnVsbDtcbiAgICB2YXIgYmVzdFNjb3JlID0gMDtcbiAgICB2YXIgcmVhZGFiaWxpdHk7XG4gICAgdmFyIGluY2x1ZGVGYWxsYmFja0NvbG9ycywgbGV2ZWwsIHNpemUgO1xuICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xuICAgIGluY2x1ZGVGYWxsYmFja0NvbG9ycyA9IGFyZ3MuaW5jbHVkZUZhbGxiYWNrQ29sb3JzIDtcbiAgICBsZXZlbCA9IGFyZ3MubGV2ZWw7XG4gICAgc2l6ZSA9IGFyZ3Muc2l6ZTtcblxuICAgIGZvciAodmFyIGk9IDA7IGkgPCBjb2xvckxpc3QubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgIHJlYWRhYmlsaXR5ID0gdGlueWNvbG9yLnJlYWRhYmlsaXR5KGJhc2VDb2xvciwgY29sb3JMaXN0W2ldKTtcbiAgICAgICAgaWYgKHJlYWRhYmlsaXR5ID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICBiZXN0U2NvcmUgPSByZWFkYWJpbGl0eTtcbiAgICAgICAgICAgIGJlc3RDb2xvciA9IHRpbnljb2xvcihjb2xvckxpc3RbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbnljb2xvci5pc1JlYWRhYmxlKGJhc2VDb2xvciwgYmVzdENvbG9yLCB7XCJsZXZlbFwiOmxldmVsLFwic2l6ZVwiOnNpemV9KSB8fCAhaW5jbHVkZUZhbGxiYWNrQ29sb3JzKSB7XG4gICAgICAgIHJldHVybiBiZXN0Q29sb3I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycz1mYWxzZTtcbiAgICAgICAgcmV0dXJuIHRpbnljb2xvci5tb3N0UmVhZGFibGUoYmFzZUNvbG9yLFtcIiNmZmZcIiwgXCIjMDAwXCJdLGFyZ3MpO1xuICAgIH1cbn07XG5cblxuLy8gQmlnIExpc3Qgb2YgQ29sb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3I+XG52YXIgbmFtZXMgPSB0aW55Y29sb3IubmFtZXMgPSB7XG4gICAgYWxpY2VibHVlOiBcImYwZjhmZlwiLFxuICAgIGFudGlxdWV3aGl0ZTogXCJmYWViZDdcIixcbiAgICBhcXVhOiBcIjBmZlwiLFxuICAgIGFxdWFtYXJpbmU6IFwiN2ZmZmQ0XCIsXG4gICAgYXp1cmU6IFwiZjBmZmZmXCIsXG4gICAgYmVpZ2U6IFwiZjVmNWRjXCIsXG4gICAgYmlzcXVlOiBcImZmZTRjNFwiLFxuICAgIGJsYWNrOiBcIjAwMFwiLFxuICAgIGJsYW5jaGVkYWxtb25kOiBcImZmZWJjZFwiLFxuICAgIGJsdWU6IFwiMDBmXCIsXG4gICAgYmx1ZXZpb2xldDogXCI4YTJiZTJcIixcbiAgICBicm93bjogXCJhNTJhMmFcIixcbiAgICBidXJseXdvb2Q6IFwiZGViODg3XCIsXG4gICAgYnVybnRzaWVubmE6IFwiZWE3ZTVkXCIsXG4gICAgY2FkZXRibHVlOiBcIjVmOWVhMFwiLFxuICAgIGNoYXJ0cmV1c2U6IFwiN2ZmZjAwXCIsXG4gICAgY2hvY29sYXRlOiBcImQyNjkxZVwiLFxuICAgIGNvcmFsOiBcImZmN2Y1MFwiLFxuICAgIGNvcm5mbG93ZXJibHVlOiBcIjY0OTVlZFwiLFxuICAgIGNvcm5zaWxrOiBcImZmZjhkY1wiLFxuICAgIGNyaW1zb246IFwiZGMxNDNjXCIsXG4gICAgY3lhbjogXCIwZmZcIixcbiAgICBkYXJrYmx1ZTogXCIwMDAwOGJcIixcbiAgICBkYXJrY3lhbjogXCIwMDhiOGJcIixcbiAgICBkYXJrZ29sZGVucm9kOiBcImI4ODYwYlwiLFxuICAgIGRhcmtncmF5OiBcImE5YTlhOVwiLFxuICAgIGRhcmtncmVlbjogXCIwMDY0MDBcIixcbiAgICBkYXJrZ3JleTogXCJhOWE5YTlcIixcbiAgICBkYXJra2hha2k6IFwiYmRiNzZiXCIsXG4gICAgZGFya21hZ2VudGE6IFwiOGIwMDhiXCIsXG4gICAgZGFya29saXZlZ3JlZW46IFwiNTU2YjJmXCIsXG4gICAgZGFya29yYW5nZTogXCJmZjhjMDBcIixcbiAgICBkYXJrb3JjaGlkOiBcIjk5MzJjY1wiLFxuICAgIGRhcmtyZWQ6IFwiOGIwMDAwXCIsXG4gICAgZGFya3NhbG1vbjogXCJlOTk2N2FcIixcbiAgICBkYXJrc2VhZ3JlZW46IFwiOGZiYzhmXCIsXG4gICAgZGFya3NsYXRlYmx1ZTogXCI0ODNkOGJcIixcbiAgICBkYXJrc2xhdGVncmF5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmtzbGF0ZWdyZXk6IFwiMmY0ZjRmXCIsXG4gICAgZGFya3R1cnF1b2lzZTogXCIwMGNlZDFcIixcbiAgICBkYXJrdmlvbGV0OiBcIjk0MDBkM1wiLFxuICAgIGRlZXBwaW5rOiBcImZmMTQ5M1wiLFxuICAgIGRlZXBza3libHVlOiBcIjAwYmZmZlwiLFxuICAgIGRpbWdyYXk6IFwiNjk2OTY5XCIsXG4gICAgZGltZ3JleTogXCI2OTY5NjlcIixcbiAgICBkb2RnZXJibHVlOiBcIjFlOTBmZlwiLFxuICAgIGZpcmVicmljazogXCJiMjIyMjJcIixcbiAgICBmbG9yYWx3aGl0ZTogXCJmZmZhZjBcIixcbiAgICBmb3Jlc3RncmVlbjogXCIyMjhiMjJcIixcbiAgICBmdWNoc2lhOiBcImYwZlwiLFxuICAgIGdhaW5zYm9ybzogXCJkY2RjZGNcIixcbiAgICBnaG9zdHdoaXRlOiBcImY4ZjhmZlwiLFxuICAgIGdvbGQ6IFwiZmZkNzAwXCIsXG4gICAgZ29sZGVucm9kOiBcImRhYTUyMFwiLFxuICAgIGdyYXk6IFwiODA4MDgwXCIsXG4gICAgZ3JlZW46IFwiMDA4MDAwXCIsXG4gICAgZ3JlZW55ZWxsb3c6IFwiYWRmZjJmXCIsXG4gICAgZ3JleTogXCI4MDgwODBcIixcbiAgICBob25leWRldzogXCJmMGZmZjBcIixcbiAgICBob3RwaW5rOiBcImZmNjliNFwiLFxuICAgIGluZGlhbnJlZDogXCJjZDVjNWNcIixcbiAgICBpbmRpZ286IFwiNGIwMDgyXCIsXG4gICAgaXZvcnk6IFwiZmZmZmYwXCIsXG4gICAga2hha2k6IFwiZjBlNjhjXCIsXG4gICAgbGF2ZW5kZXI6IFwiZTZlNmZhXCIsXG4gICAgbGF2ZW5kZXJibHVzaDogXCJmZmYwZjVcIixcbiAgICBsYXduZ3JlZW46IFwiN2NmYzAwXCIsXG4gICAgbGVtb25jaGlmZm9uOiBcImZmZmFjZFwiLFxuICAgIGxpZ2h0Ymx1ZTogXCJhZGQ4ZTZcIixcbiAgICBsaWdodGNvcmFsOiBcImYwODA4MFwiLFxuICAgIGxpZ2h0Y3lhbjogXCJlMGZmZmZcIixcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogXCJmYWZhZDJcIixcbiAgICBsaWdodGdyYXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRncmVlbjogXCI5MGVlOTBcIixcbiAgICBsaWdodGdyZXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRwaW5rOiBcImZmYjZjMVwiLFxuICAgIGxpZ2h0c2FsbW9uOiBcImZmYTA3YVwiLFxuICAgIGxpZ2h0c2VhZ3JlZW46IFwiMjBiMmFhXCIsXG4gICAgbGlnaHRza3libHVlOiBcIjg3Y2VmYVwiLFxuICAgIGxpZ2h0c2xhdGVncmF5OiBcIjc4OVwiLFxuICAgIGxpZ2h0c2xhdGVncmV5OiBcIjc4OVwiLFxuICAgIGxpZ2h0c3RlZWxibHVlOiBcImIwYzRkZVwiLFxuICAgIGxpZ2h0eWVsbG93OiBcImZmZmZlMFwiLFxuICAgIGxpbWU6IFwiMGYwXCIsXG4gICAgbGltZWdyZWVuOiBcIjMyY2QzMlwiLFxuICAgIGxpbmVuOiBcImZhZjBlNlwiLFxuICAgIG1hZ2VudGE6IFwiZjBmXCIsXG4gICAgbWFyb29uOiBcIjgwMDAwMFwiLFxuICAgIG1lZGl1bWFxdWFtYXJpbmU6IFwiNjZjZGFhXCIsXG4gICAgbWVkaXVtYmx1ZTogXCIwMDAwY2RcIixcbiAgICBtZWRpdW1vcmNoaWQ6IFwiYmE1NWQzXCIsXG4gICAgbWVkaXVtcHVycGxlOiBcIjkzNzBkYlwiLFxuICAgIG1lZGl1bXNlYWdyZWVuOiBcIjNjYjM3MVwiLFxuICAgIG1lZGl1bXNsYXRlYmx1ZTogXCI3YjY4ZWVcIixcbiAgICBtZWRpdW1zcHJpbmdncmVlbjogXCIwMGZhOWFcIixcbiAgICBtZWRpdW10dXJxdW9pc2U6IFwiNDhkMWNjXCIsXG4gICAgbWVkaXVtdmlvbGV0cmVkOiBcImM3MTU4NVwiLFxuICAgIG1pZG5pZ2h0Ymx1ZTogXCIxOTE5NzBcIixcbiAgICBtaW50Y3JlYW06IFwiZjVmZmZhXCIsXG4gICAgbWlzdHlyb3NlOiBcImZmZTRlMVwiLFxuICAgIG1vY2Nhc2luOiBcImZmZTRiNVwiLFxuICAgIG5hdmFqb3doaXRlOiBcImZmZGVhZFwiLFxuICAgIG5hdnk6IFwiMDAwMDgwXCIsXG4gICAgb2xkbGFjZTogXCJmZGY1ZTZcIixcbiAgICBvbGl2ZTogXCI4MDgwMDBcIixcbiAgICBvbGl2ZWRyYWI6IFwiNmI4ZTIzXCIsXG4gICAgb3JhbmdlOiBcImZmYTUwMFwiLFxuICAgIG9yYW5nZXJlZDogXCJmZjQ1MDBcIixcbiAgICBvcmNoaWQ6IFwiZGE3MGQ2XCIsXG4gICAgcGFsZWdvbGRlbnJvZDogXCJlZWU4YWFcIixcbiAgICBwYWxlZ3JlZW46IFwiOThmYjk4XCIsXG4gICAgcGFsZXR1cnF1b2lzZTogXCJhZmVlZWVcIixcbiAgICBwYWxldmlvbGV0cmVkOiBcImRiNzA5M1wiLFxuICAgIHBhcGF5YXdoaXA6IFwiZmZlZmQ1XCIsXG4gICAgcGVhY2hwdWZmOiBcImZmZGFiOVwiLFxuICAgIHBlcnU6IFwiY2Q4NTNmXCIsXG4gICAgcGluazogXCJmZmMwY2JcIixcbiAgICBwbHVtOiBcImRkYTBkZFwiLFxuICAgIHBvd2RlcmJsdWU6IFwiYjBlMGU2XCIsXG4gICAgcHVycGxlOiBcIjgwMDA4MFwiLFxuICAgIHJlYmVjY2FwdXJwbGU6IFwiNjYzMzk5XCIsXG4gICAgcmVkOiBcImYwMFwiLFxuICAgIHJvc3licm93bjogXCJiYzhmOGZcIixcbiAgICByb3lhbGJsdWU6IFwiNDE2OWUxXCIsXG4gICAgc2FkZGxlYnJvd246IFwiOGI0NTEzXCIsXG4gICAgc2FsbW9uOiBcImZhODA3MlwiLFxuICAgIHNhbmR5YnJvd246IFwiZjRhNDYwXCIsXG4gICAgc2VhZ3JlZW46IFwiMmU4YjU3XCIsXG4gICAgc2Vhc2hlbGw6IFwiZmZmNWVlXCIsXG4gICAgc2llbm5hOiBcImEwNTIyZFwiLFxuICAgIHNpbHZlcjogXCJjMGMwYzBcIixcbiAgICBza3libHVlOiBcIjg3Y2VlYlwiLFxuICAgIHNsYXRlYmx1ZTogXCI2YTVhY2RcIixcbiAgICBzbGF0ZWdyYXk6IFwiNzA4MDkwXCIsXG4gICAgc2xhdGVncmV5OiBcIjcwODA5MFwiLFxuICAgIHNub3c6IFwiZmZmYWZhXCIsXG4gICAgc3ByaW5nZ3JlZW46IFwiMDBmZjdmXCIsXG4gICAgc3RlZWxibHVlOiBcIjQ2ODJiNFwiLFxuICAgIHRhbjogXCJkMmI0OGNcIixcbiAgICB0ZWFsOiBcIjAwODA4MFwiLFxuICAgIHRoaXN0bGU6IFwiZDhiZmQ4XCIsXG4gICAgdG9tYXRvOiBcImZmNjM0N1wiLFxuICAgIHR1cnF1b2lzZTogXCI0MGUwZDBcIixcbiAgICB2aW9sZXQ6IFwiZWU4MmVlXCIsXG4gICAgd2hlYXQ6IFwiZjVkZWIzXCIsXG4gICAgd2hpdGU6IFwiZmZmXCIsXG4gICAgd2hpdGVzbW9rZTogXCJmNWY1ZjVcIixcbiAgICB5ZWxsb3c6IFwiZmYwXCIsXG4gICAgeWVsbG93Z3JlZW46IFwiOWFjZDMyXCJcbn07XG5cbi8vIE1ha2UgaXQgZWFzeSB0byBhY2Nlc3MgY29sb3JzIHZpYSBgaGV4TmFtZXNbaGV4XWBcbnZhciBoZXhOYW1lcyA9IHRpbnljb2xvci5oZXhOYW1lcyA9IGZsaXAobmFtZXMpO1xuXG5cbi8vIFV0aWxpdGllc1xuLy8gLS0tLS0tLS0tXG5cbi8vIGB7ICduYW1lMSc6ICd2YWwxJyB9YCBiZWNvbWVzIGB7ICd2YWwxJzogJ25hbWUxJyB9YFxuZnVuY3Rpb24gZmxpcChvKSB7XG4gICAgdmFyIGZsaXBwZWQgPSB7IH07XG4gICAgZm9yICh2YXIgaSBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBmbGlwcGVkW29baV1dID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmxpcHBlZDtcbn1cblxuLy8gUmV0dXJuIGEgdmFsaWQgYWxwaGEgdmFsdWUgWzAsMV0gd2l0aCBhbGwgaW52YWxpZCB2YWx1ZXMgYmVpbmcgc2V0IHRvIDFcbmZ1bmN0aW9uIGJvdW5kQWxwaGEoYSkge1xuICAgIGEgPSBwYXJzZUZsb2F0KGEpO1xuXG4gICAgaWYgKGlzTmFOKGEpIHx8IGEgPCAwIHx8IGEgPiAxKSB7XG4gICAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG4vLyBUYWtlIGlucHV0IGZyb20gWzAsIG5dIGFuZCByZXR1cm4gaXQgYXMgWzAsIDFdXG5mdW5jdGlvbiBib3VuZDAxKG4sIG1heCkge1xuICAgIGlmIChpc09uZVBvaW50WmVybyhuKSkgeyBuID0gXCIxMDAlXCI7IH1cblxuICAgIHZhciBwcm9jZXNzUGVyY2VudCA9IGlzUGVyY2VudGFnZShuKTtcbiAgICBuID0gbWF0aE1pbihtYXgsIG1hdGhNYXgoMCwgcGFyc2VGbG9hdChuKSkpO1xuXG4gICAgLy8gQXV0b21hdGljYWxseSBjb252ZXJ0IHBlcmNlbnRhZ2UgaW50byBudW1iZXJcbiAgICBpZiAocHJvY2Vzc1BlcmNlbnQpIHtcbiAgICAgICAgbiA9IHBhcnNlSW50KG4gKiBtYXgsIDEwKSAvIDEwMDtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzXG4gICAgaWYgKChNYXRoLmFicyhuIC0gbWF4KSA8IDAuMDAwMDAxKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGludG8gWzAsIDFdIHJhbmdlIGlmIGl0IGlzbid0IGFscmVhZHlcbiAgICByZXR1cm4gKG4gJSBtYXgpIC8gcGFyc2VGbG9hdChtYXgpO1xufVxuXG4vLyBGb3JjZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbmZ1bmN0aW9uIGNsYW1wMDEodmFsKSB7XG4gICAgcmV0dXJuIG1hdGhNaW4oMSwgbWF0aE1heCgwLCB2YWwpKTtcbn1cblxuLy8gUGFyc2UgYSBiYXNlLTE2IGhleCB2YWx1ZSBpbnRvIGEgYmFzZS0xMCBpbnRlZ2VyXG5mdW5jdGlvbiBwYXJzZUludEZyb21IZXgodmFsKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTYpO1xufVxuXG4vLyBOZWVkIHRvIGhhbmRsZSAxLjAgYXMgMTAwJSwgc2luY2Ugb25jZSBpdCBpcyBhIG51bWJlciwgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIGl0IGFuZCAxXG4vLyA8aHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDIyMDcyL2phdmFzY3JpcHQtaG93LXRvLWRldGVjdC1udW1iZXItYXMtYS1kZWNpbWFsLWluY2x1ZGluZy0xLTA+XG5mdW5jdGlvbiBpc09uZVBvaW50WmVybyhuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKCcuJykgIT0gLTEgJiYgcGFyc2VGbG9hdChuKSA9PT0gMTtcbn1cblxuLy8gQ2hlY2sgdG8gc2VlIGlmIHN0cmluZyBwYXNzZWQgaW4gaXMgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBpc1BlcmNlbnRhZ2Uobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoJyUnKSAhPSAtMTtcbn1cblxuLy8gRm9yY2UgYSBoZXggdmFsdWUgdG8gaGF2ZSAyIGNoYXJhY3RlcnNcbmZ1bmN0aW9uIHBhZDIoYykge1xuICAgIHJldHVybiBjLmxlbmd0aCA9PSAxID8gJzAnICsgYyA6ICcnICsgYztcbn1cblxuLy8gUmVwbGFjZSBhIGRlY2ltYWwgd2l0aCBpdCdzIHBlcmNlbnRhZ2UgdmFsdWVcbmZ1bmN0aW9uIGNvbnZlcnRUb1BlcmNlbnRhZ2Uobikge1xuICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgbiA9IChuICogMTAwKSArIFwiJVwiO1xuICAgIH1cblxuICAgIHJldHVybiBuO1xufVxuXG4vLyBDb252ZXJ0cyBhIGRlY2ltYWwgdG8gYSBoZXggdmFsdWVcbmZ1bmN0aW9uIGNvbnZlcnREZWNpbWFsVG9IZXgoZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZCkgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbn1cbi8vIENvbnZlcnRzIGEgaGV4IHZhbHVlIHRvIGEgZGVjaW1hbFxuZnVuY3Rpb24gY29udmVydEhleFRvRGVjaW1hbChoKSB7XG4gICAgcmV0dXJuIChwYXJzZUludEZyb21IZXgoaCkgLyAyNTUpO1xufVxuXG52YXIgbWF0Y2hlcnMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI2ludGVnZXJzPlxuICAgIHZhciBDU1NfSU5URUdFUiA9IFwiWy1cXFxcK10/XFxcXGQrJT9cIjtcblxuICAgIC8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXZhbHVlcy8jbnVtYmVyLXZhbHVlPlxuICAgIHZhciBDU1NfTlVNQkVSID0gXCJbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/XCI7XG5cbiAgICAvLyBBbGxvdyBwb3NpdGl2ZS9uZWdhdGl2ZSBpbnRlZ2VyL251bWJlci4gIERvbid0IGNhcHR1cmUgdGhlIGVpdGhlci9vciwganVzdCB0aGUgZW50aXJlIG91dGNvbWUuXG4gICAgdmFyIENTU19VTklUID0gXCIoPzpcIiArIENTU19OVU1CRVIgKyBcIil8KD86XCIgKyBDU1NfSU5URUdFUiArIFwiKVwiO1xuXG4gICAgLy8gQWN0dWFsIG1hdGNoaW5nLlxuICAgIC8vIFBhcmVudGhlc2VzIGFuZCBjb21tYXMgYXJlIG9wdGlvbmFsLCBidXQgbm90IHJlcXVpcmVkLlxuICAgIC8vIFdoaXRlc3BhY2UgY2FuIHRha2UgdGhlIHBsYWNlIG9mIGNvbW1hcyBvciBvcGVuaW5nIHBhcmVuXG4gICAgdmFyIFBFUk1JU1NJVkVfTUFUQ0gzID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG4gICAgdmFyIFBFUk1JU1NJVkVfTUFUQ0g0ID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBDU1NfVU5JVDogbmV3IFJlZ0V4cChDU1NfVU5JVCksXG4gICAgICAgIHJnYjogbmV3IFJlZ0V4cChcInJnYlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgICAgICByZ2JhOiBuZXcgUmVnRXhwKFwicmdiYVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgICBoc2w6IG5ldyBSZWdFeHAoXCJoc2xcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICAgICAgaHNsYTogbmV3IFJlZ0V4cChcImhzbGFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICAgICAgaHN2OiBuZXcgUmVnRXhwKFwiaHN2XCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICAgIGhzdmE6IG5ldyBSZWdFeHAoXCJoc3ZhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgICAgIGhleDM6IC9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgICAgaGV4NjogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLFxuICAgICAgICBoZXg0OiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgICAgICBoZXg4OiAvXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvXG4gICAgfTtcbn0pKCk7XG5cbi8vIGBpc1ZhbGlkQ1NTVW5pdGBcbi8vIFRha2UgaW4gYSBzaW5nbGUgc3RyaW5nIC8gbnVtYmVyIGFuZCBjaGVjayB0byBzZWUgaWYgaXQgbG9va3MgbGlrZSBhIENTUyB1bml0XG4vLyAoc2VlIGBtYXRjaGVyc2AgYWJvdmUgZm9yIGRlZmluaXRpb24pLlxuZnVuY3Rpb24gaXNWYWxpZENTU1VuaXQoY29sb3IpIHtcbiAgICByZXR1cm4gISFtYXRjaGVycy5DU1NfVU5JVC5leGVjKGNvbG9yKTtcbn1cblxuLy8gYHN0cmluZ0lucHV0VG9PYmplY3RgXG4vLyBQZXJtaXNzaXZlIHN0cmluZyBwYXJzaW5nLiAgVGFrZSBpbiBhIG51bWJlciBvZiBmb3JtYXRzLCBhbmQgb3V0cHV0IGFuIG9iamVjdFxuLy8gYmFzZWQgb24gZGV0ZWN0ZWQgZm9ybWF0LiAgUmV0dXJucyBgeyByLCBnLCBiIH1gIG9yIGB7IGgsIHMsIGwgfWAgb3IgYHsgaCwgcywgdn1gXG5mdW5jdGlvbiBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XG5cbiAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UodHJpbUxlZnQsJycpLnJlcGxhY2UodHJpbVJpZ2h0LCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgbmFtZWQgPSBmYWxzZTtcbiAgICBpZiAobmFtZXNbY29sb3JdKSB7XG4gICAgICAgIGNvbG9yID0gbmFtZXNbY29sb3JdO1xuICAgICAgICBuYW1lZCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbG9yID09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCwgZm9ybWF0OiBcIm5hbWVcIiB9O1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBtYXRjaCBzdHJpbmcgaW5wdXQgdXNpbmcgcmVndWxhciBleHByZXNzaW9ucy5cbiAgICAvLyBLZWVwIG1vc3Qgb2YgdGhlIG51bWJlciBib3VuZGluZyBvdXQgb2YgdGhpcyBmdW5jdGlvbiAtIGRvbid0IHdvcnJ5IGFib3V0IFswLDFdIG9yIFswLDEwMF0gb3IgWzAsMzYwXVxuICAgIC8vIEp1c3QgcmV0dXJuIGFuIG9iamVjdCBhbmQgbGV0IHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBoYW5kbGUgdGhhdC5cbiAgICAvLyBUaGlzIHdheSB0aGUgcmVzdWx0IHdpbGwgYmUgdGhlIHNhbWUgd2hldGhlciB0aGUgdGlueWNvbG9yIGlzIGluaXRpYWxpemVkIHdpdGggc3RyaW5nIG9yIG9iamVjdC5cbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYi5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMucmdiYS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbC5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaHNsYS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdi5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaHN2YS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDguZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdKSxcbiAgICAgICAgICAgIGI6IHBhcnNlSW50RnJvbUhleChtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4OFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg2LmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4NC5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgJycgKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0gKyAnJyArIG1hdGNoWzRdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4OFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXgzLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdICsgJycgKyBtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0gKyAnJyArIG1hdGNoWzJdKSxcbiAgICAgICAgICAgIGI6IHBhcnNlSW50RnJvbUhleChtYXRjaFszXSArICcnICsgbWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXhcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXQ0FHMlBhcm1zKHBhcm1zKSB7XG4gICAgLy8gcmV0dXJuIHZhbGlkIFdDQUcyIHBhcm1zIGZvciBpc1JlYWRhYmxlLlxuICAgIC8vIElmIGlucHV0IHBhcm1zIGFyZSBpbnZhbGlkLCByZXR1cm4ge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn1cbiAgICB2YXIgbGV2ZWwsIHNpemU7XG4gICAgcGFybXMgPSBwYXJtcyB8fCB7XCJsZXZlbFwiOlwiQUFcIiwgXCJzaXplXCI6XCJzbWFsbFwifTtcbiAgICBsZXZlbCA9IChwYXJtcy5sZXZlbCB8fCBcIkFBXCIpLnRvVXBwZXJDYXNlKCk7XG4gICAgc2l6ZSA9IChwYXJtcy5zaXplIHx8IFwic21hbGxcIikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobGV2ZWwgIT09IFwiQUFcIiAmJiBsZXZlbCAhPT0gXCJBQUFcIikge1xuICAgICAgICBsZXZlbCA9IFwiQUFcIjtcbiAgICB9XG4gICAgaWYgKHNpemUgIT09IFwic21hbGxcIiAmJiBzaXplICE9PSBcImxhcmdlXCIpIHtcbiAgICAgICAgc2l6ZSA9IFwic21hbGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcImxldmVsXCI6bGV2ZWwsIFwic2l6ZVwiOnNpemV9O1xufVxuXG4vLyBOb2RlOiBFeHBvcnQgZnVuY3Rpb25cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB0aW55Y29sb3I7XG59XG4vLyBBTUQvcmVxdWlyZWpzOiBEZWZpbmUgdGhlIG1vZHVsZVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtyZXR1cm4gdGlueWNvbG9yO30pO1xufVxuLy8gQnJvd3NlcjogRXhwb3NlIHRvIHdpbmRvd1xuZWxzZSB7XG4gICAgd2luZG93LnRpbnljb2xvciA9IHRpbnljb2xvcjtcbn1cblxufSkoTWF0aCk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9NYXBNYWdpY0dMJztcblxuLyoqXG4gKiBBIGBMb2dvQ29udHJvbGAgaXMgYSBjb250cm9sIHRoYXQgYWRkcyB0aGUgTWFwYm94IHdhdGVybWFya1xuICogdG8gdGhlIG1hcCBhcyByZXF1aXJlZCBieSB0aGUgW3Rlcm1zIG9mIHNlcnZpY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vdG9zLykgZm9yIE1hcGJveFxuICogdmVjdG9yIHRpbGVzIGFuZCBjb3JlIHN0eWxlcy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcHJpdmF0ZVxuKiovXG5cbmNsYXNzIExvZ29Db250cm9sIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgYmluZEFsbChbJ191cGRhdGVMb2dvJ10sIHRoaXMpO1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZUNvbXBhY3QnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCcpO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBET00uY3JlYXRlKCdhJywgJ21hcG1hZ2ljLWN0cmwtbG9nbycpO1xuICAgICAgICBhbmNob3IudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgYW5jaG9yLmhyZWYgPSBcImh0dHBzOi8vd3d3Lm1hcG1hZ2ljLmNvLnRoL1wiO1xuICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIk1hcE1hZ2ljIExvZ29cIik7XG4gICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJub29wZW5lclwiKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGFuY2hvcik7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29tcGFjdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1sZWZ0JztcbiAgICB9XG5cbiAgICBfdXBkYXRlTG9nbyhlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFlIHx8IGUuc291cmNlRGF0YVR5cGUgPT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fbG9nb1JlcXVpcmVkKCkgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvZ29SZXF1aXJlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuc3R5bGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSB0aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UubWFwYm94X2xvZ28pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ29tcGFjdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyQ2hpbGRyZW4gPSB0aGlzLl9jb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIGlmIChjb250YWluZXJDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGNvbnRhaW5lckNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aCA8IDI1MCkge1xuICAgICAgICAgICAgICAgIGFuY2hvci5jbGFzc0xpc3QuYWRkKCdtYXBtYWdpY2dsLWNvbXBhY3QnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5yZW1vdmUoJ21hcG1hZ2ljZ2wtY29tcGFjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgTG9nb0NvbnRyb2w7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdydcbmltcG9ydCB7IE5PREVfRU5WLCBMT0dHRVJfQ09ORklHX1VSTCwgTE9HR0VSX0NPTkZJR19VUkxfREVWIH0gZnJvbSAnLi4vY29uc3RhbnQnXG5cbmNvbnN0IGdldExvZ0NvbmZpZyA9IChjYWxsYmFjayA9ICgpID0+IHsgfSkgPT4ge1xuICBjb25zdCB1cmxMb2cgPSBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gTE9HR0VSX0NPTkZJR19VUkxfREVWIDogTE9HR0VSX0NPTkZJR19VUkxcbiAgY29uc3QgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpXG4gIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbidcbiAgeGhyLm9wZW4oJ0dFVCcsIHVybExvZywgdHJ1ZSlcbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgIGxldCByZXMgPSB7fVxuICAgICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgICByZXMgPSB4aHIucmVzcG9uc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IHsgaXNEZWJ1ZzogZmFsc2UsIGlzTG9nZ2luZzogZmFsc2UgfVxuICAgICAgfVxuICAgICAgY2FsbGJhY2socmVzKVxuICAgIH1cbiAgfVxuICB4aHIuc2VuZCgpXG4gIHJldHVybiB4aHJcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBnZXRMb2dDb25maWdcbiIsIi8vIEBmbG93XG5jb25zdCByYW5kb21JRCA9ICgpID0+IHtcbiAgICBjb25zdCBzdWJSYW5kID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgIH07XG4gICAgcmV0dXJuIChgJHtzdWJSYW5kKCkgKyBzdWJSYW5kKCl9LSR7c3ViUmFuZCgpfS0ke3N1YlJhbmQoKX0tJHtzdWJSYW5kKCl9LSR7c3ViUmFuZCgpfSR7c3ViUmFuZCgpfSR7c3ViUmFuZCgpfWApO1xufTtcblxuZXhwb3J0IHtcbiAgICByYW5kb21JRCxcbn07XG4iLCIvLyBAZmxvd1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlsL0xvZ2dlcic7XG5pbXBvcnQgeyByYW5kb21JRCB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgTE9HX0NPTlNUQU5UIH0gZnJvbSAnLi4vY29uc3RhbnQnO1xuXG5jb25zdCBsb2dnZXJEZWJ1ZyA9IHtcbiAgICBhZGRQb2x5Z29uOiB0cnVlLFxuICAgIGFkZExpbmU6IHRydWUsXG59O1xuXG5jb25zdCBhZGRQb2x5Z29uID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICBjb25zdCBJRCA9IHBheWxvYWQuaWQgfHwgcmFuZG9tSUQoKTtcbiAgICBpZiAoIXBheWxvYWQuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgTG9nZ2VyLndhcm4oYWRkUG9seWdvbi5uYW1lLCBMT0dfQ09OU1RBTlQuVU5ERUZJTkVEX0NPT1JESU5BVEVTLCB7fSwgbG9nZ2VyRGVidWcuYWRkUG9seWdvbik7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdENvbG9yID0gJyM4ODg4ODgnO1xuICAgIGNvbnN0IGRlZmF1bHRPcGFjaXR5ID0gMC40O1xuXG4gICAgY29uc3Qgc3R5bGUgPSBwYXlsb2FkLnN0eWxlIHx8IHtcbiAgICAgICAgZmlsbENvbG9yOiBkZWZhdWx0Q29sb3IsXG4gICAgICAgIGZpbGxPcGFjaXR5OiBkZWZhdWx0T3BhY2l0eVxuICAgIH07XG5cbiAgICB0aGlzLmFkZFNvdXJjZShJRCwge1xuICAgICAgICBcInR5cGVcIjogXCJnZW9qc29uXCIsXG4gICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbe1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuYWRkTGF5ZXIoe1xuICAgICAgICAgICAgXCJpZFwiOiBgYm91bmRhcnlgLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZmlsbFwiLFxuICAgICAgICAgICAgXCJzb3VyY2VcIjogSUQsXG4gICAgICAgICAgICBcInBhaW50XCI6IHtcbiAgICAgICAgICAgICAgICBcImZpbGwtY29sb3JcIjogc3R5bGUuZmlsbENvbG9yIHx8IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICBcImZpbGwtb3BhY2l0eVwiOiBzdHlsZS5maWxsT3BhY2l0eSB8fCBkZWZhdWx0T3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZmlsdGVyXCI6IFtcIj09XCIsIFwiJHR5cGVcIiwgXCJQb2x5Z29uXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIUxvZ2dlci5nZXREZWJ1ZygpKSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhhZGRQb2x5Z29uLm5hbWUsIG51bGwsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRQb2x5Z29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRQb2x5Z29uLm5hbWUsIG51bGwsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGFkZFBvbHlnb24ubmFtZSwgZXJyb3IubWVzc2FnZSwge30sIGxvZ2dlckRlYnVnLmFkZFBvbHlnb24pO1xuICAgIH1cbiAgICBsb2dnZXJEZWJ1Zy5hZGRQb2x5Z29uID0gZmFsc2U7XG59O1xuXG5jb25zdCBhZGRMaW5lID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICBjb25zdCBJRCA9IHBheWxvYWQuaWQgfHwgcmFuZG9tSUQoKTtcbiAgICBpZiAoIXBheWxvYWQuY29vcmRpbmF0ZXMpIHsgTG9nZ2VyLndhcm4oYWRkTGluZS5uYW1lLCBMT0dfQ09OU1RBTlQuVU5ERUZJTkVEX0NPT1JESU5BVEVTKTsgfVxuXG4gICAgY29uc3QgZGVmYXVsdENvbG9yID0gJyNGRjEyMzMnO1xuICAgIGNvbnN0IGRlZmF1bHRMaW5lV2lkdGggPSAzO1xuXG4gICAgY29uc3Qgc3R5bGUgPSBwYXlsb2FkLnN0eWxlIHx8IHtcbiAgICAgICAgbGluZVdpZHRoOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICBjb2xvcjogZGVmYXVsdENvbG9yXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuYWRkTGF5ZXIoe1xuICAgICAgICAgICAgJ2lkJzogSUQsXG4gICAgICAgICAgICAndHlwZSc6ICdsaW5lJyxcbiAgICAgICAgICAgICdzb3VyY2UnOiB7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnZ2VvanNvbicsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgJ2ZlYXR1cmVzJzogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJzogc3R5bGUuY29sb3IgfHwgZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW9tZXRyeSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdMaW5lU3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29vcmRpbmF0ZXMnOiBwYXlsb2FkLmNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgICAnbGluZS13aWR0aCc6IHN0eWxlLmxpbmVXaWR0aCB8fCBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICdsaW5lLWNvbG9yJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdpZGVudGl0eScsXG4gICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSc6ICdjb2xvcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIUxvZ2dlci5nZXREZWJ1ZygpKSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhhZGRMaW5lLm5hbWUsIG51bGwsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRMaW5lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRMaW5lLm5hbWUsIG51bGwsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGFkZExpbmUubmFtZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIGxvZ2dlckRlYnVnLmFkZExpbmUgPSBmYWxzZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBhZGRQb2x5Z29uLFxuICAgIGFkZExpbmVcbn07XG4iLCIvLyBAZmxvd1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlsL0xvZ2dlcic7XG5cbmxldCBmbGFnID0gMDtcbmNvbnN0IG1hY1RleHQgPSAn4LiB4LiUIOKMmCArIFNjcm9sbCDguYDguJ7guLfguYjguK3guIvguLnguKHguYHguJzguJnguJfguLXguYgnO1xuY29uc3Qgd2luVGV4dCA9ICfguIHguJQgQ3RybCArIFNjcm9sbCDguYDguJ7guLfguYjguK3guIvguLnguKHguYHguJzguJnguJfguLXguYgnO1xuY29uc3QgbW9iaWxlVGV4dCA9ICfguYPguIrguYkgMiDguJnguLTguYnguKfguYDguJ7guLfguYjguK3guYDguKXguLfguYjguK3guJnguYHguJzguJnguJfguLXguYgnO1xuXG5jb25zdCBvdmVyV3JpdGUgPSAobWFwKSA9PiB7XG4gICAgbWFwLmRyYWdQYW4uX2lnbm9yZUV2ZW50ID0gZnVuY3Rpb24gX2lnbm9yZUV2ZW50KGUpIHtcbiAgICAgICAgaWYgKG1hcC5ib3hab29tICYmIG1hcC5ib3hab29tLmlzQWN0aXZlKCkpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgaWYgKG1hcC5kcmFnUm90YXRlICYmIG1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgaWYgKGUudG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIChlLnRvdWNoZXMubGVuZ3RoICE9PSAyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGUudHlwZSAhPT0gJ21vdXNlbW92ZScgJiYgZS5idXR0b24gJiYgZS5idXR0b24gIT09IDA7IC8vIGxlZnQgYnV0dG9uXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuY29uc3QgaW5pdFN0eWxlID0gKG1hcCkgPT4ge1xuICAgIGNvbnN0IGlkID0gbWFwLl9jYW52YXNDb250YWluZXIub2Zmc2V0UGFyZW50LmlkO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYXBib3hnbC1jYW52YXNcIilbMF0uc3R5bGUuekluZGV4ID0gMTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsICdvdmVybGF5TWFwbWFnaWMnKTtcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsYWNrJztcbiAgICBlbGVtZW50LnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMS4zcmVtJztcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgZWxlbWVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgZWxlbWVudC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgIGVsZW1lbnQuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbn07XG5cbmNvbnN0IG92ZXJsYXlTaG93ID0gKHRleHQgPSBudWxsKSA9PiB7XG4gICAgY29uc3Qgb3ZlcmxheU1hcG1hZ2ljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXlNYXBtYWdpYycpO1xuICAgIGNvbnN0IG1hcG1hZ2ljID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWFwYm94Z2wtY2FudmFzJylbMF07XG4gICAgb3ZlcmxheU1hcG1hZ2ljLmlubmVySFRNTCA9IHRleHQ7XG4gICAgb3ZlcmxheU1hcG1hZ2ljLnN0eWxlLnpJbmRleCA9IDE7XG4gICAgb3ZlcmxheU1hcG1hZ2ljLnN0eWxlLm9wYWNpdHkgPSAwLjU7XG4gICAgbWFwbWFnaWMuc3R5bGUuekluZGV4ID0gLTE7XG4gICAgb3ZlcmxheU1hcG1hZ2ljLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwLjVzJztcbn07XG5cbmNvbnN0IG92ZXJsYXlDbG9zZSA9ICgpID0+IHtcbiAgICBjb25zdCBvdmVybGF5TWFwbWFnaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheU1hcG1hZ2ljJyk7XG4gICAgY29uc3QgbWFwbWFnaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYXBib3hnbC1jYW52YXMnKVswXTtcbiAgICBvdmVybGF5TWFwbWFnaWMuc3R5bGUuekluZGV4ID0gLTE7XG4gICAgb3ZlcmxheU1hcG1hZ2ljLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIG1hcG1hZ2ljLnN0eWxlLnpJbmRleCA9IDE7XG4gICAgbWFwbWFnaWMuc3R5bGUudHJhbnNpdGlvbiA9ICd6LWluZGV4IDAuM3MnO1xuICAgIG92ZXJsYXlNYXBtYWdpYy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMC4zcyc7XG59O1xuXG5jb25zdCBoYW5kbGVNb2JpbGUgPSAobWFwLCBtb2JpbGVUZXh0KSA9PiB7XG4gICAgY29uc3Qgb3ZlcmxheU1hcG1hZ2ljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXlNYXBtYWdpYycpO1xuICAgIG1hcC5vbigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIG92ZXJsYXlTaG93KG1vYmlsZVRleHQpO1xuICAgICAgICAgICAgbWFwLmRyYWdQYW4uZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3ZlcmxheUNsb3NlKCk7XG4gICAgICAgICAgICBtYXAuZHJhZ1Bhbi5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG92ZXJsYXlNYXBtYWdpYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBvdmVybGF5U2hvdyhtb2JpbGVUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG92ZXJsYXlDbG9zZSgpO1xuICAgICAgICAgICAgbWFwLmRyYWdQYW4uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtYXAub24oJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgICBvdmVybGF5Q2xvc2UoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IF9vblNjcm9sbCA9ICgpID0+IHtcbiAgICBpZiAoZmxhZyA9PT0gMSkge1xuICAgICAgICBjb25zdCB0ZXh0U2hvdyA9IG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJXaW5cIikgIT0gLTEgPyB3aW5UZXh0IDogbWFjVGV4dDtcbiAgICAgICAgb3ZlcmxheVNob3codGV4dFNob3cpO1xuICAgIH1cbn07XG5cbmNvbnN0IGhhbmRsZURlc2t0b3AgPSAobWFwKSA9PiB7XG4gICAgY29uc3QgbWFwbWFnaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYXBib3hnbC1jYW52YXMnKVswXTtcbiAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIldpblwiKSAhPSAtMSB8fCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTWFjXCIpICE9IC0xKSB7XG4gICAgICAgIG1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheU1hcG1hZ2ljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXlNYXBtYWdpYycpO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJXaW5cIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSAxO1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5Q2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNjcm9sbFpvb20uZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTWFjXCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUubWV0YUtleSkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gMTtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheUNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zY3JvbGxab29tLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF9vblNjcm9sbCk7XG5cbiAgICAgICAgbWFwbWFnaWMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgZmxhZyA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgICBvdmVybGF5TWFwbWFnaWMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBmbGFnID0gMDtcbiAgICAgICAgICAgIG92ZXJsYXlDbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICAgICAgICAgIGZsYWcgPSAwO1xuICAgICAgICAgICAgbWFwLnNjcm9sbFpvb20uZGlzYWJsZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBkaXNhYmxlZCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICBMb2dnZXIuaW5mbyhkaXNhYmxlZC5uYW1lKTtcbiAgICBvdmVyV3JpdGUobWFwKTtcbiAgICBpbml0U3R5bGUobWFwKTtcbiAgICBoYW5kbGVNb2JpbGUobWFwLCBtb2JpbGVUZXh0KTtcbiAgICBoYW5kbGVEZXNrdG9wKG1hcCwgd2luVGV4dCwgbWFjVGV4dCk7XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBkaXNhYmxlZFxufTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWwvTG9nZ2VyJztcbmltcG9ydCB7IHJhbmRvbUlEIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBMT0dfQ09OU1RBTlQgfSBmcm9tICcuLi9jb25zdGFudCc7XG5cbmNvbnN0IGxvZ2dlckRlYnVnID0ge1xuICAgIGFkZE1hcmtlcjogdHJ1ZSxcbiAgICBhZGRNYXJrZXJBcnJheTogdHJ1ZSxcbiAgICBhZGRNYXJrZXJJbWFnZTogdHJ1ZSxcbiAgICBhZGRNYXJrZXJJbWFnZUFycmF5OiB0cnVlLFxuICAgIGFkZE1hcmtlckZpbHRlcjogdHJ1ZSxcbiAgICBzZXRNYXJrZXI6IHRydWUsXG59O1xuXG5jb25zdCBhZGRNYXJrZXIgPSBmdW5jdGlvbihwYXlsb2FkID0ge30pIHtcbiAgICBpZiAoIXBheWxvYWQubG5nIHx8ICFwYXlsb2FkLmxhdCkge1xuICAgICAgICBMb2dnZXIud2FybihhZGRNYXJrZXIubmFtZSwgTE9HX0NPTlNUQU5ULlVOREVGSU5FRF9MQVRMTkcsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IElEID0gcGF5bG9hZC5pZCB8fCByYW5kb21JRCgpO1xuXG4gICAgY29uc3QgZ2VvanNvbiA9IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogcGF5bG9hZC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQubG5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5sYXQsXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICBpZDogcGF5bG9hZC5pZCB8fCAnJyxcbiAgICAgICAgbGF0OiBwYXlsb2FkLmxhdCB8fCAnJyxcbiAgICAgICAgbG5nOiBwYXlsb2FkLmxuZyB8fCAnJyxcbiAgICAgICAgc2l6ZTogcGF5bG9hZC5zaXplIHx8IDEsXG4gICAgICAgIG9mZnNldDogcGF5bG9hZC5vZmZzZXQgfHwgWzAsIDBdLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAocGF5bG9hZC5vbkNsaWNrKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAocGF5bG9hZC5vbkNsaWNrICE9PSB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uKCdjbGljaycsIElELCBwYXlsb2FkLm9uQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBheWxvYWQuZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHBheWxvYWQuZHJhZ2dhYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgaXNEcmFnZ2luZztcbiAgICAgICAgICAgIGxldCBpc0N1cnNvck92ZXJQb2ludDtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9uTW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gZS5sbmdMYXQ7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgYSBVSSBpbmRpY2F0b3IgZm9yIGRyYWdnaW5nLlxuICAgICAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBQb2ludCBmZWF0dXJlIGluIGBnZW9qc29uYCBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgIC8vIGFuZCBjYWxsIHNldERhdGEgdG8gdGhlIHNvdXJjZSBsYXllciBgcG9pbnRgIG9uIGl0LlxuICAgICAgICAgICAgICAgIGdlb2pzb24uZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbY29vcmRzLmxuZywgY29vcmRzLmxhdF07XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTb3VyY2UoSUQpLnNldERhdGEoZ2VvanNvbik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvblVwID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5vbkRyYWdFbmQgJiYgaXNEcmFnZ2luZylcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5vbkRyYWdFbmQoZSk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXMuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgICAgICAgICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gVW5iaW5kIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgbW91c2VEb3duID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNDdXJzb3JPdmVyUG9pbnQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IGEgY3Vyc29yIGluZGljYXRvclxuICAgICAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG5cbiAgICAgICAgICAgICAgICAvLyBNb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnbW91c2V1cCcsIG9uVXApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5vbignbW91c2VlbnRlcicsIElELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgICAgICAgICAgICAgICBpc0N1cnNvck92ZXJQb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdtb3VzZWxlYXZlJywgSUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgICAgICAgICAgICAgaXNDdXJzb3JPdmVyUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdQYW4uZW5hYmxlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24oJ21vdXNlZG93bicsIG1vdXNlRG93bik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZExheWVyKHtcbiAgICAgICAgICAgIFwiaWRcIjogSUQsIC8vIHVzZSB3aGVuIGhvdmVyIHBvcHVwXG4gICAgICAgICAgICBcInR5cGVcIjogXCJzeW1ib2xcIixcbiAgICAgICAgICAgIFwic291cmNlXCI6IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJnZW9qc29uXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IGdlb2pzb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxheW91dFwiOiB7XG4gICAgICAgICAgICAgICAgXCJpY29uLWltYWdlXCI6IHBheWxvYWQuaWNvbiB8fCAnbW1nX3Bpbl8xX29yYW5nZScsXG4gICAgICAgICAgICAgICAgXCJpY29uLWFsbG93LW92ZXJsYXBcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAnaWNvbi1zaXplJzogcGF5bG9hZC5zaXplIHx8IDEsXG4gICAgICAgICAgICAgICAgJ2ljb24tb2Zmc2V0JzogcGF5bG9hZC5vZmZzZXQgfHwgWzAsIDBdLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGF5bG9hZC5wb3B1cCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwYXlsb2FkLnBvcHVwLCB7IGlkOiBJRCB9KTtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9wdXAocGF5bG9hZC5wb3B1cCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFMb2dnZXIuZ2V0RGVidWcoKSkge1xuICAgICAgICAgICAgTG9nZ2VyLmluZm8oYWRkTWFya2VyLm5hbWUsICcnLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRNYXJrZXIubmFtZSwgJycsIGFyZ3MsIGxvZ2dlckRlYnVnLmFkZE1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYWRkTWFya2VyLm5hbWUsIGVycm9yLm1lc3NhZ2UsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXIpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICAgIGxvZ2dlckRlYnVnLmFkZE1hcmtlciA9IGZhbHNlO1xufTtcblxuY29uc3QgYWRkTWFya2VyQXJyYXkgPSBmdW5jdGlvbihwYXlsb2FkID0ge30pIHtcbiAgICBjb25zdCBJRCA9IHBheWxvYWQuaWQgfHwgcmFuZG9tSUQoKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGF5bG9hZC5tYXJrZXIpKSB7XG4gICAgICAgIExvZ2dlci53YXJuKGFkZE1hcmtlckFycmF5Lm5hbWUsIExPR19DT05TVEFOVC5JTlZBTElEX1RZUEUsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJBcnJheSk7XG4gICAgfVxuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICAgIGlkOiBJRCxcbiAgICAgICAgbWFya2VyczogcGF5bG9hZC5tYXJrZXIsXG4gICAgfTtcbiAgICBjb25zdCBtYXJrZXJBcnJheSA9IHBheWxvYWQubWFya2VyLm1hcCgodmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoIXZhbC5sbmcgfHwgIXZhbC5sYXQpIHtcbiAgICAgICAgICAgIExvZ2dlci53YXJuKGFkZE1hcmtlckFycmF5Lm5hbWUsIGAke0xPR19DT05TVEFOVC5VTkRFRklORURfQVJSQVlfTEFUTE5HfSAke2luZGV4fWAsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiB2YWwuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgXCJpY29uXCI6ICdtbWdfcGluXzFfb3JhbmdlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHZhbC5sbmcsXG4gICAgICAgICAgICAgICAgICAgIHZhbC5sYXQsXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy5hZGRMYXllcih7XG4gICAgICAgICAgICBcImlkXCI6IElELCAvLyB1c2Ugd2hlbiBob3ZlciBwb3B1cFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3ltYm9sXCIsXG4gICAgICAgICAgICBcInNvdXJjZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZ2VvanNvblwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZXNcIjogbWFya2VyQXJyYXlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsYXlvdXRcIjoge1xuICAgICAgICAgICAgICAgIFwiaWNvbi1pbWFnZVwiOiBwYXlsb2FkLmljb24gfHwgJ21tZ19waW5fMV9vcmFuZ2UnLFxuICAgICAgICAgICAgICAgIFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghTG9nZ2VyLmdldERlYnVnKCkpIHtcbiAgICAgICAgICAgIExvZ2dlci5pbmZvKGFkZE1hcmtlckFycmF5Lm5hbWUsICcnLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VyQXJyYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGFkZE1hcmtlckFycmF5Lm5hbWUsICcnLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihhZGRNYXJrZXJBcnJheS5uYW1lLCBlcnJvci5tZXNzYWdlLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VyQXJyYXkpO1xuICAgIH1cbiAgICBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJBcnJheSA9IGZhbHNlO1xufTtcblxuY29uc3QgYWRkTWFya2VySW1hZ2UgPSBmdW5jdGlvbihpbmZvID0ge30pIHtcbiAgICBjb25zdCB7IGlkLCB1cmwsIGRlc2NyaXB0aW9uLCBsYXQsIGxuZywgc2l6ZSwgb2Zmc2V0LCBvbkNsaWNrIH0gPSBpbmZvO1xuICAgIGlmICghbGF0IHx8ICFsbmcpIHtcbiAgICAgICAgTG9nZ2VyLndhcm4oYWRkTWFya2VySW1hZ2UubmFtZSwgTE9HX0NPTlNUQU5ULlVOREVGSU5FRF9MQVRMTkcsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJJbWFnZSk7XG4gICAgfVxuICAgIGNvbnN0IG1hcCA9IHRoaXM7XG4gICAgY29uc3QgSUQgPSBpZCB8fCByYW5kb21JRCgpO1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICAgIGlkOiBJRCxcbiAgICAgICAgbGF0LFxuICAgICAgICBsbmcsXG4gICAgICAgIGltZ191cmw6IHVybCxcbiAgICAgICAgc2l6ZTogc2l6ZSB8fCAxLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCB8fCBbMCwgMF0sXG4gICAgfTtcbiAgICBtYXAubG9hZEltYWdlKHVybCB8fCAnJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihhZGRNYXJrZXJJbWFnZS5uYW1lLCBlcnJvci5tZXNzYWdlLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VySW1hZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWFwLmFkZEltYWdlKElELCBpbWFnZSk7XG4gICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJncywge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAob25DbGljayAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub24oJ2NsaWNrJywgSUQsIG9uQ2xpY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgICAgICAgICAgICAnaWQnOiBJRCwgLy8gdXNlIHdoZW4gaG92ZXIgcG9wdXBcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdzeW1ib2wnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2dlb2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmZWF0dXJlcyc6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnRmVhdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWNvbic6ICd0aGVhdHJlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlb21ldHJ5Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdQb2ludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb29yZGluYXRlcyc6IFtsbmcsIGxhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbGF5b3V0Jzoge1xuICAgICAgICAgICAgICAgICAgICAnaWNvbi1pbWFnZSc6IElELFxuICAgICAgICAgICAgICAgICAgICAnaWNvbi1zaXplJzogc2l6ZSB8fCAxLFxuICAgICAgICAgICAgICAgICAgICAnaWNvbi1vZmZzZXQnOiBvZmZzZXQgfHwgWzAsIDBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIUxvZ2dlci5nZXREZWJ1ZygpKSB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmluZm8oYWRkTWFya2VySW1hZ2UubmFtZSwgbnVsbCwge30sIGxvZ2dlckRlYnVnLmFkZE1hcmtlckltYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGFkZE1hcmtlckltYWdlLm5hbWUsIG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGFkZE1hcmtlckltYWdlLm5hbWUsIGVycm9yLm1lc3NhZ2UsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJJbWFnZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJJbWFnZSA9IGZhbHNlO1xufTtcblxuY29uc3QgYWRkTWFya2VySW1hZ2VBcnJheSA9IGZ1bmN0aW9uKGluZm8gPSB7fSkge1xuICAgIGNvbnN0IHsgaWQsIHVybCwgc2l6ZSwgb2Zmc2V0LCBwbGFjZXMgfSA9IGluZm87XG4gICAgY29uc3QgbWFwID0gdGhpcztcbiAgICBjb25zdCBJRCA9IGlkIHx8IHJhbmRvbUlEKCk7XG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgaW1nX3VybDogdXJsLFxuICAgICAgICBzaXplLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHBsYWNlc1xuICAgIH07XG4gICAgY29uc3QgbWFya2VyQXJyYXkgPSBwbGFjZXMubWFwKCh2YWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghdmFsLmxuZyB8fCAhdmFsLmxhdCkge1xuICAgICAgICAgICAgTG9nZ2VyLndhcm4oYWRkTWFya2VySW1hZ2VBcnJheS5uYW1lLCBgJHtMT0dfQ09OU1RBTlQuVU5ERUZJTkVEX0FSUkFZX0xBVExOR30gJHtpbmRleH1gLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VySW1hZ2VBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICd0eXBlJzogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogdmFsLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgICdpY29uJzogJ3RoZWF0cmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2dlb21ldHJ5Jzoge1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ1BvaW50JyxcbiAgICAgICAgICAgICAgICAnY29vcmRpbmF0ZXMnOiBbdmFsLmxuZywgdmFsLmxhdF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBtYXAubG9hZEltYWdlKHVybCB8fCAnJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihhZGRNYXJrZXJJbWFnZUFycmF5Lm5hbWUsIGVycm9yLm1lc3NhZ2UsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJJbWFnZUFycmF5KTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtYXAuYWRkSW1hZ2UoSUQsIGltYWdlKTtcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcih7XG4gICAgICAgICAgICAgICAgJ2lkJzogSUQsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3ltYm9sJyxcbiAgICAgICAgICAgICAgICAnc291cmNlJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdnZW9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmVhdHVyZXMnOiBtYXJrZXJBcnJheVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbGF5b3V0Jzoge1xuICAgICAgICAgICAgICAgICAgICAnaWNvbi1pbWFnZSc6IElELFxuICAgICAgICAgICAgICAgICAgICAnaWNvbi1zaXplJzogc2l6ZSB8fCAxLFxuICAgICAgICAgICAgICAgICAgICAnaWNvbi1vZmZzZXQnOiBvZmZzZXQgfHwgWzAsIDBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIUxvZ2dlci5nZXREZWJ1ZygpKSB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmluZm8oYWRkTWFya2VySW1hZ2VBcnJheS5uYW1lLCBudWxsLCB7fSwgbG9nZ2VyRGVidWcuYWRkTWFya2VySW1hZ2VBcnJheSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRNYXJrZXJJbWFnZUFycmF5Lm5hbWUsIG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGFkZE1hcmtlckltYWdlQXJyYXkubmFtZSwgZXJyb3IubWVzc2FnZSwge30sIGxvZ2dlckRlYnVnLmFkZE1hcmtlckltYWdlQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlckRlYnVnLmFkZE1hcmtlckltYWdlQXJyYXkgPSBmYWxzZTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGFkZE1hcmtlckZpbHRlciA9IGZ1bmN0aW9uKGluZm8gPSB7fSkge1xuICAgIGNvbnN0IHBsYWNlcyA9IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgXCJmZWF0dXJlc1wiOiBpbmZvLnBsYWNlc1xuICAgIH07XG5cbiAgICBpZiAoIWluZm8ucGxhY2VzKSB7XG4gICAgICAgIExvZ2dlci53YXJuKGFkZE1hcmtlckZpbHRlci5uYW1lLCBMT0dfQ09OU1RBTlQuVU5ERUZJTkVEX1BMQUNFX0lORk8sIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJGaWx0ZXIpO1xuICAgIH1cbiAgICBtYXAuYWRkU291cmNlKCdwbGFjZXMnLCB7XG4gICAgICAgIFwidHlwZVwiOiBcImdlb2pzb25cIixcbiAgICAgICAgXCJkYXRhXCI6IHBsYWNlc1xuICAgIH0pO1xuXG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgcGxhY2VzOiBpbmZvLnBsYWNlcyxcbiAgICB9O1xuXG4gICAgcGxhY2VzLmZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gZmVhdHVyZS5wcm9wZXJ0aWVzWydpY29uJ107XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZmVhdHVyZS5wcm9wZXJ0aWVzWydsYWJlbCddO1xuICAgICAgICBjb25zdCBsYXllcklEID0gYHBvaS0ke2xhYmVsfWA7XG5cbiAgICAgICAgaWYgKCFtYXAuZ2V0TGF5ZXIobGF5ZXJJRCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBsYXllcklELFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJzeW1ib2xcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJwbGFjZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsYXlvdXRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpY29uLWltYWdlXCI6IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHQtZmllbGRcIjogbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHQtZm9udFwiOiBbXCJPcGVuIFNhbnMgQm9sZFwiLCBcIkFyaWFsIFVuaWNvZGUgTVMgQm9sZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dC1zaXplXCI6IDExLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0LXRyYW5zZm9ybVwiOiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6IDAuMDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHQtb2Zmc2V0XCI6IFswLCAxLjVdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwicGFpbnRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0LWNvbG9yXCI6IFwiIzIwMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0LWhhbG8tY29sb3JcIjogXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHQtaGFsby13aWR0aFwiOiAyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImZpbHRlclwiOiBbXCI9PVwiLCBcImxhYmVsXCIsIGxhYmVsXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghTG9nZ2VyLmdldERlYnVnKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmluZm8oYWRkTWFya2VyRmlsdGVyLm5hbWUsIG51bGwsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRNYXJrZXJGaWx0ZXIubmFtZSwgbnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIuZXJyb3IoYWRkTWFya2VyRmlsdGVyLm5hbWUsIGVycm9yLm1lc3NhZ2UsIHt9LCBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJGaWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF5ZXJJRHMucHVzaChsYXllcklEKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihhZGRNYXJrZXJGaWx0ZXIubmFtZSwgTE9HX0NPTlNUQU5ULlVOREVGSU5FRF9MQVlFUiwge30sIGxvZ2dlckRlYnVnLmFkZE1hcmtlckZpbHRlcik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZpbHRlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbGF5ZXJJRHMuZm9yRWFjaCgobGF5ZXJJRCkgPT4ge1xuICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGxheWVySUQsICd2aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICBsYXllcklELmluZGV4T2YodmFsdWUpID4gLTEgPyAndmlzaWJsZScgOiAnbm9uZScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBsb2dnZXJEZWJ1Zy5hZGRNYXJrZXJGaWx0ZXIgPSBmYWxzZTtcbn07XG5cbmNvbnN0IHNldE1hcmtlciA9IGZ1bmN0aW9uKHBheWxvYWQgPSB7fSkge1xuICAgIGNvbnN0IFNFVF9NQVJLRVIgPSAnbWtyLTAwNic7XG4gICAgY29uc3QgeyBpZCwgbG5nLCBsYXQgfSA9IHBheWxvYWQ7XG5cbiAgICBpZiAoIWxhdCB8fCAhbG5nKSB7XG4gICAgICAgIExvZ2dlci53YXJuKGFkZE1hcmtlckltYWdlLm5hbWUsIExPR19DT05TVEFOVC5VTkRFRklORURfTEFUTE5HLCB7fSwgbG9nZ2VyRGVidWcuc2V0TWFya2VyKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZW9qc29uID0ge1xuICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAgICAgICAgICAgIGxuZyxcbiAgICAgICAgICAgIGxhdCxcbiAgICAgICAgXVxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgICB0aGlzLmdldFNvdXJjZShpZCkuc2V0RGF0YShnZW9qc29uKTtcbiAgICAgICAgaWYgKCFMb2dnZXIuZ2V0RGVidWcoKSkge1xuICAgICAgICAgICAgTG9nZ2VyLmluZm8oU0VUX01BUktFUiwgbnVsbCwgcGF5bG9hZCwgbG9nZ2VyRGVidWcuc2V0TWFya2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhTRVRfTUFSS0VSLCBudWxsLCBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihTRVRfTUFSS0VSLCBlcnJvci5tZXNzYWdlLCB7fSwgbG9nZ2VyRGVidWcuc2V0TWFya2VyKTtcbiAgICB9XG4gICAgbG9nZ2VyRGVidWcuc2V0TWFya2VyID0gTG9nZ2VyLmdldERlYnVnKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYWRkTWFya2VyLFxuICAgIGFkZE1hcmtlckFycmF5LFxuICAgIGFkZE1hcmtlckltYWdlLFxuICAgIGFkZE1hcmtlckltYWdlQXJyYXksXG4gICAgYWRkTWFya2VyRmlsdGVyLFxuICAgIHNldE1hcmtlcixcbn07XG4iLCIvLyBAZmxvd1xuXG5leHBvcnQgdHlwZSBBbmNob3IgPVxuICAgIHwgJ2NlbnRlcidcbiAgICB8ICd0b3AnXG4gICAgfCAnYm90dG9tJ1xuICAgIHwgJ2xlZnQnXG4gICAgfCAncmlnaHQnXG4gICAgfCAndG9wLWxlZnQnXG4gICAgfCAndG9wLXJpZ2h0J1xuICAgIHwgJ2JvdHRvbS1sZWZ0J1xuICAgIHwgJ2JvdHRvbS1yaWdodCc7XG5cbmV4cG9ydCBjb25zdCBhbmNob3JUcmFuc2xhdGU6IHtbQW5jaG9yXTogc3RyaW5nfSA9IHtcbiAgICAnY2VudGVyJzogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcbiAgICAndG9wJzogJ3RyYW5zbGF0ZSgtNTAlLDApJyxcbiAgICAndG9wLWxlZnQnOiAndHJhbnNsYXRlKDAsMCknLFxuICAgICd0b3AtcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLDApJyxcbiAgICAnYm90dG9tJzogJ3RyYW5zbGF0ZSgtNTAlLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ3RyYW5zbGF0ZSgwLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1yaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsLTEwMCUpJyxcbiAgICAnbGVmdCc6ICd0cmFuc2xhdGUoMCwtNTAlKScsXG4gICAgJ3JpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwtNTAlKSdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUFuY2hvckNsYXNzKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBhbmNob3I6IEFuY2hvciwgcHJlZml4OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhbmNob3JUcmFuc2xhdGUpIHtcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShgbWFwYm94Z2wtJHtwcmVmaXh9LWFuY2hvci0ke2tleX1gKTtcbiAgICB9XG4gICAgY2xhc3NMaXN0LmFkZChgbWFwYm94Z2wtJHtwcmVmaXh9LWFuY2hvci0ke2FuY2hvcn1gKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgc21hcnRXcmFwIGZyb20gJy4uL3V0aWwvc21hcnRfd3JhcCc7XG5pbXBvcnQgeyB0eXBlIEFuY2hvciwgYW5jaG9yVHJhbnNsYXRlLCBhcHBseUFuY2hvckNsYXNzIH0gZnJvbSAnLi9hbmNob3InO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgY2xhc3NOYW1lOiAnJ1xufTtcblxuZXhwb3J0IHR5cGUgT2Zmc2V0ID0gbnVtYmVyIHwgUG9pbnRMaWtlIHwge1tBbmNob3JdOiBQb2ludExpa2V9O1xuXG5leHBvcnQgdHlwZSBQb3B1cE9wdGlvbnMgPSB7XG4gICAgY2xvc2VCdXR0b24/OiBib29sZWFuLFxuICAgIGNsb3NlT25DbGljaz86IGJvb2xlYW4sXG4gICAgYW5jaG9yPzogQW5jaG9yLFxuICAgIG9mZnNldD86IE9mZnNldCxcbiAgICBjbGFzc05hbWU/OiBzdHJpbmdcbn07XG5cbi8qKlxuICogQSBwb3B1cCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbG9zZUJ1dHRvbj10cnVlXSBJZiBgdHJ1ZWAsIGEgY2xvc2UgYnV0dG9uIHdpbGwgYXBwZWFyIGluIHRoZVxuICogICB0b3AgcmlnaHQgY29ybmVyIG9mIHRoZSBwb3B1cC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VPbkNsaWNrPXRydWVdIElmIGB0cnVlYCwgdGhlIHBvcHVwIHdpbGwgY2xvc2VkIHdoZW4gdGhlXG4gKiAgIG1hcCBpcyBjbGlja2VkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcl0gLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBQb3B1cCB0aGF0IHNob3VsZFxuICogICBiZSBwb3NpdGlvbmVkIGNsb3Nlc3QgdG8gdGhlIGNvb3JkaW5hdGUgc2V0IHZpYSB7QGxpbmsgUG9wdXAjc2V0TG5nTGF0fS5cbiAqICAgT3B0aW9ucyBhcmUgYCdjZW50ZXInYCwgYCd0b3AnYCwgYCdib3R0b20nYCwgYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCd0b3AtbGVmdCdgLFxuICogICBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLiBJZiB1bnNldCB0aGUgYW5jaG9yIHdpbGwgYmVcbiAqICAgZHluYW1pY2FsbHkgc2V0IHRvIGVuc3VyZSB0aGUgcG9wdXAgZmFsbHMgd2l0aGluIHRoZSBtYXAgY29udGFpbmVyIHdpdGggYSBwcmVmZXJlbmNlXG4gKiAgIGZvciBgJ2JvdHRvbSdgLlxuICogQHBhcmFtIHtudW1iZXJ8UG9pbnRMaWtlfE9iamVjdH0gW29wdGlvbnMub2Zmc2V0XSAtXG4gKiAgQSBwaXhlbCBvZmZzZXQgYXBwbGllZCB0byB0aGUgcG9wdXAncyBsb2NhdGlvbiBzcGVjaWZpZWQgYXM6XG4gKiAgIC0gYSBzaW5nbGUgbnVtYmVyIHNwZWNpZnlpbmcgYSBkaXN0YW5jZSBmcm9tIHRoZSBwb3B1cCdzIGxvY2F0aW9uXG4gKiAgIC0gYSB7QGxpbmsgUG9pbnRMaWtlfSBzcGVjaWZ5aW5nIGEgY29uc3RhbnQgb2Zmc2V0XG4gKiAgIC0gYW4gb2JqZWN0IG9mIHtAbGluayBQb2ludH1zIHNwZWNpZmluZyBhbiBvZmZzZXQgZm9yIGVhY2ggYW5jaG9yIHBvc2l0aW9uXG4gKiAgTmVnYXRpdmUgb2Zmc2V0cyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGFzc05hbWVdIFNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3MgbmFtZXMgdG8gYWRkIHRvIHBvcHVwIGNvbnRhaW5lclxuICogQGV4YW1wbGVcbiAqIHZhciBtYXJrZXJIZWlnaHQgPSA1MCwgbWFya2VyUmFkaXVzID0gMTAsIGxpbmVhck9mZnNldCA9IDI1O1xuICogdmFyIHBvcHVwT2Zmc2V0cyA9IHtcbiAqICAndG9wJzogWzAsIDBdLFxuICogICd0b3AtbGVmdCc6IFswLDBdLFxuICogICd0b3AtcmlnaHQnOiBbMCwwXSxcbiAqICAnYm90dG9tJzogWzAsIC1tYXJrZXJIZWlnaHRdLFxuICogICdib3R0b20tbGVmdCc6IFtsaW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICogICdib3R0b20tcmlnaHQnOiBbLWxpbmVhck9mZnNldCwgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cyArIGxpbmVhck9mZnNldCkgKiAtMV0sXG4gKiAgJ2xlZnQnOiBbbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXSxcbiAqICAncmlnaHQnOiBbLW1hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV1cbiAqICB9O1xuICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHtvZmZzZXQ6IHBvcHVwT2Zmc2V0cywgY2xhc3NOYW1lOiAnbXktY2xhc3MnfSlcbiAqICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAqICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAqICAgLmFkZFRvKG1hcCk7XG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAvKVxuICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBjbGlja10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gKiBAc2VlIFtBdHRhY2ggYSBwb3B1cCB0byBhIG1hcmtlciBpbnN0YW5jZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9zZXQtcG9wdXAvKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBQb3B1cE9wdGlvbnM7XG4gICAgX2NvbnRlbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jbG9zZUJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX3RpcDogSFRNTEVsZW1lbnQ7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF9wb3M6ID9Qb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBvcHVwT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZScsICdfb25DbGlja0Nsb3NlJ10sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHBvcHVwIHRvIGEgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNYXB9IG1hcCBUaGUgTWFwYm94IEdMIEpTIG1hcCB0byBhZGQgdGhlIHBvcHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgYWRkVG8obWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2tDbG9zZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBvcHVwIGlzIG9wZW5lZCBtYW51YWxseSBvciBwcm9ncmFtYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBvcGVuXG4gICAgICAgICAqIEBtZW1iZXJvZiBQb3B1cFxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQb3B1cH0gcG9wdXAgb2JqZWN0IHRoYXQgd2FzIG9wZW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnb3BlbicpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb3B1cCBpcyBvcGVuLCBgZmFsc2VgIGlmIGl0IGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBpc09wZW4oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX21hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwb3B1cCBmcm9tIHRoZSBtYXAgaXQgaGFzIGJlZW4gYWRkZWQgdG8uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpLmFkZFRvKG1hcCk7XG4gICAgICogcG9wdXAucmVtb3ZlKCk7XG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9vbkNsaWNrQ2xvc2UpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBwb3B1cCBpcyBjbG9zZWQgbWFudWFsbHkgb3IgcHJvZ3JhbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgY2xvc2VcbiAgICAgICAgICogQG1lbWJlcm9mIFBvcHVwXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1BvcHVwfSBwb3B1cCBvYmplY3QgdGhhdCB3YXMgY2xvc2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdjbG9zZScpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLlxuICAgICAqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVzdWx0IG1heSBkaWZmZXIgYnkgYSBtdWx0aXBsZSBvZiAzNjAgZGVncmVlcyBmcm9tIHRoZSBsb25naXR1ZGUgcHJldmlvdXNseVxuICAgICAqIHNldCBieSBgc2V0TG5nTGF0YCBiZWNhdXNlIGBQb3B1cGAgd3JhcHMgdGhlIGFuY2hvciBsb25naXR1ZGUgYWNyb3NzIGNvcGllcyBvZiB0aGUgd29ybGQgdG8ga2VlcFxuICAgICAqIHRoZSBwb3B1cCBvbiBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKi9cbiAgICBnZXRMbmdMYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sbmdMYXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvciwgYW5kIG1vdmVzIHRoZSBwb3B1cCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsbmdsYXQgVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiB0byBzZXQgYXMgdGhlIHBvcHVwJ3MgYW5jaG9yLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TG5nTGF0KGxuZ2xhdDogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSBMbmdMYXQuY29udmVydChsbmdsYXQpO1xuICAgICAgICB0aGlzLl9wb3MgPSBudWxsO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9wdXAncyBjb250ZW50IHRvIGEgc3RyaW5nIG9mIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBbVGV4dF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RleHQpIG5vZGUgaW4gdGhlIERPTSxcbiAgICAgKiBzbyBpdCBjYW5ub3QgaW5zZXJ0IHJhdyBIVE1MLiBVc2UgdGhpcyBtZXRob2QgZm9yIHNlY3VyaXR5IGFnYWluc3QgWFNTXG4gICAgICogaWYgdGhlIHBvcHVwIGNvbnRlbnQgaXMgdXNlci1wcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHR1YWwgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKVxuICAgICAqICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgIC5zZXRUZXh0KCdIZWxsbywgd29ybGQhJylcbiAgICAgKiAgIC5hZGRUbyhtYXApO1xuICAgICAqL1xuICAgIHNldFRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldERPTUNvbnRlbnQod2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIGNvbnRlbnQgdG8gdGhlIEhUTUwgcHJvdmlkZWQgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBwZXJmb3JtIEhUTUwgZmlsdGVyaW5nIG9yIHNhbml0aXphdGlvbiwgYW5kIG11c3QgYmVcbiAgICAgKiB1c2VkIG9ubHkgd2l0aCB0cnVzdGVkIGNvbnRlbnQuIENvbnNpZGVyIHtAbGluayBQb3B1cCNzZXRUZXh0fSBpZlxuICAgICAqIHRoZSBjb250ZW50IGlzIGFuIHVudHJ1c3RlZCB0ZXh0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBodG1sIEEgc3RyaW5nIHJlcHJlc2VudGluZyBIVE1MIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldEhUTUwoaHRtbDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGZyYWcgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBjb25zdCB0ZW1wID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHRlbXAuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIGJyZWFrO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGZyYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgZWxlbWVudCBwcm92aWRlZCBhcyBhIERPTSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0bWxOb2RlIEEgRE9NIG5vZGUgdG8gYmUgdXNlZCBhcyBjb250ZW50IGZvciB0aGUgcG9wdXAuXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGNyZWF0ZSBhbiBlbGVtZW50IHdpdGggdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgKiB2YXIgZGl2ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAqIGRpdi5pbm5lckhUTUwgPSAnSGVsbG8sIHdvcmxkISc7XG4gICAgICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAuc2V0RE9NQ29udGVudChkaXYpXG4gICAgICogICAuYWRkVG8obWFwKTtcbiAgICAgKi9cbiAgICBzZXRET01Db250ZW50KGh0bWxOb2RlOiBOb2RlKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5fY29udGVudC5hcHBlbmRDaGlsZChodG1sTm9kZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250ZW50ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwLWNvbnRlbnQnLCB0aGlzLl9jb250YWluZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgJ21hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbicsIHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlIHBvcHVwJyk7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAnJiMyMTU7JztcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Nsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwIHx8ICF0aGlzLl9sbmdMYXQgfHwgIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cCcsIHRoaXMuX21hcC5nZXRDb250YWluZXIoKSk7XG4gICAgICAgICAgICB0aGlzLl90aXAgICAgICAgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtcG9wdXAtdGlwJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lLnNwbGl0KCcgJykuZm9yRWFjaChuYW1lID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKG5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIHRoaXMuX21hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zID0gdGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KTtcblxuICAgICAgICBsZXQgYW5jaG9yOiA/QW5jaG9yID0gdGhpcy5vcHRpb25zLmFuY2hvcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbm9ybWFsaXplT2Zmc2V0KHRoaXMub3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBsZXQgYW5jaG9yQ29tcG9uZW50cztcblxuICAgICAgICAgICAgaWYgKHBvcy55ICsgb2Zmc2V0LmJvdHRvbS55IDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cyA9IFsndG9wJ107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcy55ID4gdGhpcy5fbWFwLnRyYW5zZm9ybS5oZWlnaHQgLSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzID0gWydib3R0b20nXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9zLnggPCB3aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzLnB1c2goJ2xlZnQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zLnggPiB0aGlzLl9tYXAudHJhbnNmb3JtLndpZHRoIC0gd2lkdGggLyAyKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cy5wdXNoKCdyaWdodCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5jaG9yQ29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSAnYm90dG9tJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gKGFuY2hvckNvbXBvbmVudHMuam9pbignLScpOiBhbnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ZWRQb3MgPSBwb3MuYWRkKG9mZnNldFthbmNob3JdKS5yb3VuZCgpO1xuXG4gICAgICAgIERPTS5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLCBgJHthbmNob3JUcmFuc2xhdGVbYW5jaG9yXX0gdHJhbnNsYXRlKCR7b2Zmc2V0ZWRQb3MueH1weCwke29mZnNldGVkUG9zLnl9cHgpYCk7XG4gICAgICAgIGFwcGx5QW5jaG9yQ2xhc3ModGhpcy5fY29udGFpbmVyLCBhbmNob3IsICdwb3B1cCcpO1xuICAgIH1cblxuICAgIF9vbkNsaWNrQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPZmZzZXQob2Zmc2V0OiA/T2Zmc2V0KSB7XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZU9mZnNldChuZXcgUG9pbnQoMCwgMCkpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYSByYWRpdXMgZnJvbSB3aGljaCB0byBjYWxjdWxhdGUgb2Zmc2V0cyBhdCBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvcm5lck9mZnNldCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KDAuNSAqIE1hdGgucG93KG9mZnNldCwgMikpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjZW50ZXInOiBuZXcgUG9pbnQoMCwgMCksXG4gICAgICAgICAgICAndG9wJzogbmV3IFBvaW50KDAsIG9mZnNldCksXG4gICAgICAgICAgICAndG9wLWxlZnQnOiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IG5ldyBQb2ludCgtY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbSc6IG5ldyBQb2ludCgwLCAtb2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6IG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IG5ldyBQb2ludCgtY29ybmVyT2Zmc2V0LCAtY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdsZWZ0JzogbmV3IFBvaW50KG9mZnNldCwgMCksXG4gICAgICAgICAgICAncmlnaHQnOiBuZXcgUG9pbnQoLW9mZnNldCwgMClcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSBpZiAob2Zmc2V0IGluc3RhbmNlb2YgUG9pbnQgfHwgQXJyYXkuaXNBcnJheShvZmZzZXQpKSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhIHNpbmdsZSBvZmZzZXQgdG8gYmUgYXBwbGllZCB0byBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZE9mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjZW50ZXInOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAndG9wJzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdib3R0b20nOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ2xlZnQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAncmlnaHQnOiBjb252ZXJ0ZWRPZmZzZXRcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhbiBvZmZzZXQgcGVyIHBvc2l0aW9uXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2VudGVyJzogUG9pbnQuY29udmVydChvZmZzZXRbJ2NlbnRlciddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAndG9wJzogUG9pbnQuY29udmVydChvZmZzZXRbJ3RvcCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAndG9wLWxlZnQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsndG9wLWxlZnQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wyd0b3AtcmlnaHQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2JvdHRvbSc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wydib3R0b20nXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ2JvdHRvbS1sZWZ0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdib3R0b20tcmlnaHQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnYm90dG9tLXJpZ2h0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdsZWZ0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ2xlZnQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3JpZ2h0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ3JpZ2h0J10gfHwgWzAsIDBdKVxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vLi4vdWkvcG9wdXAnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlsL0xvZ2dlcic7XG5cbmxldCBsb2dGaXJzdCA9IHRydWU7XG5cbmNvbnN0IGV2ZW50U2hvdyA9IGZ1bmN0aW9uIChtYXAsIGdlb2pzb24pIHtcbiAgICBuZXcgUG9wdXAoeyBjbG9zZU9uQ2xpY2s6IGZhbHNlIH0pXG4gICAgICAgIC5zZXRMbmdMYXQoZ2VvanNvbi5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcylcbiAgICAgICAgLnNldEhUTUwoZ2VvanNvbi5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKVxuICAgICAgICAuYWRkVG8obWFwKTtcbn07XG5cbmNvbnN0IGV2ZW50Q2xpY2sgPSBmdW5jdGlvbiAobWFwLCBpZCwgcGF5bG9hZCkge1xuICAgIG1hcC5vbignY2xpY2snLCBpZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXAoe1xuICAgICAgICAgICAgYW5jaG9yOiBwYXlsb2FkLmFuY2hvciB8fCAnJyxcbiAgICAgICAgICAgIG9mZnNldDogcGF5bG9hZC5vZmZzZXQgfHwgWzAsIDBdXG4gICAgICAgIH0pLnNldExuZ0xhdChlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzKVxuICAgICAgICAgICAgLnNldEhUTUwoZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgLmFkZFRvKHRoaXMpO1xuICAgIH0pO1xuICAgIG1hcC5vbignbW91c2VlbnRlcicsIGlkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIH0pO1xuICAgIG1hcC5vbignbW91c2VsZWF2ZScsIGlkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgfSk7XG59O1xuXG5jb25zdCBldmVudEhvdmVyID0gZnVuY3Rpb24gKG1hcCwgaWQsIHBheWxvYWQpIHtcbiAgICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cCh7XG4gICAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcbiAgICAgICAgYW5jaG9yOiBwYXlsb2FkLmFuY2hvciB8fCAnJyxcbiAgICAgICAgb2Zmc2V0OiBwYXlsb2FkLm9mZnNldCB8fCBbMCwgMF1cbiAgICB9KTtcbiAgICBtYXAub24oJ21vdXNlZW50ZXInLCBpZCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIHBvcHVwLnNldExuZ0xhdChlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzKVxuICAgICAgICAgICAgLnNldEhUTUwoZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgLmFkZFRvKHRoaXMpO1xuICAgIH0pO1xuICAgIG1hcC5vbignbW91c2VsZWF2ZScsIGlkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgIH0pO1xufTtcblxuY29uc3QgYWRkUG9wdXAgPSBmdW5jdGlvbiAocGF5bG9hZCA9IHt9KSB7XG4gICAgY29uc3QgSUQgPSBwYXlsb2FkLmlkIHx8IGBwbGFjZXMke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApICsgMX1gO1xuXG4gICAgY29uc3QgZ2VvanNvbiA9IHRoaXMuZ2V0U291cmNlKElEKS5fZGF0YTtcbiAgICB0aGlzLmdldFNvdXJjZShJRCkuc2V0RGF0YShnZW9qc29uKTtcblxuICAgIGNvbnN0IGFjdGlvbiA9IHBheWxvYWQuYWN0aW9uIHx8ICdzaG93JztcblxuICAgIGlmIChhY3Rpb24gPT09ICdzaG93Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXZlbnRTaG93KHRoaXMsIGdlb2pzb24pO1xuICAgICAgICAgICAgaWYgKCFMb2dnZXIuZ2V0RGVidWcoKSkge1xuICAgICAgICAgICAgICAgIExvZ2dlci5pbmZvKGFkZFBvcHVwLm5hbWUsIG51bGwsIHt9LCBsb2dGaXJzdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZ2dlci5kZWJ1ZyhhZGRQb3B1cC5uYW1lLCBudWxsLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihhZGRQb3B1cC5uYW1lLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBldmVudENsaWNrKHRoaXMsIElELCBwYXlsb2FkKTtcbiAgICAgICAgICAgIGlmICghTG9nZ2VyLmdldERlYnVnKCkpIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIuaW5mbyhhZGRQb3B1cC5uYW1lLCBudWxsLCB7fSwgbG9nRmlyc3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIuZGVidWcoYWRkUG9wdXAubmFtZSwgbnVsbCwgcGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBMb2dnZXIuZXJyb3IoYWRkUG9wdXAubmFtZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2hvdmVyJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXZlbnRIb3Zlcih0aGlzLCBJRCwgcGF5bG9hZCk7XG4gICAgICAgICAgICBpZiAoIUxvZ2dlci5nZXREZWJ1ZygpKSB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmluZm8oYWRkUG9wdXAubmFtZSwgbnVsbCwge30sIGxvZ0ZpcnN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKGFkZFBvcHVwLm5hbWUsIG51bGwsIHBheWxvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGFkZFBvcHVwLm5hbWUsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxvZ0ZpcnN0ID0gZmFsc2U7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGFkZFBvcHVwIH07XG4iLCIvLyBAZmxvd1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlsL0xvZ2dlcic7XG5pbXBvcnQgeyBMT0dfQ09OU1RBTlQgfSBmcm9tICcuLi9jb25zdGFudCc7XG5cbmNvbnN0IGluaXRDb2xvck1hcCA9IGZ1bmN0aW9uIChwYXlsb2FkID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgICBwYXlsb2FkLmxheWVycy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGxheWVyLCBjb2xvciB9ID0gb3B0aW9uO1xuICAgICAgICAgICAgaWYgKCFjb2xvcikge1xuICAgICAgICAgICAgICAgIExvZ2dlci53YXJuKGluaXRDb2xvck1hcC5uYW1lLCAnbWlzc2luZyBjb2xvciEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIud2Fybihpbml0Q29sb3JNYXAubmFtZSwgTE9HX0NPTlNUQU5ULlVOREVGSU5FRF9MQVlFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGxheWVycyA9IFtdO1xuICAgICAgICAgICAgaWYgKGxheWVyID09ICdzdHJlZXQnKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gJ2xpbmUtY29sb3InO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1yb2FkX2NsYXNzMScpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1yb2FkX2NsYXNzMicpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1yb2FkX2NsYXNzMicpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1yb2FkX2NsYXNzMycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYXllciA9PSAnd2F0ZXInKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gJ2ZpbGwtY29sb3InO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd3YXRlcicpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1zZWF0aCcpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi13YXRlcl9wb2x5Z29uXzQnKTtcbiAgICAgICAgICAgICAgICBsYXllcnMucHVzaCgndG4td2F0ZXJfcG9seWdvbl8zJyk7XG4gICAgICAgICAgICAgICAgbGF5ZXJzLnB1c2goJ3RuLXdhdGVyX3BvbHlnb25fMicpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi13YXRlcl9wb2x5Z29uXzEnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGF5ZXIgPT0gJ3Byb3ZpbmNlJykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9ICdmaWxsLWNvbG9yJztcbiAgICAgICAgICAgICAgICBsYXllcnMucHVzaCgndG4tbGFuZF9wcm92aW5jZScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYXllciA9PSAnYXJlYScpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgPSAnZmlsbC1jb2xvcic7XG4gICAgICAgICAgICAgICAgbGF5ZXJzLnB1c2goJ3RuLWFyZWFfZ3JheScpO1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKCd0bi1hcmVhX2Rvd24nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGF5ZXIgPT0gJ2J1aWxkaW5nJykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9ICdmaWxsLWNvbG9yJztcbiAgICAgICAgICAgICAgICBsYXllcnMucHVzaCgndG4tYXJlYV9ibGRnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXllcnMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgbWFwLnNldFBhaW50UHJvcGVydHkodmFsdWUsIGF0dHJpYnV0ZSwgY29sb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBMb2dnZXIuaW5mbyhpbml0Q29sb3JNYXAubmFtZSwgbnVsbCwgcGF5bG9hZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGluaXRDb2xvck1hcC5uYW1lLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgaW5pdENvbG9yTWFwXG59O1xuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgTmF2aWdhdGlvbkNvbnRyb2wgZnJvbSAnLi4vLi91aS9jb250cm9sL25hdmlnYXRpb25fY29udHJvbCc7XG5pbXBvcnQgRGVidWdnZXIgZnJvbSAnLi91dGlsL0RlYnVnZ2VyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi91dGlsL0xvZ2dlcic7XG5pbXBvcnQgeyBpc0xpZ2h0IH0gZnJvbSAnLi91dGlsL0NvbG9yJztcbmltcG9ydCBMb2dvQ29udHJvbCBmcm9tICcuL3VpL0xvZ29Db250cm9sJztcbmltcG9ydCBnZXRMb2dDb25maWcgZnJvbSAnLi91dGlsL2dldExvZ0NvbmZpZyc7XG5pbXBvcnQgeyBBUElfVVJMLCBMT0dPX0NMQVNTTkFNRSB9IGZyb20gJy4vY29uc3RhbnQnO1xuaW1wb3J0IHtcbiAgICBTdHlsZSxcbiAgICBNYXJrZXIsXG4gICAgUG9wdXAsXG4gICAgSGFuZGxlcixcbiAgICBHZW9tZXRyeSxcbn0gZnJvbSAnLi9saWInO1xuXG5jbGFzcyBNYXBNYWdpY0dMIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5ld1N0eWxlID0gb3B0aW9ucy5zdHlsZTtcbiAgICAgICAgb3B0aW9ucy5zdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFvcHRpb25zLnpvb20pIHtcbiAgICAgICAgICAgIG9wdGlvbnNbJ3pvb20nXSA9IDk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNlbnRlciA9IFsxMDAuNDksIDEzLjcyXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIubG5nICYmIG9wdGlvbnMuY2VudGVyLmxhdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbG5nLCBsYXQgfSA9IG9wdGlvbnMuY2VudGVyO1xuICAgICAgICAgICAgICAgIGNlbnRlciA9IFtsbmcsIGxhdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcElkID0gb3B0aW9ucy5hcHBJZCB8fCBvcHRpb25zLmFwcF9pZDtcbiAgICAgICAgZ2V0TG9nQ29uZmlnKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIExvZ2dlci5pbml0KHRoaXMuYXBwSWQsIGNvbmZpZy5pc0xvZ2dpbmcsIGNvbmZpZy5pc0RlYnVnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZVVSTCA9IG9wdGlvbnMuc3R5bGVVUkwgfHwgb3B0aW9ucy5zdHlsZV91cmw7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXkgfHwgb3B0aW9ucy5hcGlfa2V5O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBzdHlsZVVSTCA9IHRoaXMuZ2V0U3R5bGVVUkwobmV3U3R5bGUsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNldFN0eWxlKHN0eWxlVVJMKTtcbiAgICAgICAgdGhpcy5vbignc3R5bGUubG9hZCcsIHRoaXMuc2V0TG9nbyk7XG4gICAgICAgIGlmIChvcHRpb25zLnByb3RlY3RTY3JvbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIEhhbmRsZXIuZGlzYWJsZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdGlvbkN0cmwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29udHJvbChuZXcgTmF2aWdhdGlvbkNvbnRyb2woKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdHlsZVVSTChuZXdTdHlsZSA9IG51bGwsIG9wdGlvbikge1xuICAgICAgICBsZXQgc3R5bGVVUkw7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlVVJMKSB7XG4gICAgICAgICAgICBzdHlsZVVSTCA9IHRoaXMuc3R5bGVVUkw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3R5bGU7XG4gICAgICAgICAgICBpZiAobmV3U3R5bGUpIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG5ld1N0eWxlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG9wdGlvbi5zdHlsZSA/IG9wdGlvbi5zdHlsZSA6ICdpdm9yeSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZVVSTCA9IGAke0FQSV9VUkx9LyR7c3R5bGV9P2FwcF9pZD0ke3RoaXMuYXBwSWR9JmFwaV9rZXk9JHt0aGlzLmFwaUtleX0mbGFuZz0ke29wdGlvbi5sYW5nfWA7XG4gICAgICAgICAgICBEZWJ1Z2dlci5hbGVydE1pc3NpbmdLZXkodGhpcy5hcHBJZCB8fCAnZXJyb3InLCB0aGlzLmFwaUtleSB8fCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVVUkw7XG4gICAgfVxuXG4gICAgc2V0U3R5bGUoc3R5bGUsIG9wdGlvbiA9IHt9KSB7XG4gICAgICAgIGxldCBzdHlsZVVSTDtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVVUkwgPSAvXigoaHR0cFtzXT98ZnRwKTpcXC8pP1xcLz8oW146XFwvXFxzXSspKChcXC9cXHcrKSpcXC8pKFtcXHdcXC1cXC5dK1teIz9cXHNdKykoLiopPygjW1xcd1xcLV0rKT8kLztcbiAgICAgICAgY29uc3QgaXNTdHlsZVVSTCA9IHZhbGlkYXRlVVJMLmV4ZWMoc3R5bGUpO1xuICAgICAgICBpZiAoaXNTdHlsZVVSTCkge1xuICAgICAgICAgICAgc3R5bGVVUkwgPSBzdHlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlVVJMID0gdGhpcy5nZXRTdHlsZVVSTChzdHlsZSwgb3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zZXRTdHlsZShzdHlsZVVSTCwgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBzZXRMb2dvKHsgc3R5bGUgfSkge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTE9HT19DTEFTU05BTUUpWzBdKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IExvZ29Db250cm9sKCksICdib3R0b20tbGVmdCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHN0eWxlLnN0eWxlc2hlZXQubGF5ZXJzWzBdLnBhaW50WydiYWNrZ3JvdW5kLWNvbG9yJ107XG4gICAgICAgIHRoaXMubG9nb1NyYyA9IGlzTGlnaHQoYmFja2dyb3VuZENvbG9yKSA/ICcnIDogJ2RhcmsnO1xuICAgICAgICBjb25zdCBsb2dvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTE9HT19DTEFTU05BTUUpWzBdO1xuICAgICAgICBpZiAobG9nb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGxvZ29FbGVtZW50LmNsYXNzTmFtZSA9IGAke0xPR09fQ0xBU1NOQU1FfSAke3RoaXMubG9nb1NyY31gO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5NYXBNYWdpY0dMLnByb3RvdHlwZSA9IGV4dGVuZChNYXBNYWdpY0dMLnByb3RvdHlwZSxcbiAgICBNYXJrZXIsXG4gICAgUG9wdXAsXG4gICAgU3R5bGUsXG4gICAgR2VvbWV0cnksXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBNYXBNYWdpY0dMO1xuIiwiLy9AZmxvd1xuaW1wb3J0IHRpbnljb2xvciBmcm9tICd0aW55Y29sb3IyJ1xuXG5jb25zdCBpc0xpZ2h0ID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuaXNMaWdodCgpXG59O1xuXG5leHBvcnQge1xuICBpc0xpZ2h0XG59XG5cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwJztcbmltcG9ydCB7IGJpbmRBbGwsIGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyB0eXBlIEFuY2hvciwgYW5jaG9yVHJhbnNsYXRlLCBhcHBseUFuY2hvckNsYXNzIH0gZnJvbSAnLi9hbmNob3InO1xuaW1wb3J0IHsgRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCB0eXBlIFBvcHVwIGZyb20gJy4vcG9wdXAnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gXCIuLi9nZW8vbG5nX2xhdFwiO1xuaW1wb3J0IHR5cGUge01hcE1vdXNlRXZlbnQsIE1hcFRvdWNoRXZlbnR9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgZWxlbWVudD86IEhUTUxFbGVtZW50LFxuICAgIG9mZnNldD86IFBvaW50TGlrZSxcbiAgICBhbmNob3I/OiBBbmNob3IsXG4gICAgY29sb3I/OiBzdHJpbmcsXG4gICAgZHJhZ2dhYmxlPzogYm9vbGVhblxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFya2VyIGNvbXBvbmVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW29wdGlvbnMuZWxlbWVudF0gRE9NIGVsZW1lbnQgdG8gdXNlIGFzIGEgbWFya2VyLiBUaGUgZGVmYXVsdCBpcyBhIGxpZ2h0IGJsdWUsIGRyb3BsZXQtc2hhcGVkIFNWRyBtYXJrZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYW5jaG9yPSdjZW50ZXInXSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBNYXJrZXIgdGhhdCBzaG91bGQgYmUgcG9zaXRpb25lZCBjbG9zZXN0IHRvIHRoZSBjb29yZGluYXRlIHNldCB2aWEge0BsaW5rIE1hcmtlciNzZXRMbmdMYXR9LlxuICogICBPcHRpb25zIGFyZSBgJ2NlbnRlcidgLCBgJ3RvcCdgLCBgJ2JvdHRvbSdgLCBgJ2xlZnQnYCwgYCdyaWdodCdgLCBgJ3RvcC1sZWZ0J2AsIGAndG9wLXJpZ2h0J2AsIGAnYm90dG9tLWxlZnQnYCwgYW5kIGAnYm90dG9tLXJpZ2h0J2AuXG4gKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0XSBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNvbG9yPScjM0ZCMUNFJ10gVGhlIGNvbG9yIHRvIHVzZSBmb3IgdGhlIGRlZmF1bHQgbWFya2VyIGlmIG9wdGlvbnMuZWxlbWVudCBpcyBub3QgcHJvdmlkZWQuIFRoZSBkZWZhdWx0IGlzIGxpZ2h0IGJsdWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRyYWdnYWJsZT1mYWxzZV0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgYSBtYXJrZXIgaXMgYWJsZSB0byBiZSBkcmFnZ2VkIHRvIGEgbmV3IHBvc2l0aW9uIG9uIHRoZSBtYXAuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICogICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAqICAgLmFkZFRvKG1hcCk7XG4gKiBAc2VlIFtBZGQgY3VzdG9tIGljb25zIHdpdGggTWFya2Vyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jdXN0b20tbWFya2VyLWljb25zLylcbiAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBNYXJrZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLW1hcmtlci8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlciBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfYW5jaG9yOiBBbmNob3I7XG4gICAgX29mZnNldDogUG9pbnQ7XG4gICAgX2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9wb3B1cDogP1BvcHVwO1xuICAgIF9sbmdMYXQ6IExuZ0xhdDtcbiAgICBfcG9zOiA/UG9pbnQ7XG4gICAgX2NvbG9yOiA/c3RyaW5nO1xuICAgIF9kZWZhdWx0TWFya2VyOiBib29sZWFuO1xuICAgIF9kcmFnZ2FibGU6IGJvb2xlYW47XG4gICAgX3N0YXRlOiAnaW5hY3RpdmUnIHwgJ3BlbmRpbmcnIHwgJ2FjdGl2ZSc7IC8vIHVzZWQgZm9yIGhhbmRsaW5nIGRyYWcgZXZlbnRzXG4gICAgX3Bvc2l0aW9uRGVsdGE6ID9udW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAtLSB0aGUgY29uc3RydWN0b3IgdXNlZCB0byBhY2NlcHQgdGhlIGVsZW1lbnQgYXMgYVxuICAgICAgICAvLyByZXF1aXJlZCBmaXJzdCBhcmd1bWVudCwgYmVmb3JlIGl0IHdhcyBtYWRlIG9wdGlvbmFsLlxuICAgICAgICBpZiAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe2VsZW1lbnQ6IG9wdGlvbnN9LCBhcmd1bWVudHNbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX3VwZGF0ZScsXG4gICAgICAgICAgICAnX29uTW92ZScsXG4gICAgICAgICAgICAnX29uVXAnLFxuICAgICAgICAgICAgJ19hZGREcmFnSGFuZGxlcicsXG4gICAgICAgICAgICAnX29uTWFwQ2xpY2snXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbmNob3IgfHwgJ2NlbnRlcic7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvbG9yIHx8ICcjM0ZCMUNFJztcbiAgICAgICAgdGhpcy5fZHJhZ2dhYmxlID0gb3B0aW9ucyAmJiBvcHRpb25zLmRyYWdnYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnaW5hY3RpdmUnO1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0TWFya2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgbWFwIG1hcmtlciBTVkdcbiAgICAgICAgICAgIGNvbnN0IHN2ZyA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICc0MXB4Jyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJzI3cHgnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsICcwIDAgMjcgNDEnKTtcblxuICAgICAgICAgICAgY29uc3QgbWFya2VyTGFyZ2UgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIG1hcmtlckxhcmdlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2UnLCAnbm9uZScpO1xuICAgICAgICAgICAgbWFya2VyTGFyZ2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS13aWR0aCcsICcxJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICdub25lJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbC1ydWxlJywgJ2V2ZW5vZGQnKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZTEgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIHBhZ2UxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsLXJ1bGUnLCAnbm9uemVybycpO1xuXG4gICAgICAgICAgICBjb25zdCBzaGFkb3cgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIHNoYWRvdy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgzLjAsIDI5LjApJyk7XG4gICAgICAgICAgICBzaGFkb3cuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzAwMDAwMCcpO1xuXG4gICAgICAgICAgICBjb25zdCBlbGxpcHNlcyA9IFtcbiAgICAgICAgICAgICAgICB7J3J4JzogJzEwLjUnLCAncnknOiAnNS4yNTAwMjI3Myd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnMTAuNScsICdyeSc6ICc1LjI1MDAyMjczJ30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc5LjUnLCAncnknOiAnNC43NzI3NTAwNyd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnOC41JywgJ3J5JzogJzQuMjk1NDk5MzYnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzcuNScsICdyeSc6ICczLjgxODIyMzA4J30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc2LjUnLCAncnknOiAnMy4zNDA5NDY3OSd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnNS41JywgJ3J5JzogJzIuODYzNjcwNTEnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzQuNScsICdyeSc6ICcyLjM4NjM2ODY0J31cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiBlbGxpcHNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2UgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2VsbGlwc2UnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcGFjaXR5JywgJzAuMDQnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsICcxMC41Jyk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCAnNS44MDAyOTAwOCcpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3J4JywgZGF0YVsncngnXSk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncnknLCBkYXRhWydyeSddKTtcbiAgICAgICAgICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoZWxsaXBzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCB0aGlzLl9jb2xvcik7XG5cbiAgICAgICAgICAgIGNvbnN0IGJnUGF0aCA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICAgICAgYmdQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00yNywxMy41IEMyNywxOS4wNzQ2NDQgMjAuMjUwMDAxLDI3LjAwMDAwMiAxNC43NSwzNC41MDAwMDIgQzE0LjAxNjY2NSwzNS41MDAwMDQgMTIuOTgzMzM1LDM1LjUwMDAwNCAxMi4yNSwzNC41MDAwMDIgQzYuNzQ5OTk5MywyNy4wMDAwMDIgMCwxOS4yMjI1NjIgMCwxMy41IEMwLDYuMDQ0MTU1OSA2LjA0NDE1NTksMCAxMy41LDAgQzIwLjk1NTg0NCwwIDI3LDYuMDQ0MTU1OSAyNywxMy41IFonKTtcblxuICAgICAgICAgICAgYmFja2dyb3VuZC5hcHBlbmRDaGlsZChiZ1BhdGgpO1xuXG4gICAgICAgICAgICBjb25zdCBib3JkZXIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsICcwLjI1Jyk7XG4gICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzAwMDAwMCcpO1xuXG4gICAgICAgICAgICBjb25zdCBib3JkZXJQYXRoID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgICAgICBib3JkZXJQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00xMy41LDAgQzYuMDQ0MTU1OSwwIDAsNi4wNDQxNTU5IDAsMTMuNSBDMCwxOS4yMjI1NjIgNi43NDk5OTkzLDI3IDEyLjI1LDM0LjUgQzEzLDM1LjUyMjcyNyAxNC4wMTY2NjQsMzUuNTAwMDA0IDE0Ljc1LDM0LjUgQzIwLjI1MDAwMSwyNyAyNywxOS4wNzQ2NDQgMjcsMTMuNSBDMjcsNi4wNDQxNTU5IDIwLjk1NTg0NCwwIDEzLjUsMCBaIE0xMy41LDEgQzIwLjQxNTQwNCwxIDI2LDYuNTg0NTk2IDI2LDEzLjUgQzI2LDE1Ljg5ODY1NyAyNC40OTU1ODQsMTkuMTgxNDMxIDIyLjIyMDcwMywyMi43MzgyODEgQzE5Ljk0NTgyMywyNi4yOTUxMzIgMTYuNzA1MTE5LDMwLjE0MjE2NyAxMy45NDMzNTksMzMuOTA4MjAzIEMxMy43NDM0NDUsMzQuMTgwODE0IDEzLjYxMjcxNSwzNC4zMjI3MzggMTMuNSwzNC40NDE0MDYgQzEzLjM4NzI4NSwzNC4zMjI3MzggMTMuMjU2NTU1LDM0LjE4MDgxNCAxMy4wNTY2NDEsMzMuOTA4MjAzIEMxMC4yODQ0ODEsMzAuMTI3OTg1IDcuNDE0ODY4NCwyNi4zMTQxNTkgNS4wMTU2MjUsMjIuNzczNDM4IEMyLjYxNjM4MTYsMTkuMjMyNzE1IDEsMTUuOTUzNTM4IDEsMTMuNSBDMSw2LjU4NDU5NiA2LjU4NDU5NiwxIDEzLjUsMSBaJyk7XG5cbiAgICAgICAgICAgIGJvcmRlci5hcHBlbmRDaGlsZChib3JkZXJQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgbWFraSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgbWFraS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg2LjAsIDcuMCknKTtcbiAgICAgICAgICAgIG1ha2kuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnI0ZGRkZGRicpO1xuXG4gICAgICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4LjAsIDguMCknKTtcblxuICAgICAgICAgICAgY29uc3QgY2lyY2xlMSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyMwMDAwMDAnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ29wYWNpdHknLCAnMC4yNScpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCAnNS41Jyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCAnNS40OTk5OTYyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZTIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjRkZGRkZGJyk7XG4gICAgICAgICAgICBjaXJjbGUyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N5JywgJzUuNScpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsICc1LjQ5OTk5NjInKTtcblxuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNpcmNsZTEpO1xuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNpcmNsZTIpO1xuXG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChzaGFkb3cpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChib3JkZXIpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQobWFraSk7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChjaXJjbGVDb250YWluZXIpO1xuXG4gICAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGFnZTEpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHN2Zyk7XG5cbiAgICAgICAgICAgIC8vIGlmIG5vIGVsZW1lbnQgYW5kIG5vIG9mZnNldCBvcHRpb24gZ2l2ZW4gYXBwbHkgYW4gb2Zmc2V0IGZvciB0aGUgZGVmYXVsdCBtYXJrZXJcbiAgICAgICAgICAgIC8vIHRoZSAtMTQgYXMgdGhlIHkgdmFsdWUgb2YgdGhlIGRlZmF1bHQgbWFya2VyIG9mZnNldCB3YXMgZGV0ZXJtaW5lZCBhcyBmb2xsb3dzXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIG1hcmtlciB0aXAgaXMgYXQgdGhlIGNlbnRlciBvZiB0aGUgc2hhZG93IGVsbGlwc2UgZnJvbSB0aGUgZGVmYXVsdCBzdmdcbiAgICAgICAgICAgIC8vIHRoZSB5IHZhbHVlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHNoYWRvdyBlbGxpcHNlIHJlbGF0aXZlIHRvIHRoZSBzdmcgdG9wIGxlZnQgaXMgXCJzaGFkb3cgdHJhbnNmb3JtIHRyYW5zbGF0ZS15ICgyOS4wKSArIGVsbGlwc2UgY3kgKDUuODAwMjkwMDgpXCJcbiAgICAgICAgICAgIC8vIG9mZnNldCB0byB0aGUgc3ZnIGNlbnRlciBcImhlaWdodCAoNDEgLyAyKVwiIGdpdmVzICgyOS4wICsgNS44MDAyOTAwOCkgLSAoNDEgLyAyKSBhbmQgcm91bmRlZCBmb3IgYW4gaW50ZWdlciBwaXhlbCBvZmZzZXQgZ2l2ZXMgMTRcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlIGlzIHVzZWQgdG8gbW92ZSB0aGUgbWFya2VyIHVwIGZyb20gdGhlIGNlbnRlciBzbyB0aGUgdGlwIGlzIGF0IHRoZSBNYXJrZXIgbG5nTGF0XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQgfHwgWzAsIC0xNF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCB8fCBbMCwgMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXJrZXInKTtcblxuICAgICAgICB0aGlzLl9wb3B1cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIG1hcmtlciB0byBhIG1hcFxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXBcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIG1hcC5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgbWFwLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgdGhpcy5zZXREcmFnZ2FibGUodGhpcy5fZHJhZ2dhYmxlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgLy8gSWYgd2UgYXR0YWNoZWQgdGhlIGBjbGlja2AgbGlzdGVuZXIgdG8gdGhlIG1hcmtlciBlbGVtZW50LCB0aGUgcG9wdXBcbiAgICAgICAgLy8gd291bGQgY2xvc2Ugb25jZSB0aGUgZXZlbnQgcHJvcG9nYXRlZCB0byBgbWFwYCBkdWUgdG8gdGhlXG4gICAgICAgIC8vIGBQb3B1cCNfb25DbGlja0Nsb3NlYCBsaXN0ZW5lci5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX29uTWFwQ2xpY2spO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIG1hcmtlciBmcm9tIGEgbWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpLmFkZFRvKG1hcCk7XG4gICAgICogbWFya2VyLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9vbk1hcENsaWNrKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZWRvd24nLCB0aGlzLl9hZGREcmFnSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgfVxuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHRoaXMuX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcidzIGdlb2dyYXBoaWNhbCBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoZSBsb25naXR1ZGUgb2YgdGhlIHJlc3VsdCBtYXkgZGlmZmVyIGJ5IGEgbXVsdGlwbGUgb2YgMzYwIGRlZ3JlZXMgZnJvbSB0aGUgbG9uZ2l0dWRlIHByZXZpb3VzbHlcbiAgICAgKiBzZXQgYnkgYHNldExuZ0xhdGAgYmVjYXVzZSBgTWFya2VyYCB3cmFwcyB0aGUgYW5jaG9yIGxvbmdpdHVkZSBhY3Jvc3MgY29waWVzIG9mIHRoZSB3b3JsZCB0byBrZWVwXG4gICAgICogdGhlIG1hcmtlciBvbiBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fVxuICAgICAqL1xuICAgIGdldExuZ0xhdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hcmtlcidzIGdlb2dyYXBoaWNhbCBwb3NpdGlvbiBhbmQgbW92ZSBpdC5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRMbmdMYXQobG5nbGF0OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX2xuZ0xhdCA9IExuZ0xhdC5jb252ZXJ0KGxuZ2xhdCk7XG4gICAgICAgIHRoaXMuX3BvcyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkgdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWFya2VyYCdzIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIFBvcHVwIHRvIHRoZSBNYXJrZXJcbiAgICAgKiBAcGFyYW0gcG9wdXAgYW4gaW5zdGFuY2Ugb2YgdGhlIGBQb3B1cGAgY2xhc3MuIElmIHVuZGVmaW5lZCBvciBudWxsLCBhbnkgcG9wdXBcbiAgICAgKiBzZXQgb24gdGhpcyBgTWFya2VyYCBpbnN0YW5jZSBpcyB1bnNldFxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldFBvcHVwKHBvcHVwOiA/UG9wdXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgaWYgKCEoJ29mZnNldCcgaW4gcG9wdXAub3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXJIZWlnaHQgPSA0MSAtICg1LjggLyAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXJSYWRpdXMgPSAxMy41O1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVhck9mZnNldCA9IE1hdGguc3FydChNYXRoLnBvdyhtYXJrZXJSYWRpdXMsIDIpIC8gMik7XG4gICAgICAgICAgICAgICAgcG9wdXAub3B0aW9ucy5vZmZzZXQgPSB0aGlzLl9kZWZhdWx0TWFya2VyID8ge1xuICAgICAgICAgICAgICAgICAgICAndG9wJzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAndG9wLWxlZnQnOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICd0b3AtcmlnaHQnOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICdib3R0b20nOiBbMCwgLW1hcmtlckhlaWdodF0sXG4gICAgICAgICAgICAgICAgICAgICdib3R0b20tbGVmdCc6IFtsaW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogWy1saW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IFttYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdLFxuICAgICAgICAgICAgICAgICAgICAncmlnaHQnOiBbLW1hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV1cbiAgICAgICAgICAgICAgICB9IDogdGhpcy5fb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sbmdMYXQpIHRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX29uTWFwQ2xpY2soZTogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwICYmICh0YXJnZXRFbGVtZW50ID09PSBlbGVtZW50IHx8IGVsZW1lbnQuY29udGFpbnMoKHRhcmdldEVsZW1lbnQ6IGFueSkpKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgUG9wdXAgaW5zdGFuY2UgdGhhdCBpcyBib3VuZCB0byB0aGUgTWFya2VyXG4gICAgICogQHJldHVybnMge1BvcHVwfSBwb3B1cFxuICAgICAqL1xuICAgIGdldFBvcHVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgb3IgY2xvc2VzIHRoZSBib3VuZCBwb3B1cCwgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgdG9nZ2xlUG9wdXAoKSB7XG4gICAgICAgIGNvbnN0IHBvcHVwID0gdGhpcy5fcG9wdXA7XG5cbiAgICAgICAgaWYgKCFwb3B1cCkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGVsc2UgaWYgKHBvcHVwLmlzT3BlbigpKSBwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxzZSBwb3B1cC5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfdXBkYXRlKGU/OiB7dHlwZTogJ21vdmUnIHwgJ21vdmVlbmQnfSkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIHRoaXMuX21hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gdGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KS5fYWRkKHRoaXMuX29mZnNldCk7XG5cbiAgICAgICAgLy8gYmVjYXVzZSByb3VuZGluZyB0aGUgY29vcmRpbmF0ZXMgYXQgZXZlcnkgYG1vdmVgIGV2ZW50IGNhdXNlcyBzdHV0dGVyZWQgem9vbWluZ1xuICAgICAgICAvLyB3ZSBvbmx5IHJvdW5kIHRoZW0gd2hlbiBfdXBkYXRlIGlzIGNhbGxlZCB3aXRoIGBtb3ZlZW5kYCBvciB3aGVuIGl0cyBjYWxsZWQgd2l0aFxuICAgICAgICAvLyBubyBhcmd1bWVudHMgKHdoZW4gdGhlIE1hcmtlciBpcyBpbml0aWFsaXplZCBvciBNYXJrZXIjc2V0TG5nTGF0IGlzIGludm9rZWQpLlxuICAgICAgICBpZiAoIWUgfHwgZS50eXBlID09PSBcIm1vdmVlbmRcIikge1xuICAgICAgICAgICAgdGhpcy5fcG9zID0gdGhpcy5fcG9zLnJvdW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBET00uc2V0VHJhbnNmb3JtKHRoaXMuX2VsZW1lbnQsIGAke2FuY2hvclRyYW5zbGF0ZVt0aGlzLl9hbmNob3JdfSB0cmFuc2xhdGUoJHt0aGlzLl9wb3MueH1weCwgJHt0aGlzLl9wb3MueX1weClgKTtcbiAgICAgICAgYXBwbHlBbmNob3JDbGFzcyh0aGlzLl9lbGVtZW50LCB0aGlzLl9hbmNob3IsICdtYXJrZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcidzIG9mZnNldC5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9XG4gICAgICovXG4gICAgZ2V0T2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9mZnNldCBvZiB0aGUgbWFya2VyXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE9mZnNldChvZmZzZXQ6IFBvaW50TGlrZSkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfb25Nb3ZlKGU6IE1hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3BvcyA9IGUucG9pbnQuc3ViKHRoaXMuX3Bvc2l0aW9uRGVsdGEpO1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSB0aGlzLl9tYXAudW5wcm9qZWN0KHRoaXMuX3Bvcyk7XG4gICAgICAgIHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIC8vIHN1cHByZXNzIGNsaWNrIGV2ZW50IHNvIHRoYXQgcG9wdXBzIGRvbid0IHRvZ2dsZSBvbiBkcmFnXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICAvLyBtYWtlIHN1cmUgZHJhZ3N0YXJ0IG9ubHkgZmlyZXMgb24gdGhlIGZpcnN0IG1vdmUgZXZlbnQgYWZ0ZXIgbW91c2Vkb3duLlxuICAgICAgICAvLyB0aGlzIGNhbid0IGJlIG9uIG1vdXNlZG93biBiZWNhdXNlIHRoYXQgZXZlbnQgZG9lc24ndCBuZWNlc3NhcmlseVxuICAgICAgICAvLyBpbXBseSB0aGF0IGEgZHJhZyBpcyBhYm91dCB0byBoYXBwZW4uXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdhY3RpdmUnO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gZHJhZ2dpbmcgc3RhcnRzXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IGRyYWdzdGFydFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBvYmplY3QgdGhhdCBpcyBiZWluZyBkcmFnZ2VkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWdzdGFydCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGlsZSBkcmFnZ2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgZHJhZ1xuICAgICAgICAgKiBAbWVtYmVyb2YgTWFya2VyXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge01hcmtlcn0gbWFya2VyIG9iamVjdCB0aGF0IGlzIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWcnKSk7XG4gICAgfVxuXG4gICAgX29uVXAoKSB7XG4gICAgICAgIC8vIHJldmVydCB0byBub3JtYWwgcG9pbnRlciBldmVudCBoYW5kbGluZ1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uRGVsdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuXG4gICAgICAgIC8vIG9ubHkgZmlyZSBkcmFnZW5kIGlmIGl0IHdhcyBwcmVjZWRlZCBieSBhdCBsZWFzdCBvbmUgZHJhZyBldmVudFxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdhY3RpdmUnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgbWFya2VyIGlzIGZpbmlzaGVkIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICAgICpcbiAgICAgICAgICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBvYmplY3QgdGhhdCB3YXMgZHJhZ2dlZFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWdlbmQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdpbmFjdGl2ZSc7XG4gICAgfVxuXG4gICAgX2FkZERyYWdIYW5kbGVyKGU6IE1hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50LmNvbnRhaW5zKChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0OiBhbnkpKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgcGl4ZWwgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2xpY2sgcG9pbnRcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgbWFya2VyIHBvc2l0aW9uLCB3aXRoIHRoZSBvZmZzZXQgYWNjb3VudGVkIGZvci4gVGhlbiB3ZVxuICAgICAgICAgICAgLy8gY2FuIHN1YnRyYWN0IHRoaXMgZGlzdGFuY2UgZnJvbSB0aGUgbW91c2Vtb3ZlIGV2ZW50J3MgcG9zaXRpb25cbiAgICAgICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGUgbmV3IG1hcmtlciBwb3NpdGlvbi5cbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGRvIHRoaXMsIHRoZSBtYXJrZXIgJ2p1bXBzJyB0byB0aGUgY2xpY2sgcG9zaXRpb25cbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIGEgamFycmluZyBVWCBlZmZlY3QuXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkRlbHRhID0gZS5wb2ludC5zdWIodGhpcy5fcG9zKS5hZGQodGhpcy5fb2Zmc2V0KTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub25jZSgnbW91c2V1cCcsIHRoaXMuX29uVXApO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uY2UoJ3RvdWNoZW5kJywgdGhpcy5fb25VcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgZHJhZ2dhYmxlYCBwcm9wZXJ0eSBhbmQgZnVuY3Rpb25hbGl0eSBvZiB0aGUgbWFya2VyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkQmVEcmFnZ2FibGU9ZmFsc2VdIFR1cm5zIGRyYWcgZnVuY3Rpb25hbGl0eSBvbi9vZmZcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXREcmFnZ2FibGUoc2hvdWxkQmVEcmFnZ2FibGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fZHJhZ2dhYmxlID0gISFzaG91bGRCZURyYWdnYWJsZTsgLy8gY29udmVydCBwb3NzaWJsZSB1bmRlZmluZWQgdmFsdWUgdG8gZmFsc2VcblxuICAgICAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBtYXAgbWF5IG5vdCBleGlzdCB5ZXRcbiAgICAgICAgLy8gZS5nLiB3aGVuIHNldERyYWdnYWJsZSBpcyBjYWxsZWQgYmVmb3JlIGFkZFRvXG4gICAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRCZURyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5vbignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5vbigndG91Y2hzdGFydCcsIHRoaXMuX2FkZERyYWdIYW5kbGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ3RvdWNoc3RhcnQnLCB0aGlzLl9hZGREcmFnSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcmtlciBjYW4gYmUgZHJhZ2dlZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzRHJhZ2dhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJhZ2dhYmxlO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IEV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwsIHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuLi9tYXJrZXInO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIHsgQW5pbWF0aW9uT3B0aW9ucywgQ2FtZXJhT3B0aW9ucyB9IGZyb20gJy4uL2NhbWVyYSc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBwb3NpdGlvbk9wdGlvbnM/OiBQb3NpdGlvbk9wdGlvbnMsXG4gICAgZml0Qm91bmRzT3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMgJiBDYW1lcmFPcHRpb25zLFxuICAgIHRyYWNrVXNlckxvY2F0aW9uPzogYm9vbGVhbixcbiAgICBzaG93VXNlckxvY2F0aW9uPzogYm9vbGVhblxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgcG9zaXRpb25PcHRpb25zOiB7XG4gICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UsXG4gICAgICAgIG1heGltdW1BZ2U6IDAsXG4gICAgICAgIHRpbWVvdXQ6IDYwMDAgLyogNiBzZWMgKi9cbiAgICB9LFxuICAgIGZpdEJvdW5kc09wdGlvbnM6IHtcbiAgICAgICAgbWF4Wm9vbTogMTVcbiAgICB9LFxuICAgIHRyYWNrVXNlckxvY2F0aW9uOiBmYWxzZSxcbiAgICBzaG93VXNlckxvY2F0aW9uOiB0cnVlXG59O1xuY29uc3QgY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuXG5sZXQgc3VwcG9ydHNHZW9sb2NhdGlvbjtcblxuZnVuY3Rpb24gY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQoY2FsbGJhY2spIHtcbiAgICBpZiAoc3VwcG9ydHNHZW9sb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHN1cHBvcnRzR2VvbG9jYXRpb24pO1xuXG4gICAgfSBlbHNlIGlmICh3aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gbmF2aWdhdG9yLnBlcm1pc3Npb25zIGhhcyBpbmNvbXBsZXRlIGJyb3dzZXIgc3VwcG9ydFxuICAgICAgICAvLyBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9cGVybWlzc2lvbnMtYXBpXG4gICAgICAgIC8vIFRlc3QgZm9yIHRoZSBjYXNlIHdoZXJlIGEgYnJvd3NlciBkaXNhYmxlcyBHZW9sb2NhdGlvbiBiZWNhdXNlIG9mIGFuXG4gICAgICAgIC8vIGluc2VjdXJlIG9yaWdpblxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogJ2dlb2xvY2F0aW9uJyB9KS50aGVuKChwKSA9PiB7XG4gICAgICAgICAgICBzdXBwb3J0c0dlb2xvY2F0aW9uID0gcC5zdGF0ZSAhPT0gJ2RlbmllZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhzdXBwb3J0c0dlb2xvY2F0aW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzdXBwb3J0c0dlb2xvY2F0aW9uID0gISF3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uO1xuICAgICAgICBjYWxsYmFjayhzdXBwb3J0c0dlb2xvY2F0aW9uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgR2VvbG9jYXRlQ29udHJvbGAgY29udHJvbCBwcm92aWRlcyBhIGJ1dHRvbiB0aGF0IHVzZXMgdGhlIGJyb3dzZXIncyBnZW9sb2NhdGlvblxuICogQVBJIHRvIGxvY2F0ZSB0aGUgdXNlciBvbiB0aGUgbWFwLlxuICpcbiAqIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBnZW9sb2NhdGlvbixcbiAqIGFuZCBzb21lIHVzZXJzIG1heSBkaXNhYmxlIHRoZSBmZWF0dXJlLiBHZW9sb2NhdGlvbiBzdXBwb3J0IGZvciBtb2Rlcm5cbiAqIGJyb3dzZXJzIGluY2x1ZGluZyBDaHJvbWUgcmVxdWlyZXMgc2l0ZXMgdG8gYmUgc2VydmVkIG92ZXIgSFRUUFMuIElmXG4gKiBnZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUsIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgbm90XG4gKiBiZSB2aXNpYmxlLlxuICpcbiAqIFRoZSB6b29tIGxldmVsIGFwcGxpZWQgd2lsbCBkZXBlbmQgb24gdGhlIGFjY3VyYWN5IG9mIHRoZSBnZW9sb2NhdGlvbiBwcm92aWRlZCBieSB0aGUgZGV2aWNlLlxuICpcbiAqIFRoZSBHZW9sb2NhdGVDb250cm9sIGhhcyB0d28gbW9kZXMuIElmIGB0cmFja1VzZXJMb2NhdGlvbmAgaXMgYGZhbHNlYCAoZGVmYXVsdCkgdGhlIGNvbnRyb2wgYWN0cyBhcyBhIGJ1dHRvbiwgd2hpY2ggd2hlbiBwcmVzc2VkIHdpbGwgc2V0IHRoZSBtYXAncyBjYW1lcmEgdG8gdGFyZ2V0IHRoZSB1c2VyIGxvY2F0aW9uLiBJZiB0aGUgdXNlciBtb3ZlcywgdGhlIG1hcCB3b24ndCB1cGRhdGUuIFRoaXMgaXMgbW9zdCBzdWl0ZWQgZm9yIHRoZSBkZXNrdG9wLiBJZiBgdHJhY2tVc2VyTG9jYXRpb25gIGlzIGB0cnVlYCB0aGUgY29udHJvbCBhY3RzIGFzIGEgdG9nZ2xlIGJ1dHRvbiB0aGF0IHdoZW4gYWN0aXZlIHRoZSB1c2VyJ3MgbG9jYXRpb24gaXMgYWN0aXZlbHkgbW9uaXRvcmVkIGZvciBjaGFuZ2VzLiBJbiB0aGlzIG1vZGUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wgaGFzIHRocmVlIHN0YXRlczpcbiAqICogYWN0aXZlIC0gdGhlIG1hcCdzIGNhbWVyYSBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgYXMgdGhlIHVzZXIncyBsb2NhdGlvbiBjaGFuZ2VzLCBrZWVwaW5nIHRoZSBsb2NhdGlvbiBkb3QgaW4gdGhlIGNlbnRlci5cbiAqICogcGFzc2l2ZSAtIHRoZSB1c2VyJ3MgbG9jYXRpb24gZG90IGF1dG9tYXRpY2FsbHkgdXBkYXRlcywgYnV0IHRoZSBtYXAncyBjYW1lcmEgZG9lcyBub3QuXG4gKiAqIGRpc2FibGVkXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnBvc2l0aW9uT3B0aW9ucz17ZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSwgdGltZW91dDogNjAwMH1dIEEgR2VvbG9jYXRpb24gQVBJIFtQb3NpdGlvbk9wdGlvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbk9wdGlvbnMpIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5maXRCb3VuZHNPcHRpb25zPXttYXhab29tOiAxNX1dIEEgW2BmaXRCb3VuZHNgXSgjTWFwI2ZpdEJvdW5kcykgb3B0aW9ucyBvYmplY3QgdG8gdXNlIHdoZW4gdGhlIG1hcCBpcyBwYW5uZWQgYW5kIHpvb21lZCB0byB0aGUgdXNlcidzIGxvY2F0aW9uLiBUaGUgZGVmYXVsdCBpcyB0byB1c2UgYSBgbWF4Wm9vbWAgb2YgMTUgdG8gbGltaXQgaG93IGZhciB0aGUgbWFwIHdpbGwgem9vbSBpbiBmb3IgdmVyeSBhY2N1cmF0ZSBsb2NhdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudHJhY2tVc2VyTG9jYXRpb249ZmFsc2VdIElmIGB0cnVlYCB0aGUgR2VvbG9jYXRlIENvbnRyb2wgYmVjb21lcyBhIHRvZ2dsZSBidXR0b24gYW5kIHdoZW4gYWN0aXZlIHRoZSBtYXAgd2lsbCByZWNlaXZlIHVwZGF0ZXMgdG8gdGhlIHVzZXIncyBsb2NhdGlvbiBhcyBpdCBjaGFuZ2VzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNob3dVc2VyTG9jYXRpb249dHJ1ZV0gQnkgZGVmYXVsdCBhIGRvdCB3aWxsIGJlIHNob3duIG9uIHRoZSBtYXAgYXQgdGhlIHVzZXIncyBsb2NhdGlvbi4gU2V0IHRvIGBmYWxzZWAgdG8gZGlzYWJsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gKiB9KSk7XG4gKiBAc2VlIFtMb2NhdGUgdGhlIHVzZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbG9jYXRlLXVzZXIvKVxuICovXG5jbGFzcyBHZW9sb2NhdGVDb250cm9sIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX21hcDogTWFwO1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2RvdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9nZW9sb2NhdGVCdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF9nZW9sb2NhdGlvbldhdGNoSUQ6IG51bWJlcjtcbiAgICBfdGltZW91dElkOiA/VGltZW91dElEO1xuICAgIF93YXRjaFN0YXRlOiBzdHJpbmc7XG4gICAgX2xhc3RLbm93blBvc2l0aW9uOiBhbnk7XG4gICAgX3VzZXJMb2NhdGlvbkRvdE1hcmtlcjogTWFya2VyO1xuICAgIF9zZXR1cDogYm9vbGVhbjsgLy8gc2V0IHRvIHRydWUgb25jZSB0aGUgY29udHJvbCBoYXMgYmVlbiBzZXR1cFxuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25TdWNjZXNzJyxcbiAgICAgICAgICAgICdfb25FcnJvcicsXG4gICAgICAgICAgICAnX2ZpbmlzaCcsXG4gICAgICAgICAgICAnX3NldHVwVUknLFxuICAgICAgICAgICAgJ191cGRhdGVDYW1lcmEnLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXInXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgYCR7Y2xhc3NOYW1lfSAke2NsYXNzTmFtZX0tZ3JvdXBgKTtcbiAgICAgICAgY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSBnZW9sb2NhdGlvbiB3YXRjaCBpZiBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciB0aGUgbWFya2VyIGZyb20gdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24gJiYgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgX29uU3VjY2Vzcyhwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgLy8ga2VlcCBhIHJlY29yZCBvZiB0aGUgcG9zaXRpb24gc28gdGhhdCBpZiB0aGUgc3RhdGUgaXMgQkFDS0dST1VORCBhbmQgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGNsaWNrcyB0aGUgYnV0dG9uLCB3ZSBjYW4gbW92ZSB0byBBQ1RJVkVfTE9DSyBpbW1lZGlhdGVseSB3aXRob3V0IHdhaXRpbmcgZm9yXG4gICAgICAgICAgICAvLyB3YXRjaFBvc2l0aW9uIHRvIHRyaWdnZXIgX29uU3VjY2Vzc1xuICAgICAgICAgICAgdGhpcy5fbGFzdEtub3duUG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0xPQ0snO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORF9FUlJPUic6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdCQUNLR1JPVU5EJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHNob3dVc2VyTG9jYXRpb24gYW5kIHRoZSB3YXRjaCBzdGF0ZSBpc24ndCBvZmYgdGhlbiB1cGRhdGUgdGhlIG1hcmtlciBsb2NhdGlvblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24gJiYgdGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcihwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpbiBub3JtYWwgbW9kZSAobm90IHdhdGNoIG1vZGUpLCBvciBpZiBpbiB3YXRjaCBtb2RlIGFuZCB0aGUgc3RhdGUgaXMgYWN0aXZlIHdhdGNoXG4gICAgICAgIC8vIHRoZW4gdXBkYXRlIHRoZSBjYW1lcmFcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24gfHwgdGhpcy5fd2F0Y2hTdGF0ZSA9PT0gJ0FDVElWRV9MT0NLJykge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZ2VvbG9jYXRlJywgcG9zaXRpb24pKTtcbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNhbWVyYShwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IExuZ0xhdChwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3k7XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpdEJvdW5kcyhjZW50ZXIudG9Cb3VuZHMocmFkaXVzKSwgdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMsIHtcbiAgICAgICAgICAgIGdlb2xvY2F0ZVNvdXJjZTogdHJ1ZSAvLyB0YWcgdGhpcyBjYW1lcmEgY2hhbmdlIHNvIGl0IHdvbid0IGNhdXNlIHRoZSBjb250cm9sIHRvIGNoYW5nZSB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXJrZXIocG9zaXRpb246ID9Qb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQoW3Bvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZV0pLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25FcnJvcihlcnJvcjogUG9zaXRpb25FcnJvcikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFBFUk1JU1NJT05fREVOSUVEXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJXYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9FUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gbWFya2VyIGdyZXlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORF9FUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gbWFya2VyIGdyZXlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicgJiYgdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2Vycm9yJywgZXJyb3IpKTtcblxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dElkKSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpOyB9XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBVSShzdXBwb3J0ZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHN1cHBvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUsIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgbm90IGJlIHZpc2libGUuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGU6IE1vdXNlRXZlbnQpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbiA9IERPTS5jcmVhdGUoJ2J1dHRvbicsXG4gICAgICAgICAgICBgJHtjbGFzc05hbWV9LWljb24gJHtjbGFzc05hbWV9LWdlb2xvY2F0ZWAsXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0dlb2xvY2F0ZScpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiBzaG93VXNlckxvY2F0aW9uIGlzIGVuYWJsZWQsIGtlZXAgdGhlIEdlb2xvY2F0ZSBidXR0b24gZGlzYWJsZWQgdW50aWwgdGhlIGRldmljZSBsb2NhdGlvbiBtYXJrZXIgaXMgc2V0dXAgb24gdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QnKTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyID0gbmV3IE1hcmtlcih0aGlzLl9kb3RFbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlci5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLl9zZXR1cCA9IHRydWU7XG5cbiAgICAgICAgLy8gd2hlbiB0aGUgY2FtZXJhIGlzIGNoYW5nZWQgKGFuZCBpdCdzIG5vdCBhcyBhIHJlc3VsdCBvZiB0aGUgR2VvbG9jYXRpb24gQ29udHJvbCkgY2hhbmdlXG4gICAgICAgIC8vIHRoZSB3YXRjaCBtb2RlIHRvIGJhY2tncm91bmQgd2F0Y2gsIHNvIHRoYXQgdGhlIG1hcmtlciBpcyB1cGRhdGVkIGJ1dCBub3QgdGhlIGNhbWVyYS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3Zlc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lmdlb2xvY2F0ZVNvdXJjZSAmJiB0aGlzLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbmVuZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBnZW9sb2NhdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYCBpZiBjYWxsZWQgYmVmb3JlIGNvbnRyb2wgd2FzIGFkZGVkIHRvIGEgbWFwLCBvdGhlcndpc2UgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICovXG4gICAgdHJpZ2dlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXR1cCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0dlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgd2F0Y2hTdGF0ZSBhbmQgZG8gYW55IG91dGdvaW5nIHN0YXRlIGNsZWFudXBcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnT0ZGJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9uIHRoZSBHZW9sb2NhdGUgQ29udHJvbFxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnV0FJVElOR19BQ1RJVkUnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25zdGFydCcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EX0VSUk9SJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9mZiB0aGUgR2VvbG9jYXRlIENvbnRyb2xcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uZW5kJykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfTE9DSyc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FtZXJhIHRvIGxhc3Qga25vd24gbG9jYXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGFzdEtub3duUG9zaXRpb24pIHRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbnN0YXJ0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbmNvbWluZyBzdGF0ZSBzZXR1cFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdPRkYnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtYW5hZ2UgZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbiAvIGdlb2xvY2F0aW9uLmNsZWFyV2F0Y2hcbiAgICAgICAgICAgIGlmICh0aGlzLl93YXRjaFN0YXRlID09PSAnT0ZGJyAmJiB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGNsZWFyIHdhdGNoUG9zaXRpb24gYXMgd2UndmUgY2hhbmdlZCB0byBhbiBPRkYgc3RhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcldhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZW5hYmxlIHdhdGNoUG9zaXRpb24gc2luY2Ugd2F0Y2hTdGF0ZSBpcyBub3QgT0ZGIGFuZCB0aGVyZSBpcyBubyB3YXRjaFBvc2l0aW9uIGFscmVhZHkgcnVubmluZ1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAndHJ1ZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID0gd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblN1Y2Nlc3MsIHRoaXMuX29uRXJyb3IsIHRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gVGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdCB3ZSBzdGlsbCBjYWxsIGZpbmlzaCgpIGV2ZW4gaWZcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGRlY2xpbmVzIHRvIHNoYXJlIHRoZWlyIGxvY2F0aW9uIGluIEZpcmVmb3hcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fZmluaXNoLCAxMDAwMCAvKiAxMHNlYyAqLyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfY2xlYXJXYXRjaCgpIHtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCk7XG5cbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXIobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb2xvY2F0ZUNvbnRyb2w7XG5cbi8qIEdlb2xvY2F0ZSBDb250cm9sIFdhdGNoIFN0YXRlc1xuICogVGhpcyBpcyB0aGUgcHJpdmF0ZSBzdGF0ZSBvZiB0aGUgY29udHJvbC5cbiAqXG4gKiBPRkZcbiAqICAgIG9mZi9pbmFjdGl2ZVxuICogV0FJVElOR19BQ1RJVkVcbiAqICAgIEdlb2xvY2F0ZSBDb250cm9sIHdhcyBjbGlja2VkIGJ1dCBzdGlsbCB3YWl0aW5nIGZvciBHZW9sb2NhdGlvbiBBUEkgcmVzcG9uc2Ugd2l0aCB1c2VyIGxvY2F0aW9uXG4gKiBBQ1RJVkVfTE9DS1xuICogICAgU2hvd2luZyB0aGUgdXNlciBsb2NhdGlvbiBhcyBhIGRvdCBBTkQgdHJhY2tpbmcgdGhlIGNhbWVyYSB0byBiZSBmaXhlZCB0byB0aGVpciBsb2NhdGlvbi4gSWYgdGhlaXIgbG9jYXRpb24gY2hhbmdlcyB0aGUgbWFwIG1vdmVzIHRvIGZvbGxvdy5cbiAqIEFDVElWRV9FUlJPUlxuICogICAgVGhlcmUgd2FzIGVuIGVycm9yIGZyb20gdGhlIEdlb2xvY2F0aW9uIEFQSSB3aGlsZSB0cnlpbmcgdG8gc2hvdyBhbmQgdHJhY2sgdGhlIHVzZXIgbG9jYXRpb24uXG4gKiBCQUNLR1JPVU5EXG4gKiAgICBTaG93aW5nIHRoZSB1c2VyIGxvY2F0aW9uIGFzIGEgZG90IGJ1dCB0aGUgY2FtZXJhIGRvZXNuJ3QgZm9sbG93IHRoZWlyIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBCQUNLR1JPVU5EX0VSUk9SXG4gKiAgICBUaGVyZSB3YXMgYW4gZXJyb3IgZnJvbSB0aGUgR2VvbG9jYXRpb24gQVBJIHdoaWxlIHRyeWluZyB0byBzaG93IChidXQgbm90IHRyYWNrKSB0aGUgdXNlciBsb2NhdGlvbi5cbiAqL1xuXG5cbi8qKlxuICogRmlyZWQgb24gZWFjaCBHZW9sb2NhdGlvbiBBUEkgcG9zaXRpb24gdXBkYXRlIHdoaWNoIHJldHVybmVkIGFzIHN1Y2Nlc3MuXG4gKlxuICogQGV2ZW50IGdlb2xvY2F0ZVxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtQb3NpdGlvbn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb24pIG9iamVjdCBmcm9tIHRoZSBjYWxsYmFjayBpbiBbR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi9nZXRDdXJyZW50UG9zaXRpb24pIG9yIFtHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi93YXRjaFBvc2l0aW9uKS5cbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgd2hpY2ggcmV0dXJuZWQgYXMgYW4gZXJyb3IuXG4gKlxuICogQGV2ZW50IGVycm9yXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1Bvc2l0aW9uRXJyb3J9IGRhdGEgVGhlIHJldHVybmVkIFtQb3NpdGlvbkVycm9yXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb25FcnJvcikgb2JqZWN0IGZyb20gdGhlIGNhbGxiYWNrIGluIFtHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL2dldEN1cnJlbnRQb3NpdGlvbikgb3IgW0dlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL3dhdGNoUG9zaXRpb24pLlxuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIEdlb2xvY2F0ZSBDb250cm9sIGNoYW5nZXMgdG8gdGhlIGFjdGl2ZSBsb2NrIHN0YXRlLCB3aGljaCBoYXBwZW5zIGVpdGhlciB1cG9uIGZpcnN0IG9idGFpbmluZyBhIHN1Y2Nlc3NmdWwgR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIGZvciB0aGUgdXNlciAoYSBnZW9sb2NhdGUgZXZlbnQgd2lsbCBmb2xsb3cpLCBvciB0aGUgdXNlciBjbGlja3MgdGhlIGdlb2xvY2F0ZSBidXR0b24gd2hlbiBpbiB0aGUgYmFja2dyb3VuZCBzdGF0ZSB3aGljaCB1c2VzIHRoZSBsYXN0IGtub3duIHBvc2l0aW9uIHRvIHJlY2VudGVyIHRoZSBtYXAgYW5kIGVudGVyIGFjdGl2ZSBsb2NrIHN0YXRlIChubyBnZW9sb2NhdGUgZXZlbnQgd2lsbCBmb2xsb3cgdW5sZXNzIHRoZSB1c2VycydzIGxvY2F0aW9uIGNoYW5nZXMpLlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgR2VvbG9jYXRlIENvbnRyb2wgY2hhbmdlcyB0byB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggaGFwcGVucyB3aGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBjYW1lcmEgZHVyaW5nIGFuIGFjdGl2ZSBwb3NpdGlvbiBsb2NrLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuIHRyYWNrVXNlckxvY2F0aW9uIGlzIHRydWUuIEluIHRoZSBiYWNrZ3JvdW5kIHN0YXRlLCB0aGUgZG90IG9uIHRoZSBtYXAgd2lsbCB1cGRhdGUgd2l0aCBsb2NhdGlvbiB1cGRhdGVzIGJ1dCB0aGUgY2FtZXJhIHdpbGwgbm90LlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbmVuZFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICpcbiAqL1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxudHlwZSBVbml0ID0gJ2ltcGVyaWFsJyB8ICdtZXRyaWMnIHwgJ25hdXRpY2FsJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIG1heFdpZHRoPzogbnVtYmVyLFxuICAgIHVuaXQ/OiBVbml0O1xufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgbWF4V2lkdGg6IDEwMCxcbiAgICB1bml0OiAnbWV0cmljJ1xufTtcblxuLyoqXG4gKiBBIGBTY2FsZUNvbnRyb2xgIGNvbnRyb2wgZGlzcGxheXMgdGhlIHJhdGlvIG9mIGEgZGlzdGFuY2Ugb24gdGhlIG1hcCB0byB0aGUgY29ycmVzcG9uZGluZyBkaXN0YW5jZSBvbiB0aGUgZ3JvdW5kLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXaWR0aD0nMTAwJ10gVGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBzY2FsZSBjb250cm9sIGluIHBpeGVscy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0PSdtZXRyaWMnXSBVbml0IG9mIHRoZSBkaXN0YW5jZSAoYCdpbXBlcmlhbCdgLCBgJ21ldHJpYydgIG9yIGAnbmF1dGljYWwnYCkuXG4gKiBAZXhhbXBsZVxuICogdmFyIHNjYWxlID0gbmV3IG1hcGJveGdsLlNjYWxlQ29udHJvbCh7XG4gKiAgICAgbWF4V2lkdGg6IDgwLFxuICogICAgIHVuaXQ6ICdpbXBlcmlhbCdcbiAqIH0pO1xuICogbWFwLmFkZENvbnRyb2woc2NhbGUpO1xuICpcbiAqIHNjYWxlLnNldFVuaXQoJ21ldHJpYycpO1xuICovXG5jbGFzcyBTY2FsZUNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3ZlJyxcbiAgICAgICAgICAgICdzZXRVbml0J1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF9vbk1vdmUoKSB7XG4gICAgICAgIHVwZGF0ZVNjYWxlKHRoaXMuX21hcCwgdGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZScsIG1hcC5nZXRDb250YWluZXIoKSk7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgdGhpcy5fb25Nb3ZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNjYWxlJ3MgdW5pdCBvZiB0aGUgZGlzdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1bml0IFVuaXQgb2YgdGhlIGRpc3RhbmNlIChgJ2ltcGVyaWFsJ2AsIGAnbWV0cmljJ2Agb3IgYCduYXV0aWNhbCdgKS5cbiAgICAgKi9cbiAgICBzZXRVbml0KHVuaXQ6IFVuaXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVuaXQgPSB1bml0O1xuICAgICAgICB1cGRhdGVTY2FsZSh0aGlzLl9tYXAsIHRoaXMuX2NvbnRhaW5lciwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlQ29udHJvbDtcblxuZnVuY3Rpb24gdXBkYXRlU2NhbGUobWFwLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAvLyBBIGhvcml6b250YWwgc2NhbGUgaXMgaW1hZ2luZWQgdG8gYmUgcHJlc2VudCBhdCBjZW50ZXIgb2YgdGhlIG1hcFxuICAgIC8vIGNvbnRhaW5lciB3aXRoIG1heGltdW0gbGVuZ3RoIChEZWZhdWx0KSBhcyAxMDBweC5cbiAgICAvLyBVc2luZyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvbiwgdGhlIHJlYWwgZGlzdGFuY2UgaXNcbiAgICAvLyBmb3VuZCBiZXR3ZWVuIHRoZSB0d28gY29vcmRpbmF0ZXMuXG4gICAgY29uc3QgbWF4V2lkdGggPSBvcHRpb25zICYmIG9wdGlvbnMubWF4V2lkdGggfHwgMTAwO1xuXG4gICAgY29uc3QgeSA9IG1hcC5fY29udGFpbmVyLmNsaWVudEhlaWdodCAvIDI7XG4gICAgY29uc3QgbWF4TWV0ZXJzID0gZ2V0RGlzdGFuY2UobWFwLnVucHJvamVjdChbMCwgeV0pLCBtYXAudW5wcm9qZWN0KFttYXhXaWR0aCwgeV0pKTtcbiAgICAvLyBUaGUgcmVhbCBkaXN0YW5jZSBjb3JyZXNwb25kaW5nIHRvIDEwMHB4IHNjYWxlIGxlbmd0aCBpcyByb3VuZGVkIG9mZiB0b1xuICAgIC8vIG5lYXIgcHJldHR5IG51bWJlciBhbmQgdGhlIHNjYWxlIGxlbmd0aCBmb3IgdGhlIHNhbWUgaXMgZm91bmQgb3V0LlxuICAgIC8vIERlZmF1bHQgdW5pdCBvZiB0aGUgc2NhbGUgaXMgYmFzZWQgb24gVXNlcidzIGxvY2FsZS5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnVuaXQgPT09ICdpbXBlcmlhbCcpIHtcbiAgICAgICAgY29uc3QgbWF4RmVldCA9IDMuMjgwOCAqIG1heE1ldGVycztcbiAgICAgICAgaWYgKG1heEZlZXQgPiA1MjgwKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhNaWxlcyA9IG1heEZlZXQgLyA1MjgwO1xuICAgICAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4TWlsZXMsICdtaScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4RmVldCwgJ2Z0Jyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51bml0ID09PSAnbmF1dGljYWwnKSB7XG4gICAgICAgIGNvbnN0IG1heE5hdXRpY2FscyA9IG1heE1ldGVycyAvIDE4NTI7XG4gICAgICAgIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heE5hdXRpY2FscywgJ25tJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4TWV0ZXJzLCAnbScpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4RGlzdGFuY2UsIHVuaXQpIHtcbiAgICBsZXQgZGlzdGFuY2UgPSBnZXRSb3VuZE51bShtYXhEaXN0YW5jZSk7XG4gICAgY29uc3QgcmF0aW8gPSBkaXN0YW5jZSAvIG1heERpc3RhbmNlO1xuXG4gICAgaWYgKHVuaXQgPT09ICdtJyAmJiBkaXN0YW5jZSA+PSAxMDAwKSB7XG4gICAgICAgIGRpc3RhbmNlID0gZGlzdGFuY2UgLyAxMDAwO1xuICAgICAgICB1bml0ID0gJ2ttJztcbiAgICB9XG5cbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHttYXhXaWR0aCAqIHJhdGlvfXB4YDtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gZGlzdGFuY2UgKyB1bml0O1xufVxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShsYXRsbmcxLCBsYXRsbmcyKSB7XG4gICAgLy8gVXNlcyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvbi5cbiAgICBjb25zdCBSID0gNjM3MTAwMDtcblxuICAgIGNvbnN0IHJhZCA9IE1hdGguUEkgLyAxODAsXG4gICAgICAgIGxhdDEgPSBsYXRsbmcxLmxhdCAqIHJhZCxcbiAgICAgICAgbGF0MiA9IGxhdGxuZzIubGF0ICogcmFkLFxuICAgICAgICBhID0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQyKSArXG4gICAgICAgICAgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguY29zKChsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nKSAqIHJhZCk7XG5cbiAgICBjb25zdCBtYXhNZXRlcnMgPSBSICogTWF0aC5hY29zKE1hdGgubWluKGEsIDEpKTtcbiAgICByZXR1cm4gbWF4TWV0ZXJzO1xuXG59XG5cbmZ1bmN0aW9uIGdldFJvdW5kTnVtKG51bSkge1xuICAgIGNvbnN0IHBvdzEwID0gTWF0aC5wb3coMTAsIChgJHtNYXRoLmZsb29yKG51bSl9YCkubGVuZ3RoIC0gMSk7XG4gICAgbGV0IGQgPSBudW0gLyBwb3cxMDtcblxuICAgIGQgPSBkID49IDEwID8gMTAgOlxuICAgICAgICBkID49IDUgPyA1IDpcbiAgICAgICAgZCA+PSAzID8gMyA6XG4gICAgICAgIGQgPj0gMiA/IDIgOiAxO1xuXG4gICAgcmV0dXJuIHBvdzEwICogZDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBiaW5kQWxsLCB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbi8qKlxuICogQSBgRnVsbHNjcmVlbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgYSBidXR0b24gZm9yIHRvZ2dsaW5nIHRoZSBtYXAgaW4gYW5kIG91dCBvZiBmdWxsc2NyZWVuIG1vZGUuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCgpKTtcbiAqIEBzZWUgW1ZpZXcgYSBmdWxsc2NyZWVuIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mdWxsc2NyZWVuLylcbiAqL1xuXG5jbGFzcyBGdWxsc2NyZWVuQ29udHJvbCB7XG4gICAgX21hcDogTWFwO1xuICAgIF9tYXBDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9mdWxsc2NyZWVuOiBib29sZWFuO1xuICAgIF9mdWxsc2NyZWVuY2hhbmdlOiBzdHJpbmc7XG4gICAgX2Z1bGxzY3JlZW5CdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF9jbGFzc05hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkNsaWNrRnVsbHNjcmVlbicsXG4gICAgICAgICAgICAnX2NoYW5nZUljb24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgICAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbm1vemZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICdtb3pmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfSBlbHNlIGlmICgnb253ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29ubXNmdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnTVNGdWxsc2NyZWVuQ2hhbmdlJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9tYXBDb250YWluZXIgPSB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsIGAke3RoaXMuX2NsYXNzTmFtZX0gbWFwYm94Z2wtY3RybC1ncm91cGApO1xuICAgICAgICBpZiAodGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFVJKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcCA9IChudWxsOiBhbnkpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLCB0aGlzLl9jaGFuZ2VJY29uKTtcbiAgICB9XG5cbiAgICBfY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuICEhKFxuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkIHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1vekZ1bGxTY3JlZW5FbmFibGVkIHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1zRnVsbHNjcmVlbkVuYWJsZWQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0RnVsbHNjcmVlbkVuYWJsZWRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfc2V0dXBVSSgpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbiA9IERPTS5jcmVhdGUoJ2J1dHRvbicsIChgJHt0aGlzLl9jbGFzc05hbWV9LWljb24gJHt0aGlzLl9jbGFzc05hbWV9LWZ1bGxzY3JlZW5gKSwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJUb2dnbGUgZnVsbHNjcmVlblwiKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tGdWxsc2NyZWVuKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5fY2hhbmdlSWNvbik7XG4gICAgfVxuXG4gICAgX2lzRnVsbHNjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW47XG4gICAgfVxuXG4gICAgX2NoYW5nZUljb24oKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50ID1cbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXG4gICAgICAgIGlmICgoZnVsbHNjcmVlbkVsZW1lbnQgPT09IHRoaXMuX21hcENvbnRhaW5lcikgIT09IHRoaXMuX2Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSAhdGhpcy5fZnVsbHNjcmVlbjtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShgJHt0aGlzLl9jbGFzc05hbWV9LXNocmlua2ApO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuX2NsYXNzTmFtZX0tZnVsbHNjcmVlbmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ2xpY2tGdWxsc2NyZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5faXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWFwQ29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBDb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmICgodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuX21hcENvbnRhaW5lcjogYW55KS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmICgodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZ1bGxzY3JlZW5Db250cm9sO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJ1xuaW1wb3J0IFN0eWxlIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlJ1xuaW1wb3J0IHsgaXNNYXBib3hVUkwsIG5vcm1hbGl6ZVN0eWxlVVJMIH0gZnJvbSAnLi4vLi4vdXRpbC9tYXBib3gnXG5pbXBvcnQgeyBnZXRKU09OLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi8uLi91dGlsL2FqYXgnXG5pbXBvcnQgRGVidWdnZXIgZnJvbSAnLi9EZWJ1Z2dlcidcblxuU3R5bGUucHJvdG90eXBlLmxvYWRVUkwgPSBmdW5jdGlvbihcbiAgdXJsOiBzdHJpbmcsIFxuICBvcHRpb25zOiB7XG4gICAgdmFsaWRhdGU/OiBib29sZWFuLFxuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nXG4gIH0gPSB7fSkge1xuICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpXG4gICAgY29uc3QgdmFsaWRhdGUgPSB0eXBlb2Ygb3B0aW9ucy52YWxpZGF0ZSA9PT0gJ2Jvb2xlYW4nID9cbiAgICAgICAgb3B0aW9ucy52YWxpZGF0ZSA6ICFpc01hcGJveFVSTCh1cmwpXG5cbiAgICB1cmwgPSBub3JtYWxpemVTdHlsZVVSTCh1cmwsIG9wdGlvbnMuYWNjZXNzVG9rZW4pXG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlN0eWxlKVxuXG4gICAgdGhpcy5fcmVxdWVzdCA9IGdldEpTT04ocmVxdWVzdCwgKGVycm9yLCBqc29uKSA9PiB7XG4gICAgICB0aGlzLl9yZXF1ZXN0ID0gbnVsbFxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnZXJyb3InLCAnQVBQIElEIG9yIEFQSSBLZXkgaXMgaW52YWxpZCcpXG4gICAgICAgICAgICBEZWJ1Z2dlci5hbGVydE1pc3NpbmdLZXkobnVsbCwgbnVsbCwgZmFsc2UpXG4gICAgICAgICAgICB0aGlzLmZpcmUoJ2Vycm9yJywge2Vycm9yfSlcbiAgICAgICAgfSBlbHNlIGlmIChqc29uKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkKChqc29uOiBhbnkpLCB2YWxpZGF0ZSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0eWxlXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgc3VwcG9ydGVkIGZyb20gJ0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZCc7XG5cbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IE1hcCBmcm9tICcuL2N1c3RvbS9NYXBNYWdpY0dMJztcbmltcG9ydCBOYXZpZ2F0aW9uQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sJztcbmltcG9ydCBHZW9sb2NhdGVDb250cm9sIGZyb20gJy4vdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbCc7XG5pbXBvcnQgQXR0cmlidXRpb25Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sJztcbmltcG9ydCBTY2FsZUNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wnO1xuaW1wb3J0IEZ1bGxzY3JlZW5Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vdWkvcG9wdXAnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuL3VpL21hcmtlcic7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi9jdXN0b20vdXRpbC9TdHlsZSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi91dGlsL2NvbmZpZyc7XG5pbXBvcnQge3NldFJUTFRleHRQbHVnaW59IGZyb20gJy4vc291cmNlL3J0bF90ZXh0X3BsdWdpbic7XG5pbXBvcnQgV29ya2VyUG9vbCBmcm9tICcuL3V0aWwvd29ya2VyX3Bvb2wnO1xuXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICB2ZXJzaW9uLFxuICAgIHN1cHBvcnRlZCxcbiAgICBzZXRSVExUZXh0UGx1Z2luOiBzZXRSVExUZXh0UGx1Z2luLFxuICAgIE1hcCxcbiAgICBOYXZpZ2F0aW9uQ29udHJvbCxcbiAgICBHZW9sb2NhdGVDb250cm9sLFxuICAgIEF0dHJpYnV0aW9uQ29udHJvbCxcbiAgICBTY2FsZUNvbnRyb2wsXG4gICAgRnVsbHNjcmVlbkNvbnRyb2wsXG4gICAgUG9wdXAsXG4gICAgTWFya2VyLFxuICAgIFN0eWxlLFxuICAgIExuZ0xhdCxcbiAgICBMbmdMYXRCb3VuZHMsXG4gICAgUG9pbnQsXG4gICAgRXZlbnRlZCxcbiAgICBjb25maWcsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIHRoZSBtYXAncyBbYWNjZXNzIHRva2VuXShodHRwczovL3d3dy5tYXBib3guY29tL2hlbHAvZGVmaW5lLWFjY2Vzcy10b2tlbi8pLlxuICAgICAqXG4gICAgICogQHZhciB7c3RyaW5nfSBhY2Nlc3NUb2tlblxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBteUFjY2Vzc1Rva2VuO1xuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGVzLylcbiAgICAgKi9cbiAgICBnZXQgYWNjZXNzVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuQUNDRVNTX1RPS0VOO1xuICAgIH0sXG5cbiAgICBzZXQgYWNjZXNzVG9rZW4odG9rZW46IHN0cmluZykge1xuICAgICAgICBjb25maWcuQUNDRVNTX1RPS0VOID0gdG9rZW47XG4gICAgfSxcblxuICAgIGdldCB3b3JrZXJDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIFdvcmtlclBvb2wud29ya2VyQ291bnQ7XG4gICAgfSxcblxuICAgIHNldCB3b3JrZXJDb3VudChjb3VudDogbnVtYmVyKSB7XG4gICAgICAgIFdvcmtlclBvb2wud29ya2VyQ291bnQgPSBjb3VudDtcbiAgICB9LFxuXG4gICAgd29ya2VyVXJsOiAnJ1xufTtcblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiBNYXBib3ggR0wgSlMgaW4gdXNlIGFzIHNwZWNpZmllZCBpbiBgcGFja2FnZS5qc29uYCxcbiAqIGBDSEFOR0VMT0cubWRgLCBhbmQgdGhlIEdpdEh1YiByZWxlYXNlLlxuICpcbiAqIEB2YXIge3N0cmluZ30gdmVyc2lvblxuICovXG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBicm93c2VyIFtzdXBwb3J0cyBNYXBib3ggR0wgSlNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9tYXBib3gtYnJvd3Nlci1zdXBwb3J0LyNtYXBib3gtZ2wtanMpLlxuICpcbiAqIEBmdW5jdGlvbiBzdXBwb3J0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gSWYgYHRydWVgLFxuICogICB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYGZhbHNlYCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94IEdMIEpTIHdvdWxkXG4gKiAgIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChlLmcuIGEgc29mdHdhcmUgV2ViR0wgcmVuZGVyZXIgd291bGQgYmUgdXNlZCkuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQGV4YW1wbGVcbiAqIG1hcGJveGdsLnN1cHBvcnRlZCgpIC8vID0gdHJ1ZVxuICogQHNlZSBbQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jaGVjay1mb3Itc3VwcG9ydC8pXG4gKi9cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAncyBbUlRMIHRleHQgcGx1Z2luXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9wbHVnaW5zLyNtYXBib3gtZ2wtcnRsLXRleHQpLlxuICogTmVjZXNzYXJ5IGZvciBzdXBwb3J0aW5nIGxhbmd1YWdlcyBsaWtlIEFyYWJpYyBhbmQgSGVicmV3IHRoYXQgYXJlIHdyaXR0ZW4gcmlnaHQtdG8tbGVmdC5cbiAqXG4gKiBAZnVuY3Rpb24gc2V0UlRMVGV4dFBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpblVSTCBVUkwgcG9pbnRpbmcgdG8gdGhlIE1hcGJveCBSVEwgdGV4dCBwbHVnaW4gc291cmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gKiBAZXhhbXBsZVxuICogbWFwYm94Z2wuc2V0UlRMVGV4dFBsdWdpbignaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvcGx1Z2lucy9tYXBib3gtZ2wtcnRsLXRleHQvdjAuMi4wL21hcGJveC1nbC1ydGwtdGV4dC5qcycpO1xuICogQHNlZSBbQWRkIHN1cHBvcnQgZm9yIHJpZ2h0LXRvLWxlZnQgc2NyaXB0c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tYXBib3gtZ2wtcnRsLXRleHQvKVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG4vLyBjYW5hcnkgYXNzZXJ0OiB1c2VkIHRvIGNvbmZpcm0gdGhhdCBhc3NlcnRzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gcHJvZHVjdGlvbiBidWlsZFxuYXNzZXJ0KHRydWUsICdjYW5hcnkgYXNzZXJ0Jyk7XG4iXSwibmFtZXMiOlsiaXNTdXBwb3J0ZWQiLCJvcHRpb25zIiwid2luZG93IiwiZG9jdW1lbnQiLCJBcnJheSIsInByb3RvdHlwZSIsImV2ZXJ5IiwiZmlsdGVyIiwiZm9yRWFjaCIsImluZGV4T2YiLCJsYXN0SW5kZXhPZiIsIm1hcCIsInNvbWUiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsImlzQXJyYXkiLCJGdW5jdGlvbiIsImJpbmQiLCJPYmplY3QiLCJrZXlzIiwiY3JlYXRlIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNTZWFsZWQiLCJpc0Zyb3plbiIsImlzRXh0ZW5zaWJsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydGllcyIsInNlYWwiLCJmcmVlemUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsIkpTT04iLCJzdXBwb3J0ZWQiLCJ3b3JrZXIiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ3b3JrZXJVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJXb3JrZXIiLCJlIiwidGVybWluYXRlIiwicmV2b2tlT2JqZWN0VVJMIiwiaXNXb3JrZXJTdXBwb3J0ZWQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJ1bmRlZmluZWQiLCJpc1dlYkdMU3VwcG9ydGVkQ2FjaGUiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIndlYkdMQ29udGV4dEF0dHJpYnV0ZXMiLCJwcm9iYWJseVN1cHBvcnRzQ29udGV4dCIsInN1cHBvcnRzQ29udGV4dCIsImdldENvbnRleHQiLCJpc1dlYkdMU3VwcG9ydGVkIiwiaXNXZWJHTFN1cHBvcnRlZENhY2hlZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJtYXBib3hnbCIsImFudGlhbGlhcyIsImFscGhhIiwic3RlbmNpbCIsImRlcHRoIiwiRE9NIiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImNvbnN0IiwiZWwiLCJhcHBlbmRDaGlsZCIsIm5hbWVzcGFjZVVSSSIsImNyZWF0ZUVsZW1lbnROUyIsImRvY1N0eWxlIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJ0ZXN0UHJvcCIsInByb3BzIiwibGV0IiwiaSIsImxlbmd0aCIsInVzZXJTZWxlY3QiLCJzZWxlY3RQcm9wIiwiZGlzYWJsZURyYWciLCJlbmFibGVEcmFnIiwidHJhbnNmb3JtUHJvcCIsInNldFRyYW5zZm9ybSIsInZhbHVlIiwicGFzc2l2ZVN1cHBvcnRlZCIsImdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXJyIiwidGFyZ2V0IiwiY2FsbGJhY2siLCJjYXB0dXJlIiwic3VwcHJlc3NDbGljayIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic2V0VGltZW91dCIsIm1vdXNlUG9zIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJQb2ludCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50TGVmdCIsImNsaWVudFkiLCJ0b3AiLCJjbGllbnRUb3AiLCJ0b3VjaFBvcyIsInBvaW50cyIsImNoYW5nZWRUb3VjaGVzIiwicHVzaCIsIm1vdXNlQnV0dG9uIiwiSW5zdGFsbFRyaWdnZXIiLCJidXR0b24iLCJjdHJsS2V5IiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJ0b1VwcGVyQ2FzZSIsInJlbW92ZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjb25maWciLCJBUElfVVJMIiwiRVZFTlRTX1VSTCIsInRoaXMiLCJSRVFVSVJFX0FDQ0VTU19UT0tFTiIsIkFDQ0VTU19UT0tFTiIsImhlbHAiLCJtYWtlQVBJVVJMIiwidXJsT2JqZWN0IiwiYWNjZXNzVG9rZW4iLCJhcGlVcmxPYmplY3QiLCJwYXJzZVVybCIsInByb3RvY29sIiwiYXV0aG9yaXR5IiwicGF0aCIsImZvcm1hdFVybCIsIkVycm9yIiwicGFyYW1zIiwiaXNNYXBib3hVUkwiLCJ1cmwiLCJub3JtYWxpemVTdHlsZVVSTCIsIm5vcm1hbGl6ZUdseXBoc1VSTCIsIm5vcm1hbGl6ZVNvdXJjZVVSTCIsIm5vcm1hbGl6ZVNwcml0ZVVSTCIsImZvcm1hdCIsImV4dGVuc2lvbiIsImltYWdlRXh0ZW5zaW9uUmUiLCJub3JtYWxpemVUaWxlVVJMIiwidGlsZVVSTCIsInNvdXJjZVVSTCIsInRpbGVTaXplIiwic3VmZml4IiwiYnJvd3NlciIsImRldmljZVBpeGVsUmF0aW8iLCJzdXBwb3J0c1dlYnAiLCJyZXBsYWNlIiwicmVwbGFjZVRlbXBBY2Nlc3NUb2tlbiIsInVybFJlIiwicGFydHMiLCJtYXRjaCIsInNwbGl0Iiwib2JqIiwiam9pbiIsIlR1cm5zdGlsZUV2ZW50IiwiZXZlbnREYXRhIiwiYW5vbklkIiwibGFzdFN1Y2Nlc3MiLCJxdWV1ZSIsInBlbmRpbmciLCJwZW5kaW5nUmVxdWVzdCIsInBvc3RUdXJuc3RpbGVFdmVudCIsInRpbGVVcmxzIiwidGVzdCIsInF1ZXVlUmVxdWVzdCIsIm5vdyIsImRhdGUiLCJwcm9jZXNzUmVxdWVzdHMiLCJzdG9yYWdlS2V5IiwidHVybnN0aWxlRXZlbnRTdG9yYWdlS2V5IiwiaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUiLCJzdG9yYWdlQXZhaWxhYmxlIiwiZHVlRm9yRXZlbnQiLCJkYXRhIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlIiwid2Fybk9uY2UiLCJ2YWxpZGF0ZVV1aWQiLCJ1dWlkIiwibmV4dFVwZGF0ZSIsInNoaWZ0IiwibGFzdFVwZGF0ZSIsIkRhdGUiLCJuZXh0RGF0ZSIsImRheXNFbGFwc2VkIiwiZ2V0RGF0ZSIsImV2ZW5zdFVybE9iamVjdCIsInJlcXVlc3QiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwicGF5bG9hZCIsInN0cmluZ2lmeSIsImV2ZW50IiwiY3JlYXRlZCIsInRvSVNPU3RyaW5nIiwic2RrSWRlbnRpZmllciIsInNka1ZlcnNpb24iLCJlbmFibGVkLnRlbGVtZXRyeSIsInVzZXJJZCIsInBvc3REYXRhIiwiZXJyb3IiLCJ0aGlzJDEiLCJzZXRJdGVtIiwidHVybnN0aWxlRXZlbnRfIiwiSW1hZ2VNYW5hZ2VyIiwiaW1hZ2VzIiwibG9hZGVkIiwicmVxdWVzdG9ycyIsInBhdHRlcm5zIiwiYXRsYXNJbWFnZSIsIlJHQkFJbWFnZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGlydHkiLCJpc0xvYWRlZCIsInNldExvYWRlZCIsInJlZiIsImlkcyIsIl9ub3RpZnkiLCJnZXRJbWFnZSIsImlkIiwiYWRkSW1hZ2UiLCJpbWFnZSIsInJlbW92ZUltYWdlIiwibGlzdEltYWdlcyIsImdldEltYWdlcyIsImhhc0FsbERlcGVuZGVuY2llcyIsInJlc3BvbnNlIiwiY2xvbmUiLCJwaXhlbFJhdGlvIiwic2RmIiwiZ2V0UGl4ZWxTaXplIiwiZ2V0UGF0dGVybiIsInBhdHRlcm4iLCJwb3NpdGlvbiIsImJpbiIsInBhZGRpbmciLCJ4IiwieSIsIkltYWdlUG9zaXRpb24iLCJfdXBkYXRlUGF0dGVybkF0bGFzIiwiY29udGV4dCIsImdsIiwiYXRsYXNUZXh0dXJlIiwidXBkYXRlIiwiVGV4dHVyZSIsIlJHQkEiLCJMSU5FQVIiLCJDTEFNUF9UT19FREdFIiwiYmlucyIsInBvdHBhY2siLCJ3IiwiaCIsImRzdCIsInJlc2l6ZSIsInNyYyIsImNvcHkiLCJUaW55U0RGIiwiSU5GIiwiZm9udFNpemUiLCJidWZmZXIiLCJyYWRpdXMiLCJjdXRvZmYiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsInNpemUiLCJjdHgiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFN0eWxlIiwiZ3JpZE91dGVyIiwiRmxvYXQ2NEFycmF5IiwiZ3JpZElubmVyIiwiZiIsImQiLCJ6IiwidiIsIkludDE2QXJyYXkiLCJtaWRkbGUiLCJNYXRoIiwicm91bmQiLCJ1c2VyQWdlbnQiLCJlZHQiLCJlZHQxZCIsInNxcnQiLCJuIiwicSIsImsiLCJzIiwiZHJhdyIsImNoYXIiLCJjbGVhclJlY3QiLCJmaWxsVGV4dCIsImltZ0RhdGEiLCJnZXRJbWFnZURhdGEiLCJhbHBoYUNoYW5uZWwiLCJVaW50OENsYW1wZWRBcnJheSIsImEiLCJwb3ciLCJtYXgiLCJtaW4iLCJHbHlwaE1hbmFnZXIiLCJyZXF1ZXN0VHJhbnNmb3JtIiwibG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5IiwiZW50cmllcyIsInNldFVSTCIsImdldEdseXBocyIsImdseXBocyIsImFsbCIsInN0YWNrIiwiYXN5bmNBbGwiLCJlbnRyeSIsInJlcXVlc3RzIiwiZ2x5cGgiLCJfdGlueVNERiIsInJhbmdlIiwiZmxvb3IiLCJsb2FkR2x5cGhSYW5nZSIsImNiIiwicmVzdWx0IiwiYml0bWFwIiwibWV0cmljcyIsImZhbWlseSIsImlzQ2hhciIsInRpbnlTREYiLCJBbHBoYUltYWdlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYWR2YW5jZSIsIkxpZ2h0UG9zaXRpb25Qcm9wZXJ0eSIsInNwZWNpZmljYXRpb24iLCJzdHlsZVNwZWMiLCJsaWdodCIsInBvc3NpYmx5RXZhbHVhdGUiLCJwYXJhbWV0ZXJzIiwic3BoZXJpY2FsVG9DYXJ0ZXNpYW4iLCJleHByZXNzaW9uIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsImIiLCJ0IiwicHJvcGVydGllcyIsIlByb3BlcnRpZXMiLCJhbmNob3IiLCJEYXRhQ29uc3RhbnRQcm9wZXJ0eSIsImNvbG9yIiwiaW50ZW5zaXR5IiwiTGlnaHQiLCJsaWdodE9wdGlvbnMiLCJzdXBlciIsIl90cmFuc2l0aW9uYWJsZSIsIlRyYW5zaXRpb25hYmxlIiwic2V0TGlnaHQiLCJfdHJhbnNpdGlvbmluZyIsInVudHJhbnNpdGlvbmVkIiwiZ2V0TGlnaHQiLCJzZXJpYWxpemUiLCJfdmFsaWRhdGUiLCJ2YWxpZGF0ZUxpZ2h0IiwibmFtZSIsImVuZHNXaXRoIiwic2V0VHJhbnNpdGlvbiIsInNsaWNlIiwic2V0VmFsdWUiLCJ1cGRhdGVUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25lZCIsImhhc1RyYW5zaXRpb24iLCJyZWNhbGN1bGF0ZSIsInZhbGlkYXRlIiwiZW1pdFZhbGlkYXRpb25FcnJvcnMiLCJjYWxsIiwidmFsaWRhdGVTdHlsZSIsImV4dGVuZCIsInNwcml0ZSIsIkV2ZW50ZWQiLCJMaW5lQXRsYXMiLCJuZXh0Um93IiwiYnl0ZXMiLCJVaW50OEFycmF5IiwicG9zaXRpb25zIiwiZ2V0RGFzaCIsImRhc2hhcnJheSIsImtleSIsImFkZERhc2giLCJzdHJldGNoIiwiaGFsZldpZHRoIiwib2RkTGVuZ3RoIiwicm93IiwiaW5kZXgiLCJyaWdodCIsInBhcnRJbmRleCIsImRpc3RMZWZ0IiwiYWJzIiwiZGlzdFJpZ2h0IiwiZGlzdCIsImluc2lkZSIsInNpZ25lZERpc3RhbmNlIiwiZGlzdE1pZGRsZSIsImRpc3RFZGdlIiwicG9zIiwidGV4dHVyZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleFN1YkltYWdlMkQiLCJVTlNJR05FRF9CWVRFIiwiY3JlYXRlVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIlJFUEVBVCIsIlRFWFRVUkVfV1JBUF9UIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwidGV4SW1hZ2UyRCIsIkRpc3BhdGNoZXIiLCJ3b3JrZXJQb29sIiwicGFyZW50IiwiYWN0b3JzIiwiY3VycmVudEFjdG9yIiwidW5pcXVlSWQiLCJ3b3JrZXJzIiwiYWNxdWlyZSIsImFjdG9yIiwiQWN0b3IiLCJicm9hZGNhc3QiLCJkb25lIiwic2VuZCIsInRhcmdldElEIiwiaXNOYU4iLCJyZWxlYXNlIiwiTG5nTGF0IiwibG5nIiwibGF0Iiwid3JhcCIsInRvQXJyYXkiLCJ0b1N0cmluZyIsInRvQm91bmRzIiwibGF0QWNjdXJhY3kiLCJsbmdBY2N1cmFjeSIsImNvcyIsIlBJIiwiTG5nTGF0Qm91bmRzIiwiY29udmVydCIsImlucHV0IiwiTnVtYmVyIiwic3ciLCJuZSIsInNldFNvdXRoV2VzdCIsInNldE5vcnRoRWFzdCIsIl9uZSIsIl9zdyIsInN3MiIsIm5lMiIsImdldENlbnRlciIsImdldFNvdXRoV2VzdCIsImdldE5vcnRoRWFzdCIsImdldE5vcnRoV2VzdCIsImdldFdlc3QiLCJnZXROb3J0aCIsImdldFNvdXRoRWFzdCIsImdldEVhc3QiLCJnZXRTb3V0aCIsImlzRW1wdHkiLCJUaWxlQm91bmRzIiwiYm91bmRzIiwibWluem9vbSIsIm1heHpvb20iLCJ2YWxpZGF0ZUJvdW5kcyIsImNvbnRhaW5zIiwidGlsZUlEIiwibGV2ZWwiLCJsbmdYIiwibGF0WSIsImNlaWwiLCJ6b29tIiwiY2xhbXAiLCJzaW4iLCJzY2FsZSIsImxvZyIsIlZlY3RvclRpbGVTb3VyY2UiLCJkaXNwYXRjaGVyIiwiZXZlbnRlZFBhcmVudCIsInNjaGVtZSIsInJlcGFyc2VPdmVyc2NhbGVkIiwiaXNUaWxlQ2xpcHBlZCIsInBpY2siLCJfb3B0aW9ucyIsIl9jb2xsZWN0UmVzb3VyY2VUaW1pbmciLCJjb2xsZWN0UmVzb3VyY2VUaW1pbmciLCJzZXRFdmVudGVkUGFyZW50IiwibG9hZCIsImZpcmUiLCJFdmVudCIsImRhdGFUeXBlIiwiX3RpbGVKU09OUmVxdWVzdCIsImxvYWRUaWxlSlNPTiIsIl90cmFuc2Zvcm1SZXF1ZXN0IiwidGlsZUpTT04iLCJFcnJvckV2ZW50IiwidGlsZUJvdW5kcyIsInRpbGVzIiwic291cmNlRGF0YVR5cGUiLCJoYXNUaWxlIiwiY2Fub25pY2FsIiwib25BZGQiLCJvblJlbW92ZSIsImNhbmNlbCIsImxvYWRUaWxlIiwidGlsZSIsIm5vcm1hbGl6ZVVSTCIsIlJlc291cmNlVHlwZSIsIlRpbGUiLCJ1aWQiLCJvdmVyc2NhbGVkWiIsIm92ZXJzY2FsZUZhY3RvciIsInNvdXJjZSIsInNob3dDb2xsaXNpb25Cb3hlcyIsImFib3J0ZWQiLCJzdGF0dXMiLCJyZXNvdXJjZVRpbWluZyIsIl9yZWZyZXNoRXhwaXJlZFRpbGVzIiwic2V0RXhwaXJ5RGF0YSIsImxvYWRWZWN0b3JEYXRhIiwicGFpbnRlciIsInJlbG9hZENhbGxiYWNrIiwid29ya2VySUQiLCJzdGF0ZSIsImFib3J0VGlsZSIsInVubG9hZFRpbGUiLCJ1bmxvYWRWZWN0b3JEYXRhIiwiUmFzdGVyVGlsZVNvdXJjZSIsInJvdW5kWm9vbSIsIl9sb2FkZWQiLCJpbWciLCJjYWNoZUNvbnRyb2wiLCJleHBpcmVzIiwiZ2V0VGlsZVRleHR1cmUiLCJ1c2VNaXBtYXAiLCJMSU5FQVJfTUlQTUFQX05FQVJFU1QiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgiLCJzYXZlVGlsZVRleHR1cmUiLCJSYXN0ZXJERU1UaWxlU291cmNlIiwiZW5jb2RpbmciLCJyYXdJbWFnZURhdGEiLCJjb29yZCIsImRlbSIsIm5lZWRzSGlsbHNoYWRlUHJlcGFyZSIsIm5laWdoYm9yaW5nVGlsZXMiLCJfZ2V0TmVpZ2hib3JpbmdUaWxlcyIsImRpbSIsInB4IiwicHh3IiwibngiLCJueHciLCJPdmVyc2NhbGVkVGlsZUlEIiwiYmFja2ZpbGxlZCIsImRlbVRleHR1cmUiLCJmYm8iLCJkZXN0cm95IiwiR2VvSlNPTlNvdXJjZSIsIl9yZW1vdmVkIiwiX2RhdGEiLCJfcmVzb3VyY2VUaW1pbmciLCJhdHRyaWJ1dGlvbiIsIkVYVEVOVCIsIndvcmtlck9wdGlvbnMiLCJjbHVzdGVyIiwiZ2VvanNvblZ0T3B0aW9ucyIsInRvbGVyYW5jZSIsImV4dGVudCIsIm1heFpvb20iLCJsaW5lTWV0cmljcyIsImdlbmVyYXRlSWQiLCJzdXBlcmNsdXN0ZXJPcHRpb25zIiwiY2x1c3Rlck1heFpvb20iLCJjbHVzdGVyUmFkaXVzIiwiX3VwZGF0ZVdvcmtlckRhdGEiLCJzZXREYXRhIiwiZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20iLCJjbHVzdGVySWQiLCJnZXRDbHVzdGVyQ2hpbGRyZW4iLCJnZXRDbHVzdGVyTGVhdmVzIiwibGltaXQiLCJvZmZzZXQiLCJyZXNvbHZlVVJMIiwiU291cmNlIiwiYWJhbmRvbmVkIiwibWVzc2FnZSIsIkltYWdlU291cmNlIiwiY29vcmRpbmF0ZXMiLCJJbWFnZSIsIl9maW5pc2hMb2FkaW5nIiwic2V0Q29vcmRpbmF0ZXMiLCJjb3JuZXJaMENvb3JkcyIsInRyYW5zZm9ybSIsImxvY2F0aW9uQ29vcmRpbmF0ZSIsInpvb21UbyIsImNlbnRlckNvb3JkIiwiZ2V0Q29vcmRpbmF0ZXNDZW50ZXIiLCJjb2x1bW4iLCJDYW5vbmljYWxUaWxlSUQiLCJ0aWxlQ29vcmRzIiwiem9vbWVkQ29vcmQiLCJfYm91bmRzQXJyYXkiLCJSYXN0ZXJCb3VuZHNBcnJheSIsImVtcGxhY2VCYWNrIiwiYm91bmRzQnVmZmVyIiwicHJlcGFyZSIsImNyZWF0ZVZlcnRleEJ1ZmZlciIsInJhc3RlckJvdW5kc0F0dHJpYnV0ZXMiLCJtZW1iZXJzIiwiYm91bmRzU2VnbWVudHMiLCJTZWdtZW50VmVjdG9yIiwic2ltcGxlU2VnbWVudCIsImVxdWFscyIsImJ1Y2tldHMiLCJWaWRlb1NvdXJjZSIsInVybHMiLCJnZXRWaWRlbyIsInZpZGVvIiwibG9vcCIsInRyaWdnZXJSZXBhaW50IiwicGxheSIsInJlYWR5U3RhdGUiLCJwYXVzZWQiLCJDYW52YXNTb3VyY2UiLCJjIiwibCIsIlZhbGlkYXRpb25FcnJvciIsImFuaW1hdGUiLCJIVE1MQ2FudmFzRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiX2hhc0ludmFsaWREaW1lbnNpb25zIiwiX3BsYXlpbmciLCJwYXVzZSIsImdldENhbnZhcyIsInByZW11bHRpcGx5Iiwic291cmNlVHlwZXMiLCJ2ZWN0b3IiLCJyYXN0ZXIiLCJyYXN0ZXItZGVtIiwicmFzdGVyRGVtIiwiZ2VvanNvbiIsImJpbmRBbGwiLCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMiLCJzb3VyY2VDYWNoZSIsInN0eWxlTGF5ZXJzIiwicXVlcnlHZW9tZXRyeSIsIm1heFBpdGNoU2NhbGVGYWN0b3IiLCJ0aWxlc0luIiwic29ydCIsInNvcnRUaWxlc0luIiwicmVuZGVyZWRGZWF0dXJlTGF5ZXJzIiwidGlsZUluIiwid3JhcHBlZFRpbGVJRCIsIndyYXBwZWQiLCJxdWVyeVJlc3VsdHMiLCJfc3RhdGUiLCJjYWxjdWxhdGVQb3NNYXRyaXgiLCJ0b1Vud3JhcHBlZCIsIndyYXBwZWRJRExheWVyTWFwIiwid3JhcHBlZElEIiwid3JhcHBlZElETGF5ZXJzIiwibGF5ZXJJRCIsInRpbGVGZWF0dXJlcyIsIndyYXBwZWRJREZlYXR1cmVzIiwicmVzdWx0RmVhdHVyZXMiLCJ0aWxlRmVhdHVyZSIsImZlYXR1cmVJbmRleCIsImZlYXR1cmUiLCJtZXJnZVJlbmRlcmVkRmVhdHVyZUxheWVycyIsImdldEZlYXR1cmVTdGF0ZSIsImxheWVyIiwic291cmNlTGF5ZXIiLCJpZEEiLCJpZEIiLCJUaWxlQ2FjaGUiLCJyZXNldCIsInJlbW92ZWREYXRhIiwidGltZW91dCIsImNsZWFyVGltZW91dCIsIm9yZGVyIiwiYWRkIiwiZXhwaXJ5VGltZW91dCIsImRhdGFXcmFwcGVyIiwiX2dldEFuZFJlbW92ZUJ5S2V5IiwiaGFzIiwiZ2V0QW5kUmVtb3ZlIiwic3BsaWNlIiwiZGF0YUluZGV4Iiwic2V0TWF4U2l6ZSIsIkluZGV4QnVmZmVyIiwiYXJyYXkiLCJkeW5hbWljRHJhdyIsImNyZWF0ZUJ1ZmZlciIsIkJvb2xlYW4iLCJ1bmJpbmRWQU8iLCJiaW5kRWxlbWVudEJ1ZmZlciIsInNldCIsImJ1ZmZlckRhdGEiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsImFycmF5QnVmZmVyIiwiRFlOQU1JQ19EUkFXIiwiU1RBVElDX0RSQVciLCJ1cGRhdGVEYXRhIiwiYnVmZmVyU3ViRGF0YSIsImRlbGV0ZUJ1ZmZlciIsIkF0dHJpYnV0ZVR5cGUiLCJJbnQ4IiwiVWludDgiLCJJbnQxNiIsIlVpbnQxNiIsIkludDMyIiwiVWludDMyIiwiRmxvYXQzMiIsIlZlcnRleEJ1ZmZlciIsIml0ZW1TaXplIiwiYnl0ZXNQZXJFbGVtZW50IiwiYmluZFZlcnRleEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImVuYWJsZUF0dHJpYnV0ZXMiLCJwcm9ncmFtIiwiaiIsIm1lbWJlciIsImF0dHJpYkluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJzZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyIsInZlcnRleE9mZnNldCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJjb21wb25lbnRzIiwiQ2xlYXJDb2xvciIsImRlZmF1bHQiLCJDb2xvciIsInRyYW5zcGFyZW50IiwiY3VycmVudCIsInNldERlZmF1bHQiLCJyIiwiZyIsImNsZWFyQ29sb3IiLCJDbGVhckRlcHRoIiwiY2xlYXJEZXB0aCIsIkNsZWFyU3RlbmNpbCIsImNsZWFyU3RlbmNpbCIsIkNvbG9yTWFzayIsImNvbG9yTWFzayIsIkRlcHRoTWFzayIsImRlcHRoTWFzayIsIlN0ZW5jaWxNYXNrIiwic3RlbmNpbE1hc2siLCJTdGVuY2lsRnVuYyIsImZ1bmMiLCJBTFdBWVMiLCJtYXNrIiwic3RlbmNpbEZ1bmMiLCJTdGVuY2lsT3AiLCJLRUVQIiwic3RlbmNpbE9wIiwiU3RlbmNpbFRlc3QiLCJlbmFibGUiLCJTVEVOQ0lMX1RFU1QiLCJkaXNhYmxlIiwiRGVwdGhSYW5nZSIsImRlcHRoUmFuZ2UiLCJEZXB0aFRlc3QiLCJERVBUSF9URVNUIiwiRGVwdGhGdW5jIiwiTEVTUyIsImRlcHRoRnVuYyIsIkJsZW5kIiwiQkxFTkQiLCJCbGVuZEZ1bmMiLCJPTkUiLCJaRVJPIiwiYmxlbmRGdW5jIiwiQmxlbmRDb2xvciIsImJsZW5kQ29sb3IiLCJCbGVuZEVxdWF0aW9uIiwiRlVOQ19BREQiLCJibGVuZEVxdWF0aW9uIiwiQ3VsbEZhY2UiLCJDVUxMX0ZBQ0UiLCJDdWxsRmFjZVNpZGUiLCJCQUNLIiwiY3VsbEZhY2UiLCJGcm9udEZhY2UiLCJDQ1ciLCJmcm9udEZhY2UiLCJQcm9ncmFtIiwidXNlUHJvZ3JhbSIsIkFjdGl2ZVRleHR1cmVVbml0IiwiVEVYVFVSRTAiLCJhY3RpdmVUZXh0dXJlIiwiVmlld3BvcnQiLCJkcmF3aW5nQnVmZmVyV2lkdGgiLCJkcmF3aW5nQnVmZmVySGVpZ2h0Iiwidmlld3BvcnQiLCJCaW5kRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsIkJpbmRSZW5kZXJidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwiQmluZFRleHR1cmUiLCJCaW5kVmVydGV4QnVmZmVyIiwiYmluZEJ1ZmZlciIsIkJpbmRFbGVtZW50QnVmZmVyIiwiQmluZFZlcnRleEFycmF5T0VTIiwiZXh0VmVydGV4QXJyYXlPYmplY3QiLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJQaXhlbFN0b3JlVW5wYWNrIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfQUxJR05NRU5UIiwiUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJQaXhlbFN0b3JlVW5wYWNrRmxpcFkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiRnJhbWVidWZmZXJWYWx1ZSIsIkNvbG9yQXR0YWNobWVudCIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJzZXREaXJ0eSIsIkRlcHRoQXR0YWNobWVudCIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfQVRUQUNITUVOVCIsIkZyYW1lYnVmZmVyIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImNvbG9yQXR0YWNobWVudCIsImRlcHRoQXR0YWNobWVudCIsImRlbGV0ZVRleHR1cmUiLCJyZW5kZXJidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsIkRlcHRoTW9kZSIsIlJlYWRPbmx5IiwiUmVhZFdyaXRlIiwiZGlzYWJsZWQiLCJTdGVuY2lsTW9kZSIsImZhaWwiLCJkZXB0aEZhaWwiLCJwYXNzIiwiQ29sb3JNb2RlIiwiYmxlbmRGdW5jdGlvbiIsIlJlcGxhY2UiLCJ1bmJsZW5kZWQiLCJhbHBoYUJsZW5kZWQiLCJDdWxsRmFjZU1vZGUiLCJtb2RlIiwiYmFja0NDVyIsIkNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJzdGVuY2lsVGVzdCIsImRlcHRoVGVzdCIsImJsZW5kIiwiY3VsbEZhY2VTaWRlIiwicGl4ZWxTdG9yZVVucGFjayIsInBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhIiwicGl4ZWxTdG9yZVVucGFja0ZsaXBZIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwiZXh0VGV4dHVyZUhhbGZGbG9hdCIsImNyZWF0ZUluZGV4QnVmZmVyIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwic3RvcmFnZUZvcm1hdCIsInJibyIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwic2V0Q3VsbEZhY2UiLCJjdWxsRmFjZU1vZGUiLCJzZXREZXB0aE1vZGUiLCJkZXB0aE1vZGUiLCJzZXRTdGVuY2lsTW9kZSIsInN0ZW5jaWxNb2RlIiwic2V0Q29sb3JNb2RlIiwiY29sb3JNb2RlIiwiZGVlcEVxdWFsIiwiU291cmNlQ2FjaGUiLCJvbiIsIl9zb3VyY2VMb2FkZWQiLCJfcGF1c2VkIiwicmVsb2FkIiwiX3NvdXJjZUVycm9yZWQiLCJfc291cmNlIiwiY3JlYXRlU291cmNlIiwiX3RpbGVzIiwiX2NhY2hlIiwiX3VubG9hZFRpbGUiLCJfdGltZXJzIiwiX2NhY2hlVGltZXJzIiwiX21heFRpbGVDYWNoZVNpemUiLCJfY292ZXJlZFRpbGVzIiwiU291cmNlRmVhdHVyZVN0YXRlIiwiZ2V0U291cmNlIiwicmVzdW1lIiwic2hvdWxkUmVsb2FkIiwiX3Nob3VsZFJlbG9hZE9uUmVzdW1lIiwiX2xvYWRUaWxlIiwiX2Fib3J0VGlsZSIsImNvYWxlc2NlQ2hhbmdlcyIsInVwbG9hZCIsImdldElkcyIsImNvbXBhcmVLZXlab29tIiwiZ2V0UmVuZGVyYWJsZUlkcyIsInN5bWJvbExheWVyIiwiX2lzSWRSZW5kZXJhYmxlIiwiYV8iLCJiXyIsInJvdGF0ZWRBIiwiX3JvdGF0ZSIsImFuZ2xlIiwicm90YXRlZEIiLCJoYXNSZW5kZXJhYmxlUGFyZW50IiwicGFyZW50VGlsZSIsImZpbmRMb2FkZWRQYXJlbnQiLCJoYXNEYXRhIiwiaG9sZGluZ0ZvckZhZGUiLCJfcmVsb2FkVGlsZSIsIl90aWxlTG9hZGVkIiwicHJldmlvdXNTdGF0ZSIsInRpbWVBZGRlZCIsInJlZnJlc2hlZFVwb25FeHBpcmF0aW9uIiwiX3NldFRpbGVSZWxvYWRUaW1lciIsIl9iYWNrZmlsbERFTSIsImluaXRpYWxpemVUaWxlU3RhdGUiLCJyZW5kZXJhYmxlcyIsImJvcmRlcklkIiwiYm9yZGVyVGlsZSIsImdldFRpbGVCeUlEIiwiZmlsbEJvcmRlciIsImR4IiwiZHkiLCJiYWNrZmlsbEJvcmRlciIsImdldFRpbGUiLCJnZXRab29tIiwic2NhbGVab29tIiwiX3JldGFpbkxvYWRlZENoaWxkcmVuIiwiaWRlYWxUaWxlcyIsIm1heENvdmVyaW5nWm9vbSIsInJldGFpbiIsInRvcG1vc3RMb2FkZWRJRCIsInBhcmVudElEIiwic2NhbGVkVG8iLCJtaW5Db3ZlcmluZ1pvb20iLCJ1cGRhdGVDYWNoZVNpemUiLCJhcHByb3hUaWxlc0luVmlldyIsInZpZXdEZXBlbmRlbnRNYXhTaXplIiwibWF4U2l6ZSIsImhhbmRsZVdyYXBKdW1wIiwid29ybGREaWZmZXJlbmNlIiwiX3ByZXZMbmciLCJ3cmFwRGVsdGEiLCJ1bndyYXBUbyIsImlkZWFsVGlsZUlEcyIsImNlbnRlciIsInVzZWQiLCJnZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXMiLCJ1bndyYXBwZWQiLCJjb3ZlcmluZ1RpbGVzIiwibWF4T3Zlcnpvb21pbmciLCJtYXhVbmRlcnpvb21pbmciLCJfdXBkYXRlUmV0YWluZWRUaWxlcyIsImlzUmFzdGVyVHlwZSIsInBhcmVudHNGb3JGYWRpbmciLCJmYWRpbmdUaWxlcyIsImZhZGVFbmRUaW1lIiwiX2FkZFRpbGUiLCJyZXRhaW5lZElkIiwiY2xlYXJGYWRlSG9sZCIsImtleXNEaWZmZXJlbmNlIiwiaGFzU3ltYm9sQnVja2V0cyIsInNldEhvbGREdXJhdGlvbiIsIl9mYWRlRHVyYXRpb24iLCJzeW1ib2xGYWRlRmluaXNoZWQiLCJfcmVtb3ZlVGlsZSIsInJlbGVhc2VTeW1ib2xGYWRlVGlsZXMiLCJjaGVja2VkIiwibWlzc2luZ1RpbGVzIiwiY2hpbGRDb29yZCIsImNoaWxkcmVuIiwiY2hpbGRUaWxlIiwicGFyZW50V2FzUmVxdWVzdGVkIiwid2FzUmVxdWVzdGVkIiwicGFyZW50SWQiLCJjYWNoZWQiLCJ1c2VzIiwiZ2V0RXhwaXJ5VGltZW91dCIsImNsZWFyVGlsZXMiLCJ0aWxlUmVzdWx0cyIsIm1pblgiLCJJbmZpbml0eSIsIm1pblkiLCJtYXhYIiwibWF4WSIsInAiLCJxdWVyeVBhZGRpbmciLCJ0aWxlU3BhY2VCb3VuZHMiLCJjb29yZGluYXRlVG9UaWxlUG9pbnQiLCJDb29yZGluYXRlIiwidGlsZVNwYWNlUXVlcnlHZW9tZXRyeSIsImdldFZpc2libGVDb29yZGluYXRlcyIsImNvb3JkcyIsInBvc01hdHJpeCIsInNldEZlYXR1cmVTdGF0ZSIsInVwZGF0ZVN0YXRlIiwiZ2V0U3RhdGUiLCJnbG9iYWxXb3JrZXJQb29sIiwiV29ya2VyUG9vbCIsImFjdGl2ZSIsImRlcmVmIiwicmVmUHJvcGVydGllcyIsImRlcmVmTGF5ZXJzIiwibGF5ZXJzIiwibWFwSWQiLCJ3b3JrZXJDb3VudCIsIldlYldvcmtlciIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJvcGVyYXRpb25zIiwic2V0U3R5bGUiLCJhZGRMYXllciIsInJlbW92ZUxheWVyIiwic2V0UGFpbnRQcm9wZXJ0eSIsInNldExheW91dFByb3BlcnR5Iiwic2V0RmlsdGVyIiwiYWRkU291cmNlIiwicmVtb3ZlU291cmNlIiwic2V0R2VvSlNPTlNvdXJjZURhdGEiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExheWVyUHJvcGVydHkiLCJzZXRDZW50ZXIiLCJzZXRab29tIiwic2V0QmVhcmluZyIsInNldFBpdGNoIiwic2V0U3ByaXRlIiwic2V0R2x5cGhzIiwic291cmNlSWQiLCJhZnRlciIsImNvbW1hbmRzIiwiY29tbWFuZCIsImFyZ3MiLCJzb3VyY2VzUmVtb3ZlZCIsInVwZGF0ZVNvdXJjZSIsImNhblVwZGF0ZUdlb0pTT04iLCJiZWZvcmUiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpc0VxdWFsIiwiZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzIiwibGF5ZXJJZCIsImtsYXNzIiwicGx1Y2tJZCIsImluZGV4QnlJZCIsImdyb3VwIiwiZGlmZlN0eWxlcyIsInZlcnNpb24iLCJiZWFyaW5nIiwicGl0Y2giLCJ0cmFuc2l0aW9uIiwicmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyIsImRpZmZTb3VyY2VzIiwic291cmNlcyIsImJlZm9yZUxheWVycyIsImNvbmNhdCIsImJlZm9yZUxheWVyIiwiYWZ0ZXJMYXllciIsImluc2VydEJlZm9yZUxheWVySWQiLCJiZWZvcmVPcmRlciIsImFmdGVyT3JkZXIiLCJiZWZvcmVJbmRleCIsImFmdGVySW5kZXgiLCJ0cmFja2VyIiwiY2xlYW4iLCJsYXlvdXQiLCJwYWludCIsImRpZmZMYXllcnMiLCJjb25zb2xlIiwid2FybiIsIkdyaWRJbmRleCIsImNlbGxTaXplIiwiYm94Q2VsbHMiLCJjaXJjbGVDZWxscyIsInhDZWxsQ291bnQiLCJ5Q2VsbENvdW50IiwiY2lyY2xlS2V5cyIsImJveEtleXMiLCJiYm94ZXMiLCJjaXJjbGVzIiwieFNjYWxlIiwieVNjYWxlIiwiYm94VWlkIiwiY2lyY2xlVWlkIiwia2V5c0xlbmd0aCIsImluc2VydCIsIngxIiwieTEiLCJ4MiIsInkyIiwiX2ZvckVhY2hDZWxsIiwiX2luc2VydEJveENlbGwiLCJpbnNlcnRDaXJjbGUiLCJfaW5zZXJ0Q2lyY2xlQ2VsbCIsImNlbGxJbmRleCIsIl9xdWVyeSIsImhpdFRlc3QiLCJwcmVkaWNhdGUiLCJxdWVyeUFyZ3MiLCJzZWVuVWlkcyIsImJveCIsImNpcmNsZSIsIl9xdWVyeUNlbGwiLCJfcXVlcnlDaXJjbGUiLCJfcXVlcnlDZWxsQ2lyY2xlIiwicXVlcnkiLCJoaXRUZXN0Q2lyY2xlIiwiYm94Q2VsbCIsImNpcmNsZUNlbGwiLCJfY2lyY2xlQW5kUmVjdENvbGxpZGUiLCJfY2lyY2xlc0NvbGxpZGUiLCJmbiIsImFyZzEiLCJhcmcyIiwiY3gxIiwiX2NvbnZlcnRUb1hDZWxsQ29vcmQiLCJjeTEiLCJfY29udmVydFRvWUNlbGxDb29yZCIsImN4MiIsImN5MiIsInIxIiwicjIiLCJib3RoUmFkaWkiLCJjaXJjbGVYIiwiY2lyY2xlWSIsImhhbGZSZWN0V2lkdGgiLCJkaXN0WCIsImhhbGZSZWN0SGVpZ2h0IiwiZGlzdFkiLCJzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzIiwiZ2V0TGFiZWxQbGFuZU1hdHJpeCIsInBpdGNoV2l0aE1hcCIsInJvdGF0ZVdpdGhNYXAiLCJwaXhlbHNUb1RpbGVVbml0cyIsIm0iLCJtYXQ0IiwiRmxvYXQzMkFycmF5IiwiZ2V0R2xDb29yZE1hdHJpeCIsInByb2plY3QiLCJwb2ludCIsIm1hdHJpeCIsInh5VHJhbnNmb3JtTWF0NCIsInNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSIsImlzVmlzaWJsZSIsImFuY2hvclBvcyIsImNsaXBwaW5nQnVmZmVyIiwidXBkYXRlTGluZUxhYmVscyIsImJ1Y2tldCIsImlzVGV4dCIsImxhYmVsUGxhbmVNYXRyaXgiLCJnbENvb3JkTWF0cml4Iiwia2VlcFVwcmlnaHQiLCJzaXplRGF0YSIsInRleHRTaXplRGF0YSIsImljb25TaXplRGF0YSIsInBhcnRpYWxseUV2YWx1YXRlZFNpemUiLCJzeW1ib2xTaXplIiwiZHluYW1pY0xheW91dFZlcnRleEFycmF5IiwidGV4dCIsImljb24iLCJsaW5lVmVydGV4QXJyYXkiLCJwbGFjZWRTeW1ib2xzIiwicGxhY2VkU3ltYm9sQXJyYXkiLCJhc3BlY3RSYXRpbyIsInVzZVZlcnRpY2FsIiwic3ltYm9sIiwiaGlkZGVuIiwid3JpdGluZ01vZGUiLCJXcml0aW5nTW9kZSIsInZlcnRpY2FsIiwiaGlkZUdseXBocyIsIm51bUdseXBocyIsImFuY2hvclgiLCJhbmNob3JZIiwidmVjNCIsInBlcnNwZWN0aXZlUmF0aW8iLCJjYW1lcmFUb0NlbnRlckRpc3RhbmNlIiwicGl0Y2hTY2FsZWRGb250U2l6ZSIsInRpbGVBbmNob3JQb2ludCIsImFuY2hvclBvaW50IiwicHJvamVjdGlvbkNhY2hlIiwicGxhY2VVbmZsaXBwZWQiLCJwbGFjZUdseXBoc0Fsb25nTGluZSIsImdseXBoT2Zmc2V0QXJyYXkiLCJub3RFbm91Z2hSb29tIiwibmVlZHNGbGlwcGluZyIsImR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIiLCJwbGFjZUZpcnN0QW5kTGFzdEdseXBoIiwiZm9udFNjYWxlIiwibGluZU9mZnNldFgiLCJsaW5lT2Zmc2V0WSIsImZsaXAiLCJyZXR1cm5UaWxlRGlzdGFuY2UiLCJnbHlwaEVuZEluZGV4IiwiZ2x5cGhTdGFydEluZGV4IiwibGluZVN0YXJ0SW5kZXgiLCJsaW5lRW5kSW5kZXgiLCJsaW5lTGVuZ3RoIiwiZmlyc3RHbHlwaE9mZnNldCIsImdldG9mZnNldFgiLCJsYXN0R2x5cGhPZmZzZXQiLCJmaXJzdFBsYWNlZEdseXBoIiwicGxhY2VHbHlwaEFsb25nTGluZSIsInNlZ21lbnQiLCJsYXN0UGxhY2VkR2x5cGgiLCJmaXJzdCIsImxhc3QiLCJyZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImhvcml6b250YWwiLCJwbGFjZWRHbHlwaHMiLCJmaXJzdEFuZExhc3RHbHlwaCIsIm9yaWVudGF0aW9uQ2hhbmdlIiwiZ2x5cGhJbmRleCIsInRpbGVWZXJ0ZXhJbmRleCIsInRpbGVTZWdtZW50RW5kIiwiZ2V0eCIsImdldHkiLCJwcm9qZWN0ZWRWZXJ0ZXgiLCJwcm9qZWN0VHJ1bmNhdGVkTGluZVNlZ21lbnQiLCJzaW5nbGVHbHlwaCIsImFkZER5bmFtaWNBdHRyaWJ1dGVzIiwicHJldmlvdXNUaWxlUG9pbnQiLCJjdXJyZW50VGlsZVBvaW50IiwicHJldmlvdXNQcm9qZWN0ZWRQb2ludCIsIm1pbmltdW1MZW5ndGgiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGVkVW5pdFZlcnRleCIsInN1YiIsIl91bml0IiwicHJvamVjdGVkVW5pdFNlZ21lbnQiLCJfbXVsdCIsIm1hZyIsIm9mZnNldFgiLCJhbmNob3JTZWdtZW50IiwiY29tYmluZWRPZmZzZXRYIiwiZGlyIiwiY3VycmVudEluZGV4IiwiaW5pdGlhbEluZGV4IiwicHJldiIsImRpc3RhbmNlVG9QcmV2IiwiY3VycmVudFNlZ21lbnREaXN0YW5jZSIsImFic09mZnNldFgiLCJjdXJyZW50VmVydGV4IiwicHJvamVjdGlvbiIsInByZXZpb3VzTGluZVZlcnRleEluZGV4Iiwic2VnbWVudEludGVycG9sYXRpb25UIiwicHJldlRvQ3VycmVudCIsIm11bHQiLCJfYWRkIiwiX3BlcnAiLCJhdGFuMiIsInRpbGVEaXN0YW5jZSIsInByZXZUaWxlRGlzdGFuY2UiLCJnZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvciIsImxhc3RTZWdtZW50Vmlld3BvcnREaXN0YW5jZSIsImhpZGRlbkdseXBoQXR0cmlidXRlcyIsIm51bSIsImZsb2F0MzIiLCJvdXQiLCJDb2xsaXNpb25JbmRleCIsImdyaWQiLCJpZ25vcmVkR3JpZCIsIkdyaWQiLCJwaXRjaGZhY3RvciIsIl9waXRjaCIsInNjcmVlblJpZ2h0Qm91bmRhcnkiLCJzY3JlZW5Cb3R0b21Cb3VuZGFyeSIsImdyaWRSaWdodEJvdW5kYXJ5IiwiZ3JpZEJvdHRvbUJvdW5kYXJ5IiwibWFya0NvbGxpc2lvbkNpcmNsZVVzZWQiLCJjb2xsaXNpb25DaXJjbGVzIiwicGxhY2VDb2xsaXNpb25Cb3giLCJjb2xsaXNpb25Cb3giLCJhbGxvd092ZXJsYXAiLCJ0ZXh0UGl4ZWxSYXRpbyIsImNvbGxpc2lvbkdyb3VwUHJlZGljYXRlIiwicHJvamVjdGVkUG9pbnQiLCJwcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyIsImFuY2hvclBvaW50WCIsImFuY2hvclBvaW50WSIsInRpbGVUb1ZpZXdwb3J0IiwidGxYIiwidGxZIiwiYnJYIiwiYnJZIiwiaXNJbnNpZGVHcmlkIiwib2Zmc2NyZWVuIiwiaXNPZmZzY3JlZW4iLCJhcHByb3hpbWF0ZVRpbGVEaXN0YW5jZSIsImxhc3RTZWdtZW50QW5nbGUiLCJjYW1lcmFUb0FuY2hvckRpc3RhbmNlIiwiaW5jaWRlbmNlU3RyZXRjaCIsImxhc3RTZWdtZW50VGlsZSIsInBsYWNlQ29sbGlzaW9uQ2lyY2xlcyIsInNob3dDb2xsaXNpb25DaXJjbGVzIiwicGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyIsInByb2plY3RlZEFuY2hvciIsInByb2plY3RBbmNob3IiLCJ0aWxlVW5pdEFuY2hvclBvaW50IiwiY29sbGlzaW9uRGV0ZWN0ZWQiLCJpbkdyaWQiLCJlbnRpcmVseU9mZnNjcmVlbiIsImZpcnN0VGlsZURpc3RhbmNlIiwibGFzdFRpbGVEaXN0YW5jZSIsImNhbWVyYURpc3RhbmNlIiwidGlsZVVuaXRSYWRpdXMiLCJib3hTaWduZWREaXN0YW5jZUZyb21BbmNob3IiLCJwcm9qZWN0UG9pbnQiLCJuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciIsImNvbGxpc2lvbkJveEFycmF5SW5kZXgiLCJxdWVyeVJlbmRlcmVkU3ltYm9scyIsInZpZXdwb3J0UXVlcnlHZW9tZXRyeSIsImdyaWRQb2ludCIsInNlZW5GZWF0dXJlcyIsImZlYXR1cmVLZXkiLCJidWNrZXRJbnN0YW5jZUlkIiwiYmJveCIsImludGVyc2VjdGlvblRlc3RzIiwiaW5zZXJ0Q29sbGlzaW9uQm94IiwiaWdub3JlUGxhY2VtZW50IiwiY29sbGlzaW9uR3JvdXBJRCIsImluc2VydENvbGxpc2lvbkNpcmNsZXMiLCJPcGFjaXR5U3RhdGUiLCJwcmV2U3RhdGUiLCJpbmNyZW1lbnQiLCJwbGFjZWQiLCJza2lwRmFkZSIsIm9wYWNpdHkiLCJpc0hpZGRlbiIsIkpvaW50T3BhY2l0eVN0YXRlIiwicGxhY2VkVGV4dCIsInBsYWNlZEljb24iLCJKb2ludFBsYWNlbWVudCIsIkNvbGxpc2lvbkdyb3VwcyIsImNyb3NzU291cmNlQ29sbGlzaW9ucyIsIm1heEdyb3VwSUQiLCJjb2xsaXNpb25Hcm91cHMiLCJzb3VyY2VJRCIsIklEIiwibmV4dEdyb3VwSUQiLCJQbGFjZW1lbnQiLCJmYWRlRHVyYXRpb24iLCJjb2xsaXNpb25JbmRleCIsInBsYWNlbWVudHMiLCJvcGFjaXRpZXMiLCJzdGFsZSIsInJldGFpbmVkUXVlcnlEYXRhIiwidXBkYXRlQ29sbGlzaW9uVmVydGljZXMiLCJjb2xsaXNpb25WZXJ0ZXhBcnJheSIsIm5vdFVzZWQiLCJwbGFjZUxheWVyVGlsZSIsInN0eWxlTGF5ZXIiLCJzZWVuQ3Jvc3NUaWxlSURzIiwic3ltYm9sQnVja2V0IiwiZ2V0QnVja2V0IiwiYnVja2V0RmVhdHVyZUluZGV4IiwibGF0ZXN0RmVhdHVyZUluZGV4IiwibGF5ZXJJZHMiLCJjb2xsaXNpb25Cb3hBcnJheSIsInRleHRMYWJlbFBsYW5lTWF0cml4IiwiaWNvbkxhYmVsUGxhbmVNYXRyaXgiLCJzb3VyY2VMYXllckluZGV4IiwiYnVja2V0SW5kZXgiLCJwbGFjZUxheWVyQnVja2V0IiwicGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUiLCJzeW1ib2xMYXllclByb3BlcnRpZXMiLCJ0ZXh0T3B0aW9uYWwiLCJpY29uT3B0aW9uYWwiLCJ0ZXh0QWxsb3dPdmVybGFwIiwiaWNvbkFsbG93T3ZlcmxhcCIsImFsd2F5c1Nob3dUZXh0IiwiaGFzSWNvbkRhdGEiLCJhbHdheXNTaG93SWNvbiIsImhhc1RleHREYXRhIiwiY29sbGlzaW9uR3JvdXAiLCJjb2xsaXNpb25BcnJheXMiLCJkZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzIiwic3ltYm9sSW5zdGFuY2VzIiwic3ltYm9sSW5zdGFuY2UiLCJjcm9zc1RpbGVJRCIsInBsYWNlVGV4dCIsInBsYWNlSWNvbiIsInBsYWNlZEdseXBoQm94ZXMiLCJwbGFjZWRHbHlwaENpcmNsZXMiLCJwbGFjZWRJY29uQm94ZXMiLCJ0ZXh0RmVhdHVyZUluZGV4IiwiaWNvbkZlYXR1cmVJbmRleCIsInRleHRCb3giLCJ0ZXh0Q2lyY2xlcyIsInBsYWNlZFN5bWJvbCIsImhvcml6b250YWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgiLCJpY29uQm94IiwiaWNvbldpdGhvdXRUZXh0IiwibnVtR2x5cGhWZXJ0aWNlcyIsIm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyIsInRleHRXaXRob3V0SWNvbiIsIm51bUljb25WZXJ0aWNlcyIsImp1c3RSZWxvYWRlZCIsImNvbW1pdCIsInByZXZQbGFjZW1lbnQiLCJjb21taXRUaW1lIiwicGxhY2VtZW50Q2hhbmdlZCIsInByZXZPcGFjaXRpZXMiLCJqb2ludFBsYWNlbWVudCIsInByZXZPcGFjaXR5Iiwiam9pbnRPcGFjaXR5IiwibGFzdFBsYWNlbWVudENoYW5nZVRpbWUiLCJ1cGRhdGVMYXllck9wYWNpdGllcyIsInVwZGF0ZUJ1Y2tldE9wYWNpdGllcyIsIm9wYWNpdHlWZXJ0ZXhBcnJheSIsImhhc0NvbGxpc2lvbkJveERhdGEiLCJoYXNDb2xsaXNpb25DaXJjbGVEYXRhIiwiY29sbGlzaW9uQ2lyY2xlIiwiZHVwbGljYXRlT3BhY2l0eVN0YXRlIiwiZGVmYXVsdE9wYWNpdHlTdGF0ZSIsImlzRHVwbGljYXRlIiwib3BhY2l0eVN0YXRlIiwiaGFzVGV4dCIsImhhc0ljb24iLCJwYWNrZWRPcGFjaXR5IiwicGFja09wYWNpdHkiLCJvcGFjaXR5RW50cnlDb3VudCIsInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Iiwic29ydEZlYXR1cmVzIiwiZmVhdHVyZVNvcnRPcmRlciIsIm9wYWNpdHlWZXJ0ZXhCdWZmZXIiLCJjb2xsaXNpb25WZXJ0ZXhCdWZmZXIiLCJzeW1ib2xGYWRlQ2hhbmdlIiwiaGFzVHJhbnNpdGlvbnMiLCJzdGlsbFJlY2VudCIsInNldFN0YWxlIiwic2hpZnQyNSIsInNoaWZ0MjQiLCJzaGlmdDE3Iiwic2hpZnQxNiIsInNoaWZ0OSIsInNoaWZ0OCIsInNoaWZ0MSIsInRhcmdldEJpdCIsIm9wYWNpdHlCaXRzIiwiTGF5ZXJQbGFjZW1lbnQiLCJfY3VycmVudFRpbGVJbmRleCIsIl9zZWVuQ3Jvc3NUaWxlSURzIiwiY29udGludWVQbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJzaG91bGRQYXVzZVBsYWNlbWVudCIsIlBhdXNlYWJsZVBsYWNlbWVudCIsImZvcmNlRnVsbFBsYWNlbWVudCIsIl9jdXJyZW50UGxhY2VtZW50SW5kZXgiLCJfZm9yY2VGdWxsUGxhY2VtZW50IiwiX3Nob3dDb2xsaXNpb25Cb3hlcyIsIl9kb25lIiwiaXNEb25lIiwibGF5ZXJUaWxlcyIsInN0YXJ0VGltZSIsImVsYXBzZWRUaW1lIiwicGxhY2VtZW50Wm9vbSIsIl9pblByb2dyZXNzTGF5ZXIiLCJwcmV2aW91c1BsYWNlbWVudCIsInJvdW5kaW5nRmFjdG9yIiwiVGlsZUxheWVySW5kZXgiLCJpbmRleGVkU3ltYm9sSW5zdGFuY2VzIiwiZ2V0U2NhbGVkQ29vcmRpbmF0ZXMiLCJjaGlsZFRpbGVJRCIsInpEaWZmZXJlbmNlIiwiZmluZE1hdGNoZXMiLCJuZXdUaWxlSUQiLCJ6b29tQ3Jvc3NUaWxlSURzIiwiaW5kZXhlZEluc3RhbmNlcyIsInNjYWxlZFN5bWJvbENvb3JkIiwidGhpc1RpbGVTeW1ib2wiLCJDcm9zc1RpbGVJRHMiLCJtYXhDcm9zc1RpbGVJRCIsImdlbmVyYXRlIiwiQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCIsImluZGV4ZXMiLCJ1c2VkQ3Jvc3NUaWxlSURzIiwiem9vbUluZGV4ZXMiLCJuZXdab29tSW5kZXgiLCJhZGRCdWNrZXQiLCJjcm9zc1RpbGVJRHMiLCJyZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMiLCJjaGlsZEluZGV4IiwiaXNDaGlsZE9mIiwicGFyZW50SW5kZXgiLCJzeW1ib2xJbnN0YW5jZSQxIiwicmVtb3ZlZEJ1Y2tldCIsInJlbW92ZVN0YWxlQnVja2V0cyIsImN1cnJlbnRJRHMiLCJ0aWxlc0NoYW5nZWQiLCJ0aWxlS2V5IiwiQ3Jvc3NUaWxlU3ltYm9sSW5kZXgiLCJsYXllckluZGV4ZXMiLCJtYXhCdWNrZXRJbnN0YW5jZUlkIiwiYnVja2V0c0luQ3VycmVudFBsYWNlbWVudCIsImxheWVySW5kZXgiLCJzeW1ib2xCdWNrZXRzQ2hhbmdlZCIsImN1cnJlbnRCdWNrZXRJRHMiLCJwcnVuZVVudXNlZExheWVycyIsInVzZWRMYXllcnMiLCJ1c2VkTGF5ZXJNYXAiLCJ1c2VkTGF5ZXIiLCJldmVudGVkIiwiZXJyb3JzIiwiX2VtaXRWYWxpZGF0aW9uRXJyb3JzIiwiaWRlbnRpZmllciIsInN1cHBvcnRlZERpZmZPcGVyYXRpb25zIiwiZGlmZk9wZXJhdGlvbnMiLCJpZ25vcmVkRGlmZk9wZXJhdGlvbnMiLCJTdHlsZSIsImltYWdlTWFuYWdlciIsImdseXBoTWFuYWdlciIsImxpbmVBdGxhcyIsImNyb3NzVGlsZVN5bWJvbEluZGV4IiwiX2xheWVycyIsIl9vcmRlciIsInNvdXJjZUNhY2hlcyIsInpvb21IaXN0b3J5IiwiWm9vbUhpc3RvcnkiLCJfcmVzZXRVcGRhdGVzIiwic2VsZiIsIl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2siLCJyZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSIsInBsdWdpblVSTCIsImNvbXBsZXRpb25DYWxsYmFjayIsInZlY3RvckxheWVySWRzIiwiX3ZhbGlkYXRlTGF5ZXIiLCJsb2FkVVJMIiwiX3JlcXVlc3QiLCJnZXRKU09OIiwianNvbiIsIl9sb2FkIiwibG9hZEpTT04iLCJmcmFtZSIsInN0eWxlc2hlZXQiLCJfc3ByaXRlUmVxdWVzdCIsImxvYWRTcHJpdGUiLCJjcmVhdGVTdHlsZUxheWVyIiwiX3NlcmlhbGl6ZUxheWVycyIsIl91cGRhdGVkU291cmNlcyIsInNlcmlhbGl6ZWRMYXllcnMiLCJfY2hlY2tMb2FkZWQiLCJfY2hhbmdlZCIsInVwZGF0ZWRJZHMiLCJfdXBkYXRlZExheWVycyIsInJlbW92ZWRJZHMiLCJfcmVtb3ZlZExheWVycyIsIl91cGRhdGVXb3JrZXJMYXllcnMiLCJhY3Rpb24iLCJfcmVsb2FkU291cmNlIiwiX2NsZWFyU291cmNlIiwiX3VwZGF0ZWRQYWludFByb3BzIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJjaGFuZ2VzIiwib3AiLCJ1bmltcGxlbWVudGVkT3BzIiwiYXBwbHkiLCJpc1NvdXJjZUxvYWRlZCIsImxheWVyT2JqZWN0IiwiZ2V0TGF5ZXIiLCJ2YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXIiLCJhcnJheUluZGV4IiwiX2xheWVyT3JkZXJDaGFuZ2VkIiwicmVtb3ZlZCIsIl91cGRhdGVMYXllciIsIm1vdmVMYXllciIsIm5ld0luZGV4IiwiZ2V0RmlsdGVyIiwiZ2V0TGF5b3V0UHJvcGVydHkiLCJnZXRQYWludFByb3BlcnR5IiwiZmVhdHVyZUlkIiwicGFyc2VJbnQiLCJnZXRUcmFuc2l0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsImZpbHRlck9iamVjdCIsIm1ldGFkYXRhIiwibWFwT2JqZWN0IiwiX2ZsYXR0ZW5SZW5kZXJlZEZlYXR1cmVzIiwic291cmNlUmVzdWx0cyIsImZlYXR1cmVzIiwibGF5ZXJGZWF0dXJlcyIsImluY2x1ZGVkU291cmNlcyIsInF1ZXJ5Q29vcmRpbmF0ZXMiLCJwb2ludENvb3JkaW5hdGUiLCJyZW5kZXJlZFN5bWJvbHMiLCJidWNrZXRRdWVyeURhdGEiLCJxdWVyeURhdGEiLCJidWNrZXRTeW1ib2xzIiwibG9va3VwU3ltYm9sRmVhdHVyZXMiLCJsYXllclN5bWJvbHMiLCJzb3J0ZWRBIiwic3ltYm9sRmVhdHVyZSIsImxheWVyTmFtZSIsInF1ZXJ5U291cmNlRmVhdHVyZXMiLCJkYXRhVGlsZXMiLCJkYXRhSUQiLCJhZGRTb3VyY2VUeXBlIiwiU291cmNlVHlwZSIsImdldFNvdXJjZVR5cGUiLCJzZXRTb3VyY2VUeXBlIiwid29ya2VyU291cmNlVVJMIiwiX3VwZGF0ZSIsIl9yZW1vdmUiLCJydGxUZXh0UGx1Z2luRXZlbnRlZCIsIm9mZiIsIl91cGRhdGVTb3VyY2VzIiwiX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMiLCJfdXBkYXRlUGxhY2VtZW50IiwicGxhY2VtZW50Q29tbWl0dGVkIiwiaXNMZXNzVGhhbiIsImxheWVyQnVja2V0c0NoYW5nZWQiLCJwYXVzZWFibGVQbGFjZW1lbnQiLCJfcmVsZWFzZVN5bWJvbEZhZGVUaWxlcyIsImljb25zIiwic3RhY2tzIiwiVmVydGV4QXJyYXlPYmplY3QiLCJib3VuZFByb2dyYW0iLCJib3VuZExheW91dFZlcnRleEJ1ZmZlciIsImJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzIiwiYm91bmRJbmRleEJ1ZmZlciIsImJvdW5kVmVydGV4T2Zmc2V0IiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVyIiwidmFvIiwibGF5b3V0VmVydGV4QnVmZmVyIiwicGFpbnRWZXJ0ZXhCdWZmZXJzIiwiaW5kZXhCdWZmZXIiLCJkeW5hbWljVmVydGV4QnVmZmVyIiwiZHluYW1pY1ZlcnRleEJ1ZmZlcjIiLCJwYWludEJ1ZmZlcnNEaWZmZXIiLCJpc0ZyZXNoQmluZFJlcXVpcmVkIiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVyMiIsImZyZXNoQmluZCIsIm51bVByZXZBdHRyaWJ1dGVzIiwibnVtTmV4dEF0dHJpYnV0ZXMiLCJudW1BdHRyaWJ1dGVzIiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJjdXJyZW50TnVtQXR0cmlidXRlcyIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEJ1ZmZlciIsInZlcnRleEJ1ZmZlciQxIiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJjb25maWd1cmF0aW9uIiwiZml4ZWRVbmlmb3JtcyIsInNob3dPdmVyZHJhd0luc3BlY3RvciIsImNyZWF0ZVByb2dyYW0iLCJkZWZpbmVzIiwidG9GaXhlZCIsImZyYWdtZW50U291cmNlIiwic2hhZGVycyIsInByZWx1ZGUiLCJ2ZXJ0ZXhTb3VyY2UiLCJmcmFnbWVudFNoYWRlciIsImNyZWF0ZVNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJhdHRhY2hTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwibGF5b3V0QXR0cmlidXRlcyIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkFDVElWRV9BVFRSSUJVVEVTIiwidW5pZm9ybUxvY2F0aW9ucyIsImF0dHJpYnV0ZSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImJpbmRlclVuaWZvcm1zIiwiZ2V0VW5pZm9ybXMiLCJwYXR0ZXJuVW5pZm9ybVZhbHVlcyIsImNyb3NzZmFkZSIsInRpbGVSYXRpbyIsInRpbGVab29tIiwibnVtVGlsZXMiLCJ0aWxlU2l6ZUF0TmVhcmVzdFpvb20iLCJwaXhlbFgiLCJwaXhlbFkiLCJ1X2ltYWdlIiwidV90ZXhzaXplIiwiaW1hZ2VBdGxhc1RleHR1cmUiLCJ1X3NjYWxlIiwiZnJvbVNjYWxlIiwidG9TY2FsZSIsInVfZmFkZSIsInVfcGl4ZWxfY29vcmRfdXBwZXIiLCJ1X3BpeGVsX2Nvb3JkX2xvd2VyIiwiZHJhd01vZGUiLCJ1bmlmb3JtVmFsdWVzIiwic2VnbWVudHMiLCJjdXJyZW50UHJvcGVydGllcyIsImR5bmFtaWNMYXlvdXRCdWZmZXIiLCJkeW5hbWljTGF5b3V0QnVmZmVyMiIsInNldFVuaWZvcm1zIiwicHJpbWl0aXZlU2l6ZSIsIkxJTkVTIiwiVFJJQU5HTEVTIiwiTElORV9TVFJJUCIsInZhb3MiLCJnZXRQYWludFZlcnRleEJ1ZmZlcnMiLCJkcmF3RWxlbWVudHMiLCJwcmltaXRpdmVMZW5ndGgiLCJVTlNJR05FRF9TSE9SVCIsInByaW1pdGl2ZU9mZnNldCIsImZpbGxFeHRydXNpb25Vbmlmb3JtVmFsdWVzIiwic2hvdWxkVXNlVmVydGljYWxHcmFkaWVudCIsIl9scCIsImxpZ2h0UG9zIiwibGlnaHRNYXQiLCJtYXQzIiwidmVjMyIsImxpZ2h0Q29sb3IiLCJ1X21hdHJpeCIsInVfbGlnaHRwb3MiLCJ1X2xpZ2h0aW50ZW5zaXR5IiwidV9saWdodGNvbG9yIiwidV92ZXJ0aWNhbF9ncmFkaWVudCIsImZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybVZhbHVlcyIsInVfaGVpZ2h0X2ZhY3RvciIsImV4dHJ1c2lvblRleHR1cmVVbmlmb3JtVmFsdWVzIiwidGV4dHVyZVVuaXQiLCJ1X3dvcmxkIiwidV9vcGFjaXR5IiwiZmlsbFVuaWZvcm1WYWx1ZXMiLCJmaWxsUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMiLCJkcmF3aW5nQnVmZmVyU2l6ZSIsImZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJjaXJjbGVVbmlmb3JtVmFsdWVzIiwiZXh0cnVkZVNjYWxlIiwicGl4ZWxzVG9HTFVuaXRzIiwidV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIiwidV9zY2FsZV93aXRoX21hcCIsInRyYW5zbGF0ZVBvc01hdHJpeCIsInVfcGl0Y2hfd2l0aF9tYXAiLCJ1X2V4dHJ1ZGVfc2NhbGUiLCJjb2xsaXNpb25Vbmlmb3JtcyIsImxvY2F0aW9ucyIsIlVuaWZvcm1NYXRyaXg0ZiIsIlVuaWZvcm0xZiIsInVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMiLCJVbmlmb3JtMmYiLCJ1X292ZXJzY2FsZV9mYWN0b3IiLCJjb2xsaXNpb25Vbmlmb3JtVmFsdWVzIiwiZGVidWdVbmlmb3JtVmFsdWVzIiwidV9jb2xvciIsImNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXMiLCJoZWF0bWFwVW5pZm9ybVZhbHVlcyIsInVfaW50ZW5zaXR5IiwiaGVhdG1hcFRleHR1cmVVbmlmb3JtVmFsdWVzIiwiY29sb3JSYW1wVW5pdCIsInVfY29sb3JfcmFtcCIsImhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMiLCJzaGFkb3ciLCJoaWdobGlnaHQiLCJhY2NlbnQiLCJhemltdXRoYWwiLCJ1X2xhdHJhbmdlIiwiY29vcmRpbmF0ZTAiLCJ0b0Nvb3JkaW5hdGUiLCJjb29yZGluYXRlMSIsImNvb3JkaW5hdGVMb2NhdGlvbiIsImdldFRpbGVMYXRSYW5nZSIsInVfbGlnaHQiLCJ1X3NoYWRvdyIsInVfaGlnaGxpZ2h0IiwidV9hY2NlbnQiLCJoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlcyIsInVfZGltZW5zaW9uIiwidV96b29tIiwidV9tYXh6b29tIiwibGluZVVuaWZvcm1WYWx1ZXMiLCJjYWxjdWxhdGVNYXRyaXgiLCJ1X3JhdGlvIiwidV9nbF91bml0c190b19waXhlbHMiLCJsaW5lR3JhZGllbnRVbmlmb3JtVmFsdWVzIiwibGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwidGlsZVpvb21SYXRpbyIsImNhbGN1bGF0ZVRpbGVSYXRpbyIsImxpbmVTREZVbmlmb3JtVmFsdWVzIiwicG9zQSIsImZyb20iLCJwb3NCIiwidG8iLCJ3aWR0aEEiLCJ3aWR0aEIiLCJ1X3BhdHRlcm5zY2FsZV9hIiwidV9wYXR0ZXJuc2NhbGVfYiIsInVfc2RmZ2FtbWEiLCJ1X3RleF95X2EiLCJ1X3RleF95X2IiLCJ1X21peCIsInJhc3RlclVuaWZvcm1WYWx1ZXMiLCJwYXJlbnRUTCIsInBhcmVudFNjYWxlQnkiLCJmYWRlIiwidV90bF9wYXJlbnQiLCJ1X3NjYWxlX3BhcmVudCIsInVfYnVmZmVyX3NjYWxlIiwidV9mYWRlX3QiLCJtaXgiLCJ1X2ltYWdlMCIsInVfaW1hZ2UxIiwidV9icmlnaHRuZXNzX2xvdyIsInVfYnJpZ2h0bmVzc19oaWdoIiwidV9zYXR1cmF0aW9uX2ZhY3RvciIsInNhdHVyYXRpb24iLCJ1X2NvbnRyYXN0X2ZhY3RvciIsImNvbnRyYXN0IiwidV9zcGluX3dlaWdodHMiLCJzcGluV2VpZ2h0cyIsInN5bWJvbEljb25Vbmlmb3JtVmFsdWVzIiwiZnVuY3Rpb25UeXBlIiwicm90YXRlSW5TaGFkZXIiLCJ0ZXhTaXplIiwidV9pc19zaXplX3pvb21fY29uc3RhbnQiLCJ1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCIsInVfc2l6ZV90IiwidVNpemVUIiwidV9zaXplIiwidVNpemUiLCJ1X3BpdGNoIiwidV9yb3RhdGVfc3ltYm9sIiwidV9hc3BlY3RfcmF0aW8iLCJ1X2ZhZGVfY2hhbmdlIiwidV9sYWJlbF9wbGFuZV9tYXRyaXgiLCJ1X2dsX2Nvb3JkX21hdHJpeCIsInVfaXNfdGV4dCIsInVfdGV4dHVyZSIsInN5bWJvbFNERlVuaWZvcm1WYWx1ZXMiLCJpc0hhbG8iLCJ1X2dhbW1hX3NjYWxlIiwidV9pc19oYWxvIiwiYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMiLCJiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJpbWFnZVBvc0EiLCJpbWFnZVBvc0IiLCJ1X3BhdHRlcm5fdGxfYSIsInRsIiwidV9wYXR0ZXJuX2JyX2EiLCJiciIsInVfcGF0dGVybl90bF9iIiwidV9wYXR0ZXJuX2JyX2IiLCJ1X3BhdHRlcm5fc2l6ZV9hIiwiZGlzcGxheVNpemUiLCJ1X3BhdHRlcm5fc2l6ZV9iIiwidV9zY2FsZV9hIiwidV9zY2FsZV9iIiwidV90aWxlX3VuaXRzX3RvX3BpeGVscyIsImJnUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJwcm9ncmFtVW5pZm9ybXMiLCJmaWxsRXh0cnVzaW9uIiwiVW5pZm9ybTNmIiwiZmlsbEV4dHJ1c2lvblBhdHRlcm4iLCJVbmlmb3JtMWkiLCJVbmlmb3JtNGYiLCJleHRydXNpb25UZXh0dXJlIiwiZmlsbCIsImZpbGxQYXR0ZXJuIiwiZmlsbE91dGxpbmUiLCJmaWxsT3V0bGluZVBhdHRlcm4iLCJkZWJ1ZyIsIlVuaWZvcm1Db2xvciIsImNsaXBwaW5nTWFzayIsImhlYXRtYXAiLCJoZWF0bWFwVGV4dHVyZSIsImhpbGxzaGFkZSIsImhpbGxzaGFkZVByZXBhcmUiLCJsaW5lIiwibGluZUdyYWRpZW50IiwibGluZVBhdHRlcm4iLCJsaW5lU0RGIiwic3ltYm9sSWNvbiIsInN5bWJvbFNERiIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kUGF0dGVybiIsImNvbXB1dGVUaWxlTWFza3MiLCJyb290VGlsZSIsImNoaWxkQXJyYXkiLCJsb3dlckJvdW5kIiwiZGlmZloiLCJtYXNrVGlsZUlkIiwiZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkiLCJkcmF3Q2lyY2xlcyIsImJ1ZmZlcnMiLCJjb2xvck1vZGVGb3JSZW5kZXJQYXNzIiwiaWRlbnRpdHlNYXQ0IiwiZHJhd0xheWVyU3ltYm9scyIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZUFuY2hvciIsInJvdGF0aW9uQWxpZ25tZW50IiwicGl0Y2hBbGlnbm1lbnQiLCJ0ciIsImFsb25nTGluZSIsImRlcHRoTW9kZUZvclN1YmxheWVyIiwicHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJwcm9ncmFtQ29uZmlndXJhdGlvbnMiLCJpc1NERiIsInNkZkljb25zIiwiZ2x5cGhBdGxhc1RleHR1cmUiLCJpY29uU2NhbGVkIiwiY29uc3RhbnRPciIsImljb25zTmVlZExpbmVhciIsImljb25UcmFuc2Zvcm1lZCIsInJvdGF0aW5nIiwiem9vbWluZyIsIk5FQVJFU1QiLCJzeW1ib2xQcm9qZWN0aW9uIiwidUxhYmVsUGxhbmVNYXRyaXgiLCJ1Z2xDb29yZE1hdHJpeCIsImhhc0hhbG8iLCJkcmF3U3ltYm9sRWxlbWVudHMiLCJkcmF3RmlsbFRpbGVzIiwiaXNPdXRsaW5lIiwicHJvZ3JhbU5hbWUiLCJwYXR0ZXJuUHJvcGVydHkiLCJnZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzIiwicGF0dGVybnNMb2FkZWQiLCJ1cGRhdGVQYXR0ZXJuUGFpbnRCdWZmZXJzIiwiY29uc3RhbnRQYXR0ZXJuIiwiaW1hZ2VBdGxhcyIsInBvc1RvIiwicGF0dGVyblBvc2l0aW9ucyIsInBvc0Zyb20iLCJzZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMiLCJ0aWxlTWF0cml4IiwiaW5kZXhCdWZmZXIyIiwic2VnbWVudHMyIiwic3RlbmNpbE1vZGVGb3JDbGlwcGluZyIsInByZXBhcmVPZmZzY3JlZW5GcmFtZWJ1ZmZlciIsInJlbmRlclRhcmdldCIsInZpZXdwb3J0RnJhbWUiLCJkZXB0aFJib05lZWRzQ2xlYXIiLCJzZXR1cE9mZnNjcmVlbkRlcHRoUmVuZGVyYnVmZmVyIiwiZGVwdGhSYm8iLCJMRVFVQUwiLCJkcmF3T2Zmc2NyZWVuVGV4dHVyZSIsInJlbmRlcmVkVGV4dHVyZSIsInZpZXdwb3J0QnVmZmVyIiwicXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIiLCJ2aWV3cG9ydFNlZ21lbnRzIiwicmVuZGVySGlsbHNoYWRlIiwibWFza2VkQm91bmRzQnVmZmVyIiwibWFza2VkSW5kZXhCdWZmZXIiLCJyYXN0ZXJCb3VuZHNCdWZmZXIiLCJyYXN0ZXJCb3VuZHNTZWdtZW50cyIsInByZXBhcmVIaWxsc2hhZGUiLCJzb3VyY2VNYXhab29tIiwicGl4ZWxEYXRhIiwiZ2V0UGl4ZWxzIiwiVEVYVFVSRTEiLCJyZW5kZXJUZXh0dXJlIiwiZ2V0RmFkZVZhbHVlcyIsInNpbmNlVGlsZSIsInNpbmNlUGFyZW50IiwiaWRlYWxaIiwiY292ZXJpbmdab29tTGV2ZWwiLCJmYWRlSW4iLCJjaGlsZE9wYWNpdHkiLCJkcmF3RGVidWdUaWxlIiwicmVkIiwiZGVidWdCdWZmZXIiLCJ0aWxlQm9yZGVySW5kZXhCdWZmZXIiLCJkZWJ1Z1NlZ21lbnRzIiwidmVydGljZXMiLCJiYXNlbGluZSIsImxlbiIsImxlbjIiLCJzdHJva2VzIiwic2ltcGxleEZvbnQiLCJjcmVhdGVUZXh0VmVydGljZXMiLCJkZWJ1Z1RleHRBcnJheSIsIlBvc0FycmF5IiwiZGVidWdUZXh0SW5kaWNlcyIsIkxpbmVJbmRleEFycmF5IiwiZGVidWdUZXh0QnVmZmVyIiwicG9zQXR0cmlidXRlcyIsImRlYnVnVGV4dEluZGV4QnVmZmVyIiwiZGVidWdUZXh0U2VnbWVudCIsIm9uZVBpeGVsIiwidHJhbnNsYXRpb25zIiwidHJhbnNsYXRpb24iLCJ3aGl0ZSIsImJsYWNrIiwiICIsIiEiLCJcIiIsIiMiLCIkIiwiJSIsIiYiLCInIiwiKCIsIikiLCIqIiwiKyIsIiwiLCItIiwiLiIsIi8iLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiOiIsIjsiLCI8IiwiPSIsIj4iLCI/IiwiQCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiWyIsIlxcIiwiXSIsIl4iLCJfIiwiYCIsIm8iLCJ1IiwieyIsInwiLCJ9IiwifiIsInJlbmRlclBhc3MiLCJkcmF3Q29sbGlzaW9uRGVidWciLCJzdHJva2VXaWR0aCIsInN0cm9rZU9wYWNpdHkiLCJoZWF0bWFwRmJvIiwiYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyIiwiSEFMRl9GTE9BVF9PRVMiLCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJjb2xvclJhbXBUZXh0dXJlIiwiY29sb3JSYW1wIiwicmVuZGVyVGV4dHVyZVRvTWFwIiwiZ3JhZGllbnQiLCJwcm9ncmFtSWQiLCJmaXJzdFRpbGUiLCJncmFkaWVudFRleHR1cmUiLCJwcmV2UHJvZ3JhbSIsInByb2dyYW1DaGFuZ2VkIiwiZmlsbC1leHRydXNpb24iLCJkcmF3RXh0cnVzaW9uVGlsZXMiLCJ0aWxlSURzIiwibWluVGlsZVoiLCJyZWdpc3RlckZhZGVEdXJhdGlvbiIsInRleHR1cmVGaWx0ZXIiLCJpc1BhdHRlcm5NaXNzaW5nIiwidGlsZUV4dGVudEJ1ZmZlciIsInRpbGVFeHRlbnRTZWdtZW50cyIsImltcGxlbWVudGF0aW9uIiwicHJlcmVuZGVyIiwic2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cyIsImN1c3RvbUxheWVyTWF0cml4Iiwic2V0QmFzZVN0YXRlIiwicmVuZGVyaW5nTW9kZSIsInJlbmRlciIsIlBhaW50ZXIiLCJfdGlsZVRleHR1cmVzIiwic2V0dXAiLCJudW1TdWJsYXllcnMiLCJkZXB0aEVwc2lsb24iLCJlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uIiwiUHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJlZGdlIiwieDAiLCJ5MCIsInNjYW5TcGFucyIsImUwIiwiZTEiLCJ5bWluIiwieW1heCIsInNjYW5MaW5lIiwibTAiLCJtMSIsImQwIiwiZDEiLCJzY2FuVHJpYW5nbGUiLCJhYiIsImJjIiwiY2EiLCJ0aWxlRXh0ZW50QXJyYXkiLCJkZWJ1Z0FycmF5IiwicmFzdGVyQm91bmRzQXJyYXkiLCJ2aWV3cG9ydEFycmF5IiwidGlsZUxpbmVTdHJpcEluZGljZXMiLCJMaW5lU3RyaXBJbmRleEFycmF5IiwicXVhZFRyaWFuZ2xlSW5kaWNlcyIsIlRyaWFuZ2xlSW5kZXhBcnJheSIsInN0ZW5jaWxDbGVhck1vZGUiLCJfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MiLCJpZE5leHQiLCJfdGlsZUNsaXBwaW5nTWFza0lEcyIsIlJFUExBQ0UiLCJFUVVBTCIsIl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IiLCJDT05TVEFOVF9DT0xPUiIsImZhckRlcHRoIiwiY3VycmVudExheWVyIiwibmVhckRlcHRoIiwicHJldlNvdXJjZUlkIiwiY29vcmRzQXNjZW5kaW5nIiwiY29vcmRzRGVzY2VuZGluZyIsImNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2wiLCJyZXZlcnNlIiwidmlzaWJsZVRpbGVzIiwidXBkYXRlVGlsZU1hc2tzIiwiaGFzT2Zmc2NyZWVuUGFzcyIsInJlbmRlckxheWVyIiwic2hvd1RpbGVCb3VuZGFyaWVzIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzIiwic2luQSIsImNvc0EiLCJ0cmFuc2xhdGVkTWF0cml4IiwidGV4dHVyZXMiLCJwb3AiLCJjYWNoZSIsImNhY2hlS2V5IiwiVHJhbnNmb3JtIiwibWluWm9vbSIsInJlbmRlcldvcmxkQ29waWVzIiwibWF4VmFsaWRMYXRpdHVkZSIsIl9yZW5kZXJXb3JsZENvcGllcyIsIl9taW5ab29tIiwiX21heFpvb20iLCJzZXRNYXhCb3VuZHMiLCJfY2VudGVyIiwiX2ZvdiIsIl91bm1vZGlmaWVkIiwiX3Bvc01hdHJpeENhY2hlIiwiX2FsaWduZWRQb3NNYXRyaXhDYWNoZSIsImxhdFJhbmdlIiwiX2NhbGNNYXRyaWNlcyIsInByb3RvdHlwZUFjY2Vzc29ycyIsIndvcmxkU2l6ZSIsImNlbnRlclBvaW50IiwiX2RpdiIsInJvdGF0aW9uTWF0cml4IiwibWF0MiIsImZvdiIsIl96b29tIiwiem9vbVNjYWxlIiwiem9vbUZyYWN0aW9uIiwiX2NvbnN0cmFpbiIsIlVud3JhcHBlZFRpbGVJRCIsInV0bCIsInV0ciIsInVibCIsInViciIsIncwIiwidzEiLCJhY3R1YWxaIiwid3giLCJ0aWxlQ292ZXIiLCJ1bm1vZGlmaWVkIiwiTE4yIiwibG5nbGF0IiwidW5wcm9qZWN0IiwieExuZyIsInlMYXQiLCJ0YW4iLCJhdGFuIiwiZXhwIiwic2V0TG9jYXRpb25BdFBvaW50IiwiX3N1YiIsImxvY2F0aW9uUG9pbnQiLCJjb29yZGluYXRlUG9pbnQiLCJwb2ludExvY2F0aW9uIiwiY29vcmQwIiwiY29vcmQxIiwicGl4ZWxNYXRyaXhJbnZlcnNlIiwiejAiLCJ6MSIsIl96b29tVG8iLCJwaXhlbE1hdHJpeCIsImdldEJvdW5kcyIsImdldE1heEJvdW5kcyIsImxuZ1JhbmdlIiwidW53cmFwcGVkVGlsZUlEIiwiYWxpZ25lZCIsInBvc01hdHJpeEtleSIsInVud3JhcHBlZFgiLCJhbGlnbmVkUHJvak1hdHJpeCIsInByb2pNYXRyaXgiLCJtZXJjYXRvck1hdHJpeCIsIl9jb25zdHJhaW5pbmciLCJzeSIsInN4IiwiaDIiLCJ3MiIsImhhbGZGb3YiLCJncm91bmRBbmdsZSIsInRvcEhhbGZTdXJmYWNlRGlzdGFuY2UiLCJmYXJaIiwidmVydGljYWxTY2FsZSIsInhTaGlmdCIsInlTaGlmdCIsImFuZ2xlQ29zIiwiYW5nbGVTaW4iLCJhbGlnbmVkTSIsIkhhc2giLCJ0aW1lIiwidGltZXJJZCIsImxhdGVyIiwiX3VwZGF0ZUhhc2giLCJfdXBkYXRlSGFzaFVudGhyb3R0bGVkIiwiYWRkVG8iLCJfbWFwIiwiX29uSGFzaENoYW5nZSIsImdldEhhc2hTdHJpbmciLCJtYXBGZWVkYmFjayIsInByZWNpc2lvbiIsIkxOMTAiLCJnZXRCZWFyaW5nIiwiZ2V0UGl0Y2giLCJoYXNoIiwibG9jIiwibG9jYXRpb24iLCJqdW1wVG8iLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiTWFwTW91c2VFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJnZXRDYW52YXNDb250YWluZXIiLCJsbmdMYXQiLCJfZGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJNYXBUb3VjaEV2ZW50IiwibG5nTGF0cyIsImN1cnIiLCJhcnIiLCJkaXYiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMSIsIk1hcFdoZWVsRXZlbnQiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMiIsIlNjcm9sbFpvb21IYW5kbGVyIiwiX2VsIiwiX2RlbHRhIiwiaXNFbmFibGVkIiwiX2VuYWJsZWQiLCJpc0FjdGl2ZSIsIl9hY3RpdmUiLCJfYXJvdW5kQ2VudGVyIiwiYXJvdW5kIiwib25XaGVlbCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfTElORSIsImRlbHRhWSIsInRpbWVEZWx0YSIsIl9sYXN0V2hlZWxFdmVudFRpbWUiLCJfdHlwZSIsIl9sYXN0VmFsdWUiLCJfdGltZW91dCIsIl9vblRpbWVvdXQiLCJzaGlmdEtleSIsIl9sYXN0V2hlZWxFdmVudCIsIl9zdGFydCIsImluaXRpYWxFdmVudCIsIl9mcmFtZUlkIiwiX2NhbmNlbFJlbmRlckZyYW1lIiwiX2ZpbmlzaFRpbWVvdXQiLCJfYXJvdW5kIiwiX2Fyb3VuZFBvaW50IiwiX3JlcXVlc3RSZW5kZXJGcmFtZSIsIl9vblNjcm9sbEZyYW1lIiwiem9vbVJhdGUiLCJfdGFyZ2V0Wm9vbSIsIl9zdGFydFpvb20iLCJfZWFzaW5nIiwiX3Ntb290aE91dEVhc2luZyIsInRhcmdldFpvb20iLCJzdGFydFpvb20iLCJlYXNpbmciLCJmaW5pc2hlZCIsIl9lYXNlIiwiX3ByZXZFYXNlIiwiZWFzZSIsInN0YXJ0Iiwic3BlZWQiLCJiZXppZXIiLCJCb3hab29tSGFuZGxlciIsIl9jb250YWluZXIiLCJnZXRDb250YWluZXIiLCJfY2xpY2tUb2xlcmFuY2UiLCJjbGlja1RvbGVyYW5jZSIsIm9uTW91c2VEb3duIiwiX29uTW91c2VNb3ZlIiwiX29uS2V5RG93biIsIl9vbk1vdXNlVXAiLCJfc3RhcnRQb3MiLCJfbGFzdFBvcyIsIl9ib3giLCJwMCIsImNsYXNzTGlzdCIsIl9maXJlRXZlbnQiLCJwMSIsIl9maW5pc2giLCJmaXRTY3JlZW5Db29yZGluYXRlcyIsImxpbmVhciIsImtleUNvZGUiLCJpbmVydGlhRWFzaW5nIiwiRHJhZ1JvdGF0ZUhhbmRsZXIiLCJlbGVtZW50IiwiX2J1dHRvbiIsIl9iZWFyaW5nU25hcCIsImJlYXJpbmdTbmFwIiwiX3BpdGNoV2l0aFJvdGF0ZSIsInBpdGNoV2l0aFJvdGF0ZSIsIl91bmJpbmQiLCJfZGVhY3RpdmF0ZSIsIl9ldmVudEJ1dHRvbiIsIl9vbkJsdXIiLCJfaW5lcnRpYSIsIl9sYXN0TW92ZUV2ZW50IiwiX29uRHJhZ0ZyYW1lIiwicDIiLCJiZWFyaW5nRGlmZiIsInBpdGNoRGlmZiIsImluZXJ0aWEiLCJfZHJhaW5JbmVydGlhQnVmZmVyIiwiX25vcm1hbGl6ZUJlYXJpbmciLCJfaW5lcnRpYWxSb3RhdGUiLCJtYXBCZWFyaW5nIiwiZmluaXNoIiwicmVzZXROb3J0aCIsIm5vTW92ZVN0YXJ0IiwicHJldmlvdXMiLCJmbGluZ0RpZmYiLCJzaWduIiwiZmxpbmdEdXJhdGlvbiIsInJvdGF0ZVRvIiwiRHJhZ1BhbkhhbmRsZXIiLCJfb25Nb3ZlIiwib25Ub3VjaFN0YXJ0IiwicGFzc2l2ZSIsIl9vblRvdWNoRW5kIiwiX21vdXNlRG93blBvcyIsIl9pbmVydGlhbFBhbiIsImZsaW5nT2Zmc2V0IiwidmVsb2NpdHkiLCJwYW5CeSIsIktleWJvYXJkSGFuZGxlciIsImVhc2VPdXQiLCJhbHRLZXkiLCJtZXRhS2V5Iiwiem9vbURpciIsImJlYXJpbmdEaXIiLCJwaXRjaERpciIsInhEaXIiLCJ5RGlyIiwiZWFzZU9wdGlvbnMiLCJkZWxheUVuZEV2ZW50cyIsImVhc2VUbyIsIkRvdWJsZUNsaWNrWm9vbUhhbmRsZXIiLCJfdGFwcGVkIiwib25EYmxDbGljayIsIl9vblpvb21FbmQiLCJUb3VjaFpvb21Sb3RhdGVIYW5kbGVyIiwiZGlzYWJsZVJvdGF0aW9uIiwiX3JvdGF0aW9uRGlzYWJsZWQiLCJlbmFibGVSb3RhdGlvbiIsIm9uU3RhcnQiLCJfc3RhcnRWZWMiLCJfc3RhcnRBcm91bmQiLCJfZ2VzdHVyZUludGVudCIsIl9vbkVuZCIsIl9nZXRUb3VjaEV2ZW50RGF0YSIsInZlYyIsImFuZ2xlV2l0aCIsInNjYWxpbmdTaWduaWZpY2FudGx5IiwiX2xhc3RUb3VjaEV2ZW50IiwiX29uVG91Y2hGcmFtZSIsImdlc3R1cmVJbnRlbnQiLCJfc3RhcnRTY2FsZSIsIl9zdGFydEJlYXJpbmciLCJhcm91bmRQb2ludCIsInN0YXJ0U2NhbGUiLCJzbmFwVG9Ob3J0aCIsImxhc3RTY2FsZSIsImZpcnN0U2NhbGUiLCJzY2FsZU9mZnNldCIsInNjYWxlRHVyYXRpb24iLCJ0YXJnZXRTY2FsZSIsImhhbmRsZXJzIiwic2Nyb2xsWm9vbSIsImJveFpvb20iLCJkcmFnUm90YXRlIiwiZHJhZ1BhbiIsImtleWJvYXJkIiwiZG91YmxlQ2xpY2tab29tIiwidG91Y2hab29tUm90YXRlIiwiQ2FtZXJhIiwiX21vdmluZyIsIl96b29taW5nIiwicGFuVG8iLCJ6b29tSW4iLCJ6b29tT3V0IiwiY2FtZXJhRm9yQm91bmRzIiwiX2NhbWVyYUZvckJveEFuZEJlYXJpbmciLCJib3R0b20iLCJwYWRkaW5nT2Zmc2V0IiwibGF0ZXJhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJwMHdvcmxkIiwicDF3b3JsZCIsInAwcm90YXRlZCIsInJvdGF0ZSIsInAxcm90YXRlZCIsInVwcGVyUmlnaHQiLCJsb3dlckxlZnQiLCJzY2FsZVgiLCJzY2FsZVkiLCJmaXRCb3VuZHMiLCJfZml0SW50ZXJuYWwiLCJjYWxjdWxhdGVkT3B0aW9ucyIsImZseVRvIiwic3RvcCIsInpvb21DaGFuZ2VkIiwiYmVhcmluZ0NoYW5nZWQiLCJwaXRjaENoYW5nZWQiLCJkZWZhdWx0RWFzaW5nIiwic3RhcnRCZWFyaW5nIiwic3RhcnRQaXRjaCIsInBvaW50QXRPZmZzZXQiLCJsb2NhdGlvbkF0T2Zmc2V0IiwiX25vcm1hbGl6ZUNlbnRlciIsImRlbHRhIiwiZmluYWxTY2FsZSIsIl9yb3RhdGluZyIsIl9waXRjaGluZyIsIl9wcmVwYXJlRWFzZSIsIl9lYXNlRW5kVGltZW91dElEIiwiYmFzZSIsInNwZWVkdXAiLCJuZXdDZW50ZXIiLCJfZmlyZU1vdmVFdmVudHMiLCJfYWZ0ZXJFYXNlIiwid2FzWm9vbWluZyIsIndhc1JvdGF0aW5nIiwid2FzUGl0Y2hpbmciLCJjdXJ2ZSIsInJobyIsInUxIiwid01heCIsInJobzIiLCJzaW5oIiwiY29zaCIsInIwIiwiaXNGaW5pdGUiLCJzY3JlZW5TcGVlZCIsIm1heER1cmF0aW9uIiwiaXNFYXNpbmciLCJfZWFzZUZyYW1lSWQiLCJfb25FYXNlRnJhbWUiLCJfb25FYXNlRW5kIiwib25FYXNlRW5kIiwiX2Vhc2VTdGFydCIsIl9lYXNlT3B0aW9ucyIsIl9yZW5kZXJGcmFtZUNhbGxiYWNrIiwiY3VycmVudEJlYXJpbmciLCJkaWZmIiwiQXR0cmlidXRpb25Db250cm9sIiwiZ2V0RGVmYXVsdFBvc2l0aW9uIiwiY29tcGFjdCIsIl91cGRhdGVBdHRyaWJ1dGlvbnMiLCJfdXBkYXRlRWRpdExpbmsiLCJfdXBkYXRlRGF0YSIsIl91cGRhdGVDb21wYWN0IiwiZWRpdExpbmsiLCJfZWRpdExpbmsiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGVPd25lciIsInN0eWxlSWQiLCJwYXJhbVN0cmluZyIsImFjYyIsIm5leHQiLCJocmVmIiwiX2hhc2giLCJhdHRyaWJ1dGlvbnMiLCJjdXN0b21BdHRyaWJ1dGlvbiIsIm93bmVyIiwiYXR0cmliIiwiaW5uZXJIVE1MIiwib2Zmc2V0V2lkdGgiLCJMb2dvQ29udHJvbCIsInNldEF0dHJpYnV0ZSIsImRpc3BsYXkiLCJfdXBkYXRlTG9nbyIsIl9sb2dvUmVxdWlyZWQiLCJtYXBib3hfbG9nbyIsImNvbnRhaW5lckNoaWxkcmVuIiwiVGFza1F1ZXVlIiwiX3F1ZXVlIiwiX2lkIiwiX2NsZWFyZWQiLCJfY3VycmVudGx5UnVubmluZyIsImNhbmNlbGxlZCIsInJ1bm5pbmciLCJ0YXNrIiwicnVuIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiZGVmYXVsdE9wdGlvbnMiLCJpbnRlcmFjdGl2ZSIsImF0dHJpYnV0aW9uQ29udHJvbCIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInRyYWNrUmVzaXplIiwicmVmcmVzaEV4cGlyZWRUaWxlcyIsIm1heFRpbGVDYWNoZVNpemUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiTWFwIiwiX2ludGVyYWN0aXZlIiwiX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJfcHJlc2VydmVEcmF3aW5nQnVmZmVyIiwiX3RyYWNrUmVzaXplIiwiX2Nyb3NzU291cmNlQ29sbGlzaW9ucyIsIl9jcm9zc0ZhZGluZ0ZhY3RvciIsIl9yZW5kZXJUYXNrUXVldWUiLCJfY29udHJvbHMiLCJ0cmFuc2Zvcm1SZXF1ZXN0Rm4iLCJtYXhCb3VuZHMiLCJfc2V0dXBDb250YWluZXIiLCJfc2V0dXBQYWludGVyIiwiX29uV2luZG93T25saW5lIiwiX29uV2luZG93UmVzaXplIiwiY29udGV4dE1lbnVFdmVudCIsIm1vdXNlRG93biIsInN0YXJ0UG9zIiwibWFwRXZlbnQiLCJiaW5kSGFuZGxlcnMiLCJhZGRDb250cm9sIiwibG9nb1Bvc2l0aW9uIiwiY29udHJvbCIsImNvbnRyb2xFbGVtZW50IiwicG9zaXRpb25Db250YWluZXIiLCJfY29udHJvbFBvc2l0aW9ucyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDb250cm9sIiwiY2kiLCJkaW1lbnNpb25zIiwiX2NvbnRhaW5lckRpbWVuc2lvbnMiLCJfcmVzaXplQ2FudmFzIiwic2V0TWluWm9vbSIsImdldE1pblpvb20iLCJzZXRNYXhab29tIiwiZ2V0UmVuZGVyV29ybGRDb3BpZXMiLCJzZXRSZW5kZXJXb3JsZENvcGllcyIsImdldE1heFpvb20iLCJpc01vdmluZyIsImlzWm9vbWluZyIsImlzUm90YXRpbmciLCJsaXN0ZW5lciIsImRlbGVnYXRlZExpc3RlbmVyIiwibW91c2VpbiIsImRlbGVnYXRlcyIsIl9kZWxlZ2F0ZWRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJnZW9tZXRyeSIsImdldFN0eWxlIiwiaXNTdHlsZUxvYWRlZCIsImFyZVRpbGVzTG9hZGVkIiwiaGFzSW1hZ2UiLCJsb2FkSW1hZ2UiLCJiZWZvcmVJZCIsIl9jYW52YXNDb250YWluZXIiLCJfY2FudmFzIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJfZGV0ZWN0TWlzc2luZ0NTUyIsImdldENvbXB1dGVkU3R5bGUiLCJfbWlzc2luZ0NTU0NhbmFyeSIsImdldFByb3BlcnR5VmFsdWUiLCJ2aXNpYmlsaXR5IiwiY2FudmFzQ29udGFpbmVyIiwiX2NvbnRleHRMb3N0IiwiX2NvbnRleHRSZXN0b3JlZCIsImNvbnRyb2xDb250YWluZXIiLCJfY29udHJvbENvbnRhaW5lciIsInBvc2l0aW9uTmFtZSIsIl9mcmFtZSIsIl9zdHlsZURpcnR5IiwiX3NvdXJjZXNEaXJ0eSIsInVwZGF0ZVN0eWxlIiwiX3JlbmRlciIsImNyb3NzRmFkaW5nIiwiRXZhbHVhdGlvblBhcmFtZXRlcnMiLCJmYWN0b3IiLCJjcm9zc0ZhZGluZ0ZhY3RvciIsIl9wbGFjZW1lbnREaXJ0eSIsIl9yZXBhaW50IiwibG9zZUNvbnRleHQiLCJyZW1vdmVOb2RlIiwiX3Nob3dUaWxlQm91bmRhcmllcyIsInJlcGFpbnQiLCJfdmVydGljZXMiLCJzaG93Q29tcGFzcyIsInNob3dab29tIiwiTmF2aWdhdGlvbkNvbnRyb2wiLCJfem9vbUluQnV0dG9uIiwiX2NyZWF0ZUJ1dHRvbiIsIl96b29tT3V0QnV0dG9uIiwiX2NvbXBhc3MiLCJfY29tcGFzc0Fycm93IiwiX3JvdGF0ZUNvbXBhc3NBcnJvdyIsIl9oYW5kbGVyIiwiYXJpYUxhYmVsIiwiYXBwSUQiLCJhcGlLZXkiLCJ2YWxpZCIsImVycm9yTWVzc2FnZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhbGVydE1lc3NhZ2UxIiwiYWxlcnRNZXNzYWdlMiIsImZhY3RvcnkiLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9pbnRlcmZhY2UiLCJlbnVtZXJhYmxlIiwiSU5URVJGQUNFIiwiX19lc01vZHVsZSIsIm5ld09iaiIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2xvZ2dlciIsIl9pbml0IiwiX3RyYW5zaXRpb25zIiwiX2J1aWxkZXJzIiwiX2NvbmZpZyIsInRyYWNrIiwiZmx1c2giLCJ0cmFja2luZyIsImdldFRyYW5zcG9ydCIsInRyYW5zcG9ydCIsInNldFRyYW5zcG9ydCIsIm5ld1RyYW5zcG9ydCIsInByaW50IiwiaW1tZWRpYXRlRmx1c2giLCJwcmVmaXgiLCJpbmZvIiwiX3RyYWNrIiwiX2ZsdXNoIiwiX3V0aWwiLCJhamF4IiwidXJpIiwibG9nTGV2ZWwiLCJMT0dfTEVWRUwiLCJsb2dMZXZlbHMiLCJpc0lFIiwid2FybmluZyIsIl9yZWYkZmlyZUFuZEZvcmdldCIsImFyZ3VtZW50cyIsImZpcmVBbmRGb3JnZXQiLCJoYXNCdWZmZXIiLCJoYXNUcmFja2luZyIsIm1ldGEiLCJfaXRlcmF0b3IiLCJtZXRhQnVpbGRlcnMiLCJfaXNBcnJheSIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcmVmMiIsImJ1aWxkZXIiLCJfaXRlcmF0b3IyIiwiaGVhZGVyQnVpbGRlcnMiLCJfaXNBcnJheTIiLCJfaTIiLCJfcmVmMyIsIl9idWlsZGVyIiwicmVxIiwiZXZlbnRzIiwicHJvbWlzZURlYm91bmNlIiwiZGVib3VuY2VJbnRlcnZhbCIsImVucXVldWUiLCJhdXRvTG9nIiwidGltZXN0YW1wIiwiX2l0ZXJhdG9yMyIsInBheWxvYWRCdWlsZGVycyIsIl9pc0FycmF5MyIsIl9pMyIsIl9yZWY0Iiwic2lsZW50Iiwic2l6ZUxpbWl0IiwiX2l0ZXJhdG9yNCIsInRyYWNraW5nQnVpbGRlcnMiLCJfaXNBcnJheTQiLCJfaTQiLCJfcmVmNSIsImRlc3QiLCJvdmVyIiwiaXNTYW1lUHJvdG9jb2wiLCJpc1NhbWVEb21haW4iLCJtZXRob2QiLCJfc3JjIiwiWmFsZ29Qcm9taXNlIiwicmVzb2x2ZSIsIlhSZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJBY3RpdmVYT2JqZWN0IiwiWERvbWFpblJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsImhlYWRlck5hbWUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJpbnRlcnZhbCIsImRlYm91bmNlIiwicmVzb2x2ZXIiLCJyZWplY3RvciIsInByb21pc2UiLCJ0aGVuIiwib25XaW5kb3dSZWFkeSIsInNhZmVJbnRlcnZhbCIsInVuaXF1ZUlEIiwiY2hhcnMiLCJjaGFyQXQiLCJyYW5kb20iLCJkb2N1bWVudE1vZGUiLCJob3N0IiwiX3Byb21pc2UiLCJfY3JlYXRlQ2xhc3MiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl91dGlscyIsIl9leGNlcHRpb25zIiwiX2dsb2JhbCIsImhhbmRsZXIiLCJfdGhpcyIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiX2NsYXNzQ2FsbENoZWNrIiwicmVzb2x2ZWQiLCJyZWplY3RlZCIsImVycm9ySGFuZGxlZCIsIl9yZXN1bHQiLCJfZXJyb3IiLCJpc0FzeW5jIiwicmVzIiwicmVqZWN0IiwiaXNQcm9taXNlIiwiZGlzcGF0Y2giLCJfdGhpczIiLCJfZXJyIiwiZGlzcGF0Y2hQb3NzaWJseVVuaGFuZGxlZEVycm9yIiwiX3RoaXMzIiwiZGlzcGF0Y2hpbmciLCJnZXRHbG9iYWwiLCJhY3RpdmVDb3VudCIsIl9sb29wIiwiX2hhbmRsZXJzJGkiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiZmx1c2hRdWV1ZSIsIl90aGlzNCIsIlByb21pc2UiLCJwcm9taXNlcyIsImNvdW50IiwicmVzdWx0cyIsIl9sb29wMiIsInByb20iLCJpdGVtcyIsIm9uUG9zc2libHlVbmhhbmRsZWRFeGNlcHRpb24iLCJfZGVsYXkiLCJmbHVzaFByb21pc2VzIiwicHJvbWlzZXNUb0ZsdXNoIiwiX3JlZiIsIml0ZW0iLCJXaW5kb3ciLCJjb25zdHJ1Y3RvciIsImRpc3BhdGNoZWRFcnJvcnMiLCJwb3NzaWJseVVuaGFuZGxlZFByb21pc2VIYW5kbGVycyIsImdsb2JhbCIsImdsb2IiLCJ6YWxnb0dsb2JhbCIsIl9femFsZ29wcm9taXNlX18iLCJhZGRQYXlsb2FkQnVpbGRlciIsImFkZE1ldGFCdWlsZGVyIiwiYWRkVHJhY2tpbmdCdWlsZGVyIiwiYWRkSGVhZGVyQnVpbGRlciIsImluaXRpYWxfc3RhdGVfbmFtZSIsImZsdXNoSW50ZXJ2YWwiLCJoZWFydGJlYXQiLCJoZWFydGJlYXRDb25zb2xlTG9nIiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJoZWFydGJlYXRUb29CdXN5IiwiaGVhcnRiZWF0VG9vQnVzeVRocmVzaG9sZCIsImxvZ1VubG9hZCIsImxvZ1BlcmZvcm1hbmNlIiwiaW5pdCIsImNvbmYiLCJpbml0aWF0ZWQiLCJfcGVyZm9ybWFuY2UiLCJpbml0UGVyZm9ybWFuY2UiLCJpbml0SGVhcnRCZWF0Iiwic2V0SW50ZXJ2YWwiLCJiZWF2ZXJMb2dRdWV1ZSIsInJlcVRpbWVyIiwiY2xpZW50VGltZXIiLCJyZXFTdGFydEVsYXBzZWQiLCJoZWFydEJlYXRUaW1lciIsInRpbWVyIiwiaGVhcnRiZWF0Q291bnQiLCJoZWFydGJlYXRNYXhUaHJlc2hvbGQiLCJlbGFwc2VkIiwibGFnIiwiaGVhcnRiZWF0UGF5bG9hZCIsIm5vQ29uc29sZSIsImVuYWJsZVBlcmZvcm1hbmNlIiwiY2xpZW50X2VsYXBzZWQiLCJyZXFfZWxhcHNlZCIsInRpbWluZyIsInBlcmZvcm1hbmNlIiwiY29ubmVjdEVuZCIsIm5hdmlnYXRpb25TdGFydCIsIm1lbW9yeSIsIm5hdmlnYXRpb24iLCJnZXRFbnRyaWVzIiwicmVzb3VyY2UiLCJpbml0aWF0b3JUeXBlIiwic3RhcnRUcmFuc2l0aW9uIiwiZW5kVHJhbnNpdGlvbiIsInRvU3RhdGUiLCJ3aW5kb3dJRCIsInBhZ2VJRCIsImN1cnJlbnRTdGF0ZSIsImN1cnJlbnRUaW1lIiwidHJhbnNpdGlvbk5hbWUiLCJ0cmFuc2l0aW9uX3RpbWUiLCJyZXF1aXJlIiwiZGVmYXVsdExvZ2dlciIsImxvZ0NhbGxiYWNrIiwiZnVuY3Rpb25OYW1lIiwiZW1pdExvZyIsInVzZXItYWdlbnQiLCJhcHBfaWQiLCJBUFBfSUQiLCJmdW5jdGlvbl9uYW1lIiwiREVCVUciLCJMT0dHSU5HIiwiTG9nZ2VyIiwibG9nZ2VyIiwiZ2V0RGVidWciLCJnZXRMb2dnaW5nIiwidHJpbUxlZnQiLCJ0cmltUmlnaHQiLCJ0aW55Q291bnRlciIsIm1hdGhSb3VuZCIsIm1hdGhNaW4iLCJtYXRoTWF4IiwibWF0aFJhbmRvbSIsInRpbnljb2xvciIsIm9wdHMiLCJyZ2IiLCJvayIsInRvTG93ZXJDYXNlIiwibmFtZWQiLCJuYW1lcyIsIm1hdGNoZXJzIiwiZXhlYyIsInJnYmEiLCJoc2wiLCJoc2xhIiwiaHN2IiwiaHN2YSIsImhleDgiLCJwYXJzZUludEZyb21IZXgiLCJjb252ZXJ0SGV4VG9EZWNpbWFsIiwiaGV4NiIsImhleDQiLCJoZXgzIiwic3RyaW5nSW5wdXRUb09iamVjdCIsImlzVmFsaWRDU1NVbml0IiwiYm91bmQwMSIsInN1YnN0ciIsImNvbnZlcnRUb1BlcmNlbnRhZ2UiLCJtb2QiLCJoc3ZUb1JnYiIsImh1ZTJyZ2IiLCJoc2xUb1JnYiIsImJvdW5kQWxwaGEiLCJpbnB1dFRvUkdCIiwiX29yaWdpbmFsSW5wdXQiLCJfciIsIl9nIiwiX2IiLCJfYSIsIl9yb3VuZEEiLCJfZm9ybWF0IiwiX2dyYWRpZW50VHlwZSIsImdyYWRpZW50VHlwZSIsIl9vayIsIl90Y19pZCIsInJnYlRvSHNsIiwicmdiVG9Ic3YiLCJyZ2JUb0hleCIsImFsbG93M0NoYXIiLCJoZXgiLCJwYWQyIiwicmdiYVRvQXJnYkhleCIsImNvbnZlcnREZWNpbWFsVG9IZXgiLCJkZXNhdHVyYXRlIiwiYW1vdW50IiwidG9Ic2wiLCJjbGFtcDAxIiwic2F0dXJhdGUiLCJncmV5c2NhbGUiLCJsaWdodGVuIiwiYnJpZ2h0ZW4iLCJ0b1JnYiIsImRhcmtlbiIsInNwaW4iLCJodWUiLCJjb21wbGVtZW50IiwidHJpYWQiLCJ0ZXRyYWQiLCJzcGxpdGNvbXBsZW1lbnQiLCJhbmFsb2dvdXMiLCJzbGljZXMiLCJwYXJ0IiwicmV0IiwibW9ub2Nocm9tYXRpYyIsInRvSHN2IiwibW9kaWZpY2F0aW9uIiwiaXNEYXJrIiwiZ2V0QnJpZ2h0bmVzcyIsImlzTGlnaHQiLCJpc1ZhbGlkIiwiZ2V0T3JpZ2luYWxJbnB1dCIsImdldEZvcm1hdCIsImdldEFscGhhIiwiZ2V0THVtaW5hbmNlIiwiUnNSR0IiLCJHc1JHQiIsIkJzUkdCIiwic2V0QWxwaGEiLCJ0b0hzdlN0cmluZyIsInRvSHNsU3RyaW5nIiwidG9IZXgiLCJ0b0hleFN0cmluZyIsInRvSGV4OCIsImFsbG93NENoYXIiLCJyZ2JhVG9IZXgiLCJ0b0hleDhTdHJpbmciLCJ0b1JnYlN0cmluZyIsInRvUGVyY2VudGFnZVJnYiIsInRvUGVyY2VudGFnZVJnYlN0cmluZyIsInRvTmFtZSIsImhleE5hbWVzIiwidG9GaWx0ZXIiLCJzZWNvbmRDb2xvciIsImhleDhTdHJpbmciLCJzZWNvbmRIZXg4U3RyaW5nIiwiZm9ybWF0U2V0IiwiZm9ybWF0dGVkU3RyaW5nIiwiaGFzQWxwaGEiLCJfYXBwbHlNb2RpZmljYXRpb24iLCJfYXBwbHlDb21iaW5hdGlvbiIsImZyb21SYXRpbyIsIm5ld0NvbG9yIiwiY29sb3IxIiwiY29sb3IyIiwicmdiMSIsInJnYjIiLCJyZWFkYWJpbGl0eSIsImMxIiwiYzIiLCJpc1JlYWRhYmxlIiwid2NhZzIiLCJ3Y2FnMlBhcm1zIiwicGFybXMiLCJ2YWxpZGF0ZVdDQUcyUGFybXMiLCJtb3N0UmVhZGFibGUiLCJiYXNlQ29sb3IiLCJjb2xvckxpc3QiLCJpbmNsdWRlRmFsbGJhY2tDb2xvcnMiLCJiZXN0Q29sb3IiLCJiZXN0U2NvcmUiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFuY2hlZGFsbW9uZCIsImJsdWUiLCJibHVldmlvbGV0IiwiYnJvd24iLCJidXJseXdvb2QiLCJidXJudHNpZW5uYSIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJmbGlwcGVkIiwicGFyc2VGbG9hdCIsImlzT25lUG9pbnRaZXJvIiwicHJvY2Vzc1BlcmNlbnQiLCJpc1BlcmNlbnRhZ2UiLCJ2YWwiLCJDU1NfVU5JVCIsIlBFUk1JU1NJVkVfTUFUQ0gzIiwiUEVSTUlTU0lWRV9NQVRDSDQiLCJSZWdFeHAiLCJnZXRMb2dDb25maWciLCJ4aHIiLCJyZXNwb25zZVR5cGUiLCJpc0RlYnVnIiwiaXNMb2dnaW5nIiwicmFuZG9tSUQiLCJzdWJSYW5kIiwic3Vic3RyaW5nIiwibG9nZ2VyRGVidWciLCJhZGRQb2x5Z29uIiwiYWRkTGluZSIsIkxPR19DT05TVEFOVCIsImZpbGxDb2xvciIsImZpbGxPcGFjaXR5IiwiZmlsbC1jb2xvciIsImZpbGwtb3BhY2l0eSIsImxpbmVXaWR0aCIsImxpbmUtd2lkdGgiLCJsaW5lLWNvbG9yIiwicHJvcGVydHkiLCJmbGFnIiwibWFjVGV4dCIsIndpblRleHQiLCJvdmVybGF5U2hvdyIsIm92ZXJsYXlNYXBtYWdpYyIsIm1hcG1hZ2ljIiwiekluZGV4IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwib3ZlcmxheUNsb3NlIiwiX29uU2Nyb2xsIiwidGV4dFNob3ciLCJhcHBWZXJzaW9uIiwiX2lnbm9yZUV2ZW50Iiwib3ZlcldyaXRlIiwib2Zmc2V0UGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsImluaXRTdHlsZSIsIm1vYmlsZVRleHQiLCJoYW5kbGVNb2JpbGUiLCJib2R5IiwiaGFuZGxlRGVza3RvcCIsImFkZE1hcmtlciIsImFkZE1hcmtlckFycmF5IiwiYWRkTWFya2VySW1hZ2UiLCJhZGRNYXJrZXJJbWFnZUFycmF5IiwiYWRkTWFya2VyRmlsdGVyIiwic2V0TWFya2VyIiwiZGVzY3JpcHRpb24iLCJvbkNsaWNrIiwiYXNzaWduIiwiZHJhZ2dhYmxlIiwiaXNEcmFnZ2luZyIsImlzQ3Vyc29yT3ZlclBvaW50Iiwib25Nb3ZlIiwiY3Vyc29yIiwib25VcCIsIm9uRHJhZ0VuZCIsIm9uY2UiLCJpY29uLWltYWdlIiwiaWNvbi1hbGxvdy1vdmVybGFwIiwiaWNvbi1zaXplIiwiaWNvbi1vZmZzZXQiLCJwb3B1cCIsImFkZFBvcHVwIiwibWFya2VyIiwibWFya2VycyIsIm1hcmtlckFycmF5IiwiaW1nX3VybCIsInBsYWNlcyIsImxhYmVsIiwidGV4dC1maWVsZCIsInRleHQtZm9udCIsInRleHQtc2l6ZSIsInRleHQtdHJhbnNmb3JtIiwidGV4dC1sZXR0ZXItc3BhY2luZyIsInRleHQtb2Zmc2V0IiwidGV4dC1jb2xvciIsInRleHQtaGFsby1jb2xvciIsInRleHQtaGFsby13aWR0aCIsImxheWVySURzIiwiZmlsdGVySW5wdXQiLCJ0cmltIiwiYW5jaG9yVHJhbnNsYXRlIiwidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImFwcGx5QW5jaG9yQ2xhc3MiLCJjbG9zZUJ1dHRvbiIsImNsb3NlT25DbGljayIsIlBvcHVwIiwiX29uQ2xpY2tDbG9zZSIsImlzT3BlbiIsIl9jb250ZW50IiwiZ2V0TG5nTGF0IiwiX2xuZ0xhdCIsInNldExuZ0xhdCIsIl9wb3MiLCJzZXRUZXh0Iiwic2V0RE9NQ29udGVudCIsImNyZWF0ZVRleHROb2RlIiwic2V0SFRNTCIsImh0bWwiLCJjaGlsZCIsImZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwidGVtcCIsImh0bWxOb2RlIiwiX2NyZWF0ZUNvbnRlbnQiLCJfY2xvc2VCdXR0b24iLCJfdGlwIiwic21hcnRXcmFwIiwibm9ybWFsaXplT2Zmc2V0IiwiY29ybmVyT2Zmc2V0IiwiY29udmVydGVkT2Zmc2V0IiwiYW5jaG9yQ29tcG9uZW50cyIsIm9mZnNldEhlaWdodCIsIm9mZnNldGVkUG9zIiwibG9nRmlyc3QiLCJldmVudFNob3ciLCJldmVudENsaWNrIiwiZXZlbnRIb3ZlciIsImluaXRDb2xvck1hcCIsIm9wdGlvbiIsIk1hcE1hZ2ljR0wiLCJuZXdTdHlsZSIsImFwcElkIiwic3R5bGVVUkwiLCJzdHlsZV91cmwiLCJhcGlfa2V5IiwiZ2V0U3R5bGVVUkwiLCJzZXRMb2dvIiwicHJvdGVjdFNjcm9sbCIsIkhhbmRsZXIiLCJuYXZpZ2F0aW9uQ3RybCIsImxhbmciLCJEZWJ1Z2dlciIsImxvZ29TcmMiLCJsb2dvRWxlbWVudCIsIkxPR09fQ0xBU1NOQU1FIiwiTWFya2VyIiwiR2VvbWV0cnkiLCJzdXBwb3J0c0dlb2xvY2F0aW9uIiwiX2FuY2hvciIsIl9jb2xvciIsIl9kcmFnZ2FibGUiLCJfZWxlbWVudCIsIl9vZmZzZXQiLCJfZGVmYXVsdE1hcmtlciIsInN2ZyIsImNyZWF0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJtYXJrZXJMYXJnZSIsInBhZ2UxIiwicngiLCJyeSIsImVsbGlwc2UiLCJiZ1BhdGgiLCJib3JkZXIiLCJib3JkZXJQYXRoIiwibWFraSIsImNpcmNsZUNvbnRhaW5lciIsImNpcmNsZTEiLCJjaXJjbGUyIiwiX3BvcHVwIiwic2V0RHJhZ2dhYmxlIiwiX29uTWFwQ2xpY2siLCJfYWRkRHJhZ0hhbmRsZXIiLCJnZXRFbGVtZW50Iiwic2V0UG9wdXAiLCJsaW5lYXJPZmZzZXQiLCJtYXJrZXJIZWlnaHQiLCJ0YXJnZXRFbGVtZW50IiwidG9nZ2xlUG9wdXAiLCJnZXRQb3B1cCIsImdldE9mZnNldCIsInNldE9mZnNldCIsIl9wb3NpdGlvbkRlbHRhIiwicG9pbnRlckV2ZW50cyIsIl9vblVwIiwic2hvdWxkQmVEcmFnZ2FibGUiLCJpc0RyYWdnYWJsZSIsInBvc2l0aW9uT3B0aW9ucyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsIm1heGltdW1BZ2UiLCJmaXRCb3VuZHNPcHRpb25zIiwidHJhY2tVc2VyTG9jYXRpb24iLCJzaG93VXNlckxvY2F0aW9uIiwiR2VvbG9jYXRlQ29udHJvbCIsIl9zZXR1cFVJIiwicGVybWlzc2lvbnMiLCJnZW9sb2NhdGlvbiIsIl9nZW9sb2NhdGlvbldhdGNoSUQiLCJjbGVhcldhdGNoIiwiX3VzZXJMb2NhdGlvbkRvdE1hcmtlciIsIl9vblN1Y2Nlc3MiLCJfbGFzdEtub3duUG9zaXRpb24iLCJfd2F0Y2hTdGF0ZSIsIl9nZW9sb2NhdGVCdXR0b24iLCJfdXBkYXRlTWFya2VyIiwiX3VwZGF0ZUNhbWVyYSIsIl9kb3RFbGVtZW50IiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJhY2N1cmFjeSIsImdlb2xvY2F0ZVNvdXJjZSIsIl9vbkVycm9yIiwiY29kZSIsIl9jbGVhcldhdGNoIiwiX3RpbWVvdXRJZCIsInRyaWdnZXIiLCJfc2V0dXAiLCJ3YXRjaFBvc2l0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwibWF4V2lkdGgiLCJ1bml0IiwiU2NhbGVDb250cm9sIiwidXBkYXRlU2NhbGUiLCJsYXRsbmcxIiwibGF0bG5nMiIsInJhZCIsImxhdDEiLCJsYXQyIiwibWF4TWV0ZXJzIiwiYWNvcyIsIm1heEZlZXQiLCJzZXRTY2FsZSIsIm1heERpc3RhbmNlIiwicG93MTAiLCJkaXN0YW5jZSIsInJhdGlvIiwic2V0VW5pdCIsIkZ1bGxzY3JlZW5Db250cm9sIiwiX2Z1bGxzY3JlZW4iLCJfZnVsbHNjcmVlbmNoYW5nZSIsIl9jbGFzc05hbWUiLCJfbWFwQ29udGFpbmVyIiwiX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQiLCJfY2hhbmdlSWNvbiIsImZ1bGxzY3JlZW5FbmFibGVkIiwibW96RnVsbFNjcmVlbkVuYWJsZWQiLCJtc0Z1bGxzY3JlZW5FbmFibGVkIiwid2Via2l0RnVsbHNjcmVlbkVuYWJsZWQiLCJfZnVsbHNjcmVlbkJ1dHRvbiIsIl9vbkNsaWNrRnVsbHNjcmVlbiIsIl9pc0Z1bGxzY3JlZW4iLCJmdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwidG9nZ2xlIiwiZXhpdEZ1bGxzY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsIndlYmtpdENhbmNlbEZ1bGxTY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwiZXhwb3J0ZWQiLCJzZXRSVExUZXh0UGx1Z2luIiwidG9rZW4iLCJ3b3JrZXJVcmwiXSwibWFwcGluZ3MiOiJ5RkFpQkEsU0FBU0EsRUFBWUMsR0FDakIsU0FjeUIsb0JBQVhDLFFBQThDLG9CQUFiQyxVQUszQ0MsTUFBTUMsV0FDTkQsTUFBTUMsVUFBVUMsT0FDaEJGLE1BQU1DLFVBQVVFLFFBQ2hCSCxNQUFNQyxVQUFVRyxTQUNoQkosTUFBTUMsVUFBVUksU0FDaEJMLE1BQU1DLFVBQVVLLGFBQ2hCTixNQUFNQyxVQUFVTSxLQUNoQlAsTUFBTUMsVUFBVU8sTUFDaEJSLE1BQU1DLFVBQVVRLFFBQ2hCVCxNQUFNQyxVQUFVUyxhQUNoQlYsTUFBTVcsU0FLSEMsU0FBU1gsV0FBYVcsU0FBU1gsVUFBVVksTUFLNUNDLE9BQU9DLE1BQ1BELE9BQU9FLFFBQ1BGLE9BQU9HLGdCQUNQSCxPQUFPSSxxQkFDUEosT0FBT0ssVUFDUEwsT0FBT00sVUFDUE4sT0FBT08sY0FDUFAsT0FBT1EsMEJBQ1BSLE9BQU9TLGdCQUNQVCxPQUFP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LEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzNGQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDbk1DLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQzFPQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM1UEMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsS0FDeERDLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzlFQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM5RUMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEtBQ2xFQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDNUNDLEtBQU0sSUFBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMzREMsS0FBTSxJQUFLLEVBQUcsRUFBRyxHQUFJLElBQ3JCQyxLQUFNLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDdENDLEtBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxJQUN2QkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzlIQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNyQ0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLElBQ2hIQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ2xIQyxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ3BEQyxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDL0hDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUM3S0MsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEtBQzVDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsS0FDcE5DLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUMxS0MsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ2pGQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdEdDLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksSUFDN0JDLEtBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUM1Q0MsS0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxJQUM1QkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLElBQ3ZKQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUNyWkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2hFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsSUFDbkxDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDcklDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsSUFDckhDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUN4RkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEtBQ2xFQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUNsS0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEtBQ2xFQyxHQUFNLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFDcEJDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ3pFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFDakVDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUMxQ0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ3pGQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDbEVDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsS0FDMUpDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzFHQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQ2xMQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUNsSUMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ3JKQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksS0FDM0NDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEtBQzNFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDM0NDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUN6RkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLElBQzVDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEtBQ2xEQyxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDbEVDLEtBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxJQUMxRkMsTUFBTyxJQUFLLEVBQUcsR0FBSSxJQUFLLElBQ3hCQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssSUFDNUZDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLElBQ2pGQyxHQUFNLElBQUssR0FBSSxFQUFHLElBQUssSUFDdkJDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEtBQ3hEMXVELEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMvSDBDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUMvSGlTLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN4R2xXLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMvSDNQLEdBQU0sSUFBSyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM3SDBQLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxLQUNoRWtkLEdBQU0sSUFBSyxHQUFJLEdBQUksSUFBSyxFQUFHLElBQUssRUFBRyxJQUFLLEVBQUcsSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3RLdmUsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDakY3TCxHQUFNLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsSUFDL0RxcEIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3RGcmIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2hFc1YsR0FBTSxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQ3BCbWdCLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDaEozMUIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDakZ1dkQsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzVIL2lDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNoSXZzQixHQUFNLElBQUssR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDaElvYyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksS0FDL0RsYyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDN0hvRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsS0FDN0Rpc0QsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDN0Vqd0QsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLElBQzNDekIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ3pGZCxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDNUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdkVxQyxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDbEVtd0QsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUNoUkMsS0FBTSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQ3JCQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJ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
